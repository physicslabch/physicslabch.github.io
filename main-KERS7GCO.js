import{$ as Tn,$a as q6,A as I1,Aa as R6,Ab as ve,B as Qa,Ba as k6,Bb as xt,C as xs,Ca as P6,Cb as Pe,D as ys,Da as B6,Db as jm,E as O1,Ea as L6,Eb as qr,F as _6,Fa as z6,Fb as jr,G as S6,Ga as Nl,Gb as $r,H as D6,Ha as Ss,Hb as na,I as R1,Ia as Lr,Ib as $6,J as Ou,Ja as Pu,Jb as $m,K as mn,Ka as $,Kb as Po,L as eo,La as of,Lb as W1,M as hn,Ma as Bu,Mb as H6,N as Zt,Na as to,Nb as W6,O as bs,Oa as Tl,Ob as G6,P as Ke,Pa as Xe,Pb as ia,Q as yi,Qa as V6,Qb as Y6,R as C6,Ra as ko,Rb as io,S as ht,Sa as U6,Sb as Z6,T as k1,Ta as V1,Tb as Bo,U as at,Ua as Vt,Ub as Il,V as Me,Va as _i,Vb as G1,W as bi,Wa as Tr,Wb as X6,X as E6,Xa as Ia,Y as ws,Ya as Le,Z as ra,Za as U1,Zb as Lo,_ as P1,_a as Um,_b as Vi,a as Io,aa as Se,ab as sf,ac as dn,b as x6,ba as De,bb as qm,bc as Ui,c as Oo,ca as _s,cb as Re,d as E1,da as wi,db as Ft,e as A1,ea as Ml,eb as Fl,f as Gt,fa as A6,fb as Fn,g as Yn,ga as zm,gb as Ve,h as M1,ha as or,hb as Ds,i as Fa,ia as zn,ib as Oa,j as wn,ja as B1,jb as _n,k as At,ka as M6,kb as Sn,l as El,la as li,lb as G,m as N1,ma as gt,mb as j,n as y6,na as N6,nb as Fe,o as Ht,oa as nf,ob as zr,p as tf,pa as T6,pb as He,q as ta,qa as Ro,qb as Ae,r as b6,ra as F6,rb as U,s as T1,sa as L1,sb as q1,t as rf,ta as I6,tb as ro,u as w6,ua as z1,ub as no,v as Lm,va as Vm,vb as j6,w as Ka,wa as af,wb as j1,x as F1,xa as Ru,xb as $1,y as Ja,ya as ku,yb as H1,z as Al,za as O6,zb as ur}from"./chunk-XQQUGCHX.js";import{a as Jt,b as In}from"./chunk-VCHTHNKZ.js";import"./chunk-74MVQSE4.js";import{a as Ge,b as Kt,c as D1,e as ea,g as ef,i as g,j as Xa,k as C1}from"./chunk-7IEL6GMK.js";var qb=ea((Vb,Ub)=>{"use strict";(function(r,e){typeof Vb=="object"&&typeof Ub<"u"?Ub.exports=e():typeof define=="function"&&define.amd?define(e):(r=typeof globalThis<"u"?globalThis:r||self,r["'typed'"]=e())})(Vb,function(){"use strict";function r(){return!0}function e(){return!1}function t(){}let n="Argument is not a typed-function.";function i(){function o(ee){return typeof ee=="object"&&ee!==null&&ee.constructor===Object}let s=[{name:"number",test:function(ee){return typeof ee=="number"}},{name:"string",test:function(ee){return typeof ee=="string"}},{name:"boolean",test:function(ee){return typeof ee=="boolean"}},{name:"Function",test:function(ee){return typeof ee=="function"}},{name:"Array",test:Array.isArray},{name:"Date",test:function(ee){return ee instanceof Date}},{name:"RegExp",test:function(ee){return ee instanceof RegExp}},{name:"Object",test:o},{name:"null",test:function(ee){return ee===null}},{name:"undefined",test:function(ee){return ee===void 0}}],l={name:"any",test:r,isAny:!0},u,c,d=0,f={createCount:0};function m(ee){let me=u.get(ee);if(me)return me;let ye='Unknown type "'+ee+'"',Oe=ee.toLowerCase(),Be;for(Be of c)if(Be.toLowerCase()===Oe){ye+='. Did you mean "'+Be+'" ?';break}throw new TypeError(ye)}function p(ee){let me=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"any",ye=me?m(me).index:c.length,Oe=[];for(let Ee=0;Ee<ee.length;++Ee){if(!ee[Ee]||typeof ee[Ee].name!="string"||typeof ee[Ee].test!="function")throw new TypeError("Object with properties {name: string, test: function} expected");let tt=ee[Ee].name;if(u.has(tt))throw new TypeError('Duplicate type name "'+tt+'"');Oe.push(tt),u.set(tt,{name:tt,test:ee[Ee].test,isAny:ee[Ee].isAny,index:ye+Ee,conversionsTo:[]})}let Be=c.slice(ye);c=c.slice(0,ye).concat(Oe).concat(Be);for(let Ee=ye+Oe.length;Ee<c.length;++Ee)u.get(c[Ee]).index=Ee}function h(){u=new Map,c=[],d=0,p([l],!1)}h(),p(s);function v(){let ee;for(ee of c)u.get(ee).conversionsTo=[];d=0}function y(ee){let me=c.filter(ye=>{let Oe=u.get(ye);return!Oe.isAny&&Oe.test(ee)});return me.length?me:["any"]}function S(ee){return ee&&typeof ee=="function"&&"_typedFunctionData"in ee}function x(ee,me,ye){if(!S(ee))throw new TypeError(n);let Oe=ye&&ye.exact,Be=Array.isArray(me)?me.join(","):me,Ee=M(Be),tt=b(Ee);if(!Oe||tt in ee.signatures){let Ie=ee._typedFunctionData.signatureMap.get(tt);if(Ie)return Ie}let F=Ee.length,Z;if(Oe){Z=[];let Ie;for(Ie in ee.signatures)Z.push(ee._typedFunctionData.signatureMap.get(Ie))}else Z=ee._typedFunctionData.signatures;for(let Ie=0;Ie<F;++Ie){let lt=Ee[Ie],mt=[],Sr;for(Sr of Z){let Ln=V(Sr.params,Ie);if(!(!Ln||lt.restParam&&!Ln.restParam)){if(!Ln.hasAny){let Na=D(Ln);if(lt.types.some(Ta=>!Na.has(Ta.name)))continue}mt.push(Sr)}}if(Z=mt,Z.length===0)break}let oe;for(oe of Z)if(oe.params.length<=F)return oe;throw new TypeError("Signature not found (signature: "+(ee.name||"unnamed")+"("+b(Ee,", ")+"))")}function _(ee,me,ye){return x(ee,me,ye).implementation}function w(ee,me){let ye=m(me);if(ye.test(ee))return ee;let Oe=ye.conversionsTo;if(Oe.length===0)throw new Error("There are no conversions to "+me+" defined.");for(let Be=0;Be<Oe.length;Be++)if(m(Oe[Be].from).test(ee))return Oe[Be].convert(ee);throw new Error("Cannot convert "+ee+" to "+me)}function b(ee){let me=arguments.length>1&&arguments[1]!==void 0?arguments[1]:",";return ee.map(ye=>ye.name).join(me)}function C(ee){let me=ee.indexOf("...")===0,Oe=(me?ee.length>3?ee.slice(3):"any":ee).split("|").map(F=>m(F.trim())),Be=!1,Ee=me?"...":"";return{types:Oe.map(function(F){return Be=F.isAny||Be,Ee+=F.name+"|",{name:F.name,typeIndex:F.index,test:F.test,isAny:F.isAny,conversion:null,conversionIndex:-1}}),name:Ee.slice(0,-1),hasAny:Be,hasConversion:!1,restParam:me}}function E(ee){let me=ee.types.map(tt=>tt.name),ye=W(me),Oe=ee.hasAny,Be=ee.name,Ee=ye.map(function(tt){let F=m(tt.from);return Oe=F.isAny||Oe,Be+="|"+tt.from,{name:tt.from,typeIndex:F.index,test:F.test,isAny:F.isAny,conversion:tt,conversionIndex:tt.index}});return{types:ee.types.concat(Ee),name:Be,hasAny:Oe,hasConversion:Ee.length>0,restParam:ee.restParam}}function D(ee){return ee.typeSet||(ee.typeSet=new Set,ee.types.forEach(me=>ee.typeSet.add(me.name))),ee.typeSet}function M(ee){let me=[];if(typeof ee!="string")throw new TypeError("Signatures must be strings");let ye=ee.trim();if(ye==="")return me;let Oe=ye.split(",");for(let Be=0;Be<Oe.length;++Be){let Ee=C(Oe[Be].trim());if(Ee.restParam&&Be!==Oe.length-1)throw new SyntaxError('Unexpected rest parameter "'+Oe[Be]+'": only allowed for the last parameter');if(Ee.types.length===0)return null;me.push(Ee)}return me}function T(ee){let me=H(ee);return me?me.restParam:!1}function I(ee){if(!ee||ee.types.length===0)return r;if(ee.types.length===1)return m(ee.types[0].name).test;if(ee.types.length===2){let me=m(ee.types[0].name).test,ye=m(ee.types[1].name).test;return function(Be){return me(Be)||ye(Be)}}else{let me=ee.types.map(function(ye){return m(ye.name).test});return function(Oe){for(let Be=0;Be<me.length;Be++)if(me[Be](Oe))return!0;return!1}}}function B(ee){let me,ye,Oe;if(T(ee)){me=be(ee).map(I);let Be=me.length,Ee=I(H(ee)),tt=function(F){for(let Z=Be;Z<F.length;Z++)if(!Ee(F[Z]))return!1;return!0};return function(Z){for(let oe=0;oe<me.length;oe++)if(!me[oe](Z[oe]))return!1;return tt(Z)&&Z.length>=Be+1}}else return ee.length===0?function(Ee){return Ee.length===0}:ee.length===1?(ye=I(ee[0]),function(Ee){return ye(Ee[0])&&Ee.length===1}):ee.length===2?(ye=I(ee[0]),Oe=I(ee[1]),function(Ee){return ye(Ee[0])&&Oe(Ee[1])&&Ee.length===2}):(me=ee.map(I),function(Ee){for(let tt=0;tt<me.length;tt++)if(!me[tt](Ee[tt]))return!1;return Ee.length===me.length})}function V(ee,me){return me<ee.length?ee[me]:T(ee)?H(ee):null}function L(ee,me){let ye=V(ee,me);return ye?D(ye):new Set}function k(ee){return ee.conversion===null||ee.conversion===void 0}function O(ee,me){let ye=new Set;return ee.forEach(Oe=>{let Be=L(Oe.params,me),Ee;for(Ee of Be)ye.add(Ee)}),ye.has("any")?["any"]:Array.from(ye)}function Y(ee,me,ye){let Oe,Be,Ee=ee||"unnamed",tt=ye,F;for(F=0;F<me.length;F++){let lt=[];if(tt.forEach(mt=>{let Sr=V(mt.params,F),Ln=I(Sr);(F<mt.params.length||T(mt.params))&&Ln(me[F])&&lt.push(mt)}),lt.length===0){if(Be=O(tt,F),Be.length>0){let mt=y(me[F]);return Oe=new TypeError("Unexpected type of argument in function "+Ee+" (expected: "+Be.join(" or ")+", actual: "+mt.join(" | ")+", index: "+F+")"),Oe.data={category:"wrongType",fn:Ee,index:F,actual:mt,expected:Be},Oe}}else tt=lt}let Z=tt.map(function(lt){return T(lt.params)?1/0:lt.params.length});if(me.length<Math.min.apply(null,Z))return Be=O(tt,F),Oe=new TypeError("Too few arguments in function "+Ee+" (expected: "+Be.join(" or ")+", index: "+me.length+")"),Oe.data={category:"tooFewArgs",fn:Ee,index:me.length,expected:Be},Oe;let oe=Math.max.apply(null,Z);if(me.length>oe)return Oe=new TypeError("Too many arguments in function "+Ee+" (expected: "+oe+", actual: "+me.length+")"),Oe.data={category:"tooManyArgs",fn:Ee,index:me.length,expectedLength:oe},Oe;let Ie=[];for(let lt=0;lt<me.length;++lt)Ie.push(y(me[lt]).join("|"));return Oe=new TypeError('Arguments of type "'+Ie.join(", ")+'" do not match any of the defined signatures of function '+Ee+"."),Oe.data={category:"mismatch",actual:Ie},Oe}function P(ee){let me=c.length+1;for(let ye=0;ye<ee.types.length;ye++)k(ee.types[ye])&&(me=Math.min(me,ee.types[ye].typeIndex));return me}function ae(ee){let me=d+1;for(let ye=0;ye<ee.types.length;ye++)k(ee.types[ye])||(me=Math.min(me,ee.types[ye].conversionIndex));return me}function se(ee,me){if(ee.hasAny){if(!me.hasAny)return 1}else if(me.hasAny)return-1;if(ee.restParam){if(!me.restParam)return 1}else if(me.restParam)return-1;if(ee.hasConversion){if(!me.hasConversion)return 1}else if(me.hasConversion)return-1;let ye=P(ee)-P(me);if(ye<0)return-1;if(ye>0)return 1;let Oe=ae(ee)-ae(me);return Oe<0?-1:Oe>0?1:0}function te(ee,me){let ye=ee.params,Oe=me.params,Be=H(ye),Ee=H(Oe),tt=T(ye),F=T(Oe);if(tt&&Be.hasAny){if(!F||!Ee.hasAny)return 1}else if(F&&Ee.hasAny)return-1;let Z=0,oe=0,Ie;for(Ie of ye)Ie.hasAny&&++Z,Ie.hasConversion&&++oe;let lt=0,mt=0;for(Ie of Oe)Ie.hasAny&&++lt,Ie.hasConversion&&++mt;if(Z!==lt)return Z-lt;if(tt&&Be.hasConversion){if(!F||!Ee.hasConversion)return 1}else if(F&&Ee.hasConversion)return-1;if(oe!==mt)return oe-mt;if(tt){if(!F)return 1}else if(F)return-1;let Sr=(ye.length-Oe.length)*(tt?-1:1);if(Sr!==0)return Sr;let Ln=[],Na=0;for(let Iu=0;Iu<ye.length;++Iu){let Pm=se(ye[Iu],Oe[Iu]);Ln.push(Pm),Na+=Pm}if(Na!==0)return Na;let Ta;for(Ta of Ln)if(Ta!==0)return Ta;return 0}function W(ee){if(ee.length===0)return[];let me=ee.map(m);ee.length>1&&me.sort((Be,Ee)=>Be.index-Ee.index);let ye=me[0].conversionsTo;if(ee.length===1)return ye;ye=ye.concat([]);let Oe=new Set(ee);for(let Be=1;Be<me.length;++Be){let Ee;for(Ee of me[Be].conversionsTo)Oe.has(Ee.from)||(ye.push(Ee),Oe.add(Ee.from))}return ye}function ue(ee,me){let ye=me;if(ee.some(Be=>Be.hasConversion)){let Be=T(ee),Ee=ee.map(we);ye=function(){let F=[],Z=Be?arguments.length-1:arguments.length;for(let oe=0;oe<Z;oe++)F[oe]=Ee[oe](arguments[oe]);return Be&&(F[Z]=arguments[Z].map(Ee[Z])),me.apply(this,F)}}let Oe=ye;if(T(ee)){let Be=ee.length-1;Oe=function(){return ye.apply(this,K(arguments,0,Be).concat([K(arguments,Be)]))}}return Oe}function we(ee){let me,ye,Oe,Be,Ee=[],tt=[];switch(ee.types.forEach(function(F){F.conversion&&(Ee.push(m(F.conversion.from).test),tt.push(F.conversion.convert))}),tt.length){case 0:return function(Z){return Z};case 1:return me=Ee[0],Oe=tt[0],function(Z){return me(Z)?Oe(Z):Z};case 2:return me=Ee[0],ye=Ee[1],Oe=tt[0],Be=tt[1],function(Z){return me(Z)?Oe(Z):ye(Z)?Be(Z):Z};default:return function(Z){for(let oe=0;oe<tt.length;oe++)if(Ee[oe](Z))return tt[oe](Z);return Z}}}function le(ee){function me(ye,Oe,Be){if(Oe<ye.length){let Ee=ye[Oe],tt=[];if(Ee.restParam){let F=Ee.types.filter(k);F.length<Ee.types.length&&tt.push({types:F,name:"..."+F.map(Z=>Z.name).join("|"),hasAny:F.some(Z=>Z.isAny),hasConversion:!1,restParam:!0}),tt.push(Ee)}else tt=Ee.types.map(function(F){return{types:[F],name:F.name,hasAny:F.isAny,hasConversion:F.conversion,restParam:!1}});return pe(tt,function(F){return me(ye,Oe+1,Be.concat([F]))})}else return[Be]}return me(ee,0,[])}function ge(ee,me){let ye=Math.max(ee.length,me.length);for(let F=0;F<ye;F++){let Z=L(ee,F),oe=L(me,F),Ie=!1,lt;for(lt of oe)if(Z.has(lt)){Ie=!0;break}if(!Ie)return!1}let Oe=ee.length,Be=me.length,Ee=T(ee),tt=T(me);return Ee?tt?Oe===Be:Be>=Oe:tt?Oe>=Be:Oe===Be}function J(ee){return ee.map(me=>Tt(me)?Ze(me.referToSelf.callback):rt(me)?ke(me.referTo.references,me.referTo.callback):me)}function X(ee,me,ye){let Oe=[],Be;for(Be of ee){let Ee=ye[Be];if(typeof Ee!="number")throw new TypeError('No definition for referenced signature "'+Be+'"');if(Ee=me[Ee],typeof Ee!="function")return!1;Oe.push(Ee)}return Oe}function ne(ee,me,ye){let Oe=J(ee),Be=new Array(Oe.length).fill(!1),Ee=!0;for(;Ee;){Ee=!1;let tt=!0;for(let F=0;F<Oe.length;++F){if(Be[F])continue;let Z=Oe[F];if(Tt(Z))Oe[F]=Z.referToSelf.callback(ye),Oe[F].referToSelf=Z.referToSelf,Be[F]=!0,tt=!1;else if(rt(Z)){let oe=X(Z.referTo.references,Oe,me);oe?(Oe[F]=Z.referTo.callback.apply(this,oe),Oe[F].referTo=Z.referTo,Be[F]=!0,tt=!1):Ee=!0}}if(tt&&Ee)throw new SyntaxError("Circular reference detected in resolving typed.referTo")}return Oe}function he(ee){let me=/\bthis(\(|\.signatures\b)/;Object.keys(ee).forEach(ye=>{let Oe=ee[ye];if(me.test(Oe.toString()))throw new SyntaxError("Using `this` to self-reference a function is deprecated since typed-function@3. Use typed.referTo and typed.referToSelf instead.")})}function de(ee,me){if(f.createCount++,Object.keys(me).length===0)throw new SyntaxError("No signatures provided");f.warnAgainstDeprecatedThis&&he(me);let ye=[],Oe=[],Be={},Ee=[],tt;for(tt in me){if(!Object.prototype.hasOwnProperty.call(me,tt))continue;let br=M(tt);if(!br)continue;ye.forEach(function(Qd){if(ge(Qd,br))throw new TypeError('Conflicting signatures "'+b(Qd)+'" and "'+b(br)+'".')}),ye.push(br);let xi=Oe.length;Oe.push(me[tt]);let GH=br.map(E),Bm;for(Bm of le(GH)){let Qd=b(Bm);Ee.push({params:Bm,name:Qd,fn:xi}),Bm.every(YH=>!YH.hasConversion)&&(Be[Qd]=xi)}}Ee.sort(te);let F=ne(Oe,Be,Jd),Z;for(Z in Be)Object.prototype.hasOwnProperty.call(Be,Z)&&(Be[Z]=F[Be[Z]]);let oe=[],Ie=new Map;for(Z of Ee)Ie.has(Z.name)||(Z.fn=F[Z.fn],oe.push(Z),Ie.set(Z.name,Z));let lt=oe[0]&&oe[0].params.length<=2&&!T(oe[0].params),mt=oe[1]&&oe[1].params.length<=2&&!T(oe[1].params),Sr=oe[2]&&oe[2].params.length<=2&&!T(oe[2].params),Ln=oe[3]&&oe[3].params.length<=2&&!T(oe[3].params),Na=oe[4]&&oe[4].params.length<=2&&!T(oe[4].params),Ta=oe[5]&&oe[5].params.length<=2&&!T(oe[5].params),Iu=lt&&mt&&Sr&&Ln&&Na&&Ta;for(let br=0;br<oe.length;++br)oe[br].test=B(oe[br].params);let Pm=lt?I(oe[0].params[0]):e,yH=mt?I(oe[1].params[0]):e,bH=Sr?I(oe[2].params[0]):e,wH=Ln?I(oe[3].params[0]):e,_H=Na?I(oe[4].params[0]):e,SH=Ta?I(oe[5].params[0]):e,DH=lt?I(oe[0].params[1]):e,CH=mt?I(oe[1].params[1]):e,EH=Sr?I(oe[2].params[1]):e,AH=Ln?I(oe[3].params[1]):e,MH=Na?I(oe[4].params[1]):e,NH=Ta?I(oe[5].params[1]):e;for(let br=0;br<oe.length;++br)oe[br].implementation=ue(oe[br].params,oe[br].fn);let TH=lt?oe[0].implementation:t,FH=mt?oe[1].implementation:t,IH=Sr?oe[2].implementation:t,OH=Ln?oe[3].implementation:t,RH=Na?oe[4].implementation:t,kH=Ta?oe[5].implementation:t,PH=lt?oe[0].params.length:-1,BH=mt?oe[1].params.length:-1,LH=Sr?oe[2].params.length:-1,zH=Ln?oe[3].params.length:-1,VH=Na?oe[4].params.length:-1,UH=Ta?oe[5].params.length:-1,qH=Iu?6:0,jH=oe.length,$H=oe.map(br=>br.test),HH=oe.map(br=>br.implementation),WH=function(){for(let xi=qH;xi<jH;xi++)if($H[xi](arguments))return HH[xi].apply(this,arguments);return f.onMismatch(ee,arguments,oe)};function Jd(br,xi){return arguments.length===PH&&Pm(br)&&DH(xi)?TH.apply(this,arguments):arguments.length===BH&&yH(br)&&CH(xi)?FH.apply(this,arguments):arguments.length===LH&&bH(br)&&EH(xi)?IH.apply(this,arguments):arguments.length===zH&&wH(br)&&AH(xi)?OH.apply(this,arguments):arguments.length===VH&&_H(br)&&MH(xi)?RH.apply(this,arguments):arguments.length===UH&&SH(br)&&NH(xi)?kH.apply(this,arguments):WH.apply(this,arguments)}try{Object.defineProperty(Jd,"name",{value:ee})}catch{}return Jd.signatures=Be,Jd._typedFunctionData={signatures:oe,signatureMap:Ie},Jd}function _e(ee,me,ye){throw Y(ee,me,ye)}function be(ee){return K(ee,0,ee.length-1)}function H(ee){return ee[ee.length-1]}function K(ee,me,ye){return Array.prototype.slice.call(ee,me,ye)}function fe(ee,me){for(let ye=0;ye<ee.length;ye++)if(me(ee[ye]))return ee[ye]}function pe(ee,me){return Array.prototype.concat.apply([],ee.map(me))}function Ce(){let ee=be(arguments).map(ye=>b(M(ye))),me=H(arguments);if(typeof me!="function")throw new TypeError("Callback function expected as last argument");return ke(ee,me)}function ke(ee,me){return{referTo:{references:ee,callback:me}}}function Ze(ee){if(typeof ee!="function")throw new TypeError("Callback function expected as first argument");return{referToSelf:{callback:ee}}}function rt(ee){return ee&&typeof ee.referTo=="object"&&Array.isArray(ee.referTo.references)&&typeof ee.referTo.callback=="function"}function Tt(ee){return ee&&typeof ee.referToSelf=="object"&&typeof ee.referToSelf.callback=="function"}function vt(ee,me){if(!ee)return me;if(me&&me!==ee){let ye=new Error("Function names do not match (expected: "+ee+", actual: "+me+")");throw ye.data={actual:me,expected:ee},ye}return ee}function lr(ee){let me;for(let ye in ee)Object.prototype.hasOwnProperty.call(ee,ye)&&(S(ee[ye])||typeof ee[ye].signature=="string")&&(me=vt(me,ee[ye].name));return me}function ir(ee,me){let ye;for(ye in me)if(Object.prototype.hasOwnProperty.call(me,ye)){if(ye in ee&&me[ye]!==ee[ye]){let Oe=new Error('Signature "'+ye+'" is defined twice');throw Oe.data={signature:ye,sourceFunction:me[ye],destFunction:ee[ye]},Oe}ee[ye]=me[ye]}}let Br=f;f=function(ee){let me=typeof ee=="string",ye=me?1:0,Oe=me?ee:"",Be={};for(let Ee=ye;Ee<arguments.length;++Ee){let tt=arguments[Ee],F={},Z;if(typeof tt=="function"?(Z=tt.name,typeof tt.signature=="string"?F[tt.signature]=tt:S(tt)&&(F=tt.signatures)):o(tt)&&(F=tt,me||(Z=lr(tt))),Object.keys(F).length===0){let oe=new TypeError("Argument to 'typed' at index "+Ee+" is not a (typed) function, nor an object with signatures as keys and functions as values.");throw oe.data={index:Ee,argument:tt},oe}me||(Oe=vt(Oe,Z)),ir(Be,F)}return de(Oe||"",Be)},f.create=i,f.createCount=Br.createCount,f.onMismatch=_e,f.throwMismatchError=_e,f.createError=Y,f.clear=h,f.clearConversions=v,f.addTypes=p,f._findType=m,f.referTo=Ce,f.referToSelf=Ze,f.convert=w,f.findSignature=x,f.find=_,f.isTypedFunction=S,f.warnAgainstDeprecatedThis=!0,f.addType=function(ee,me){let ye="any";me!==!1&&u.has("Object")&&(ye="Object"),f.addTypes([ee],ye)};function cn(ee){if(!ee||typeof ee.from!="string"||typeof ee.to!="string"||typeof ee.convert!="function")throw new TypeError("Object with properties {from: string, to: string, convert: function} expected");if(ee.to===ee.from)throw new SyntaxError('Illegal to define conversion from "'+ee.from+'" to itself.')}return f.addConversion=function(ee){let me=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{override:!1};cn(ee);let ye=m(ee.to),Oe=ye.conversionsTo.find(Be=>Be.from===ee.from);if(Oe)if(me&&me.override)f.removeConversion({from:Oe.from,to:ee.to,convert:Oe.convert});else throw new Error('There is already a conversion from "'+ee.from+'" to "'+ye.name+'"');ye.conversionsTo.push({from:ee.from,convert:ee.convert,index:d++})},f.addConversions=function(ee,me){ee.forEach(ye=>f.addConversion(ye,me))},f.removeConversion=function(ee){cn(ee);let me=m(ee.to),ye=fe(me.conversionsTo,Be=>Be.from===ee.from);if(!ye)throw new Error("Attempt to remove nonexistent conversion from "+ee.from+" to "+ee.to);if(ye.convert!==ee.convert)throw new Error("Conversion to remove does not match existing conversion");let Oe=me.conversionsTo.indexOf(ye);me.conversionsTo.splice(Oe,1)},f.resolve=function(ee,me){if(!S(ee))throw new TypeError(n);let ye=ee._typedFunctionData.signatures;for(let Oe=0;Oe<ye.length;++Oe)if(ye[Oe].test(me))return ye[Oe];return null},f}var a=i();return a})});var $I=ea((qRe,jI)=>{"use strict";jI.exports=function r(e,t){"use strict";var n=/(^([+\-]?(?:0|[1-9]\d*)(?:\.\d*)?(?:[eE][+\-]?\d+)?)?$|^0x[0-9a-f]+$|\d+)/gi,i=/(^[ ]*|[ ]*$)/g,a=/(^([\w ]+,?[\w ]+)?[\w ]+,?[\w ]+\d+:\d+(:\d+)?[\w ]?|^\d{1,4}[\/\-]\d{1,4}[\/\-]\d{1,4}|^\w+, \w+ \d+, \d{4})/,o=/^0x[0-9a-f]+$/i,s=/^0/,l=function(x){return r.insensitive&&(""+x).toLowerCase()||""+x},u=l(e).replace(i,"")||"",c=l(t).replace(i,"")||"",d=u.replace(n,"\0$1\0").replace(/\0$/,"").replace(/^\0/,"").split("\0"),f=c.replace(n,"\0$1\0").replace(/\0$/,"").replace(/^\0/,"").split("\0"),m=parseInt(u.match(o),16)||d.length!==1&&u.match(a)&&Date.parse(u),p=parseInt(c.match(o),16)||m&&c.match(a)&&Date.parse(c)||null,h,v;if(p){if(m<p)return-1;if(m>p)return 1}for(var y=0,S=Math.max(d.length,f.length);y<S;y++){if(h=!(d[y]||"").match(s)&&parseFloat(d[y])||d[y]||0,v=!(f[y]||"").match(s)&&parseFloat(f[y])||f[y]||0,isNaN(h)!==isNaN(v))return isNaN(h)?1:-1;if(typeof h!=typeof v&&(h+="",v+=""),h<v)return-1;if(h>v)return 1}return 0}});var YO=ea((cVe,GO)=>{"use strict";var A3=Object.assign||function(r){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(r[n]=t[n])}return r},afe={"{":"\\{","}":"\\}","\\":"\\textbackslash{}","#":"\\#",$:"\\$","%":"\\%","&":"\\&","^":"\\textasciicircum{}",_:"\\_","~":"\\textasciitilde{}"},ofe={"\u2013":"\\--","\u2014":"\\---"," ":"~","	":"\\qquad{}","\r\n":"\\newline{}","\n":"\\newline{}"},sfe=function(e,t){return A3({},e,t)};GO.exports=function(r){for(var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},t=e.preserveFormatting,n=t===void 0?!1:t,i=e.escapeMapFn,a=i===void 0?sfe:i,o=String(r),s="",l=a(A3({},afe),n?A3({},ofe):{}),u=Object.keys(l),c=function(){var f=!1;u.forEach(function(m,p){f||o.length>=m.length&&o.slice(0,m.length)===m&&(s+=l[u[p]],o=o.slice(m.length,o.length),f=!0)}),f||(s+=o.slice(0,1),o=o.slice(1,o.length))};o;)c();return s}});var Ez=ea((Cz,MS)=>{"use strict";(function(r,e,t){function n(s){var l=this,u=o();l.next=function(){var c=2091639*l.s0+l.c*23283064365386963e-26;return l.s0=l.s1,l.s1=l.s2,l.s2=c-(l.c=c|0)},l.c=1,l.s0=u(" "),l.s1=u(" "),l.s2=u(" "),l.s0-=u(s),l.s0<0&&(l.s0+=1),l.s1-=u(s),l.s1<0&&(l.s1+=1),l.s2-=u(s),l.s2<0&&(l.s2+=1),u=null}function i(s,l){return l.c=s.c,l.s0=s.s0,l.s1=s.s1,l.s2=s.s2,l}function a(s,l){var u=new n(s),c=l&&l.state,d=u.next;return d.int32=function(){return u.next()*4294967296|0},d.double=function(){return d()+(d()*2097152|0)*11102230246251565e-32},d.quick=d,c&&(typeof c=="object"&&i(c,u),d.state=function(){return i(u,{})}),d}function o(){var s=4022871197,l=function(u){u=String(u);for(var c=0;c<u.length;c++){s+=u.charCodeAt(c);var d=.02519603282416938*s;s=d>>>0,d-=s,d*=s,s=d>>>0,d-=s,s+=d*4294967296}return(s>>>0)*23283064365386963e-26};return l}e&&e.exports?e.exports=a:t&&t.amd?t(function(){return a}):this.alea=a})(Cz,typeof MS=="object"&&MS,typeof define=="function"&&define)});var Mz=ea((Az,NS)=>{"use strict";(function(r,e,t){function n(o){var s=this,l="";s.x=0,s.y=0,s.z=0,s.w=0,s.next=function(){var c=s.x^s.x<<11;return s.x=s.y,s.y=s.z,s.z=s.w,s.w^=s.w>>>19^c^c>>>8},o===(o|0)?s.x=o:l+=o;for(var u=0;u<l.length+64;u++)s.x^=l.charCodeAt(u)|0,s.next()}function i(o,s){return s.x=o.x,s.y=o.y,s.z=o.z,s.w=o.w,s}function a(o,s){var l=new n(o),u=s&&s.state,c=function(){return(l.next()>>>0)/4294967296};return c.double=function(){do var d=l.next()>>>11,f=(l.next()>>>0)/4294967296,m=(d+f)/(1<<21);while(m===0);return m},c.int32=l.next,c.quick=c,u&&(typeof u=="object"&&i(u,l),c.state=function(){return i(l,{})}),c}e&&e.exports?e.exports=a:t&&t.amd?t(function(){return a}):this.xor128=a})(Az,typeof NS=="object"&&NS,typeof define=="function"&&define)});var Tz=ea((Nz,TS)=>{"use strict";(function(r,e,t){function n(o){var s=this,l="";s.next=function(){var c=s.x^s.x>>>2;return s.x=s.y,s.y=s.z,s.z=s.w,s.w=s.v,(s.d=s.d+362437|0)+(s.v=s.v^s.v<<4^(c^c<<1))|0},s.x=0,s.y=0,s.z=0,s.w=0,s.v=0,o===(o|0)?s.x=o:l+=o;for(var u=0;u<l.length+64;u++)s.x^=l.charCodeAt(u)|0,u==l.length&&(s.d=s.x<<10^s.x>>>4),s.next()}function i(o,s){return s.x=o.x,s.y=o.y,s.z=o.z,s.w=o.w,s.v=o.v,s.d=o.d,s}function a(o,s){var l=new n(o),u=s&&s.state,c=function(){return(l.next()>>>0)/4294967296};return c.double=function(){do var d=l.next()>>>11,f=(l.next()>>>0)/4294967296,m=(d+f)/(1<<21);while(m===0);return m},c.int32=l.next,c.quick=c,u&&(typeof u=="object"&&i(u,l),c.state=function(){return i(l,{})}),c}e&&e.exports?e.exports=a:t&&t.amd?t(function(){return a}):this.xorwow=a})(Nz,typeof TS=="object"&&TS,typeof define=="function"&&define)});var Iz=ea((Fz,FS)=>{"use strict";(function(r,e,t){function n(o){var s=this;s.next=function(){var u=s.x,c=s.i,d,f,m;return d=u[c],d^=d>>>7,f=d^d<<24,d=u[c+1&7],f^=d^d>>>10,d=u[c+3&7],f^=d^d>>>3,d=u[c+4&7],f^=d^d<<7,d=u[c+7&7],d=d^d<<13,f^=d^d<<9,u[c]=f,s.i=c+1&7,f};function l(u,c){var d,f,m=[];if(c===(c|0))f=m[0]=c;else for(c=""+c,d=0;d<c.length;++d)m[d&7]=m[d&7]<<15^c.charCodeAt(d)+m[d+1&7]<<13;for(;m.length<8;)m.push(0);for(d=0;d<8&&m[d]===0;++d);for(d==8?f=m[7]=-1:f=m[d],u.x=m,u.i=0,d=256;d>0;--d)u.next()}l(s,o)}function i(o,s){return s.x=o.x.slice(),s.i=o.i,s}function a(o,s){o==null&&(o=+new Date);var l=new n(o),u=s&&s.state,c=function(){return(l.next()>>>0)/4294967296};return c.double=function(){do var d=l.next()>>>11,f=(l.next()>>>0)/4294967296,m=(d+f)/(1<<21);while(m===0);return m},c.int32=l.next,c.quick=c,u&&(u.x&&i(u,l),c.state=function(){return i(l,{})}),c}e&&e.exports?e.exports=a:t&&t.amd?t(function(){return a}):this.xorshift7=a})(Fz,typeof FS=="object"&&FS,typeof define=="function"&&define)});var Rz=ea((Oz,IS)=>{"use strict";(function(r,e,t){function n(o){var s=this;s.next=function(){var u=s.w,c=s.X,d=s.i,f,m;return s.w=u=u+1640531527|0,m=c[d+34&127],f=c[d=d+1&127],m^=m<<13,f^=f<<17,m^=m>>>15,f^=f>>>12,m=c[d]=m^f,s.i=d,m+(u^u>>>16)|0};function l(u,c){var d,f,m,p,h,v=[],y=128;for(c===(c|0)?(f=c,c=null):(c=c+"\0",f=0,y=Math.max(y,c.length)),m=0,p=-32;p<y;++p)c&&(f^=c.charCodeAt((p+32)%c.length)),p===0&&(h=f),f^=f<<10,f^=f>>>15,f^=f<<4,f^=f>>>13,p>=0&&(h=h+1640531527|0,d=v[p&127]^=f+h,m=d==0?m+1:0);for(m>=128&&(v[(c&&c.length||0)&127]=-1),m=127,p=4*128;p>0;--p)f=v[m+34&127],d=v[m=m+1&127],f^=f<<13,d^=d<<17,f^=f>>>15,d^=d>>>12,v[m]=f^d;u.w=h,u.X=v,u.i=m}l(s,o)}function i(o,s){return s.i=o.i,s.w=o.w,s.X=o.X.slice(),s}function a(o,s){o==null&&(o=+new Date);var l=new n(o),u=s&&s.state,c=function(){return(l.next()>>>0)/4294967296};return c.double=function(){do var d=l.next()>>>11,f=(l.next()>>>0)/4294967296,m=(d+f)/(1<<21);while(m===0);return m},c.int32=l.next,c.quick=c,u&&(u.X&&i(u,l),c.state=function(){return i(l,{})}),c}e&&e.exports?e.exports=a:t&&t.amd?t(function(){return a}):this.xor4096=a})(Oz,typeof IS=="object"&&IS,typeof define=="function"&&define)});var Pz=ea((kz,OS)=>{"use strict";(function(r,e,t){function n(o){var s=this,l="";s.next=function(){var c=s.b,d=s.c,f=s.d,m=s.a;return c=c<<25^c>>>7^d,d=d-f|0,f=f<<24^f>>>8^m,m=m-c|0,s.b=c=c<<20^c>>>12^d,s.c=d=d-f|0,s.d=f<<16^d>>>16^m,s.a=m-c|0},s.a=0,s.b=0,s.c=-1640531527,s.d=1367130551,o===Math.floor(o)?(s.a=o/4294967296|0,s.b=o|0):l+=o;for(var u=0;u<l.length+20;u++)s.b^=l.charCodeAt(u)|0,s.next()}function i(o,s){return s.a=o.a,s.b=o.b,s.c=o.c,s.d=o.d,s}function a(o,s){var l=new n(o),u=s&&s.state,c=function(){return(l.next()>>>0)/4294967296};return c.double=function(){do var d=l.next()>>>11,f=(l.next()>>>0)/4294967296,m=(d+f)/(1<<21);while(m===0);return m},c.int32=l.next,c.quick=c,u&&(typeof u=="object"&&i(u,l),c.state=function(){return i(l,{})}),c}e&&e.exports?e.exports=a:t&&t.amd?t(function(){return a}):this.tychei=a})(kz,typeof OS=="object"&&OS,typeof define=="function"&&define)});var Bz=ea(()=>{"use strict"});var zz=ea((Lz,xv)=>{"use strict";(function(r,e,t){var n=256,i=6,a=52,o="random",s=t.pow(n,i),l=t.pow(2,a),u=l*2,c=n-1,d;function f(x,_,w){var b=[];_=_==!0?{entropy:!0}:_||{};var C=v(h(_.entropy?[x,S(e)]:x==null?y():x,3),b),E=new m(b),D=function(){for(var M=E.g(i),T=s,I=0;M<l;)M=(M+I)*n,T*=n,I=E.g(1);for(;M>=u;)M/=2,T/=2,I>>>=1;return(M+I)/T};return D.int32=function(){return E.g(4)|0},D.quick=function(){return E.g(4)/4294967296},D.double=D,v(S(E.S),e),(_.pass||w||function(M,T,I,B){return B&&(B.S&&p(B,E),M.state=function(){return p(E,{})}),I?(t[o]=M,T):M})(D,C,"global"in _?_.global:this==t,_.state)}function m(x){var _,w=x.length,b=this,C=0,E=b.i=b.j=0,D=b.S=[];for(w||(x=[w++]);C<n;)D[C]=C++;for(C=0;C<n;C++)D[C]=D[E=c&E+x[C%w]+(_=D[C])],D[E]=_;(b.g=function(M){for(var T,I=0,B=b.i,V=b.j,L=b.S;M--;)T=L[B=c&B+1],I=I*n+L[c&(L[B]=L[V=c&V+T])+(L[V]=T)];return b.i=B,b.j=V,I})(n)}function p(x,_){return _.i=x.i,_.j=x.j,_.S=x.S.slice(),_}function h(x,_){var w=[],b=typeof x,C;if(_&&b=="object")for(C in x)try{w.push(h(x[C],_-1))}catch{}return w.length?w:b=="string"?x:x+"\0"}function v(x,_){for(var w=x+"",b,C=0;C<w.length;)_[c&C]=c&(b^=_[c&C]*19)+w.charCodeAt(C++);return S(_)}function y(){try{var x;return d&&(x=d.randomBytes)?x=x(n):(x=new Uint8Array(n),(r.crypto||r.msCrypto).getRandomValues(x)),S(x)}catch{var _=r.navigator,w=_&&_.plugins;return[+new Date,r,w,r.screen,S(e)]}}function S(x){return String.fromCharCode.apply(0,x)}if(v(t.random(),e),typeof xv=="object"&&xv.exports){xv.exports=f;try{d=Bz()}catch{}}else typeof define=="function"&&define.amd?define(function(){return f}):t["seed"+o]=f})(typeof self<"u"?self:Lz,[],Math)});var Uz=ea((Let,Vz)=>{"use strict";var D0e=Ez(),C0e=Mz(),E0e=Tz(),A0e=Iz(),M0e=Rz(),N0e=Pz(),vu=zz();vu.alea=D0e;vu.xor128=C0e;vu.xorwow=E0e;vu.xorshift7=A0e;vu.xor4096=M0e;vu.tychei=N0e;Vz.exports=vu});var Dr=new ht("");var Hm=null;function aa(){return Hm}function Y1(r){Hm!=null||(Hm=r)}var lf=class{},uf=(()=>{let e=class e{historyGo(n){throw new Error("")}};g(e,"\u0275fac",function(i){return new(i||e)}),g(e,"\u0275prov",Ke({token:e,factory:()=>Me(Q6),providedIn:"platform"}));let r=e;return r})();var Q6=(()=>{let e=class e extends uf{constructor(){super();g(this,"_location");g(this,"_history");g(this,"_doc",Me(Dr));this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return aa().getBaseHref(this._doc)}onPopState(i){let a=aa().getGlobalEventTarget(this._doc,"window");return a.addEventListener("popstate",i,!1),()=>a.removeEventListener("popstate",i)}onHashChange(i){let a=aa().getGlobalEventTarget(this._doc,"window");return a.addEventListener("hashchange",i,!1),()=>a.removeEventListener("hashchange",i)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(i){this._location.pathname=i}pushState(i,a,o){this._history.pushState(i,a,o)}replaceState(i,a,o){this._history.replaceState(i,a,o)}forward(){this._history.forward()}back(){this._history.back()}historyGo(i=0){this._history.go(i)}getState(){return this._history.state}};g(e,"\u0275fac",function(a){return new(a||e)}),g(e,"\u0275prov",Ke({token:e,factory:()=>new e,providedIn:"platform"}));let r=e;return r})();function Wm(r,e){return r?e?r.endsWith("/")?e.startsWith("/")?r+e.slice(1):r+e:e.startsWith("/")?r+e:`${r}/${e}`:r:e}function K6(r){let e=r.search(/#|\?|$/);return r[e-1]==="/"?r.slice(0,e-1)+r.slice(e):r}function Ra(r){return r&&r[0]!=="?"?`?${r}`:r}var Cs=(()=>{let e=class e{historyGo(n){throw new Error("")}};g(e,"\u0275fac",function(i){return new(i||e)}),g(e,"\u0275prov",Ke({token:e,factory:()=>Me(Z1),providedIn:"root"}));let r=e;return r})(),Gm=new ht(""),Z1=(()=>{let e=class e extends Cs{constructor(i,a){var o,s,l;super();g(this,"_platformLocation");g(this,"_baseHref");g(this,"_removeListenerFns",[]);this._platformLocation=i,this._baseHref=(l=(s=a!=null?a:this._platformLocation.getBaseHrefFromDOM())!=null?s:(o=Me(Dr).location)==null?void 0:o.origin)!=null?l:""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(i){this._removeListenerFns.push(this._platformLocation.onPopState(i),this._platformLocation.onHashChange(i))}getBaseHref(){return this._baseHref}prepareExternalUrl(i){return Wm(this._baseHref,i)}path(i=!1){let a=this._platformLocation.pathname+Ra(this._platformLocation.search),o=this._platformLocation.hash;return o&&i?`${a}${o}`:a}pushState(i,a,o,s){let l=this.prepareExternalUrl(o+Ra(s));this._platformLocation.pushState(i,a,l)}replaceState(i,a,o,s){let l=this.prepareExternalUrl(o+Ra(s));this._platformLocation.replaceState(i,a,l)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(i=0){var a,o;(o=(a=this._platformLocation).historyGo)==null||o.call(a,i)}};g(e,"\u0275fac",function(a){return new(a||e)(at(uf),at(Gm,8))}),g(e,"\u0275prov",Ke({token:e,factory:e.\u0275fac,providedIn:"root"}));let r=e;return r})(),Ol=(()=>{let e=class e{constructor(n){g(this,"_subject",new Gt);g(this,"_basePath");g(this,"_locationStrategy");g(this,"_urlChangeListeners",[]);g(this,"_urlChangeSubscription",null);this._locationStrategy=n;let i=this._locationStrategy.getBaseHref();this._basePath=KH(K6(J6(i))),this._locationStrategy.onPopState(a=>{this._subject.next({url:this.path(!0),pop:!0,state:a.state,type:a.type})})}ngOnDestroy(){var n;(n=this._urlChangeSubscription)==null||n.unsubscribe(),this._urlChangeListeners=[]}path(n=!1){return this.normalize(this._locationStrategy.path(n))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(n,i=""){return this.path()==this.normalize(n+Ra(i))}normalize(n){return e.stripTrailingSlash(XH(this._basePath,J6(n)))}prepareExternalUrl(n){return n&&n[0]!=="/"&&(n="/"+n),this._locationStrategy.prepareExternalUrl(n)}go(n,i="",a=null){this._locationStrategy.pushState(a,"",n,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+Ra(i)),a)}replaceState(n,i="",a=null){this._locationStrategy.replaceState(a,"",n,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+Ra(i)),a)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(n=0){var i,a;(a=(i=this._locationStrategy).historyGo)==null||a.call(i,n)}onUrlChange(n){var i;return this._urlChangeListeners.push(n),(i=this._urlChangeSubscription)!=null||(this._urlChangeSubscription=this.subscribe(a=>{this._notifyUrlChangeListeners(a.url,a.state)})),()=>{var o;let a=this._urlChangeListeners.indexOf(n);this._urlChangeListeners.splice(a,1),this._urlChangeListeners.length===0&&((o=this._urlChangeSubscription)==null||o.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(n="",i){this._urlChangeListeners.forEach(a=>a(n,i))}subscribe(n,i,a){return this._subject.subscribe({next:n,error:i!=null?i:void 0,complete:a!=null?a:void 0})}};g(e,"normalizeQueryParams",Ra),g(e,"joinWithSlash",Wm),g(e,"stripTrailingSlash",K6),g(e,"\u0275fac",function(i){return new(i||e)(at(Cs))}),g(e,"\u0275prov",Ke({token:e,factory:()=>ZH(),providedIn:"root"}));let r=e;return r})();function ZH(){return new Ol(at(Cs))}function XH(r,e){if(!r||!e.startsWith(r))return e;let t=e.substring(r.length);return t===""||["/",";","?","#"].includes(t[0])?t:e}function J6(r){return r.replace(/\/index.html$/,"")}function KH(r){if(new RegExp("^(https?:)?//").test(r)){let[,t]=r.split(/\/\/[^\/]+/);return t}return r}var X1=(()=>{let e=class e extends Cs{constructor(i,a){super();g(this,"_platformLocation");g(this,"_baseHref","");g(this,"_removeListenerFns",[]);this._platformLocation=i,a!=null&&(this._baseHref=a)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(i){this._removeListenerFns.push(this._platformLocation.onPopState(i),this._platformLocation.onHashChange(i))}getBaseHref(){return this._baseHref}path(i=!1){var o;let a=(o=this._platformLocation.hash)!=null?o:"#";return a.length>0?a.substring(1):a}prepareExternalUrl(i){let a=Wm(this._baseHref,i);return a.length>0?"#"+a:a}pushState(i,a,o,s){let l=this.prepareExternalUrl(o+Ra(s))||this._platformLocation.pathname;this._platformLocation.pushState(i,a,l)}replaceState(i,a,o,s){let l=this.prepareExternalUrl(o+Ra(s))||this._platformLocation.pathname;this._platformLocation.replaceState(i,a,l)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(i=0){var a,o;(o=(a=this._platformLocation).historyGo)==null||o.call(a,i)}};g(e,"\u0275fac",function(a){return new(a||e)(at(uf),at(Gm,8))}),g(e,"\u0275prov",Ke({token:e,factory:e.\u0275fac}));let r=e;return r})();var K1=(()=>{let e=class e{constructor(n){g(this,"_viewContainerRef");g(this,"_viewRef",null);g(this,"ngTemplateOutletContext",null);g(this,"ngTemplateOutlet",null);g(this,"ngTemplateOutletInjector",null);this._viewContainerRef=n}ngOnChanges(n){var i;if(this._shouldRecreateView(n)){let a=this._viewContainerRef;if(this._viewRef&&a.remove(a.indexOf(this._viewRef)),!this.ngTemplateOutlet){this._viewRef=null;return}let o=this._createContextForwardProxy();this._viewRef=a.createEmbeddedView(this.ngTemplateOutlet,o,{injector:(i=this.ngTemplateOutletInjector)!=null?i:void 0})}}_shouldRecreateView(n){return!!n.ngTemplateOutlet||!!n.ngTemplateOutletInjector}_createContextForwardProxy(){return new Proxy({},{set:(n,i,a)=>this.ngTemplateOutletContext?Reflect.set(this.ngTemplateOutletContext,i,a):!1,get:(n,i,a)=>{if(this.ngTemplateOutletContext)return Reflect.get(this.ngTemplateOutletContext,i,a)}})}};g(e,"\u0275fac",function(i){return new(i||e)(Xe(ko))}),g(e,"\u0275dir",Tr({type:e,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet",ngTemplateOutletInjector:"ngTemplateOutletInjector"},features:[Tn]}));let r=e;return r})();var Ym=(()=>{let e=class e{};g(e,"\u0275fac",function(i){return new(i||e)}),g(e,"\u0275mod",_i({type:e})),g(e,"\u0275inj",yi({}));let r=e;return r})();function cf(r,e){e=encodeURIComponent(e);for(let t of r.split(";")){let n=t.indexOf("="),[i,a]=n==-1?[t,""]:[t.slice(0,n),t.slice(n+1)];if(i.trim()===e)return decodeURIComponent(a)}return null}var Zm="browser",e7="server";function J1(r){return r===Zm}function Xm(r){return r===e7}var Rl=class{};var Qm=new ht(""),rx=(()=>{let e=class e{constructor(n,i){g(this,"_zone");g(this,"_plugins");g(this,"_eventNameToPlugin",new Map);this._zone=i,n.forEach(a=>{a.manager=this}),this._plugins=n.slice().reverse()}addEventListener(n,i,a,o){return this._findPluginFor(i).addEventListener(n,i,a,o)}getZone(){return this._zone}_findPluginFor(n){let i=this._eventNameToPlugin.get(n);if(i)return i;if(i=this._plugins.find(o=>o.supports(n)),!i)throw new Zt(5101,!1);return this._eventNameToPlugin.set(n,i),i}};g(e,"\u0275fac",function(i){return new(i||e)(at(Qm),at(zn))}),g(e,"\u0275prov",Ke({token:e,factory:e.\u0275fac}));let r=e;return r})(),df=class{constructor(e){g(this,"_doc");g(this,"manager");this._doc=e}},Km="ng-app-id";function t7(r){for(let e of r)e.remove()}function r7(r,e){let t=e.createElement("style");return t.textContent=r,t}function nW(r,e,t,n){var a;let i=(a=r.head)==null?void 0:a.querySelectorAll(`style[${Km}="${e}"],link[${Km}="${e}"]`);if(i)for(let o of i)o.removeAttribute(Km),o instanceof HTMLLinkElement?n.set(o.href.slice(o.href.lastIndexOf("/")+1),{usage:0,elements:[o]}):o.textContent&&t.set(o.textContent,{usage:0,elements:[o]})}function ex(r,e){let t=e.createElement("link");return t.setAttribute("rel","stylesheet"),t.setAttribute("href",r),t}var nx=(()=>{let e=class e{constructor(n,i,a,o={}){g(this,"doc");g(this,"appId");g(this,"nonce");g(this,"inline",new Map);g(this,"external",new Map);g(this,"hosts",new Set);g(this,"isServer");this.doc=n,this.appId=i,this.nonce=a,this.isServer=Xm(o),nW(n,i,this.inline,this.external),this.hosts.add(n.head)}addStyles(n,i){for(let a of n)this.addUsage(a,this.inline,r7);i==null||i.forEach(a=>this.addUsage(a,this.external,ex))}removeStyles(n,i){for(let a of n)this.removeUsage(a,this.inline);i==null||i.forEach(a=>this.removeUsage(a,this.external))}addUsage(n,i,a){let o=i.get(n);o?o.usage++:i.set(n,{usage:1,elements:[...this.hosts].map(s=>this.addElement(s,a(n,this.doc)))})}removeUsage(n,i){let a=i.get(n);a&&(a.usage--,a.usage<=0&&(t7(a.elements),i.delete(n)))}ngOnDestroy(){for(let[,{elements:n}]of[...this.inline,...this.external])t7(n);this.hosts.clear()}addHost(n){this.hosts.add(n);for(let[i,{elements:a}]of this.inline)a.push(this.addElement(n,r7(i,this.doc)));for(let[i,{elements:a}]of this.external)a.push(this.addElement(n,ex(i,this.doc)))}removeHost(n){this.hosts.delete(n)}addElement(n,i){return this.nonce&&i.setAttribute("nonce",this.nonce),this.isServer&&i.setAttribute(Km,this.appId),n.appendChild(i)}};g(e,"\u0275fac",function(i){return new(i||e)(at(Dr),at(nf),at(L1,8),at(Ro))}),g(e,"\u0275prov",Ke({token:e,factory:e.\u0275fac}));let r=e;return r})(),Q1={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},ix=/%COMP%/g;var i7="%COMP%",iW=`_nghost-${i7}`,aW=`_ngcontent-${i7}`,oW=!0,sW=new ht("",{providedIn:"root",factory:()=>oW});function lW(r){return aW.replace(ix,r)}function uW(r){return iW.replace(ix,r)}function a7(r,e){return e.map(t=>t.replace(ix,r))}var hf=(()=>{let e=class e{constructor(n,i,a,o,s,l,u,c=null,d=null){g(this,"eventManager");g(this,"sharedStylesHost");g(this,"appId");g(this,"removeStylesOnCompDestroy");g(this,"doc");g(this,"platformId");g(this,"ngZone");g(this,"nonce");g(this,"tracingService");g(this,"rendererByCompId",new Map);g(this,"defaultRenderer");g(this,"platformIsServer");this.eventManager=n,this.sharedStylesHost=i,this.appId=a,this.removeStylesOnCompDestroy=o,this.doc=s,this.platformId=l,this.ngZone=u,this.nonce=c,this.tracingService=d,this.platformIsServer=Xm(l),this.defaultRenderer=new ff(n,s,u,this.platformIsServer,this.tracingService)}createRenderer(n,i){if(!n||!i)return this.defaultRenderer;this.platformIsServer&&i.encapsulation===af.ShadowDom&&(i=Kt(Ge({},i),{encapsulation:af.Emulated}));let a=this.getOrCreateRenderer(n,i);return a instanceof Jm?a.applyToHost(n):a instanceof mf&&a.applyStyles(),a}getOrCreateRenderer(n,i){let a=this.rendererByCompId,o=a.get(i.id);if(!o){let s=this.doc,l=this.ngZone,u=this.eventManager,c=this.sharedStylesHost,d=this.removeStylesOnCompDestroy,f=this.platformIsServer,m=this.tracingService;switch(i.encapsulation){case af.Emulated:o=new Jm(u,c,i,this.appId,d,s,l,f,m);break;case af.ShadowDom:return new tx(u,c,n,i,s,l,this.nonce,f,m);default:o=new mf(u,c,i,d,s,l,f,m);break}a.set(i.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}componentReplaced(n){this.rendererByCompId.delete(n)}};g(e,"\u0275fac",function(i){return new(i||e)(at(rx),at(nx),at(nf),at(sW),at(Dr),at(Ro),at(zn),at(L1),at(I6,8))}),g(e,"\u0275prov",Ke({token:e,factory:e.\u0275fac}));let r=e;return r})(),ff=class{constructor(e,t,n,i,a){g(this,"eventManager");g(this,"doc");g(this,"ngZone");g(this,"platformIsServer");g(this,"tracingService");g(this,"data",Object.create(null));g(this,"throwOnSyntheticProps",!0);g(this,"destroyNode",null);this.eventManager=e,this.doc=t,this.ngZone=n,this.platformIsServer=i,this.tracingService=a}destroy(){}createElement(e,t){return t?this.doc.createElementNS(Q1[t]||t,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,t){(n7(e)?e.content:e).appendChild(t)}insertBefore(e,t,n){e&&(n7(e)?e.content:e).insertBefore(t,n)}removeChild(e,t){t.remove()}selectRootElement(e,t){let n=typeof e=="string"?this.doc.querySelector(e):e;if(!n)throw new Zt(-5104,!1);return t||(n.textContent=""),n}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,n,i){if(i){t=i+":"+t;let a=Q1[i];a?e.setAttributeNS(a,t,n):e.setAttribute(t,n)}else e.setAttribute(t,n)}removeAttribute(e,t,n){if(n){let i=Q1[n];i?e.removeAttributeNS(i,t):e.removeAttribute(`${n}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,n,i){i&(of.DashCase|of.Important)?e.style.setProperty(t,n,i&of.Important?"important":""):e.style[t]=n}removeStyle(e,t,n){n&of.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,n){e!=null&&(e[t]=n)}setValue(e,t){e.nodeValue=t}listen(e,t,n,i){var o;if(typeof e=="string"&&(e=aa().getGlobalEventTarget(this.doc,e),!e))throw new Zt(5102,!1);let a=this.decoratePreventDefault(n);return(o=this.tracingService)!=null&&o.wrapEventListener&&(a=this.tracingService.wrapEventListener(e,t,a)),this.eventManager.addEventListener(e,t,a,i)}decoratePreventDefault(e){return t=>{if(t==="__ngUnwrap__")return e;(this.platformIsServer?this.ngZone.runGuarded(()=>e(t)):e(t))===!1&&t.preventDefault()}}};function n7(r){return r.tagName==="TEMPLATE"&&r.content!==void 0}var tx=class extends ff{constructor(t,n,i,a,o,s,l,u,c){var p;super(t,o,s,u,c);g(this,"sharedStylesHost");g(this,"hostEl");g(this,"shadowRoot");this.sharedStylesHost=n,this.hostEl=i,this.shadowRoot=i.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let d=a.styles;d=a7(a.id,d);for(let h of d){let v=document.createElement("style");l&&v.setAttribute("nonce",l),v.textContent=h,this.shadowRoot.appendChild(v)}let f=(p=a.getExternalStyles)==null?void 0:p.call(a);if(f)for(let h of f){let v=ex(h,o);l&&v.setAttribute("nonce",l),this.shadowRoot.appendChild(v)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}appendChild(t,n){return super.appendChild(this.nodeOrShadowRoot(t),n)}insertBefore(t,n,i){return super.insertBefore(this.nodeOrShadowRoot(t),n,i)}removeChild(t,n){return super.removeChild(null,n)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},mf=class extends ff{constructor(t,n,i,a,o,s,l,u,c){var m;super(t,o,s,l,u);g(this,"sharedStylesHost");g(this,"removeStylesOnCompDestroy");g(this,"styles");g(this,"styleUrls");this.sharedStylesHost=n,this.removeStylesOnCompDestroy=a;let d=i.styles;this.styles=c?a7(c,d):d,this.styleUrls=(m=i.getExternalStyles)==null?void 0:m.call(i,c)}applyStyles(){this.sharedStylesHost.addStyles(this.styles,this.styleUrls)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles,this.styleUrls)}},Jm=class extends mf{constructor(t,n,i,a,o,s,l,u,c){let d=a+"-"+i.id;super(t,n,i,o,s,l,u,c,d);g(this,"contentAttr");g(this,"hostAttr");this.contentAttr=lW(d),this.hostAttr=uW(d)}applyToHost(t){this.applyStyles(),this.setAttribute(t,this.hostAttr,"")}createElement(t,n){let i=super.createElement(t,n);return super.setAttribute(i,this.contentAttr,""),i}};var eh=class r extends lf{constructor(){super(...arguments);g(this,"supportsDOMEvents",!0)}static makeCurrent(){Y1(new r)}onAndCancel(t,n,i,a){return t.addEventListener(n,i,a),()=>{t.removeEventListener(n,i,a)}}dispatchEvent(t,n){t.dispatchEvent(n)}remove(t){t.remove()}createElement(t,n){return n=n||this.getDefaultDocument(),n.createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,n){return n==="window"?window:n==="document"?t:n==="body"?t.body:null}getBaseHref(t){let n=dW();return n==null?null:fW(n)}resetBaseElement(){pf=null}getUserAgent(){return window.navigator.userAgent}getCookie(t){return cf(document.cookie,t)}},pf=null;function dW(){return pf=pf||document.querySelector("base"),pf?pf.getAttribute("href"):null}function fW(r){return new URL(r,document.baseURI).pathname}var mW=(()=>{let e=class e{build(){return new XMLHttpRequest}};g(e,"\u0275fac",function(i){return new(i||e)}),g(e,"\u0275prov",Ke({token:e,factory:e.\u0275fac}));let r=e;return r})(),s7=(()=>{let e=class e extends df{constructor(n){super(n)}supports(n){return!0}addEventListener(n,i,a,o){return n.addEventListener(i,a,o),()=>this.removeEventListener(n,i,a,o)}removeEventListener(n,i,a,o){return n.removeEventListener(i,a,o)}};g(e,"\u0275fac",function(i){return new(i||e)(at(Dr))}),g(e,"\u0275prov",Ke({token:e,factory:e.\u0275fac}));let r=e;return r})(),o7=["alt","control","meta","shift"],hW={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},pW={alt:r=>r.altKey,control:r=>r.ctrlKey,meta:r=>r.metaKey,shift:r=>r.shiftKey},l7=(()=>{let e=class e extends df{constructor(n){super(n)}supports(n){return e.parseEventName(n)!=null}addEventListener(n,i,a,o){let s=e.parseEventName(i),l=e.eventCallback(s.fullKey,a,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>aa().onAndCancel(n,s.domEventName,l,o))}static parseEventName(n){let i=n.toLowerCase().split("."),a=i.shift();if(i.length===0||!(a==="keydown"||a==="keyup"))return null;let o=e._normalizeKey(i.pop()),s="",l=i.indexOf("code");if(l>-1&&(i.splice(l,1),s="code."),o7.forEach(c=>{let d=i.indexOf(c);d>-1&&(i.splice(d,1),s+=c+".")}),s+=o,i.length!=0||o.length===0)return null;let u={};return u.domEventName=a,u.fullKey=s,u}static matchEventFullKeyCode(n,i){let a=hW[n.key]||n.key,o="";return i.indexOf("code.")>-1&&(a=n.code,o="code."),a==null||!a?!1:(a=a.toLowerCase(),a===" "?a="space":a==="."&&(a="dot"),o7.forEach(s=>{if(s!==a){let l=pW[s];l(n)&&(o+=s+".")}}),o+=a,o===i)}static eventCallback(n,i,a){return o=>{e.matchEventFullKeyCode(o,n)&&a.runGuarded(()=>i(o))}}static _normalizeKey(n){return n==="esc"?"escape":n}};g(e,"\u0275fac",function(i){return new(i||e)(at(Dr))}),g(e,"\u0275prov",Ke({token:e,factory:e.\u0275fac}));let r=e;return r})();function ax(r,e){return Y6(Ge({rootComponent:r},gW(e)))}function gW(r){var e;return{appProviders:[...wW,...(e=r==null?void 0:r.providers)!=null?e:[]],platformProviders:bW}}function vW(){eh.makeCurrent()}function xW(){return new B1}function yW(){return N6(document),document}var bW=[{provide:Ro,useValue:Zm},{provide:T6,useValue:vW,multi:!0},{provide:Dr,useFactory:yW}];var wW=[{provide:E6,useValue:"root"},{provide:B1,useFactory:xW},{provide:Qm,useClass:s7,multi:!0,deps:[Dr]},{provide:Qm,useClass:l7,multi:!0,deps:[Dr]},hf,nx,rx,{provide:to,useExisting:hf},{provide:Rl,useClass:mW},[]];var zu=class{},gf=class{},Es=class r{constructor(e){g(this,"headers");g(this,"normalizedNames",new Map);g(this,"lazyInit");g(this,"lazyUpdate",null);e?typeof e=="string"?this.lazyInit=()=>{this.headers=new Map,e.split(`
`).forEach(t=>{let n=t.indexOf(":");if(n>0){let i=t.slice(0,n),a=t.slice(n+1).trim();this.addHeaderEntry(i,a)}})}:typeof Headers<"u"&&e instanceof Headers?(this.headers=new Map,e.forEach((t,n)=>{this.addHeaderEntry(n,t)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(e).forEach(([t,n])=>{this.setHeaderEntries(t,n)})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();let t=this.headers.get(e.toLowerCase());return t&&t.length>0?t[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,t){return this.clone({name:e,value:t,op:"a"})}set(e,t){return this.clone({name:e,value:t,op:"s"})}delete(e,t){return this.clone({name:e,value:t,op:"d"})}maybeSetNormalizedName(e,t){this.normalizedNames.has(t)||this.normalizedNames.set(t,e)}init(){this.lazyInit&&(this.lazyInit instanceof r?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(t=>{this.headers.set(t,e.headers.get(t)),this.normalizedNames.set(t,e.normalizedNames.get(t))})}clone(e){let t=new r;return t.lazyInit=this.lazyInit&&this.lazyInit instanceof r?this.lazyInit:this,t.lazyUpdate=(this.lazyUpdate||[]).concat([e]),t}applyUpdate(e){let t=e.name.toLowerCase();switch(e.op){case"a":case"s":let n=e.value;if(typeof n=="string"&&(n=[n]),n.length===0)return;this.maybeSetNormalizedName(e.name,t);let i=(e.op==="a"?this.headers.get(t):void 0)||[];i.push(...n),this.headers.set(t,i);break;case"d":let a=e.value;if(!a)this.headers.delete(t),this.normalizedNames.delete(t);else{let o=this.headers.get(t);if(!o)return;o=o.filter(s=>a.indexOf(s)===-1),o.length===0?(this.headers.delete(t),this.normalizedNames.delete(t)):this.headers.set(t,o)}break}}addHeaderEntry(e,t){let n=e.toLowerCase();this.maybeSetNormalizedName(e,n),this.headers.has(n)?this.headers.get(n).push(t):this.headers.set(n,[t])}setHeaderEntries(e,t){let n=(Array.isArray(t)?t:[t]).map(a=>a.toString()),i=e.toLowerCase();this.headers.set(i,n),this.maybeSetNormalizedName(e,i)}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(t=>e(this.normalizedNames.get(t),this.headers.get(t)))}};var rh=class{encodeKey(e){return u7(e)}encodeValue(e){return u7(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}};function _W(r,e){let t=new Map;return r.length>0&&r.replace(/^\?/,"").split("&").forEach(i=>{let a=i.indexOf("="),[o,s]=a==-1?[e.decodeKey(i),""]:[e.decodeKey(i.slice(0,a)),e.decodeValue(i.slice(a+1))],l=t.get(o)||[];l.push(s),t.set(o,l)}),t}var SW=/%(\d[a-f0-9])/gi,DW={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function u7(r){return encodeURIComponent(r).replace(SW,(e,t)=>{var n;return(n=DW[t])!=null?n:e})}function th(r){return`${r}`}var zo=class r{constructor(e={}){g(this,"map");g(this,"encoder");g(this,"updates",null);g(this,"cloneFrom",null);if(this.encoder=e.encoder||new rh,e.fromString){if(e.fromObject)throw new Zt(2805,!1);this.map=_W(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(t=>{let n=e.fromObject[t],i=Array.isArray(n)?n.map(th):[th(n)];this.map.set(t,i)})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();let t=this.map.get(e);return t?t[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,t){return this.clone({param:e,value:t,op:"a"})}appendAll(e){let t=[];return Object.keys(e).forEach(n=>{let i=e[n];Array.isArray(i)?i.forEach(a=>{t.push({param:n,value:a,op:"a"})}):t.push({param:n,value:i,op:"a"})}),this.clone(t)}set(e,t){return this.clone({param:e,value:t,op:"s"})}delete(e,t){return this.clone({param:e,value:t,op:"d"})}toString(){return this.init(),this.keys().map(e=>{let t=this.encoder.encodeKey(e);return this.map.get(e).map(n=>t+"="+this.encoder.encodeValue(n)).join("&")}).filter(e=>e!=="").join("&")}clone(e){let t=new r({encoder:this.encoder});return t.cloneFrom=this.cloneFrom||this,t.updates=(this.updates||[]).concat(e),t}init(){this.map===null&&(this.map=new Map),this.cloneFrom!==null&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":let t=(e.op==="a"?this.map.get(e.param):void 0)||[];t.push(th(e.value)),this.map.set(e.param,t);break;case"d":if(e.value!==void 0){let n=this.map.get(e.param)||[],i=n.indexOf(th(e.value));i!==-1&&n.splice(i,1),n.length>0?this.map.set(e.param,n):this.map.delete(e.param)}else{this.map.delete(e.param);break}}}),this.cloneFrom=this.updates=null)}};var nh=class{constructor(){g(this,"map",new Map)}set(e,t){return this.map.set(e,t),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}};function CW(r){switch(r){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}function c7(r){return typeof ArrayBuffer<"u"&&r instanceof ArrayBuffer}function d7(r){return typeof Blob<"u"&&r instanceof Blob}function f7(r){return typeof FormData<"u"&&r instanceof FormData}function EW(r){return typeof URLSearchParams<"u"&&r instanceof URLSearchParams}var m7="Content-Type",h7="Accept",p7="X-Request-URL",g7="text/plain",v7="application/json",AW=`${v7}, ${g7}, */*`,Lu=class r{constructor(e,t,n,i){g(this,"url");g(this,"body",null);g(this,"headers");g(this,"context");g(this,"reportProgress",!1);g(this,"withCredentials",!1);g(this,"responseType","json");g(this,"method");g(this,"params");g(this,"urlWithParams");g(this,"transferCache");var o,s;this.url=t,this.method=e.toUpperCase();let a;if(CW(this.method)||i?(this.body=n!==void 0?n:null,a=i):a=n,a&&(this.reportProgress=!!a.reportProgress,this.withCredentials=!!a.withCredentials,a.responseType&&(this.responseType=a.responseType),a.headers&&(this.headers=a.headers),a.context&&(this.context=a.context),a.params&&(this.params=a.params),this.transferCache=a.transferCache),(o=this.headers)!=null||(this.headers=new Es),(s=this.context)!=null||(this.context=new nh),!this.params)this.params=new zo,this.urlWithParams=t;else{let l=this.params.toString();if(l.length===0)this.urlWithParams=t;else{let u=t.indexOf("?"),c=u===-1?"?":u<t.length-1?"&":"";this.urlWithParams=t+c+l}}}serializeBody(){return this.body===null?null:typeof this.body=="string"||c7(this.body)||d7(this.body)||f7(this.body)||EW(this.body)?this.body:this.body instanceof zo?this.body.toString():typeof this.body=="object"||typeof this.body=="boolean"||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return this.body===null||f7(this.body)?null:d7(this.body)?this.body.type||null:c7(this.body)?null:typeof this.body=="string"?g7:this.body instanceof zo?"application/x-www-form-urlencoded;charset=UTF-8":typeof this.body=="object"||typeof this.body=="number"||typeof this.body=="boolean"?v7:null}clone(e={}){var f,m,p,h;let t=e.method||this.method,n=e.url||this.url,i=e.responseType||this.responseType,a=(f=e.transferCache)!=null?f:this.transferCache,o=e.body!==void 0?e.body:this.body,s=(m=e.withCredentials)!=null?m:this.withCredentials,l=(p=e.reportProgress)!=null?p:this.reportProgress,u=e.headers||this.headers,c=e.params||this.params,d=(h=e.context)!=null?h:this.context;return e.setHeaders!==void 0&&(u=Object.keys(e.setHeaders).reduce((v,y)=>v.set(y,e.setHeaders[y]),u)),e.setParams&&(c=Object.keys(e.setParams).reduce((v,y)=>v.set(y,e.setParams[y]),c)),new r(t,n,o,{params:c,headers:u,context:d,reportProgress:l,responseType:i,withCredentials:s,transferCache:a})}},kl=function(r){return r[r.Sent=0]="Sent",r[r.UploadProgress=1]="UploadProgress",r[r.ResponseHeader=2]="ResponseHeader",r[r.DownloadProgress=3]="DownloadProgress",r[r.Response=4]="Response",r[r.User=5]="User",r}(kl||{}),Vu=class{constructor(e,t=200,n="OK"){g(this,"headers");g(this,"status");g(this,"statusText");g(this,"url");g(this,"ok");g(this,"type");this.headers=e.headers||new Es,this.status=e.status!==void 0?e.status:t,this.statusText=e.statusText||n,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}},ih=class r extends Vu{constructor(t={}){super(t);g(this,"type",kl.ResponseHeader)}clone(t={}){return new r({headers:t.headers||this.headers,status:t.status!==void 0?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}},vf=class r extends Vu{constructor(t={}){super(t);g(this,"body");g(this,"type",kl.Response);this.body=t.body!==void 0?t.body:null}clone(t={}){return new r({body:t.body!==void 0?t.body:this.body,headers:t.headers||this.headers,status:t.status!==void 0?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}},xf=class extends Vu{constructor(t){super(t,0,"Unknown Error");g(this,"name","HttpErrorResponse");g(this,"message");g(this,"error");g(this,"ok",!1);this.status>=200&&this.status<300?this.message=`Http failure during parsing for ${t.url||"(unknown url)"}`:this.message=`Http failure response for ${t.url||"(unknown url)"}: ${t.status} ${t.statusText}`,this.error=t.error||null}},MW=200,NW=204;function ox(r,e){return{body:e,headers:r.headers,context:r.context,observe:r.observe,params:r.params,reportProgress:r.reportProgress,responseType:r.responseType,withCredentials:r.withCredentials,transferCache:r.transferCache}}var oa=(()=>{let e=class e{constructor(n){g(this,"handler");this.handler=n}request(n,i,a={}){let o;if(n instanceof Lu)o=n;else{let u;a.headers instanceof Es?u=a.headers:u=new Es(a.headers);let c;a.params&&(a.params instanceof zo?c=a.params:c=new zo({fromObject:a.params})),o=new Lu(n,i,a.body!==void 0?a.body:null,{headers:u,context:a.context,params:c,reportProgress:a.reportProgress,responseType:a.responseType||"json",withCredentials:a.withCredentials,transferCache:a.transferCache})}let s=At(o).pipe(Al(u=>this.handler.handle(u)));if(n instanceof Lu||a.observe==="events")return s;let l=s.pipe(Ka(u=>u instanceof vf));switch(a.observe||"body"){case"body":switch(o.responseType){case"arraybuffer":return l.pipe(Ht(u=>{if(u.body!==null&&!(u.body instanceof ArrayBuffer))throw new Zt(2806,!1);return u.body}));case"blob":return l.pipe(Ht(u=>{if(u.body!==null&&!(u.body instanceof Blob))throw new Zt(2807,!1);return u.body}));case"text":return l.pipe(Ht(u=>{if(u.body!==null&&typeof u.body!="string")throw new Zt(2808,!1);return u.body}));case"json":default:return l.pipe(Ht(u=>u.body))}case"response":return l;default:throw new Zt(2809,!1)}}delete(n,i={}){return this.request("DELETE",n,i)}get(n,i={}){return this.request("GET",n,i)}head(n,i={}){return this.request("HEAD",n,i)}jsonp(n,i){return this.request("JSONP",n,{params:new zo().append(i,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(n,i={}){return this.request("OPTIONS",n,i)}patch(n,i,a={}){return this.request("PATCH",n,ox(a,i))}post(n,i,a={}){return this.request("POST",n,ox(a,i))}put(n,i,a={}){return this.request("PUT",n,ox(a,i))}};g(e,"\u0275fac",function(i){return new(i||e)(at(zu))}),g(e,"\u0275prov",Ke({token:e,factory:e.\u0275fac}));let r=e;return r})();var TW=new ht("");function FW(r,e){return e(r)}function IW(r,e,t){return(n,i)=>ra(t,()=>e(n,a=>r(a,i)))}var lx=new ht(""),x7=new ht(""),y7=new ht("",{providedIn:"root",factory:()=>!0});var ah=(()=>{let e=class e extends zu{constructor(i,a){super();g(this,"backend");g(this,"injector");g(this,"chain",null);g(this,"pendingTasks",Me(zm));g(this,"contributeToStability",Me(y7));this.backend=i,this.injector=a}handle(i){if(this.chain===null){let a=Array.from(new Set([...this.injector.get(lx),...this.injector.get(x7,[])]));this.chain=a.reduceRight((o,s)=>IW(o,s,this.injector),FW)}if(this.contributeToStability){let a=this.pendingTasks.add();return this.chain(i,o=>this.backend.handle(o)).pipe(xs(()=>this.pendingTasks.remove(a)))}else return this.chain(i,a=>this.backend.handle(a))}};g(e,"\u0275fac",function(a){return new(a||e)(at(gf),at(ws))}),g(e,"\u0275prov",Ke({token:e,factory:e.\u0275fac}));let r=e;return r})();var OW=/^\)\]\}',?\n/,RW=RegExp(`^${p7}:`,"m");function kW(r){return"responseURL"in r&&r.responseURL?r.responseURL:RW.test(r.getAllResponseHeaders())?r.getResponseHeader(p7):null}var sx=(()=>{let e=class e{constructor(n){g(this,"xhrFactory");this.xhrFactory=n}handle(n){if(n.method==="JSONP")throw new Zt(-2800,!1);let i=this.xhrFactory;return(i.\u0275loadImpl?wn(i.\u0275loadImpl()):At(null)).pipe(mn(()=>new Oo(o=>{let s=i.build();if(s.open(n.method,n.urlWithParams),n.withCredentials&&(s.withCredentials=!0),n.headers.forEach((v,y)=>s.setRequestHeader(v,y.join(","))),n.headers.has(h7)||s.setRequestHeader(h7,AW),!n.headers.has(m7)){let v=n.detectContentTypeHeader();v!==null&&s.setRequestHeader(m7,v)}if(n.responseType){let v=n.responseType.toLowerCase();s.responseType=v!=="json"?v:"text"}let l=n.serializeBody(),u=null,c=()=>{if(u!==null)return u;let v=s.statusText||"OK",y=new Es(s.getAllResponseHeaders()),S=kW(s)||n.url;return u=new ih({headers:y,status:s.status,statusText:v,url:S}),u},d=()=>{let{headers:v,status:y,statusText:S,url:x}=c(),_=null;y!==NW&&(_=typeof s.response>"u"?s.responseText:s.response),y===0&&(y=_?MW:0);let w=y>=200&&y<300;if(n.responseType==="json"&&typeof _=="string"){let b=_;_=_.replace(OW,"");try{_=_!==""?JSON.parse(_):null}catch(C){_=b,w&&(w=!1,_={error:C,text:_})}}w?(o.next(new vf({body:_,headers:v,status:y,statusText:S,url:x||void 0})),o.complete()):o.error(new xf({error:_,headers:v,status:y,statusText:S,url:x||void 0}))},f=v=>{let{url:y}=c(),S=new xf({error:v,status:s.status||0,statusText:s.statusText||"Unknown Error",url:y||void 0});o.error(S)},m=!1,p=v=>{m||(o.next(c()),m=!0);let y={type:kl.DownloadProgress,loaded:v.loaded};v.lengthComputable&&(y.total=v.total),n.responseType==="text"&&s.responseText&&(y.partialText=s.responseText),o.next(y)},h=v=>{let y={type:kl.UploadProgress,loaded:v.loaded};v.lengthComputable&&(y.total=v.total),o.next(y)};return s.addEventListener("load",d),s.addEventListener("error",f),s.addEventListener("timeout",f),s.addEventListener("abort",f),n.reportProgress&&(s.addEventListener("progress",p),l!==null&&s.upload&&s.upload.addEventListener("progress",h)),s.send(l),o.next({type:kl.Sent}),()=>{s.removeEventListener("error",f),s.removeEventListener("abort",f),s.removeEventListener("load",d),s.removeEventListener("timeout",f),n.reportProgress&&(s.removeEventListener("progress",p),l!==null&&s.upload&&s.upload.removeEventListener("progress",h)),s.readyState!==s.DONE&&s.abort()}})))}};g(e,"\u0275fac",function(i){return new(i||e)(at(Rl))}),g(e,"\u0275prov",Ke({token:e,factory:e.\u0275fac}));let r=e;return r})(),b7=new ht(""),PW="XSRF-TOKEN",BW=new ht("",{providedIn:"root",factory:()=>PW}),LW="X-XSRF-TOKEN",zW=new ht("",{providedIn:"root",factory:()=>LW}),yf=class{},VW=(()=>{let e=class e{constructor(n,i,a){g(this,"doc");g(this,"platform");g(this,"cookieName");g(this,"lastCookieString","");g(this,"lastToken",null);g(this,"parseCount",0);this.doc=n,this.platform=i,this.cookieName=a}getToken(){if(this.platform==="server")return null;let n=this.doc.cookie||"";return n!==this.lastCookieString&&(this.parseCount++,this.lastToken=cf(n,this.cookieName),this.lastCookieString=n),this.lastToken}};g(e,"\u0275fac",function(i){return new(i||e)(at(Dr),at(Ro),at(BW))}),g(e,"\u0275prov",Ke({token:e,factory:e.\u0275fac}));let r=e;return r})();function UW(r,e){let t=r.url.toLowerCase();if(!Me(b7)||r.method==="GET"||r.method==="HEAD"||t.startsWith("http://")||t.startsWith("https://"))return e(r);let n=Me(yf).getToken(),i=Me(zW);return n!=null&&!r.headers.has(i)&&(r=r.clone({headers:r.headers.set(i,n)})),e(r)}var ux=function(r){return r[r.Interceptors=0]="Interceptors",r[r.LegacyInterceptors=1]="LegacyInterceptors",r[r.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",r[r.NoXsrfProtection=3]="NoXsrfProtection",r[r.JsonpSupport=4]="JsonpSupport",r[r.RequestsMadeViaParent=5]="RequestsMadeViaParent",r[r.Fetch=6]="Fetch",r}(ux||{});function qW(r,e){return{\u0275kind:r,\u0275providers:e}}function Uu(...r){let e=[oa,sx,ah,{provide:zu,useExisting:ah},{provide:gf,useFactory:()=>{var t;return(t=Me(TW,{optional:!0}))!=null?t:Me(sx)}},{provide:lx,useValue:UW,multi:!0},{provide:b7,useValue:!0},{provide:yf,useClass:VW}];for(let t of r)e.push(...t.\u0275providers);return bi(e)}function oh(r){return qW(ux.Interceptors,r.map(e=>({provide:lx,useValue:e,multi:!0})))}var w7=(()=>{let e=class e{constructor(n){g(this,"_doc");this._doc=n}getTitle(){return this._doc.title}setTitle(n){this._doc.title=n||""}};g(e,"\u0275fac",function(i){return new(i||e)(at(Dr))}),g(e,"\u0275prov",Ke({token:e,factory:e.\u0275fac,providedIn:"root"}));let r=e;return r})();var Pl=(()=>{let e=class e{};g(e,"\u0275fac",function(i){return new(i||e)}),g(e,"\u0275prov",Ke({token:e,factory:function(i){let a=null;return i?a=new(i||e):a=at(WW),a},providedIn:"root"}));let r=e;return r})(),WW=(()=>{let e=class e extends Pl{constructor(i){super();g(this,"_doc");this._doc=i}sanitize(i,a){if(a==null)return null;switch(i){case Nl.NONE:return a;case Nl.HTML:return ku(a,"HTML")?Ru(a):z6(this._doc,String(a)).toString();case Nl.STYLE:return ku(a,"Style")?Ru(a):a;case Nl.SCRIPT:if(ku(a,"Script"))return Ru(a);throw new Zt(5200,!1);case Nl.URL:return ku(a,"URL")?Ru(a):L6(String(a));case Nl.RESOURCE_URL:if(ku(a,"ResourceURL"))return Ru(a);throw new Zt(5201,!1);default:throw new Zt(5202,!1)}}bypassSecurityTrustHtml(i){return O6(i)}bypassSecurityTrustStyle(i){return R6(i)}bypassSecurityTrustScript(i){return k6(i)}bypassSecurityTrustUrl(i){return P6(i)}bypassSecurityTrustResourceUrl(i){return B6(i)}};g(e,"\u0275fac",function(a){return new(a||e)(at(Dr))}),g(e,"\u0275prov",Ke({token:e,factory:e.\u0275fac,providedIn:"root"}));let r=e;return r})();var jt="primary",Of=Symbol("RouteTitle"),hx=class{constructor(e){g(this,"params");this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){let t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){let t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}};function zl(r){return new hx(r)}function N7(r,e,t){let n=t.path.split("/");if(n.length>r.length||t.pathMatch==="full"&&(e.hasChildren()||n.length<r.length))return null;let i={};for(let a=0;a<n.length;a++){let o=n[a],s=r[a];if(o[0]===":")i[o.substring(1)]=s;else if(o!==s.path)return null}return{consumed:r.slice(0,n.length),posParams:i}}function GW(r,e){if(r.length!==e.length)return!1;for(let t=0;t<r.length;++t)if(!ao(r[t],e[t]))return!1;return!0}function ao(r,e){let t=r?px(r):void 0,n=e?px(e):void 0;if(!t||!n||t.length!=n.length)return!1;let i;for(let a=0;a<t.length;a++)if(i=t[a],!T7(r[i],e[i]))return!1;return!0}function px(r){return[...Object.keys(r),...Object.getOwnPropertySymbols(r)]}function T7(r,e){if(Array.isArray(r)&&Array.isArray(e)){if(r.length!==e.length)return!1;let t=[...r].sort(),n=[...e].sort();return t.every((i,a)=>n[a]===i)}else return r===e}function F7(r){return r.length>0?r[r.length-1]:null}function Ms(r){return N1(r)?r:Um(r)?wn(Promise.resolve(r)):At(r)}var YW={exact:O7,subset:R7},I7={exact:ZW,subset:XW,ignored:()=>!0};function _7(r,e,t){return YW[t.paths](r.root,e.root,t.matrixParams)&&I7[t.queryParams](r.queryParams,e.queryParams)&&!(t.fragment==="exact"&&r.fragment!==e.fragment)}function ZW(r,e){return ao(r,e)}function O7(r,e,t){if(!Bl(r.segments,e.segments)||!dh(r.segments,e.segments,t)||r.numberOfChildren!==e.numberOfChildren)return!1;for(let n in e.children)if(!r.children[n]||!O7(r.children[n],e.children[n],t))return!1;return!0}function XW(r,e){return Object.keys(e).length<=Object.keys(r).length&&Object.keys(e).every(t=>T7(r[t],e[t]))}function R7(r,e,t){return k7(r,e,e.segments,t)}function k7(r,e,t,n){if(r.segments.length>t.length){let i=r.segments.slice(0,t.length);return!(!Bl(i,t)||e.hasChildren()||!dh(i,t,n))}else if(r.segments.length===t.length){if(!Bl(r.segments,t)||!dh(r.segments,t,n))return!1;for(let i in e.children)if(!r.children[i]||!R7(r.children[i],e.children[i],n))return!1;return!0}else{let i=t.slice(0,r.segments.length),a=t.slice(r.segments.length);return!Bl(r.segments,i)||!dh(r.segments,i,n)||!r.children[jt]?!1:k7(r.children[jt],e,a,n)}}function dh(r,e,t){return e.every((n,i)=>I7[t](r[i].parameters,n.parameters))}var so=class{constructor(e=new hr([],{}),t={},n=null){g(this,"root");g(this,"queryParams");g(this,"fragment");g(this,"_queryParamMap");this.root=e,this.queryParams=t,this.fragment=n}get queryParamMap(){var e;return(e=this._queryParamMap)!=null||(this._queryParamMap=zl(this.queryParams)),this._queryParamMap}toString(){return QW.serialize(this)}},hr=class{constructor(e,t){g(this,"segments");g(this,"children");g(this,"parent",null);this.segments=e,this.children=t,Object.values(t).forEach(n=>n.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return fh(this)}},As=class{constructor(e,t){g(this,"path");g(this,"parameters");g(this,"_parameterMap");this.path=e,this.parameters=t}get parameterMap(){var e;return(e=this._parameterMap)!=null||(this._parameterMap=zl(this.parameters)),this._parameterMap}toString(){return B7(this)}};function KW(r,e){return Bl(r,e)&&r.every((t,n)=>ao(t.parameters,e[n].parameters))}function Bl(r,e){return r.length!==e.length?!1:r.every((t,n)=>t.path===e[n].path)}function JW(r,e){let t=[];return Object.entries(r.children).forEach(([n,i])=>{n===jt&&(t=t.concat(e(i,n)))}),Object.entries(r.children).forEach(([n,i])=>{n!==jt&&(t=t.concat(e(i,n)))}),t}var Rf=(()=>{let e=class e{};g(e,"\u0275fac",function(i){return new(i||e)}),g(e,"\u0275prov",Ke({token:e,factory:()=>new Vl,providedIn:"root"}));let r=e;return r})(),Vl=class{parse(e){let t=new vx(e);return new so(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){let t=`/${bf(e.root,!0)}`,n=rG(e.queryParams),i=typeof e.fragment=="string"?`#${eG(e.fragment)}`:"";return`${t}${n}${i}`}},QW=new Vl;function fh(r){return r.segments.map(e=>B7(e)).join("/")}function bf(r,e){if(!r.hasChildren())return fh(r);if(e){let t=r.children[jt]?bf(r.children[jt],!1):"",n=[];return Object.entries(r.children).forEach(([i,a])=>{i!==jt&&n.push(`${i}:${bf(a,!1)}`)}),n.length>0?`${t}(${n.join("//")})`:t}else{let t=JW(r,(n,i)=>i===jt?[bf(r.children[jt],!1)]:[`${i}:${bf(n,!1)}`]);return Object.keys(r.children).length===1&&r.children[jt]!=null?`${fh(r)}/${t[0]}`:`${fh(r)}/(${t.join("//")})`}}function P7(r){return encodeURIComponent(r).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function uh(r){return P7(r).replace(/%3B/gi,";")}function eG(r){return encodeURI(r)}function gx(r){return P7(r).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function mh(r){return decodeURIComponent(r)}function S7(r){return mh(r.replace(/\+/g,"%20"))}function B7(r){return`${gx(r.path)}${tG(r.parameters)}`}function tG(r){return Object.entries(r).map(([e,t])=>`;${gx(e)}=${gx(t)}`).join("")}function rG(r){let e=Object.entries(r).map(([t,n])=>Array.isArray(n)?n.map(i=>`${uh(t)}=${uh(i)}`).join("&"):`${uh(t)}=${uh(n)}`).filter(t=>t);return e.length?`?${e.join("&")}`:""}var nG=/^[^\/()?;#]+/;function cx(r){let e=r.match(nG);return e?e[0]:""}var iG=/^[^\/()?;=#]+/;function aG(r){let e=r.match(iG);return e?e[0]:""}var oG=/^[^=?&#]+/;function sG(r){let e=r.match(oG);return e?e[0]:""}var lG=/^[^&#]+/;function uG(r){let e=r.match(lG);return e?e[0]:""}var vx=class{constructor(e){g(this,"url");g(this,"remaining");this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new hr([],{}):new hr([],this.parseChildren())}parseQueryParams(){let e={};if(this.consumeOptional("?"))do this.parseQueryParam(e);while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let n={};return this.peekStartsWith("(")&&(n=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(n[jt]=new hr(e,t)),n}parseSegment(){let e=cx(this.remaining);if(e===""&&this.peekStartsWith(";"))throw new Zt(4009,!1);return this.capture(e),new As(mh(e),this.parseMatrixParams())}parseMatrixParams(){let e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){let t=aG(this.remaining);if(!t)return;this.capture(t);let n="";if(this.consumeOptional("=")){let i=cx(this.remaining);i&&(n=i,this.capture(n))}e[mh(t)]=mh(n)}parseQueryParam(e){let t=sG(this.remaining);if(!t)return;this.capture(t);let n="";if(this.consumeOptional("=")){let o=uG(this.remaining);o&&(n=o,this.capture(n))}let i=S7(t),a=S7(n);if(e.hasOwnProperty(i)){let o=e[i];Array.isArray(o)||(o=[o],e[i]=o),o.push(a)}else e[i]=a}parseParens(e){let t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let n=cx(this.remaining),i=this.remaining[n.length];if(i!=="/"&&i!==")"&&i!==";")throw new Zt(4010,!1);let a;n.indexOf(":")>-1?(a=n.slice(0,n.indexOf(":")),this.capture(a),this.capture(":")):e&&(a=jt);let o=this.parseChildren();t[a]=Object.keys(o).length===1?o[jt]:new hr([],o),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return this.peekStartsWith(e)?(this.remaining=this.remaining.substring(e.length),!0):!1}capture(e){if(!this.consumeOptional(e))throw new Zt(4011,!1)}};function L7(r){return r.segments.length>0?new hr([],{[jt]:r}):r}function z7(r){let e={};for(let[n,i]of Object.entries(r.children)){let a=z7(i);if(n===jt&&a.segments.length===0&&a.hasChildren())for(let[o,s]of Object.entries(a.children))e[o]=s;else(a.segments.length>0||a.hasChildren())&&(e[n]=a)}let t=new hr(r.segments,e);return cG(t)}function cG(r){if(r.numberOfChildren===1&&r.children[jt]){let e=r.children[jt];return new hr(r.segments.concat(e.segments),e.children)}return r}function Wu(r){return r instanceof so}function V7(r,e,t=null,n=null){let i=U7(r);return q7(i,e,t,n)}function U7(r){let e;function t(a){let o={};for(let l of a.children){let u=t(l);o[l.outlet]=u}let s=new hr(a.url,o);return a===r&&(e=s),s}let n=t(r.root),i=L7(n);return e!=null?e:i}function q7(r,e,t,n){let i=r;for(;i.parent;)i=i.parent;if(e.length===0)return dx(i,i,i,t,n);let a=dG(e);if(a.toRoot())return dx(i,i,new hr([],{}),t,n);let o=fG(a,i,r),s=o.processChildren?_f(o.segmentGroup,o.index,a.commands):$7(o.segmentGroup,o.index,a.commands);return dx(i,o.segmentGroup,s,t,n)}function ph(r){return typeof r=="object"&&r!=null&&!r.outlets&&!r.segmentPath}function Df(r){return typeof r=="object"&&r!=null&&r.outlets}function dx(r,e,t,n,i){let a={};n&&Object.entries(n).forEach(([l,u])=>{a[l]=Array.isArray(u)?u.map(c=>`${c}`):`${u}`});let o;r===e?o=t:o=j7(r,e,t);let s=L7(z7(o));return new so(s,a,i)}function j7(r,e,t){let n={};return Object.entries(r.children).forEach(([i,a])=>{a===e?n[i]=t:n[i]=j7(a,e,t)}),new hr(r.segments,n)}var gh=class{constructor(e,t,n){g(this,"isAbsolute");g(this,"numberOfDoubleDots");g(this,"commands");if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=n,e&&n.length>0&&ph(n[0]))throw new Zt(4003,!1);let i=n.find(Df);if(i&&i!==F7(n))throw new Zt(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function dG(r){if(typeof r[0]=="string"&&r.length===1&&r[0]==="/")return new gh(!0,0,r);let e=0,t=!1,n=r.reduce((i,a,o)=>{if(typeof a=="object"&&a!=null){if(a.outlets){let s={};return Object.entries(a.outlets).forEach(([l,u])=>{s[l]=typeof u=="string"?u.split("/"):u}),[...i,{outlets:s}]}if(a.segmentPath)return[...i,a.segmentPath]}return typeof a!="string"?[...i,a]:o===0?(a.split("/").forEach((s,l)=>{l==0&&s==="."||(l==0&&s===""?t=!0:s===".."?e++:s!=""&&i.push(s))}),i):[...i,a]},[]);return new gh(t,e,n)}var $u=class{constructor(e,t,n){g(this,"segmentGroup");g(this,"processChildren");g(this,"index");this.segmentGroup=e,this.processChildren=t,this.index=n}};function fG(r,e,t){if(r.isAbsolute)return new $u(e,!0,0);if(!t)return new $u(e,!1,NaN);if(t.parent===null)return new $u(t,!0,0);let n=ph(r.commands[0])?0:1,i=t.segments.length-1+n;return mG(t,i,r.numberOfDoubleDots)}function mG(r,e,t){let n=r,i=e,a=t;for(;a>i;){if(a-=i,n=n.parent,!n)throw new Zt(4005,!1);i=n.segments.length}return new $u(n,!1,i-a)}function hG(r){return Df(r[0])?r[0].outlets:{[jt]:r}}function $7(r,e,t){if(r!=null||(r=new hr([],{})),r.segments.length===0&&r.hasChildren())return _f(r,e,t);let n=pG(r,e,t),i=t.slice(n.commandIndex);if(n.match&&n.pathIndex<r.segments.length){let a=new hr(r.segments.slice(0,n.pathIndex),{});return a.children[jt]=new hr(r.segments.slice(n.pathIndex),r.children),_f(a,0,i)}else return n.match&&i.length===0?new hr(r.segments,{}):n.match&&!r.hasChildren()?xx(r,e,t):n.match?_f(r,0,i):xx(r,e,t)}function _f(r,e,t){if(t.length===0)return new hr(r.segments,{});{let n=hG(t),i={};if(Object.keys(n).some(a=>a!==jt)&&r.children[jt]&&r.numberOfChildren===1&&r.children[jt].segments.length===0){let a=_f(r.children[jt],e,t);return new hr(r.segments,a.children)}return Object.entries(n).forEach(([a,o])=>{typeof o=="string"&&(o=[o]),o!==null&&(i[a]=$7(r.children[a],e,o))}),Object.entries(r.children).forEach(([a,o])=>{n[a]===void 0&&(i[a]=o)}),new hr(r.segments,i)}}function pG(r,e,t){let n=0,i=e,a={match:!1,pathIndex:0,commandIndex:0};for(;i<r.segments.length;){if(n>=t.length)return a;let o=r.segments[i],s=t[n];if(Df(s))break;let l=`${s}`,u=n<t.length-1?t[n+1]:null;if(i>0&&l===void 0)break;if(l&&u&&typeof u=="object"&&u.outlets===void 0){if(!C7(l,u,o))return a;n+=2}else{if(!C7(l,{},o))return a;n++}i++}return{match:!0,pathIndex:i,commandIndex:n}}function xx(r,e,t){let n=r.segments.slice(0,e),i=0;for(;i<t.length;){let a=t[i];if(Df(a)){let l=gG(a.outlets);return new hr(n,l)}if(i===0&&ph(t[0])){let l=r.segments[e];n.push(new As(l.path,D7(t[0]))),i++;continue}let o=Df(a)?a.outlets[jt]:`${a}`,s=i<t.length-1?t[i+1]:null;o&&s&&ph(s)?(n.push(new As(o,D7(s))),i+=2):(n.push(new As(o,{})),i++)}return new hr(n,{})}function gG(r){let e={};return Object.entries(r).forEach(([t,n])=>{typeof n=="string"&&(n=[n]),n!==null&&(e[t]=xx(new hr([],{}),0,n))}),e}function D7(r){let e={};return Object.entries(r).forEach(([t,n])=>e[t]=`${n}`),e}function C7(r,e,t){return r==t.path&&ao(e,t.parameters)}var hh="imperative",On=function(r){return r[r.NavigationStart=0]="NavigationStart",r[r.NavigationEnd=1]="NavigationEnd",r[r.NavigationCancel=2]="NavigationCancel",r[r.NavigationError=3]="NavigationError",r[r.RoutesRecognized=4]="RoutesRecognized",r[r.ResolveStart=5]="ResolveStart",r[r.ResolveEnd=6]="ResolveEnd",r[r.GuardsCheckStart=7]="GuardsCheckStart",r[r.GuardsCheckEnd=8]="GuardsCheckEnd",r[r.RouteConfigLoadStart=9]="RouteConfigLoadStart",r[r.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",r[r.ChildActivationStart=11]="ChildActivationStart",r[r.ChildActivationEnd=12]="ChildActivationEnd",r[r.ActivationStart=13]="ActivationStart",r[r.ActivationEnd=14]="ActivationEnd",r[r.Scroll=15]="Scroll",r[r.NavigationSkipped=16]="NavigationSkipped",r}(On||{}),ji=class{constructor(e,t){g(this,"id");g(this,"url");this.id=e,this.url=t}},Ul=class extends ji{constructor(t,n,i="imperative",a=null){super(t,n);g(this,"type",On.NavigationStart);g(this,"navigationTrigger");g(this,"restoredState");this.navigationTrigger=i,this.restoredState=a}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},Vo=class extends ji{constructor(t,n,i){super(t,n);g(this,"urlAfterRedirects");g(this,"type",On.NavigationEnd);this.urlAfterRedirects=i}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},Si=function(r){return r[r.Redirect=0]="Redirect",r[r.SupersededByNewNavigation=1]="SupersededByNewNavigation",r[r.NoDataFromResolver=2]="NoDataFromResolver",r[r.GuardRejected=3]="GuardRejected",r}(Si||{}),Cf=function(r){return r[r.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",r[r.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",r}(Cf||{}),oo=class extends ji{constructor(t,n,i,a){super(t,n);g(this,"reason");g(this,"code");g(this,"type",On.NavigationCancel);this.reason=i,this.code=a}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},Uo=class extends ji{constructor(t,n,i,a){super(t,n);g(this,"reason");g(this,"code");g(this,"type",On.NavigationSkipped);this.reason=i,this.code=a}},Gu=class extends ji{constructor(t,n,i,a){super(t,n);g(this,"error");g(this,"target");g(this,"type",On.NavigationError);this.error=i,this.target=a}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},Ef=class extends ji{constructor(t,n,i,a){super(t,n);g(this,"urlAfterRedirects");g(this,"state");g(this,"type",On.RoutesRecognized);this.urlAfterRedirects=i,this.state=a}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},vh=class extends ji{constructor(t,n,i,a){super(t,n);g(this,"urlAfterRedirects");g(this,"state");g(this,"type",On.GuardsCheckStart);this.urlAfterRedirects=i,this.state=a}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},xh=class extends ji{constructor(t,n,i,a,o){super(t,n);g(this,"urlAfterRedirects");g(this,"state");g(this,"shouldActivate");g(this,"type",On.GuardsCheckEnd);this.urlAfterRedirects=i,this.state=a,this.shouldActivate=o}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},yh=class extends ji{constructor(t,n,i,a){super(t,n);g(this,"urlAfterRedirects");g(this,"state");g(this,"type",On.ResolveStart);this.urlAfterRedirects=i,this.state=a}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},bh=class extends ji{constructor(t,n,i,a){super(t,n);g(this,"urlAfterRedirects");g(this,"state");g(this,"type",On.ResolveEnd);this.urlAfterRedirects=i,this.state=a}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},wh=class{constructor(e){g(this,"route");g(this,"type",On.RouteConfigLoadStart);this.route=e}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},_h=class{constructor(e){g(this,"route");g(this,"type",On.RouteConfigLoadEnd);this.route=e}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},Sh=class{constructor(e){g(this,"snapshot");g(this,"type",On.ChildActivationStart);this.snapshot=e}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Dh=class{constructor(e){g(this,"snapshot");g(this,"type",On.ChildActivationEnd);this.snapshot=e}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Ch=class{constructor(e){g(this,"snapshot");g(this,"type",On.ActivationStart);this.snapshot=e}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Eh=class{constructor(e){g(this,"snapshot");g(this,"type",On.ActivationEnd);this.snapshot=e}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}};var Af=class{},Yu=class{constructor(e,t){g(this,"url");g(this,"navigationBehaviorOptions");this.url=e,this.navigationBehaviorOptions=t}};function vG(r,e){var t;return r.providers&&!r._injector&&(r._injector=V1(r.providers,e,`Route: ${r.path}`)),(t=r._injector)!=null?t:e}function ka(r){return r.outlet||jt}function xG(r,e){let t=r.filter(n=>ka(n)===e);return t.push(...r.filter(n=>ka(n)!==e)),t}function kf(r){var e;if(!r)return null;if((e=r.routeConfig)!=null&&e._injector)return r.routeConfig._injector;for(let t=r.parent;t;t=t.parent){let n=t.routeConfig;if(n!=null&&n._loadedInjector)return n._loadedInjector;if(n!=null&&n._injector)return n._injector}return null}var Ah=class{constructor(e){g(this,"rootInjector");g(this,"outlet",null);g(this,"route",null);g(this,"children");g(this,"attachRef",null);this.rootInjector=e,this.children=new Ku(this.rootInjector)}get injector(){var e,t;return(t=kf((e=this.route)==null?void 0:e.snapshot))!=null?t:this.rootInjector}},Ku=(()=>{let e=class e{constructor(n){g(this,"rootInjector");g(this,"contexts",new Map);this.rootInjector=n}onChildOutletCreated(n,i){let a=this.getOrCreateContext(n);a.outlet=i,this.contexts.set(n,a)}onChildOutletDestroyed(n){let i=this.getContext(n);i&&(i.outlet=null,i.attachRef=null)}onOutletDeactivated(){let n=this.contexts;return this.contexts=new Map,n}onOutletReAttached(n){this.contexts=n}getOrCreateContext(n){let i=this.getContext(n);return i||(i=new Ah(this.rootInjector),this.contexts.set(n,i)),i}getContext(n){return this.contexts.get(n)||null}};g(e,"\u0275fac",function(i){return new(i||e)(at(ws))}),g(e,"\u0275prov",Ke({token:e,factory:e.\u0275fac,providedIn:"root"}));let r=e;return r})(),Mh=class{constructor(e){g(this,"_root");this._root=e}get root(){return this._root.value}parent(e){let t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){let t=yx(e,this._root);return t?t.children.map(n=>n.value):[]}firstChild(e){let t=yx(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){let t=bx(e,this._root);return t.length<2?[]:t[t.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return bx(e,this._root).map(t=>t.value)}};function yx(r,e){if(r===e.value)return e;for(let t of e.children){let n=yx(r,t);if(n)return n}return null}function bx(r,e){if(r===e.value)return[e];for(let t of e.children){let n=bx(r,t);if(n.length)return n.unshift(e),n}return[]}var qi=class{constructor(e,t){g(this,"value");g(this,"children");this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}};function ju(r){let e={};return r&&r.children.forEach(t=>e[t.value.outlet]=t),e}var Mf=class extends Mh{constructor(t,n){super(t);g(this,"snapshot");this.snapshot=n,Mx(this,t)}toString(){return this.snapshot.toString()}};function H7(r){let e=yG(r),t=new Yn([new As("",{})]),n=new Yn({}),i=new Yn({}),a=new Yn({}),o=new Yn(""),s=new sa(t,n,a,o,i,jt,r,e.root);return s.snapshot=e.root,new Mf(new qi(s,[]),e)}function yG(r){let e={},t={},n={},i="",a=new Ll([],e,n,i,t,jt,r,null,{});return new Nf("",new qi(a,[]))}var sa=class{constructor(e,t,n,i,a,o,s,l){g(this,"urlSubject");g(this,"paramsSubject");g(this,"queryParamsSubject");g(this,"fragmentSubject");g(this,"dataSubject");g(this,"outlet");g(this,"component");g(this,"snapshot");g(this,"_futureSnapshot");g(this,"_routerState");g(this,"_paramMap");g(this,"_queryParamMap");g(this,"title");g(this,"url");g(this,"params");g(this,"queryParams");g(this,"fragment");g(this,"data");var u,c;this.urlSubject=e,this.paramsSubject=t,this.queryParamsSubject=n,this.fragmentSubject=i,this.dataSubject=a,this.outlet=o,this.component=s,this._futureSnapshot=l,this.title=(c=(u=this.dataSubject)==null?void 0:u.pipe(Ht(d=>d[Of])))!=null?c:At(void 0),this.url=e,this.params=t,this.queryParams=n,this.fragment=i,this.data=a}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){var e;return(e=this._paramMap)!=null||(this._paramMap=this.params.pipe(Ht(t=>zl(t)))),this._paramMap}get queryParamMap(){var e;return(e=this._queryParamMap)!=null||(this._queryParamMap=this.queryParams.pipe(Ht(t=>zl(t)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function Nh(r,e,t="emptyOnly"){var a,o;let n,{routeConfig:i}=r;return e!==null&&(t==="always"||(i==null?void 0:i.path)===""||!e.component&&!((a=e.routeConfig)!=null&&a.loadComponent))?n={params:Ge(Ge({},e.params),r.params),data:Ge(Ge({},e.data),r.data),resolve:Ge(Ge(Ge(Ge({},r.data),e.data),i==null?void 0:i.data),r._resolvedData)}:n={params:Ge({},r.params),data:Ge({},r.data),resolve:Ge(Ge({},r.data),(o=r._resolvedData)!=null?o:{})},i&&G7(i)&&(n.resolve[Of]=i.title),n}var Ll=class{constructor(e,t,n,i,a,o,s,l,u){g(this,"url");g(this,"params");g(this,"queryParams");g(this,"fragment");g(this,"data");g(this,"outlet");g(this,"component");g(this,"routeConfig");g(this,"_resolve");g(this,"_resolvedData");g(this,"_routerState");g(this,"_paramMap");g(this,"_queryParamMap");this.url=e,this.params=t,this.queryParams=n,this.fragment=i,this.data=a,this.outlet=o,this.component=s,this.routeConfig=l,this._resolve=u}get title(){var e;return(e=this.data)==null?void 0:e[Of]}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){var e;return(e=this._paramMap)!=null||(this._paramMap=zl(this.params)),this._paramMap}get queryParamMap(){var e;return(e=this._queryParamMap)!=null||(this._queryParamMap=zl(this.queryParams)),this._queryParamMap}toString(){let e=this.url.map(n=>n.toString()).join("/"),t=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${e}', path:'${t}')`}},Nf=class extends Mh{constructor(t,n){super(n);g(this,"url");this.url=t,Mx(this,n)}toString(){return W7(this._root)}};function Mx(r,e){e.value._routerState=r,e.children.forEach(t=>Mx(r,t))}function W7(r){let e=r.children.length>0?` { ${r.children.map(W7).join(", ")} } `:"";return`${r.value}${e}`}function fx(r){if(r.snapshot){let e=r.snapshot,t=r._futureSnapshot;r.snapshot=t,ao(e.queryParams,t.queryParams)||r.queryParamsSubject.next(t.queryParams),e.fragment!==t.fragment&&r.fragmentSubject.next(t.fragment),ao(e.params,t.params)||r.paramsSubject.next(t.params),GW(e.url,t.url)||r.urlSubject.next(t.url),ao(e.data,t.data)||r.dataSubject.next(t.data)}else r.snapshot=r._futureSnapshot,r.dataSubject.next(r._futureSnapshot.data)}function wx(r,e){let t=ao(r.params,e.params)&&KW(r.url,e.url),n=!r.parent!=!e.parent;return t&&!n&&(!r.parent||wx(r.parent,e.parent))}function G7(r){return typeof r.title=="string"||r.title===null}var Y7=new ht(""),Pf=(()=>{let e=class e{constructor(){g(this,"activated",null);g(this,"_activatedRoute",null);g(this,"name",jt);g(this,"activateEvents",new or);g(this,"deactivateEvents",new or);g(this,"attachEvents",new or);g(this,"detachEvents",new or);g(this,"routerOutletData",M6(void 0));g(this,"parentContexts",Me(Ku));g(this,"location",Me(ko));g(this,"changeDetector",Me(ia));g(this,"inputBinder",Me(Oh,{optional:!0}));g(this,"supportsBindingToComponentInputs",!0)}get activatedComponentRef(){return this.activated}ngOnChanges(n){if(n.name){let{firstChange:i,previousValue:a}=n.name;if(i)return;this.isTrackedInParentContexts(a)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(a)),this.initializeOutletWithName()}}ngOnDestroy(){var n;this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),(n=this.inputBinder)==null||n.unsubscribeFromRouteData(this)}isTrackedInParentContexts(n){var i;return((i=this.parentContexts.getContext(n))==null?void 0:i.outlet)===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let n=this.parentContexts.getContext(this.name);n!=null&&n.route&&(n.attachRef?this.attach(n.attachRef,n.route):this.activateWith(n.route,n.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Zt(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Zt(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Zt(4012,!1);this.location.detach();let n=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(n.instance),n}attach(n,i){var a;this.activated=n,this._activatedRoute=i,this.location.insert(n.hostView),(a=this.inputBinder)==null||a.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(n.instance)}deactivate(){if(this.activated){let n=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(n)}}activateWith(n,i){var c;if(this.isActivated)throw new Zt(4013,!1);this._activatedRoute=n;let a=this.location,s=n.snapshot.component,l=this.parentContexts.getOrCreateContext(this.name).children,u=new _x(n,l,a.injector,this.routerOutletData);this.activated=a.createComponent(s,{index:a.length,injector:u,environmentInjector:i}),this.changeDetector.markForCheck(),(c=this.inputBinder)==null||c.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}};g(e,"\u0275fac",function(i){return new(i||e)}),g(e,"\u0275dir",Tr({type:e,selectors:[["router-outlet"]],inputs:{name:"name",routerOutletData:[1,"routerOutletData"]},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],features:[Tn]}));let r=e;return r})(),_x=class{constructor(e,t,n,i){g(this,"route");g(this,"childContexts");g(this,"parent");g(this,"outletData");this.route=e,this.childContexts=t,this.parent=n,this.outletData=i}get(e,t){return e===sa?this.route:e===Ku?this.childContexts:e===Y7?this.outletData:this.parent.get(e,t)}},Oh=new ht("");function bG(r,e,t){let n=Tf(r,e._root,t?t._root:void 0);return new Mf(n,e)}function Tf(r,e,t){if(t&&r.shouldReuseRoute(e.value,t.value.snapshot)){let n=t.value;n._futureSnapshot=e.value;let i=wG(r,e,t);return new qi(n,i)}else{if(r.shouldAttach(e.value)){let a=r.retrieve(e.value);if(a!==null){let o=a.route;return o.value._futureSnapshot=e.value,o.children=e.children.map(s=>Tf(r,s)),o}}let n=_G(e.value),i=e.children.map(a=>Tf(r,a));return new qi(n,i)}}function wG(r,e,t){return e.children.map(n=>{for(let i of t.children)if(r.shouldReuseRoute(n.value,i.value.snapshot))return Tf(r,n,i);return Tf(r,n)})}function _G(r){return new sa(new Yn(r.url),new Yn(r.params),new Yn(r.queryParams),new Yn(r.fragment),new Yn(r.data),r.outlet,r.component,r)}var Zu=class{constructor(e,t){g(this,"redirectTo");g(this,"navigationBehaviorOptions");this.redirectTo=e,this.navigationBehaviorOptions=t}},Z7="ngNavigationCancelingError";function Th(r,e){let{redirectTo:t,navigationBehaviorOptions:n}=Wu(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=X7(!1,Si.Redirect);return i.url=t,i.navigationBehaviorOptions=n,i}function X7(r,e){let t=new Error(`NavigationCancelingError: ${r||""}`);return t[Z7]=!0,t.cancellationCode=e,t}function SG(r){return K7(r)&&Wu(r.url)}function K7(r){return!!r&&r[Z7]}var DG=(r,e,t,n)=>Ht(i=>(new Sx(e,i.targetRouterState,i.currentRouterState,t,n).activate(r),i)),Sx=class{constructor(e,t,n,i,a){g(this,"routeReuseStrategy");g(this,"futureState");g(this,"currState");g(this,"forwardEvent");g(this,"inputBindingEnabled");this.routeReuseStrategy=e,this.futureState=t,this.currState=n,this.forwardEvent=i,this.inputBindingEnabled=a}activate(e){let t=this.futureState._root,n=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,n,e),fx(this.futureState.root),this.activateChildRoutes(t,n,e)}deactivateChildRoutes(e,t,n){let i=ju(t);e.children.forEach(a=>{let o=a.value.outlet;this.deactivateRoutes(a,i[o],n),delete i[o]}),Object.values(i).forEach(a=>{this.deactivateRouteAndItsChildren(a,n)})}deactivateRoutes(e,t,n){let i=e.value,a=t?t.value:null;if(i===a)if(i.component){let o=n.getContext(i.outlet);o&&this.deactivateChildRoutes(e,t,o.children)}else this.deactivateChildRoutes(e,t,n);else a&&this.deactivateRouteAndItsChildren(t,n)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){let n=t.getContext(e.value.outlet),i=n&&e.value.component?n.children:t,a=ju(e);for(let o of Object.values(a))this.deactivateRouteAndItsChildren(o,i);if(n&&n.outlet){let o=n.outlet.detach(),s=n.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:o,route:e,contexts:s})}}deactivateRouteAndOutlet(e,t){let n=t.getContext(e.value.outlet),i=n&&e.value.component?n.children:t,a=ju(e);for(let o of Object.values(a))this.deactivateRouteAndItsChildren(o,i);n&&(n.outlet&&(n.outlet.deactivate(),n.children.onOutletDeactivated()),n.attachRef=null,n.route=null)}activateChildRoutes(e,t,n){let i=ju(t);e.children.forEach(a=>{this.activateRoutes(a,i[a.value.outlet],n),this.forwardEvent(new Eh(a.value.snapshot))}),e.children.length&&this.forwardEvent(new Dh(e.value.snapshot))}activateRoutes(e,t,n){let i=e.value,a=t?t.value:null;if(fx(i),i===a)if(i.component){let o=n.getOrCreateContext(i.outlet);this.activateChildRoutes(e,t,o.children)}else this.activateChildRoutes(e,t,n);else if(i.component){let o=n.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){let s=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),o.children.onOutletReAttached(s.contexts),o.attachRef=s.componentRef,o.route=s.route.value,o.outlet&&o.outlet.attach(s.componentRef,s.route.value),fx(s.route.value),this.activateChildRoutes(e,null,o.children)}else o.attachRef=null,o.route=i,o.outlet&&o.outlet.activateWith(i,o.injector),this.activateChildRoutes(e,null,o.children)}else this.activateChildRoutes(e,null,n)}},Fh=class{constructor(e){g(this,"path");g(this,"route");this.path=e,this.route=this.path[this.path.length-1]}},Hu=class{constructor(e,t){g(this,"component");g(this,"route");this.component=e,this.route=t}};function CG(r,e,t){let n=r._root,i=e?e._root:null;return wf(n,i,t,[n.value])}function EG(r){let e=r.routeConfig?r.routeConfig.canActivateChild:null;return!e||e.length===0?null:{node:r,guards:e}}function Ju(r,e){let t=Symbol(),n=e.get(r,t);return n===t?typeof r=="function"&&!C6(r)?r:e.get(r):n}function wf(r,e,t,n,i={canDeactivateChecks:[],canActivateChecks:[]}){let a=ju(e);return r.children.forEach(o=>{AG(o,a[o.value.outlet],t,n.concat([o.value]),i),delete a[o.value.outlet]}),Object.entries(a).forEach(([o,s])=>Sf(s,t.getContext(o),i)),i}function AG(r,e,t,n,i={canDeactivateChecks:[],canActivateChecks:[]}){let a=r.value,o=e?e.value:null,s=t?t.getContext(r.value.outlet):null;if(o&&a.routeConfig===o.routeConfig){let l=MG(o,a,a.routeConfig.runGuardsAndResolvers);l?i.canActivateChecks.push(new Fh(n)):(a.data=o.data,a._resolvedData=o._resolvedData),a.component?wf(r,e,s?s.children:null,n,i):wf(r,e,t,n,i),l&&s&&s.outlet&&s.outlet.isActivated&&i.canDeactivateChecks.push(new Hu(s.outlet.component,o))}else o&&Sf(e,s,i),i.canActivateChecks.push(new Fh(n)),a.component?wf(r,null,s?s.children:null,n,i):wf(r,null,t,n,i);return i}function MG(r,e,t){if(typeof t=="function")return t(r,e);switch(t){case"pathParamsChange":return!Bl(r.url,e.url);case"pathParamsOrQueryParamsChange":return!Bl(r.url,e.url)||!ao(r.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!wx(r,e)||!ao(r.queryParams,e.queryParams);case"paramsChange":default:return!wx(r,e)}}function Sf(r,e,t){let n=ju(r),i=r.value;Object.entries(n).forEach(([a,o])=>{i.component?e?Sf(o,e.children.getContext(a),t):Sf(o,null,t):Sf(o,e,t)}),i.component?e&&e.outlet&&e.outlet.isActivated?t.canDeactivateChecks.push(new Hu(e.outlet.component,i)):t.canDeactivateChecks.push(new Hu(null,i)):t.canDeactivateChecks.push(new Hu(null,i))}function Bf(r){return typeof r=="function"}function NG(r){return typeof r=="boolean"}function TG(r){return r&&Bf(r.canLoad)}function FG(r){return r&&Bf(r.canActivate)}function IG(r){return r&&Bf(r.canActivateChild)}function OG(r){return r&&Bf(r.canDeactivate)}function RG(r){return r&&Bf(r.canMatch)}function J7(r){return r instanceof y6||(r==null?void 0:r.name)==="EmptyError"}var ch=Symbol("INITIAL_VALUE");function Xu(){return mn(r=>tf(r.map(e=>e.pipe(Qa(1),Ou(ch)))).pipe(Ht(e=>{for(let t of e)if(t!==!0){if(t===ch)return ch;if(t===!1||kG(t))return t}return!0}),Ka(e=>e!==ch),Qa(1)))}function kG(r){return Wu(r)||r instanceof Zu}function PG(r,e){return ta(t=>{let{targetSnapshot:n,currentSnapshot:i,guards:{canActivateChecks:a,canDeactivateChecks:o}}=t;return o.length===0&&a.length===0?At(Kt(Ge({},t),{guardsResult:!0})):BG(o,n,i,r).pipe(ta(s=>s&&NG(s)?LG(n,a,r,e):At(s)),Ht(s=>Kt(Ge({},t),{guardsResult:s})))})}function BG(r,e,t,n){return wn(r).pipe(ta(i=>jG(i.component,i.route,t,e,n)),ys(i=>i!==!0,!0))}function LG(r,e,t,n){return wn(e).pipe(Al(i=>b6(VG(i.route.parent,n),zG(i.route,n),qG(r,i.path,t),UG(r,i.route,t))),ys(i=>i!==!0,!0))}function zG(r,e){return r!==null&&e&&e(new Ch(r)),At(!0)}function VG(r,e){return r!==null&&e&&e(new Sh(r)),At(!0)}function UG(r,e,t){let n=e.routeConfig?e.routeConfig.canActivate:null;if(!n||n.length===0)return At(!0);let i=n.map(a=>T1(()=>{var u;let o=(u=kf(e))!=null?u:t,s=Ju(a,o),l=FG(s)?s.canActivate(e,r):ra(o,()=>s(e,r));return Ms(l).pipe(ys())}));return At(i).pipe(Xu())}function qG(r,e,t){let n=e[e.length-1],a=e.slice(0,e.length-1).reverse().map(o=>EG(o)).filter(o=>o!==null).map(o=>T1(()=>{let s=o.guards.map(l=>{var f;let u=(f=kf(o.node))!=null?f:t,c=Ju(l,u),d=IG(c)?c.canActivateChild(n,r):ra(u,()=>c(n,r));return Ms(d).pipe(ys())});return At(s).pipe(Xu())}));return At(a).pipe(Xu())}function jG(r,e,t,n,i){let a=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!a||a.length===0)return At(!0);let o=a.map(s=>{var d;let l=(d=kf(e))!=null?d:i,u=Ju(s,l),c=OG(u)?u.canDeactivate(r,e,t,n):ra(l,()=>u(r,e,t,n));return Ms(c).pipe(ys())});return At(o).pipe(Xu())}function $G(r,e,t,n){let i=e.canLoad;if(i===void 0||i.length===0)return At(!0);let a=i.map(o=>{let s=Ju(o,r),l=TG(s)?s.canLoad(e,t):ra(r,()=>s(e,t));return Ms(l)});return At(a).pipe(Xu(),Q7(n))}function Q7(r){return x6(hn(e=>{if(typeof e!="boolean")throw Th(r,e)}),Ht(e=>e===!0))}function HG(r,e,t,n){let i=e.canMatch;if(!i||i.length===0)return At(!0);let a=i.map(o=>{let s=Ju(o,r),l=RG(s)?s.canMatch(e,t):ra(r,()=>s(e,t));return Ms(l)});return At(a).pipe(Xu(),Q7(n))}var Ff=class{constructor(e){g(this,"segmentGroup");this.segmentGroup=e||null}},If=class extends Error{constructor(t){super();g(this,"urlTree");this.urlTree=t}};function qu(r){return El(new Ff(r))}function WG(r){return El(new Zt(4e3,!1))}function GG(r){return El(X7(!1,Si.GuardRejected))}var Dx=class{constructor(e,t){g(this,"urlSerializer");g(this,"urlTree");this.urlSerializer=e,this.urlTree=t}lineralizeSegments(e,t){let n=[],i=t.root;for(;;){if(n=n.concat(i.segments),i.numberOfChildren===0)return At(n);if(i.numberOfChildren>1||!i.children[jt])return WG(`${e.redirectTo}`);i=i.children[jt]}}applyRedirectCommands(e,t,n,i,a){if(typeof t!="string"){let s=t,{queryParams:l,fragment:u,routeConfig:c,url:d,outlet:f,params:m,data:p,title:h}=i,v=ra(a,()=>s({params:m,data:p,queryParams:l,fragment:u,routeConfig:c,url:d,outlet:f,title:h}));if(v instanceof so)throw new If(v);t=v}let o=this.applyRedirectCreateUrlTree(t,this.urlSerializer.parse(t),e,n);if(t[0]==="/")throw new If(o);return o}applyRedirectCreateUrlTree(e,t,n,i){let a=this.createSegmentGroup(e,t.root,n,i);return new so(a,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){let n={};return Object.entries(e).forEach(([i,a])=>{if(typeof a=="string"&&a[0]===":"){let s=a.substring(1);n[i]=t[s]}else n[i]=a}),n}createSegmentGroup(e,t,n,i){let a=this.createSegments(e,t.segments,n,i),o={};return Object.entries(t.children).forEach(([s,l])=>{o[s]=this.createSegmentGroup(e,l,n,i)}),new hr(a,o)}createSegments(e,t,n,i){return t.map(a=>a.path[0]===":"?this.findPosParam(e,a,i):this.findOrReturn(a,n))}findPosParam(e,t,n){let i=n[t.path.substring(1)];if(!i)throw new Zt(4001,!1);return i}findOrReturn(e,t){let n=0;for(let i of t){if(i.path===e.path)return t.splice(n),i;n++}return e}},Cx={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function YG(r,e,t,n,i){let a=eE(r,e,t);return a.matched?(n=vG(e,n),HG(n,e,t,i).pipe(Ht(o=>o===!0?a:Ge({},Cx)))):At(a)}function eE(r,e,t){var s,l;if(e.path==="**")return ZG(t);if(e.path==="")return e.pathMatch==="full"&&(r.hasChildren()||t.length>0)?Ge({},Cx):{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};let i=(e.matcher||N7)(t,r,e);if(!i)return Ge({},Cx);let a={};Object.entries((s=i.posParams)!=null?s:{}).forEach(([u,c])=>{a[u]=c.path});let o=i.consumed.length>0?Ge(Ge({},a),i.consumed[i.consumed.length-1].parameters):a;return{matched:!0,consumedSegments:i.consumed,remainingSegments:t.slice(i.consumed.length),parameters:o,positionalParamSegments:(l=i.posParams)!=null?l:{}}}function ZG(r){return{matched:!0,parameters:r.length>0?F7(r).parameters:{},consumedSegments:r,remainingSegments:[],positionalParamSegments:{}}}function E7(r,e,t,n){return t.length>0&&JG(r,t,n)?{segmentGroup:new hr(e,KG(n,new hr(t,r.children))),slicedSegments:[]}:t.length===0&&QG(r,t,n)?{segmentGroup:new hr(r.segments,XG(r,t,n,r.children)),slicedSegments:t}:{segmentGroup:new hr(r.segments,r.children),slicedSegments:t}}function XG(r,e,t,n){let i={};for(let a of t)if(Rh(r,e,a)&&!n[ka(a)]){let o=new hr([],{});i[ka(a)]=o}return Ge(Ge({},n),i)}function KG(r,e){let t={};t[jt]=e;for(let n of r)if(n.path===""&&ka(n)!==jt){let i=new hr([],{});t[ka(n)]=i}return t}function JG(r,e,t){return t.some(n=>Rh(r,e,n)&&ka(n)!==jt)}function QG(r,e,t){return t.some(n=>Rh(r,e,n))}function Rh(r,e,t){return(r.hasChildren()||e.length>0)&&t.pathMatch==="full"?!1:t.path===""}function eY(r,e,t){return e.length===0&&!r.children[t]}var Ex=class{};function tY(r,e,t,n,i,a,o="emptyOnly"){return new Ax(r,e,t,n,i,o,a).recognize()}var rY=31,Ax=class{constructor(e,t,n,i,a,o,s){g(this,"injector");g(this,"configLoader");g(this,"rootComponentType");g(this,"config");g(this,"urlTree");g(this,"paramsInheritanceStrategy");g(this,"urlSerializer");g(this,"applyRedirects");g(this,"absoluteRedirectCount",0);g(this,"allowRedirects",!0);this.injector=e,this.configLoader=t,this.rootComponentType=n,this.config=i,this.urlTree=a,this.paramsInheritanceStrategy=o,this.urlSerializer=s,this.applyRedirects=new Dx(this.urlSerializer,this.urlTree)}noMatchError(e){return new Zt(4002,`'${e.segmentGroup}'`)}recognize(){let e=E7(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(e).pipe(Ht(({children:t,rootSnapshot:n})=>{let i=new qi(n,t),a=new Nf("",i),o=V7(n,[],this.urlTree.queryParams,this.urlTree.fragment);return o.queryParams=this.urlTree.queryParams,a.url=this.urlSerializer.serialize(o),{state:a,tree:o}}))}match(e){let t=new Ll([],Object.freeze({}),Object.freeze(Ge({},this.urlTree.queryParams)),this.urlTree.fragment,Object.freeze({}),jt,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,e,jt,t).pipe(Ht(n=>({children:n,rootSnapshot:t})),Ja(n=>{if(n instanceof If)return this.urlTree=n.urlTree,this.match(n.urlTree.root);throw n instanceof Ff?this.noMatchError(n):n}))}processSegmentGroup(e,t,n,i,a){return n.segments.length===0&&n.hasChildren()?this.processChildren(e,t,n,a):this.processSegment(e,t,n,n.segments,i,!0,a).pipe(Ht(o=>o instanceof qi?[o]:[]))}processChildren(e,t,n,i){let a=[];for(let o of Object.keys(n.children))o==="primary"?a.unshift(o):a.push(o);return wn(a).pipe(Al(o=>{let s=n.children[o],l=xG(t,o);return this.processSegmentGroup(e,l,s,o,i)}),D6((o,s)=>(o.push(...s),o)),I1(null),_6(),ta(o=>{if(o===null)return qu(n);let s=tE(o);return nY(s),At(s)}))}processSegment(e,t,n,i,a,o,s){return wn(t).pipe(Al(l=>{var u;return this.processSegmentAgainstRoute((u=l._injector)!=null?u:e,t,l,n,i,a,o,s).pipe(Ja(c=>{if(c instanceof Ff)return At(null);throw c}))}),ys(l=>!!l),Ja(l=>{if(J7(l))return eY(n,i,a)?At(new Ex):qu(n);throw l}))}processSegmentAgainstRoute(e,t,n,i,a,o,s,l){return ka(n)!==o&&(o===jt||!Rh(i,a,n))?qu(i):n.redirectTo===void 0?this.matchSegmentAgainstRoute(e,i,n,a,o,l):this.allowRedirects&&s?this.expandSegmentAgainstRouteUsingRedirect(e,i,t,n,a,o,l):qu(i)}expandSegmentAgainstRouteUsingRedirect(e,t,n,i,a,o,s){var v,y;let{matched:l,parameters:u,consumedSegments:c,positionalParamSegments:d,remainingSegments:f}=eE(t,i,a);if(!l)return qu(t);typeof i.redirectTo=="string"&&i.redirectTo[0]==="/"&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>rY&&(this.allowRedirects=!1));let m=new Ll(a,u,Object.freeze(Ge({},this.urlTree.queryParams)),this.urlTree.fragment,A7(i),ka(i),(y=(v=i.component)!=null?v:i._loadedComponent)!=null?y:null,i,M7(i)),p=Nh(m,s,this.paramsInheritanceStrategy);m.params=Object.freeze(p.params),m.data=Object.freeze(p.data);let h=this.applyRedirects.applyRedirectCommands(c,i.redirectTo,d,m,e);return this.applyRedirects.lineralizeSegments(i,h).pipe(ta(S=>this.processSegment(e,n,t,S.concat(f),o,!1,s)))}matchSegmentAgainstRoute(e,t,n,i,a,o){let s=YG(t,n,i,e,this.urlSerializer);return n.path==="**"&&(t.children={}),s.pipe(mn(l=>{var u;return l.matched?(e=(u=n._injector)!=null?u:e,this.getChildConfig(e,n,i).pipe(mn(({routes:c})=>{var _,w,b;let d=(_=n._loadedInjector)!=null?_:e,{parameters:f,consumedSegments:m,remainingSegments:p}=l,h=new Ll(m,f,Object.freeze(Ge({},this.urlTree.queryParams)),this.urlTree.fragment,A7(n),ka(n),(b=(w=n.component)!=null?w:n._loadedComponent)!=null?b:null,n,M7(n)),v=Nh(h,o,this.paramsInheritanceStrategy);h.params=Object.freeze(v.params),h.data=Object.freeze(v.data);let{segmentGroup:y,slicedSegments:S}=E7(t,m,p,c);if(S.length===0&&y.hasChildren())return this.processChildren(d,c,y,h).pipe(Ht(C=>new qi(h,C)));if(c.length===0&&S.length===0)return At(new qi(h,[]));let x=ka(n)===a;return this.processSegment(d,c,y,S,x?jt:a,!0,h).pipe(Ht(C=>new qi(h,C instanceof qi?[C]:[])))}))):qu(t)}))}getChildConfig(e,t,n){return t.children?At({routes:t.children,injector:e}):t.loadChildren?t._loadedRoutes!==void 0?At({routes:t._loadedRoutes,injector:t._loadedInjector}):$G(e,t,n,this.urlSerializer).pipe(ta(i=>i?this.configLoader.loadChildren(e,t).pipe(hn(a=>{t._loadedRoutes=a.routes,t._loadedInjector=a.injector})):GG(t))):At({routes:[],injector:e})}};function nY(r){r.sort((e,t)=>e.value.outlet===jt?-1:t.value.outlet===jt?1:e.value.outlet.localeCompare(t.value.outlet))}function iY(r){let e=r.value.routeConfig;return e&&e.path===""}function tE(r){let e=[],t=new Set;for(let n of r){if(!iY(n)){e.push(n);continue}let i=e.find(a=>n.value.routeConfig===a.value.routeConfig);i!==void 0?(i.children.push(...n.children),t.add(i)):e.push(n)}for(let n of t){let i=tE(n.children);e.push(new qi(n.value,i))}return e.filter(n=>!t.has(n))}function A7(r){return r.data||{}}function M7(r){return r.resolve||{}}function aY(r,e,t,n,i,a){return ta(o=>tY(r,e,t,n,o.extractedUrl,i,a).pipe(Ht(({state:s,tree:l})=>Kt(Ge({},o),{targetSnapshot:s,urlAfterRedirects:l}))))}function oY(r,e){return ta(t=>{let{targetSnapshot:n,guards:{canActivateChecks:i}}=t;if(!i.length)return At(t);let a=new Set(i.map(l=>l.route)),o=new Set;for(let l of a)if(!o.has(l))for(let u of rE(l))o.add(u);let s=0;return wn(o).pipe(Al(l=>a.has(l)?sY(l,n,r,e):(l.data=Nh(l,l.parent,r).resolve,At(void 0))),hn(()=>s++),O1(1),ta(l=>s===o.size?At(t):Fa))})}function rE(r){let e=r.children.map(t=>rE(t)).flat();return[r,...e]}function sY(r,e,t,n){let i=r.routeConfig,a=r._resolve;return(i==null?void 0:i.title)!==void 0&&!G7(i)&&(a[Of]=i.title),lY(a,r,e,n).pipe(Ht(o=>(r._resolvedData=o,r.data=Nh(r,r.parent,t).resolve,null)))}function lY(r,e,t,n){let i=px(r);if(i.length===0)return At({});let a={};return wn(i).pipe(ta(o=>uY(r[o],e,t,n).pipe(ys(),hn(s=>{if(s instanceof Zu)throw Th(new Vl,s);a[o]=s}))),O1(1),Ht(()=>a),Ja(o=>J7(o)?Fa:El(o)))}function uY(r,e,t,n){var s;let i=(s=kf(e))!=null?s:n,a=Ju(r,i),o=a.resolve?a.resolve(e,t):ra(i,()=>a(e,t));return Ms(o)}function mx(r){return mn(e=>{let t=r(e);return t?wn(t).pipe(Ht(()=>e)):At(e)})}var Nx=(()=>{let e=class e{buildTitle(n){var o;let i,a=n.root;for(;a!==void 0;)i=(o=this.getResolvedTitleForRoute(a))!=null?o:i,a=a.children.find(s=>s.outlet===jt);return i}getResolvedTitleForRoute(n){return n.data[Of]}};g(e,"\u0275fac",function(i){return new(i||e)}),g(e,"\u0275prov",Ke({token:e,factory:()=>Me(nE),providedIn:"root"}));let r=e;return r})(),nE=(()=>{let e=class e extends Nx{constructor(i){super();g(this,"title");this.title=i}updateTitle(i){let a=this.buildTitle(i);a!==void 0&&this.title.setTitle(a)}};g(e,"\u0275fac",function(a){return new(a||e)(at(w7))}),g(e,"\u0275prov",Ke({token:e,factory:e.\u0275fac,providedIn:"root"}));let r=e;return r})(),Lf=new ht("",{providedIn:"root",factory:()=>({})}),Tx=(()=>{let e=class e{};g(e,"\u0275fac",function(i){return new(i||e)}),g(e,"\u0275cmp",Vt({type:e,selectors:[["ng-component"]],exportAs:["emptyRouterOutlet"],decls:1,vars:0,template:function(i,a){i&1&&Fe(0,"router-outlet")},dependencies:[Pf],encapsulation:2}));let r=e;return r})();function Fx(r){let e=r.children&&r.children.map(Fx),t=e?Kt(Ge({},r),{children:e}):Ge({},r);return!t.component&&!t.loadComponent&&(e||t.loadChildren)&&t.outlet&&t.outlet!==jt&&(t.component=Tx),t}var zf=new ht(""),iE=(()=>{let e=class e{constructor(){g(this,"componentLoaders",new WeakMap);g(this,"childrenLoaders",new WeakMap);g(this,"onLoadStartListener");g(this,"onLoadEndListener");g(this,"compiler",Me(H6))}loadComponent(n){if(this.componentLoaders.get(n))return this.componentLoaders.get(n);if(n._loadedComponent)return At(n._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(n);let i=Ms(n.loadComponent()).pipe(Ht(oE),hn(o=>{this.onLoadEndListener&&this.onLoadEndListener(n),n._loadedComponent=o}),xs(()=>{this.componentLoaders.delete(n)})),a=new A1(i,()=>new Gt).pipe(E1());return this.componentLoaders.set(n,a),a}loadChildren(n,i){if(this.childrenLoaders.get(i))return this.childrenLoaders.get(i);if(i._loadedRoutes)return At({routes:i._loadedRoutes,injector:i._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(i);let o=aE(i,this.compiler,n,this.onLoadEndListener).pipe(xs(()=>{this.childrenLoaders.delete(i)})),s=new A1(o,()=>new Gt).pipe(E1());return this.childrenLoaders.set(i,s),s}};g(e,"\u0275fac",function(i){return new(i||e)}),g(e,"\u0275prov",Ke({token:e,factory:e.\u0275fac,providedIn:"root"}));let r=e;return r})();function aE(r,e,t,n){return Ms(r.loadChildren()).pipe(Ht(oE),ta(i=>i instanceof U6||Array.isArray(i)?At(i):wn(e.compileModuleAsync(i))),Ht(i=>{n&&n(r);let a,o,s=!1;return Array.isArray(i)?(o=i,s=!0):(a=i.create(t).injector,o=a.get(zf,[],{optional:!0,self:!0}).flat()),{routes:o.map(Fx),injector:a}}))}function cY(r){return r&&typeof r=="object"&&"default"in r}function oE(r){return cY(r)?r.default:r}var kh=(()=>{let e=class e{};g(e,"\u0275fac",function(i){return new(i||e)}),g(e,"\u0275prov",Ke({token:e,factory:()=>Me(dY),providedIn:"root"}));let r=e;return r})(),dY=(()=>{let e=class e{shouldProcessUrl(n){return!0}extract(n){return n}merge(n,i){return n}};g(e,"\u0275fac",function(i){return new(i||e)}),g(e,"\u0275prov",Ke({token:e,factory:e.\u0275fac,providedIn:"root"}));let r=e;return r})(),sE=new ht("");var lE=new ht(""),uE=(()=>{let e=class e{constructor(){g(this,"currentNavigation",null);g(this,"currentTransition",null);g(this,"lastSuccessfulNavigation",null);g(this,"events",new Gt);g(this,"transitionAbortSubject",new Gt);g(this,"configLoader",Me(iE));g(this,"environmentInjector",Me(ws));g(this,"destroyRef",Me(Ml));g(this,"urlSerializer",Me(Rf));g(this,"rootContexts",Me(Ku));g(this,"location",Me(Ol));g(this,"inputBindingEnabled",Me(Oh,{optional:!0})!==null);g(this,"titleStrategy",Me(Nx));g(this,"options",Me(Lf,{optional:!0})||{});g(this,"paramsInheritanceStrategy",this.options.paramsInheritanceStrategy||"emptyOnly");g(this,"urlHandlingStrategy",Me(kh));g(this,"createViewTransition",Me(sE,{optional:!0}));g(this,"navigationErrorHandler",Me(lE,{optional:!0}));g(this,"navigationId",0);g(this,"transitions");g(this,"afterPreactivation",()=>At(void 0));g(this,"rootComponentType",null);g(this,"destroyed",!1);let n=a=>this.events.next(new wh(a)),i=a=>this.events.next(new _h(a));this.configLoader.onLoadEndListener=i,this.configLoader.onLoadStartListener=n,this.destroyRef.onDestroy(()=>{this.destroyed=!0})}get hasRequestedNavigation(){return this.navigationId!==0}complete(){var n;(n=this.transitions)==null||n.complete()}handleNavigationRequest(n){var a;let i=++this.navigationId;(a=this.transitions)==null||a.next(Kt(Ge({},n),{extractedUrl:this.urlHandlingStrategy.extract(n.rawUrl),targetSnapshot:null,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null,id:i}))}setupNavigations(n){return this.transitions=new Yn(null),this.transitions.pipe(Ka(i=>i!==null),mn(i=>{let a=!1,o=!1;return At(i).pipe(mn(s=>{var c;if(this.navigationId>i.id)return this.cancelNavigationTransition(i,"",Si.SupersededByNewNavigation),Fa;this.currentTransition=i,this.currentNavigation={id:s.id,initialUrl:s.rawUrl,extractedUrl:s.extractedUrl,targetBrowserUrl:typeof s.extras.browserUrl=="string"?this.urlSerializer.parse(s.extras.browserUrl):s.extras.browserUrl,trigger:s.source,extras:s.extras,previousNavigation:this.lastSuccessfulNavigation?Kt(Ge({},this.lastSuccessfulNavigation),{previousNavigation:null}):null};let l=!n.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),u=(c=s.extras.onSameUrlNavigation)!=null?c:n.onSameUrlNavigation;if(!l&&u!=="reload"){let d="";return this.events.next(new Uo(s.id,this.urlSerializer.serialize(s.rawUrl),d,Cf.IgnoredSameUrlNavigation)),s.resolve(!1),Fa}if(this.urlHandlingStrategy.shouldProcessUrl(s.rawUrl))return At(s).pipe(mn(d=>(this.events.next(new Ul(d.id,this.urlSerializer.serialize(d.extractedUrl),d.source,d.restoredState)),d.id!==this.navigationId?Fa:Promise.resolve(d))),aY(this.environmentInjector,this.configLoader,this.rootComponentType,n.config,this.urlSerializer,this.paramsInheritanceStrategy),hn(d=>{i.targetSnapshot=d.targetSnapshot,i.urlAfterRedirects=d.urlAfterRedirects,this.currentNavigation=Kt(Ge({},this.currentNavigation),{finalUrl:d.urlAfterRedirects});let f=new Ef(d.id,this.urlSerializer.serialize(d.extractedUrl),this.urlSerializer.serialize(d.urlAfterRedirects),d.targetSnapshot);this.events.next(f)}));if(l&&this.urlHandlingStrategy.shouldProcessUrl(s.currentRawUrl)){let{id:d,extractedUrl:f,source:m,restoredState:p,extras:h}=s,v=new Ul(d,this.urlSerializer.serialize(f),m,p);this.events.next(v);let y=H7(this.rootComponentType).snapshot;return this.currentTransition=i=Kt(Ge({},s),{targetSnapshot:y,urlAfterRedirects:f,extras:Kt(Ge({},h),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=f,At(i)}else{let d="";return this.events.next(new Uo(s.id,this.urlSerializer.serialize(s.extractedUrl),d,Cf.IgnoredByUrlHandlingStrategy)),s.resolve(!1),Fa}}),hn(s=>{let l=new vh(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects),s.targetSnapshot);this.events.next(l)}),Ht(s=>(this.currentTransition=i=Kt(Ge({},s),{guards:CG(s.targetSnapshot,s.currentSnapshot,this.rootContexts)}),i)),PG(this.environmentInjector,s=>this.events.next(s)),hn(s=>{if(i.guardsResult=s.guardsResult,s.guardsResult&&typeof s.guardsResult!="boolean")throw Th(this.urlSerializer,s.guardsResult);let l=new xh(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects),s.targetSnapshot,!!s.guardsResult);this.events.next(l)}),Ka(s=>s.guardsResult?!0:(this.cancelNavigationTransition(s,"",Si.GuardRejected),!1)),mx(s=>{if(s.guards.canActivateChecks.length!==0)return At(s).pipe(hn(l=>{let u=new yh(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(u)}),mn(l=>{let u=!1;return At(l).pipe(oY(this.paramsInheritanceStrategy,this.environmentInjector),hn({next:()=>u=!0,complete:()=>{u||this.cancelNavigationTransition(l,"",Si.NoDataFromResolver)}}))}),hn(l=>{let u=new bh(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(u)}))}),mx(s=>{let l=u=>{var d;let c=[];(d=u.routeConfig)!=null&&d.loadComponent&&!u.routeConfig._loadedComponent&&c.push(this.configLoader.loadComponent(u.routeConfig).pipe(hn(f=>{u.component=f}),Ht(()=>{})));for(let f of u.children)c.push(...l(f));return c};return tf(l(s.targetSnapshot.root)).pipe(I1(null),Qa(1))}),mx(()=>this.afterPreactivation()),mn(()=>{var c;let{currentSnapshot:s,targetSnapshot:l}=i,u=(c=this.createViewTransition)==null?void 0:c.call(this,this.environmentInjector,s.root,l.root);return u?wn(u).pipe(Ht(()=>i)):At(i)}),Ht(s=>{let l=bG(n.routeReuseStrategy,s.targetSnapshot,s.currentRouterState);return this.currentTransition=i=Kt(Ge({},s),{targetRouterState:l}),this.currentNavigation.targetRouterState=l,i}),hn(()=>{this.events.next(new Af)}),DG(this.rootContexts,n.routeReuseStrategy,s=>this.events.next(s),this.inputBindingEnabled),Qa(1),hn({next:s=>{var l;a=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new Vo(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects))),(l=this.titleStrategy)==null||l.updateTitle(s.targetRouterState.snapshot),s.resolve(!0)},complete:()=>{a=!0}}),eo(this.transitionAbortSubject.pipe(hn(s=>{throw s}))),xs(()=>{var s;!a&&!o&&this.cancelNavigationTransition(i,"",Si.SupersededByNewNavigation),((s=this.currentTransition)==null?void 0:s.id)===i.id&&(this.currentNavigation=null,this.currentTransition=null)}),Ja(s=>{var l;if(this.destroyed)return i.resolve(!1),Fa;if(o=!0,K7(s))this.events.next(new oo(i.id,this.urlSerializer.serialize(i.extractedUrl),s.message,s.cancellationCode)),SG(s)?this.events.next(new Yu(s.url,s.navigationBehaviorOptions)):i.resolve(!1);else{let u=new Gu(i.id,this.urlSerializer.serialize(i.extractedUrl),s,(l=i.targetSnapshot)!=null?l:void 0);try{let c=ra(this.environmentInjector,()=>{var d;return(d=this.navigationErrorHandler)==null?void 0:d.call(this,u)});if(c instanceof Zu){let{message:d,cancellationCode:f}=Th(this.urlSerializer,c);this.events.next(new oo(i.id,this.urlSerializer.serialize(i.extractedUrl),d,f)),this.events.next(new Yu(c.redirectTo,c.navigationBehaviorOptions))}else throw this.events.next(u),s}catch(c){this.options.resolveNavigationPromiseOnError?i.resolve(!1):i.reject(c)}}return Fa}))}))}cancelNavigationTransition(n,i,a){let o=new oo(n.id,this.urlSerializer.serialize(n.extractedUrl),i,a);this.events.next(o),n.resolve(!1)}isUpdatingInternalState(){var n,i;return((n=this.currentTransition)==null?void 0:n.extractedUrl.toString())!==((i=this.currentTransition)==null?void 0:i.currentUrlTree.toString())}isUpdatedBrowserUrl(){var a,o,s,l;let n=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),i=(s=(a=this.currentNavigation)==null?void 0:a.targetBrowserUrl)!=null?s:(o=this.currentNavigation)==null?void 0:o.extractedUrl;return n.toString()!==(i==null?void 0:i.toString())&&!((l=this.currentNavigation)!=null&&l.extras.skipLocationChange)}};g(e,"\u0275fac",function(i){return new(i||e)}),g(e,"\u0275prov",Ke({token:e,factory:e.\u0275fac,providedIn:"root"}));let r=e;return r})();function fY(r){return r!==hh}var cE=(()=>{let e=class e{};g(e,"\u0275fac",function(i){return new(i||e)}),g(e,"\u0275prov",Ke({token:e,factory:()=>Me(mY),providedIn:"root"}));let r=e;return r})(),Ih=class{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}},mY=(()=>{let e=class e extends Ih{};g(e,"\u0275fac",(()=>{let n;return function(a){return(n||(n=_s(e)))(a||e)}})()),g(e,"\u0275prov",Ke({token:e,factory:e.\u0275fac,providedIn:"root"}));let r=e;return r})(),dE=(()=>{let e=class e{constructor(){g(this,"urlSerializer",Me(Rf));g(this,"options",Me(Lf,{optional:!0})||{});g(this,"canceledNavigationResolution",this.options.canceledNavigationResolution||"replace");g(this,"location",Me(Ol));g(this,"urlHandlingStrategy",Me(kh));g(this,"urlUpdateStrategy",this.options.urlUpdateStrategy||"deferred");g(this,"currentUrlTree",new so);g(this,"rawUrlTree",this.currentUrlTree);g(this,"routerState",H7(null));g(this,"stateMemento",this.createStateMemento())}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}createBrowserPath({finalUrl:n,initialUrl:i,targetBrowserUrl:a}){let o=n!==void 0?this.urlHandlingStrategy.merge(n,i):i,s=a!=null?a:o;return s instanceof so?this.urlSerializer.serialize(s):s}commitTransition({targetRouterState:n,finalUrl:i,initialUrl:a}){i&&n?(this.currentUrlTree=i,this.rawUrlTree=this.urlHandlingStrategy.merge(i,a),this.routerState=n):this.rawUrlTree=a}getRouterState(){return this.routerState}updateStateMemento(){this.stateMemento=this.createStateMemento()}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}resetInternalState({finalUrl:n}){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n!=null?n:this.rawUrlTree)}};g(e,"\u0275fac",function(i){return new(i||e)}),g(e,"\u0275prov",Ke({token:e,factory:()=>Me(hY),providedIn:"root"}));let r=e;return r})(),hY=(()=>{let e=class e extends dE{constructor(){super(...arguments);g(this,"currentPageId",0);g(this,"lastSuccessfulId",-1)}restoredState(){return this.location.getState()}get browserPageId(){var i,a;return this.canceledNavigationResolution!=="computed"?this.currentPageId:(a=(i=this.restoredState())==null?void 0:i.\u0275routerPageId)!=null?a:this.currentPageId}registerNonRouterCurrentEntryChangeListener(i){return this.location.subscribe(a=>{a.type==="popstate"&&setTimeout(()=>{i(a.url,a.state,"popstate")})})}handleRouterEvent(i,a){i instanceof Ul?this.updateStateMemento():i instanceof Uo?this.commitTransition(a):i instanceof Ef?this.urlUpdateStrategy==="eager"&&(a.extras.skipLocationChange||this.setBrowserUrl(this.createBrowserPath(a),a)):i instanceof Af?(this.commitTransition(a),this.urlUpdateStrategy==="deferred"&&!a.extras.skipLocationChange&&this.setBrowserUrl(this.createBrowserPath(a),a)):i instanceof oo&&(i.code===Si.GuardRejected||i.code===Si.NoDataFromResolver)?this.restoreHistory(a):i instanceof Gu?this.restoreHistory(a,!0):i instanceof Vo&&(this.lastSuccessfulId=i.id,this.currentPageId=this.browserPageId)}setBrowserUrl(i,{extras:a,id:o}){let{replaceUrl:s,state:l}=a;if(this.location.isCurrentPathEqualTo(i)||s){let u=this.browserPageId,c=Ge(Ge({},l),this.generateNgRouterState(o,u));this.location.replaceState(i,"",c)}else{let u=Ge(Ge({},l),this.generateNgRouterState(o,this.browserPageId+1));this.location.go(i,"",u)}}restoreHistory(i,a=!1){if(this.canceledNavigationResolution==="computed"){let o=this.browserPageId,s=this.currentPageId-o;s!==0?this.location.historyGo(s):this.getCurrentUrlTree()===i.finalUrl&&s===0&&(this.resetInternalState(i),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(a&&this.resetInternalState(i),this.resetUrlToCurrentUrlTree())}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.getRawUrlTree()),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(i,a){return this.canceledNavigationResolution==="computed"?{navigationId:i,\u0275routerPageId:a}:{navigationId:i}}};g(e,"\u0275fac",(()=>{let i;return function(o){return(i||(i=_s(e)))(o||e)}})()),g(e,"\u0275prov",Ke({token:e,factory:e.\u0275fac,providedIn:"root"}));let r=e;return r})();function Ix(r,e){r.events.pipe(Ka(t=>t instanceof Vo||t instanceof oo||t instanceof Gu||t instanceof Uo),Ht(t=>t instanceof Vo||t instanceof Uo?0:(t instanceof oo?t.code===Si.Redirect||t.code===Si.SupersededByNewNavigation:!1)?2:1),Ka(t=>t!==2),Qa(1)).subscribe(()=>{e()})}var pY={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},gY={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},Qu=(()=>{var e,t;let n=class n{constructor(){g(this,"disposed",!1);g(this,"nonRouterCurrentEntryChangeSubscription");g(this,"console",Me(U1));g(this,"stateManager",Me(dE));g(this,"options",Me(Lf,{optional:!0})||{});g(this,"pendingTasks",Me(zm));g(this,"urlUpdateStrategy",this.options.urlUpdateStrategy||"deferred");g(this,"navigationTransitions",Me(uE));g(this,"urlSerializer",Me(Rf));g(this,"location",Me(Ol));g(this,"urlHandlingStrategy",Me(kh));g(this,"_events",new Gt);g(this,"navigated",!1);g(this,"routeReuseStrategy",Me(cE));g(this,"onSameUrlNavigation",this.options.onSameUrlNavigation||"ignore");g(this,"config",(t=(e=Me(zf,{optional:!0}))==null?void 0:e.flat())!=null?t:[]);g(this,"componentInputBindingEnabled",!!Me(Oh,{optional:!0}));g(this,"eventsSubscription",new Io);this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this).subscribe({error:a=>{this.console.warn(a)}}),this.subscribeToNavigationEvents()}get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}subscribeToNavigationEvents(){let a=this.navigationTransitions.events.subscribe(o=>{try{let s=this.navigationTransitions.currentTransition,l=this.navigationTransitions.currentNavigation;if(s!==null&&l!==null){if(this.stateManager.handleRouterEvent(o,l),o instanceof oo&&o.code!==Si.Redirect&&o.code!==Si.SupersededByNewNavigation)this.navigated=!0;else if(o instanceof Vo)this.navigated=!0;else if(o instanceof Yu){let u=o.navigationBehaviorOptions,c=this.urlHandlingStrategy.merge(o.url,s.currentRawUrl),d=Ge({browserUrl:s.extras.browserUrl,info:s.extras.info,skipLocationChange:s.extras.skipLocationChange,replaceUrl:s.extras.replaceUrl||this.urlUpdateStrategy==="eager"||fY(s.source)},u);this.scheduleNavigation(c,hh,null,d,{resolve:s.resolve,reject:s.reject,promise:s.promise})}}xY(o)&&this._events.next(o)}catch(s){this.navigationTransitions.transitionAbortSubject.next(s)}});this.eventsSubscription.add(a)}resetRootComponentType(a){this.routerState.root.component=a,this.navigationTransitions.rootComponentType=a}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),hh,this.stateManager.restoredState())}setUpLocationChangeListener(){var a;(a=this.nonRouterCurrentEntryChangeSubscription)!=null||(this.nonRouterCurrentEntryChangeSubscription=this.stateManager.registerNonRouterCurrentEntryChangeListener((o,s,l)=>{this.navigateToSyncWithBrowser(o,l,s)}))}navigateToSyncWithBrowser(a,o,s){let l={replaceUrl:!0},u=s!=null&&s.navigationId?s:null;if(s){let d=Ge({},s);delete d.navigationId,delete d.\u0275routerPageId,Object.keys(d).length!==0&&(l.state=d)}let c=this.parseUrl(a);this.scheduleNavigation(c,o,u,l)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(a){this.config=a.map(Fx),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this._events.unsubscribe(),this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(a,o={}){let{relativeTo:s,queryParams:l,fragment:u,queryParamsHandling:c,preserveFragment:d}=o,f=d?this.currentUrlTree.fragment:u,m=null;switch(c!=null?c:this.options.defaultQueryParamsHandling){case"merge":m=Ge(Ge({},this.currentUrlTree.queryParams),l);break;case"preserve":m=this.currentUrlTree.queryParams;break;default:m=l||null}m!==null&&(m=this.removeEmptyProps(m));let p;try{let h=s?s.snapshot:this.routerState.snapshot.root;p=U7(h)}catch{(typeof a[0]!="string"||a[0][0]!=="/")&&(a=[]),p=this.currentUrlTree.root}return q7(p,a,m,f!=null?f:null)}navigateByUrl(a,o={skipLocationChange:!1}){let s=Wu(a)?a:this.parseUrl(a),l=this.urlHandlingStrategy.merge(s,this.rawUrlTree);return this.scheduleNavigation(l,hh,null,o)}navigate(a,o={skipLocationChange:!1}){return vY(a),this.navigateByUrl(this.createUrlTree(a,o),o)}serializeUrl(a){return this.urlSerializer.serialize(a)}parseUrl(a){try{return this.urlSerializer.parse(a)}catch{return this.urlSerializer.parse("/")}}isActive(a,o){let s;if(o===!0?s=Ge({},pY):o===!1?s=Ge({},gY):s=o,Wu(a))return _7(this.currentUrlTree,a,s);let l=this.parseUrl(a);return _7(this.currentUrlTree,l,s)}removeEmptyProps(a){return Object.entries(a).reduce((o,[s,l])=>(l!=null&&(o[s]=l),o),{})}scheduleNavigation(a,o,s,l,u){if(this.disposed)return Promise.resolve(!1);let c,d,f;u?(c=u.resolve,d=u.reject,f=u.promise):f=new Promise((p,h)=>{c=p,d=h});let m=this.pendingTasks.add();return Ix(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(m))}),this.navigationTransitions.handleNavigationRequest({source:o,restoredState:s,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:a,extras:l,resolve:c,reject:d,promise:f,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),f.catch(p=>Promise.reject(p))}};g(n,"\u0275fac",function(o){return new(o||n)}),g(n,"\u0275prov",Ke({token:n,factory:n.\u0275fac,providedIn:"root"}));let r=n;return r})();function vY(r){for(let e=0;e<r.length;e++)if(r[e]==null)throw new Zt(4008,!1)}function xY(r){return!(r instanceof Af)&&!(r instanceof Yu)}var bY=new ht("");function Ox(r,...e){return bi([{provide:zf,multi:!0,useValue:r},[],{provide:sa,useFactory:wY,deps:[Qu]},{provide:q6,multi:!0,useFactory:SY},e.map(t=>t.\u0275providers)])}function wY(r){return r.routerState.root}function _Y(r,e){return{\u0275kind:r,\u0275providers:e}}function SY(){let r=Me(wi);return e=>{var a,o;let t=r.get(sf);if(e!==t.components[0])return;let n=r.get(Qu),i=r.get(DY);r.get(CY)===1&&n.initialNavigation(),(a=r.get(EY,null,k1.Optional))==null||a.setUpPreloading(),(o=r.get(bY,null,k1.Optional))==null||o.init(),n.resetRootComponentType(t.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}var DY=new ht("",{factory:()=>new Gt}),CY=new ht("",{providedIn:"root",factory:()=>1});var EY=new ht("");function Rx(){return _Y(6,[{provide:Cs,useClass:X1}])}function qf(r){return r+.5|0}var Ns=(r,e,t)=>Math.max(Math.min(r,t),e);function Vf(r){return Ns(qf(r*2.55),0,255)}function Ts(r){return Ns(qf(r*255),0,255)}function qo(r){return Ns(qf(r/2.55)/100,0,1)}function fE(r){return Ns(qf(r*100),0,100)}var la={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},Bx=[..."0123456789ABCDEF"],MY=r=>Bx[r&15],NY=r=>Bx[(r&240)>>4]+Bx[r&15],Ph=r=>(r&240)>>4===(r&15),TY=r=>Ph(r.r)&&Ph(r.g)&&Ph(r.b)&&Ph(r.a);function FY(r){var e=r.length,t;return r[0]==="#"&&(e===4||e===5?t={r:255&la[r[1]]*17,g:255&la[r[2]]*17,b:255&la[r[3]]*17,a:e===5?la[r[4]]*17:255}:(e===7||e===9)&&(t={r:la[r[1]]<<4|la[r[2]],g:la[r[3]]<<4|la[r[4]],b:la[r[5]]<<4|la[r[6]],a:e===9?la[r[7]]<<4|la[r[8]]:255})),t}var IY=(r,e)=>r<255?e(r):"";function OY(r){var e=TY(r)?MY:NY;return r?"#"+e(r.r)+e(r.g)+e(r.b)+IY(r.a,e):void 0}var RY=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function gE(r,e,t){let n=e*Math.min(t,1-t),i=(a,o=(a+r/30)%12)=>t-n*Math.max(Math.min(o-3,9-o,1),-1);return[i(0),i(8),i(4)]}function kY(r,e,t){let n=(i,a=(i+r/60)%6)=>t-t*e*Math.max(Math.min(a,4-a,1),0);return[n(5),n(3),n(1)]}function PY(r,e,t){let n=gE(r,1,.5),i;for(e+t>1&&(i=1/(e+t),e*=i,t*=i),i=0;i<3;i++)n[i]*=1-e-t,n[i]+=e;return n}function BY(r,e,t,n,i){return r===i?(e-t)/n+(e<t?6:0):e===i?(t-r)/n+2:(r-e)/n+4}function Lx(r){let t=r.r/255,n=r.g/255,i=r.b/255,a=Math.max(t,n,i),o=Math.min(t,n,i),s=(a+o)/2,l,u,c;return a!==o&&(c=a-o,u=s>.5?c/(2-a-o):c/(a+o),l=BY(t,n,i,c,a),l=l*60+.5),[l|0,u||0,s]}function zx(r,e,t,n){return(Array.isArray(e)?r(e[0],e[1],e[2]):r(e,t,n)).map(Ts)}function Vx(r,e,t){return zx(gE,r,e,t)}function LY(r,e,t){return zx(PY,r,e,t)}function zY(r,e,t){return zx(kY,r,e,t)}function vE(r){return(r%360+360)%360}function VY(r){let e=RY.exec(r),t=255,n;if(!e)return;e[5]!==n&&(t=e[6]?Vf(+e[5]):Ts(+e[5]));let i=vE(+e[2]),a=+e[3]/100,o=+e[4]/100;return e[1]==="hwb"?n=LY(i,a,o):e[1]==="hsv"?n=zY(i,a,o):n=Vx(i,a,o),{r:n[0],g:n[1],b:n[2],a:t}}function UY(r,e){var t=Lx(r);t[0]=vE(t[0]+e),t=Vx(t),r.r=t[0],r.g=t[1],r.b=t[2]}function qY(r){if(!r)return;let e=Lx(r),t=e[0],n=fE(e[1]),i=fE(e[2]);return r.a<255?`hsla(${t}, ${n}%, ${i}%, ${qo(r.a)})`:`hsl(${t}, ${n}%, ${i}%)`}var mE={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},hE={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function jY(){let r={},e=Object.keys(hE),t=Object.keys(mE),n,i,a,o,s;for(n=0;n<e.length;n++){for(o=s=e[n],i=0;i<t.length;i++)a=t[i],s=s.replace(a,mE[a]);a=parseInt(hE[o],16),r[s]=[a>>16&255,a>>8&255,a&255]}return r}var Bh;function $Y(r){Bh||(Bh=jY(),Bh.transparent=[0,0,0,0]);let e=Bh[r.toLowerCase()];return e&&{r:e[0],g:e[1],b:e[2],a:e.length===4?e[3]:255}}var HY=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function WY(r){let e=HY.exec(r),t=255,n,i,a;if(e){if(e[7]!==n){let o=+e[7];t=e[8]?Vf(o):Ns(o*255,0,255)}return n=+e[1],i=+e[3],a=+e[5],n=255&(e[2]?Vf(n):Ns(n,0,255)),i=255&(e[4]?Vf(i):Ns(i,0,255)),a=255&(e[6]?Vf(a):Ns(a,0,255)),{r:n,g:i,b:a,a:t}}}function GY(r){return r&&(r.a<255?`rgba(${r.r}, ${r.g}, ${r.b}, ${qo(r.a)})`:`rgb(${r.r}, ${r.g}, ${r.b})`)}var Px=r=>r<=.0031308?r*12.92:Math.pow(r,1/2.4)*1.055-.055,ec=r=>r<=.04045?r/12.92:Math.pow((r+.055)/1.055,2.4);function YY(r,e,t){let n=ec(qo(r.r)),i=ec(qo(r.g)),a=ec(qo(r.b));return{r:Ts(Px(n+t*(ec(qo(e.r))-n))),g:Ts(Px(i+t*(ec(qo(e.g))-i))),b:Ts(Px(a+t*(ec(qo(e.b))-a))),a:r.a+t*(e.a-r.a)}}function Lh(r,e,t){if(r){let n=Lx(r);n[e]=Math.max(0,Math.min(n[e]+n[e]*t,e===0?360:1)),n=Vx(n),r.r=n[0],r.g=n[1],r.b=n[2]}}function xE(r,e){return r&&Object.assign(e||{},r)}function pE(r){var e={r:0,g:0,b:0,a:255};return Array.isArray(r)?r.length>=3&&(e={r:r[0],g:r[1],b:r[2],a:255},r.length>3&&(e.a=Ts(r[3]))):(e=xE(r,{r:0,g:0,b:0,a:1}),e.a=Ts(e.a)),e}function ZY(r){return r.charAt(0)==="r"?WY(r):VY(r)}var Uf=class r{constructor(e){if(e instanceof r)return e;let t=typeof e,n;t==="object"?n=pE(e):t==="string"&&(n=FY(e)||$Y(e)||ZY(e)),this._rgb=n,this._valid=!!n}get valid(){return this._valid}get rgb(){var e=xE(this._rgb);return e&&(e.a=qo(e.a)),e}set rgb(e){this._rgb=pE(e)}rgbString(){return this._valid?GY(this._rgb):void 0}hexString(){return this._valid?OY(this._rgb):void 0}hslString(){return this._valid?qY(this._rgb):void 0}mix(e,t){if(e){let n=this.rgb,i=e.rgb,a,o=t===a?.5:t,s=2*o-1,l=n.a-i.a,u=((s*l===-1?s:(s+l)/(1+s*l))+1)/2;a=1-u,n.r=255&u*n.r+a*i.r+.5,n.g=255&u*n.g+a*i.g+.5,n.b=255&u*n.b+a*i.b+.5,n.a=o*n.a+(1-o)*i.a,this.rgb=n}return this}interpolate(e,t){return e&&(this._rgb=YY(this._rgb,e._rgb,t)),this}clone(){return new r(this.rgb)}alpha(e){return this._rgb.a=Ts(e),this}clearer(e){let t=this._rgb;return t.a*=1-e,this}greyscale(){let e=this._rgb,t=qf(e.r*.3+e.g*.59+e.b*.11);return e.r=e.g=e.b=t,this}opaquer(e){let t=this._rgb;return t.a*=1+e,this}negate(){let e=this._rgb;return e.r=255-e.r,e.g=255-e.g,e.b=255-e.b,this}lighten(e){return Lh(this._rgb,2,e),this}darken(e){return Lh(this._rgb,2,-e),this}saturate(e){return Lh(this._rgb,1,e),this}desaturate(e){return Lh(this._rgb,1,-e),this}rotate(e){return UY(this._rgb,e),this}};function co(){}var NE=(()=>{let r=0;return()=>r++})();function Qt(r){return r==null}function Fr(r){if(Array.isArray&&Array.isArray(r))return!0;let e=Object.prototype.toString.call(r);return e.slice(0,7)==="[object"&&e.slice(-6)==="Array]"}function tr(r){return r!==null&&Object.prototype.toString.call(r)==="[object Object]"}function Kr(r){return(typeof r=="number"||r instanceof Number)&&isFinite(+r)}function Ci(r,e){return Kr(r)?r:e}function Ut(r,e){return typeof r>"u"?e:r}var TE=(r,e)=>typeof r=="string"&&r.endsWith("%")?parseFloat(r)/100:+r/e,$x=(r,e)=>typeof r=="string"&&r.endsWith("%")?parseFloat(r)/100*e:+r;function Cr(r,e,t){if(r&&typeof r.call=="function")return r.apply(t,e)}function gr(r,e,t,n){let i,a,o;if(Fr(r))if(a=r.length,n)for(i=a-1;i>=0;i--)e.call(t,r[i],i);else for(i=0;i<a;i++)e.call(t,r[i],i);else if(tr(r))for(o=Object.keys(r),a=o.length,i=0;i<a;i++)e.call(t,r[o[i]],o[i])}function Hf(r,e){let t,n,i,a;if(!r||!e||r.length!==e.length)return!1;for(t=0,n=r.length;t<n;++t)if(i=r[t],a=e[t],i.datasetIndex!==a.datasetIndex||i.index!==a.index)return!1;return!0}function jh(r){if(Fr(r))return r.map(jh);if(tr(r)){let e=Object.create(null),t=Object.keys(r),n=t.length,i=0;for(;i<n;++i)e[t[i]]=jh(r[t[i]]);return e}return r}function FE(r){return["__proto__","prototype","constructor"].indexOf(r)===-1}function XY(r,e,t,n){if(!FE(r))return;let i=e[r],a=t[r];tr(i)&&tr(a)?rc(i,a,n):e[r]=jh(a)}function rc(r,e,t){let n=Fr(e)?e:[e],i=n.length;if(!tr(r))return r;t=t||{};let a=t.merger||XY,o;for(let s=0;s<i;++s){if(o=n[s],!tr(o))continue;let l=Object.keys(o);for(let u=0,c=l.length;u<c;++u)a(l[u],r,o,t)}return r}function ic(r,e){return rc(r,e,{merger:KY})}function KY(r,e,t){if(!FE(r))return;let n=e[r],i=t[r];tr(n)&&tr(i)?ic(n,i):Object.prototype.hasOwnProperty.call(e,r)||(e[r]=jh(i))}var yE={"":r=>r,x:r=>r.x,y:r=>r.y};function JY(r){let e=r.split("."),t=[],n="";for(let i of e)n+=i,n.endsWith("\\")?n=n.slice(0,-1)+".":(t.push(n),n="");return t}function QY(r){let e=JY(r);return t=>{for(let n of e){if(n==="")break;t=t&&t[n]}return t}}function Ho(r,e){return(yE[e]||(yE[e]=QY(e)))(r)}function Gh(r){return r.charAt(0).toUpperCase()+r.slice(1)}var ac=r=>typeof r<"u",jo=r=>typeof r=="function",Hx=(r,e)=>{if(r.size!==e.size)return!1;for(let t of r)if(!e.has(t))return!1;return!0};function IE(r){return r.type==="mouseup"||r.type==="click"||r.type==="contextmenu"}var Ir=Math.PI,Or=2*Ir,eZ=Or+Ir,$h=Number.POSITIVE_INFINITY,tZ=Ir/180,an=Ir/2,ql=Ir/4,bE=Ir*2/3,$o=Math.log10,Pa=Math.sign;function oc(r,e,t){return Math.abs(r-e)<t}function Wx(r){let e=Math.round(r);r=oc(r,e,r/1e3)?e:r;let t=Math.pow(10,Math.floor($o(r))),n=r/t;return(n<=1?1:n<=2?2:n<=5?5:10)*t}function OE(r){let e=[],t=Math.sqrt(r),n;for(n=1;n<t;n++)r%n===0&&(e.push(n),e.push(r/n));return t===(t|0)&&e.push(t),e.sort((i,a)=>i-a).pop(),e}function rZ(r){return typeof r=="symbol"||typeof r=="object"&&r!==null&&!(Symbol.toPrimitive in r||"toString"in r||"valueOf"in r)}function Hl(r){return!rZ(r)&&!isNaN(parseFloat(r))&&isFinite(r)}function RE(r,e){let t=Math.round(r);return t-e<=r&&t+e>=r}function Gx(r,e,t){let n,i,a;for(n=0,i=r.length;n<i;n++)a=r[n][t],isNaN(a)||(e.min=Math.min(e.min,a),e.max=Math.max(e.max,a))}function ua(r){return r*(Ir/180)}function Yh(r){return r*(180/Ir)}function Yx(r){if(!Kr(r))return;let e=1,t=0;for(;Math.round(r*e)/e!==r;)e*=10,t++;return t}function Zx(r,e){let t=e.x-r.x,n=e.y-r.y,i=Math.sqrt(t*t+n*n),a=Math.atan2(n,t);return a<-.5*Ir&&(a+=Or),{angle:a,distance:i}}function Hh(r,e){return Math.sqrt(Math.pow(e.x-r.x,2)+Math.pow(e.y-r.y,2))}function nZ(r,e){return(r-e+eZ)%Or-Ir}function Di(r){return(r%Or+Or)%Or}function sc(r,e,t,n){let i=Di(r),a=Di(e),o=Di(t),s=Di(a-i),l=Di(o-i),u=Di(i-a),c=Di(i-o);return i===a||i===o||n&&a===o||s>l&&u<c}function Dn(r,e,t){return Math.max(e,Math.min(t,r))}function kE(r){return Dn(r,-32768,32767)}function fo(r,e,t,n=1e-6){return r>=Math.min(e,t)-n&&r<=Math.max(e,t)+n}function Zh(r,e,t){t=t||(o=>r[o]<e);let n=r.length-1,i=0,a;for(;n-i>1;)a=i+n>>1,t(a)?i=a:n=a;return{lo:i,hi:n}}var lo=(r,e,t,n)=>Zh(r,t,n?i=>{let a=r[i][e];return a<t||a===t&&r[i+1][e]===t}:i=>r[i][e]<t),PE=(r,e,t)=>Zh(r,t,n=>r[n][e]>=t);function BE(r,e,t){let n=0,i=r.length;for(;n<i&&r[n]<e;)n++;for(;i>n&&r[i-1]>t;)i--;return n>0||i<r.length?r.slice(n,i):r}var LE=["push","pop","shift","splice","unshift"];function zE(r,e){if(r._chartjs){r._chartjs.listeners.push(e);return}Object.defineProperty(r,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[e]}}),LE.forEach(t=>{let n="_onData"+Gh(t),i=r[t];Object.defineProperty(r,t,{configurable:!0,enumerable:!1,value(...a){let o=i.apply(this,a);return r._chartjs.listeners.forEach(s=>{typeof s[n]=="function"&&s[n](...a)}),o}})})}function Xx(r,e){let t=r._chartjs;if(!t)return;let n=t.listeners,i=n.indexOf(e);i!==-1&&n.splice(i,1),!(n.length>0)&&(LE.forEach(a=>{delete r[a]}),delete r._chartjs)}function Kx(r){let e=new Set(r);return e.size===r.length?r:Array.from(e)}var Jx=function(){return typeof window>"u"?function(r){return r()}:window.requestAnimationFrame}();function Qx(r,e){let t=[],n=!1;return function(...i){t=i,n||(n=!0,Jx.call(window,()=>{n=!1,r.apply(e,t)}))}}function VE(r,e){let t;return function(...n){return e?(clearTimeout(t),t=setTimeout(r,e,n)):r.apply(this,n),e}}var Xh=r=>r==="start"?"left":r==="end"?"right":"center",Vn=(r,e,t)=>r==="start"?e:r==="end"?t:(e+t)/2,UE=(r,e,t,n)=>r===(n?"left":"right")?t:r==="center"?(e+t)/2:e;function ey(r,e,t){let n=e.length,i=0,a=n;if(r._sorted){let{iScale:o,vScale:s,_parsed:l}=r,u=r.dataset&&r.dataset.options?r.dataset.options.spanGaps:null,c=o.axis,{min:d,max:f,minDefined:m,maxDefined:p}=o.getUserBounds();if(m){if(i=Math.min(lo(l,c,d).lo,t?n:lo(e,c,o.getPixelForValue(d)).lo),u){let h=l.slice(0,i+1).reverse().findIndex(v=>!Qt(v[s.axis]));i-=Math.max(0,h)}i=Dn(i,0,n-1)}if(p){let h=Math.max(lo(l,o.axis,f,!0).hi+1,t?0:lo(e,c,o.getPixelForValue(f),!0).hi+1);if(u){let v=l.slice(h-1).findIndex(y=>!Qt(y[s.axis]));h+=Math.max(0,v)}a=Dn(h,i,n)-i}else a=n-i}return{start:i,count:a}}function ty(r){let{xScale:e,yScale:t,_scaleRanges:n}=r,i={xmin:e.min,xmax:e.max,ymin:t.min,ymax:t.max};if(!n)return r._scaleRanges=i,!0;let a=n.xmin!==e.min||n.xmax!==e.max||n.ymin!==t.min||n.ymax!==t.max;return Object.assign(n,i),a}var zh=r=>r===0||r===1,wE=(r,e,t)=>-(Math.pow(2,10*(r-=1))*Math.sin((r-e)*Or/t)),_E=(r,e,t)=>Math.pow(2,-10*r)*Math.sin((r-e)*Or/t)+1,tc={linear:r=>r,easeInQuad:r=>r*r,easeOutQuad:r=>-r*(r-2),easeInOutQuad:r=>(r/=.5)<1?.5*r*r:-.5*(--r*(r-2)-1),easeInCubic:r=>r*r*r,easeOutCubic:r=>(r-=1)*r*r+1,easeInOutCubic:r=>(r/=.5)<1?.5*r*r*r:.5*((r-=2)*r*r+2),easeInQuart:r=>r*r*r*r,easeOutQuart:r=>-((r-=1)*r*r*r-1),easeInOutQuart:r=>(r/=.5)<1?.5*r*r*r*r:-.5*((r-=2)*r*r*r-2),easeInQuint:r=>r*r*r*r*r,easeOutQuint:r=>(r-=1)*r*r*r*r+1,easeInOutQuint:r=>(r/=.5)<1?.5*r*r*r*r*r:.5*((r-=2)*r*r*r*r+2),easeInSine:r=>-Math.cos(r*an)+1,easeOutSine:r=>Math.sin(r*an),easeInOutSine:r=>-.5*(Math.cos(Ir*r)-1),easeInExpo:r=>r===0?0:Math.pow(2,10*(r-1)),easeOutExpo:r=>r===1?1:-Math.pow(2,-10*r)+1,easeInOutExpo:r=>zh(r)?r:r<.5?.5*Math.pow(2,10*(r*2-1)):.5*(-Math.pow(2,-10*(r*2-1))+2),easeInCirc:r=>r>=1?r:-(Math.sqrt(1-r*r)-1),easeOutCirc:r=>Math.sqrt(1-(r-=1)*r),easeInOutCirc:r=>(r/=.5)<1?-.5*(Math.sqrt(1-r*r)-1):.5*(Math.sqrt(1-(r-=2)*r)+1),easeInElastic:r=>zh(r)?r:wE(r,.075,.3),easeOutElastic:r=>zh(r)?r:_E(r,.075,.3),easeInOutElastic(r){return zh(r)?r:r<.5?.5*wE(r*2,.1125,.45):.5+.5*_E(r*2-1,.1125,.45)},easeInBack(r){return r*r*((1.70158+1)*r-1.70158)},easeOutBack(r){return(r-=1)*r*((1.70158+1)*r+1.70158)+1},easeInOutBack(r){let e=1.70158;return(r/=.5)<1?.5*(r*r*(((e*=1.525)+1)*r-e)):.5*((r-=2)*r*(((e*=1.525)+1)*r+e)+2)},easeInBounce:r=>1-tc.easeOutBounce(1-r),easeOutBounce(r){return r<1/2.75?7.5625*r*r:r<2/2.75?7.5625*(r-=1.5/2.75)*r+.75:r<2.5/2.75?7.5625*(r-=2.25/2.75)*r+.9375:7.5625*(r-=2.625/2.75)*r+.984375},easeInOutBounce:r=>r<.5?tc.easeInBounce(r*2)*.5:tc.easeOutBounce(r*2-1)*.5+.5};function ry(r){if(r&&typeof r=="object"){let e=r.toString();return e==="[object CanvasPattern]"||e==="[object CanvasGradient]"}return!1}function ny(r){return ry(r)?r:new Uf(r)}function Ux(r){return ry(r)?r:new Uf(r).saturate(.5).darken(.1).hexString()}var iZ=["x","y","borderWidth","radius","tension"],aZ=["color","borderColor","backgroundColor"];function oZ(r){r.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),r.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:e=>e!=="onProgress"&&e!=="onComplete"&&e!=="fn"}),r.set("animations",{colors:{type:"color",properties:aZ},numbers:{type:"number",properties:iZ}}),r.describe("animations",{_fallback:"animation"}),r.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:e=>e|0}}}})}function sZ(r){r.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})}var SE=new Map;function lZ(r,e){e=e||{};let t=r+JSON.stringify(e),n=SE.get(t);return n||(n=new Intl.NumberFormat(r,e),SE.set(t,n)),n}function lc(r,e,t){return lZ(e,t).format(r)}var qE={values(r){return Fr(r)?r:""+r},numeric(r,e,t){if(r===0)return"0";let n=this.chart.options.locale,i,a=r;if(t.length>1){let u=Math.max(Math.abs(t[0].value),Math.abs(t[t.length-1].value));(u<1e-4||u>1e15)&&(i="scientific"),a=uZ(r,t)}let o=$o(Math.abs(a)),s=isNaN(o)?1:Math.max(Math.min(-1*Math.floor(o),20),0),l={notation:i,minimumFractionDigits:s,maximumFractionDigits:s};return Object.assign(l,this.options.ticks.format),lc(r,n,l)},logarithmic(r,e,t){if(r===0)return"0";let n=t[e].significand||r/Math.pow(10,Math.floor($o(r)));return[1,2,3,5,10,15].includes(n)||e>.8*t.length?qE.numeric.call(this,r,e,t):""}};function uZ(r,e){let t=e.length>3?e[2].value-e[1].value:e[1].value-e[0].value;return Math.abs(t)>=1&&r!==Math.floor(r)&&(t=r-Math.floor(r)),t}var Wf={formatters:qE};function cZ(r){r.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(e,t)=>t.lineWidth,tickColor:(e,t)=>t.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:Wf.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),r.route("scale.ticks","color","","color"),r.route("scale.grid","color","","borderColor"),r.route("scale.border","color","","borderColor"),r.route("scale.title","color","","color"),r.describe("scale",{_fallback:!1,_scriptable:e=>!e.startsWith("before")&&!e.startsWith("after")&&e!=="callback"&&e!=="parser",_indexable:e=>e!=="borderDash"&&e!=="tickBorderDash"&&e!=="dash"}),r.describe("scales",{_fallback:"scale"}),r.describe("scale.ticks",{_scriptable:e=>e!=="backdropPadding"&&e!=="callback",_indexable:e=>e!=="backdropPadding"})}var Is=Object.create(null),Kh=Object.create(null);function jf(r,e){if(!e)return r;let t=e.split(".");for(let n=0,i=t.length;n<i;++n){let a=t[n];r=r[a]||(r[a]=Object.create(null))}return r}function qx(r,e,t){return typeof e=="string"?rc(jf(r,e),t):rc(jf(r,""),e)}var jx=class{constructor(e,t){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=n=>n.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(n,i)=>Ux(i.backgroundColor),this.hoverBorderColor=(n,i)=>Ux(i.borderColor),this.hoverColor=(n,i)=>Ux(i.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(e),this.apply(t)}set(e,t){return qx(this,e,t)}get(e){return jf(this,e)}describe(e,t){return qx(Kh,e,t)}override(e,t){return qx(Is,e,t)}route(e,t,n,i){let a=jf(this,e),o=jf(this,n),s="_"+t;Object.defineProperties(a,{[s]:{value:a[t],writable:!0},[t]:{enumerable:!0,get(){let l=this[s],u=o[i];return tr(l)?Object.assign({},u,l):Ut(l,u)},set(l){this[s]=l}}})}apply(e){e.forEach(t=>t(this))}},Rr=new jx({_scriptable:r=>!r.startsWith("on"),_indexable:r=>r!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[oZ,sZ,cZ]);function dZ(r){return!r||Qt(r.size)||Qt(r.family)?null:(r.style?r.style+" ":"")+(r.weight?r.weight+" ":"")+r.size+"px "+r.family}function $f(r,e,t,n,i){let a=e[i];return a||(a=e[i]=r.measureText(i).width,t.push(i)),a>n&&(n=a),n}function jE(r,e,t,n){n=n||{};let i=n.data=n.data||{},a=n.garbageCollect=n.garbageCollect||[];n.font!==e&&(i=n.data={},a=n.garbageCollect=[],n.font=e),r.save(),r.font=e;let o=0,s=t.length,l,u,c,d,f;for(l=0;l<s;l++)if(d=t[l],d!=null&&!Fr(d))o=$f(r,i,a,o,d);else if(Fr(d))for(u=0,c=d.length;u<c;u++)f=d[u],f!=null&&!Fr(f)&&(o=$f(r,i,a,o,f));r.restore();let m=a.length/2;if(m>t.length){for(l=0;l<m;l++)delete i[a[l]];a.splice(0,m)}return o}function Os(r,e,t){let n=r.currentDevicePixelRatio,i=t!==0?Math.max(t/2,.5):0;return Math.round((e-i)*n)/n+i}function iy(r,e){!e&&!r||(e=e||r.getContext("2d"),e.save(),e.resetTransform(),e.clearRect(0,0,r.width,r.height),e.restore())}function Jh(r,e,t,n){ay(r,e,t,n,null)}function ay(r,e,t,n,i){let a,o,s,l,u,c,d,f,m=e.pointStyle,p=e.rotation,h=e.radius,v=(p||0)*tZ;if(m&&typeof m=="object"&&(a=m.toString(),a==="[object HTMLImageElement]"||a==="[object HTMLCanvasElement]")){r.save(),r.translate(t,n),r.rotate(v),r.drawImage(m,-m.width/2,-m.height/2,m.width,m.height),r.restore();return}if(!(isNaN(h)||h<=0)){switch(r.beginPath(),m){default:i?r.ellipse(t,n,i/2,h,0,0,Or):r.arc(t,n,h,0,Or),r.closePath();break;case"triangle":c=i?i/2:h,r.moveTo(t+Math.sin(v)*c,n-Math.cos(v)*h),v+=bE,r.lineTo(t+Math.sin(v)*c,n-Math.cos(v)*h),v+=bE,r.lineTo(t+Math.sin(v)*c,n-Math.cos(v)*h),r.closePath();break;case"rectRounded":u=h*.516,l=h-u,o=Math.cos(v+ql)*l,d=Math.cos(v+ql)*(i?i/2-u:l),s=Math.sin(v+ql)*l,f=Math.sin(v+ql)*(i?i/2-u:l),r.arc(t-d,n-s,u,v-Ir,v-an),r.arc(t+f,n-o,u,v-an,v),r.arc(t+d,n+s,u,v,v+an),r.arc(t-f,n+o,u,v+an,v+Ir),r.closePath();break;case"rect":if(!p){l=Math.SQRT1_2*h,c=i?i/2:l,r.rect(t-c,n-l,2*c,2*l);break}v+=ql;case"rectRot":d=Math.cos(v)*(i?i/2:h),o=Math.cos(v)*h,s=Math.sin(v)*h,f=Math.sin(v)*(i?i/2:h),r.moveTo(t-d,n-s),r.lineTo(t+f,n-o),r.lineTo(t+d,n+s),r.lineTo(t-f,n+o),r.closePath();break;case"crossRot":v+=ql;case"cross":d=Math.cos(v)*(i?i/2:h),o=Math.cos(v)*h,s=Math.sin(v)*h,f=Math.sin(v)*(i?i/2:h),r.moveTo(t-d,n-s),r.lineTo(t+d,n+s),r.moveTo(t+f,n-o),r.lineTo(t-f,n+o);break;case"star":d=Math.cos(v)*(i?i/2:h),o=Math.cos(v)*h,s=Math.sin(v)*h,f=Math.sin(v)*(i?i/2:h),r.moveTo(t-d,n-s),r.lineTo(t+d,n+s),r.moveTo(t+f,n-o),r.lineTo(t-f,n+o),v+=ql,d=Math.cos(v)*(i?i/2:h),o=Math.cos(v)*h,s=Math.sin(v)*h,f=Math.sin(v)*(i?i/2:h),r.moveTo(t-d,n-s),r.lineTo(t+d,n+s),r.moveTo(t+f,n-o),r.lineTo(t-f,n+o);break;case"line":o=i?i/2:Math.cos(v)*h,s=Math.sin(v)*h,r.moveTo(t-o,n-s),r.lineTo(t+o,n+s);break;case"dash":r.moveTo(t,n),r.lineTo(t+Math.cos(v)*(i?i/2:h),n+Math.sin(v)*h);break;case!1:r.closePath();break}r.fill(),e.borderWidth>0&&r.stroke()}}function uo(r,e,t){return t=t||.5,!e||r&&r.x>e.left-t&&r.x<e.right+t&&r.y>e.top-t&&r.y<e.bottom+t}function Gf(r,e){r.save(),r.beginPath(),r.rect(e.left,e.top,e.right-e.left,e.bottom-e.top),r.clip()}function Yf(r){r.restore()}function $E(r,e,t,n,i){if(!e)return r.lineTo(t.x,t.y);if(i==="middle"){let a=(e.x+t.x)/2;r.lineTo(a,e.y),r.lineTo(a,t.y)}else i==="after"!=!!n?r.lineTo(e.x,t.y):r.lineTo(t.x,e.y);r.lineTo(t.x,t.y)}function HE(r,e,t,n){if(!e)return r.lineTo(t.x,t.y);r.bezierCurveTo(n?e.cp1x:e.cp2x,n?e.cp1y:e.cp2y,n?t.cp2x:t.cp1x,n?t.cp2y:t.cp1y,t.x,t.y)}function fZ(r,e){e.translation&&r.translate(e.translation[0],e.translation[1]),Qt(e.rotation)||r.rotate(e.rotation),e.color&&(r.fillStyle=e.color),e.textAlign&&(r.textAlign=e.textAlign),e.textBaseline&&(r.textBaseline=e.textBaseline)}function mZ(r,e,t,n,i){if(i.strikethrough||i.underline){let a=r.measureText(n),o=e-a.actualBoundingBoxLeft,s=e+a.actualBoundingBoxRight,l=t-a.actualBoundingBoxAscent,u=t+a.actualBoundingBoxDescent,c=i.strikethrough?(l+u)/2:u;r.strokeStyle=r.fillStyle,r.beginPath(),r.lineWidth=i.decorationWidth||2,r.moveTo(o,c),r.lineTo(s,c),r.stroke()}}function hZ(r,e){let t=r.fillStyle;r.fillStyle=e.color,r.fillRect(e.left,e.top,e.width,e.height),r.fillStyle=t}function Rs(r,e,t,n,i,a={}){let o=Fr(e)?e:[e],s=a.strokeWidth>0&&a.strokeColor!=="",l,u;for(r.save(),r.font=i.string,fZ(r,a),l=0;l<o.length;++l)u=o[l],a.backdrop&&hZ(r,a.backdrop),s&&(a.strokeColor&&(r.strokeStyle=a.strokeColor),Qt(a.strokeWidth)||(r.lineWidth=a.strokeWidth),r.strokeText(u,t,n,a.maxWidth)),r.fillText(u,t,n,a.maxWidth),mZ(r,t,n,u,a),n+=Number(i.lineHeight);r.restore()}function uc(r,e){let{x:t,y:n,w:i,h:a,radius:o}=e;r.arc(t+o.topLeft,n+o.topLeft,o.topLeft,1.5*Ir,Ir,!0),r.lineTo(t,n+a-o.bottomLeft),r.arc(t+o.bottomLeft,n+a-o.bottomLeft,o.bottomLeft,Ir,an,!0),r.lineTo(t+i-o.bottomRight,n+a),r.arc(t+i-o.bottomRight,n+a-o.bottomRight,o.bottomRight,an,0,!0),r.lineTo(t+i,n+o.topRight),r.arc(t+i-o.topRight,n+o.topRight,o.topRight,0,-an,!0),r.lineTo(t+o.topLeft,n)}var pZ=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,gZ=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function vZ(r,e){let t=(""+r).match(pZ);if(!t||t[1]==="normal")return e*1.2;switch(r=+t[2],t[3]){case"px":return r;case"%":r/=100;break}return e*r}var xZ=r=>+r||0;function Qh(r,e){let t={},n=tr(e),i=n?Object.keys(e):e,a=tr(r)?n?o=>Ut(r[o],r[e[o]]):o=>r[o]:()=>r;for(let o of i)t[o]=xZ(a(o));return t}function oy(r){return Qh(r,{top:"y",right:"x",bottom:"y",left:"x"})}function ks(r){return Qh(r,["topLeft","topRight","bottomLeft","bottomRight"])}function Un(r){let e=oy(r);return e.width=e.left+e.right,e.height=e.top+e.bottom,e}function pn(r,e){r=r||{},e=e||Rr.font;let t=Ut(r.size,e.size);typeof t=="string"&&(t=parseInt(t,10));let n=Ut(r.style,e.style);n&&!(""+n).match(gZ)&&(console.warn('Invalid font style specified: "'+n+'"'),n=void 0);let i={family:Ut(r.family,e.family),lineHeight:vZ(Ut(r.lineHeight,e.lineHeight),t),size:t,style:n,weight:Ut(r.weight,e.weight),string:""};return i.string=dZ(i),i}function cc(r,e,t,n){let i=!0,a,o,s;for(a=0,o=r.length;a<o;++a)if(s=r[a],s!==void 0&&(e!==void 0&&typeof s=="function"&&(s=s(e),i=!1),t!==void 0&&Fr(s)&&(s=s[t%s.length],i=!1),s!==void 0))return n&&!i&&(n.cacheable=!1),s}function WE(r,e,t){let{min:n,max:i}=r,a=$x(e,(i-n)/2),o=(s,l)=>t&&s===0?0:s+l;return{min:o(n,-Math.abs(a)),max:o(i,a)}}function Wo(r,e){return Object.assign(Object.create(r),e)}function ep(r,e=[""],t,n,i=()=>r[0]){let a=t||r;typeof n>"u"&&(n=ZE("_fallback",r));let o={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:r,_rootScopes:a,_fallback:n,_getTarget:i,override:s=>ep([s,...r],e,a,n)};return new Proxy(o,{deleteProperty(s,l){return delete s[l],delete s._keys,delete r[0][l],!0},get(s,l){return GE(s,l,()=>EZ(l,e,r,s))},getOwnPropertyDescriptor(s,l){return Reflect.getOwnPropertyDescriptor(s._scopes[0],l)},getPrototypeOf(){return Reflect.getPrototypeOf(r[0])},has(s,l){return CE(s).includes(l)},ownKeys(s){return CE(s)},set(s,l,u){let c=s._storage||(s._storage=i());return s[l]=c[l]=u,delete s._keys,!0}})}function $l(r,e,t,n){let i={_cacheable:!1,_proxy:r,_context:e,_subProxy:t,_stack:new Set,_descriptors:sy(r,n),setContext:a=>$l(r,a,t,n),override:a=>$l(r.override(a),e,t,n)};return new Proxy(i,{deleteProperty(a,o){return delete a[o],delete r[o],!0},get(a,o,s){return GE(a,o,()=>bZ(a,o,s))},getOwnPropertyDescriptor(a,o){return a._descriptors.allKeys?Reflect.has(r,o)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(r,o)},getPrototypeOf(){return Reflect.getPrototypeOf(r)},has(a,o){return Reflect.has(r,o)},ownKeys(){return Reflect.ownKeys(r)},set(a,o,s){return r[o]=s,delete a[o],!0}})}function sy(r,e={scriptable:!0,indexable:!0}){let{_scriptable:t=e.scriptable,_indexable:n=e.indexable,_allKeys:i=e.allKeys}=r;return{allKeys:i,scriptable:t,indexable:n,isScriptable:jo(t)?t:()=>t,isIndexable:jo(n)?n:()=>n}}var yZ=(r,e)=>r?r+Gh(e):e,ly=(r,e)=>tr(e)&&r!=="adapters"&&(Object.getPrototypeOf(e)===null||e.constructor===Object);function GE(r,e,t){if(Object.prototype.hasOwnProperty.call(r,e)||e==="constructor")return r[e];let n=t();return r[e]=n,n}function bZ(r,e,t){let{_proxy:n,_context:i,_subProxy:a,_descriptors:o}=r,s=n[e];return jo(s)&&o.isScriptable(e)&&(s=wZ(e,s,r,t)),Fr(s)&&s.length&&(s=_Z(e,s,r,o.isIndexable)),ly(e,s)&&(s=$l(s,i,a&&a[e],o)),s}function wZ(r,e,t,n){let{_proxy:i,_context:a,_subProxy:o,_stack:s}=t;if(s.has(r))throw new Error("Recursion detected: "+Array.from(s).join("->")+"->"+r);s.add(r);let l=e(a,o||n);return s.delete(r),ly(r,l)&&(l=uy(i._scopes,i,r,l)),l}function _Z(r,e,t,n){let{_proxy:i,_context:a,_subProxy:o,_descriptors:s}=t;if(typeof a.index<"u"&&n(r))return e[a.index%e.length];if(tr(e[0])){let l=e,u=i._scopes.filter(c=>c!==l);e=[];for(let c of l){let d=uy(u,i,r,c);e.push($l(d,a,o&&o[r],s))}}return e}function YE(r,e,t){return jo(r)?r(e,t):r}var SZ=(r,e)=>r===!0?e:typeof r=="string"?Ho(e,r):void 0;function DZ(r,e,t,n,i){for(let a of e){let o=SZ(t,a);if(o){r.add(o);let s=YE(o._fallback,t,i);if(typeof s<"u"&&s!==t&&s!==n)return s}else if(o===!1&&typeof n<"u"&&t!==n)return null}return!1}function uy(r,e,t,n){let i=e._rootScopes,a=YE(e._fallback,t,n),o=[...r,...i],s=new Set;s.add(n);let l=DE(s,o,t,a||t,n);return l===null||typeof a<"u"&&a!==t&&(l=DE(s,o,a,l,n),l===null)?!1:ep(Array.from(s),[""],i,a,()=>CZ(e,t,n))}function DE(r,e,t,n,i){for(;t;)t=DZ(r,e,t,n,i);return t}function CZ(r,e,t){let n=r._getTarget();e in n||(n[e]={});let i=n[e];return Fr(i)&&tr(t)?t:i||{}}function EZ(r,e,t,n){let i;for(let a of e)if(i=ZE(yZ(a,r),t),typeof i<"u")return ly(r,i)?uy(t,n,r,i):i}function ZE(r,e){for(let t of e){if(!t)continue;let n=t[r];if(typeof n<"u")return n}}function CE(r){let e=r._keys;return e||(e=r._keys=AZ(r._scopes)),e}function AZ(r){let e=new Set;for(let t of r)for(let n of Object.keys(t).filter(i=>!i.startsWith("_")))e.add(n);return Array.from(e)}function cy(r,e,t,n){let{iScale:i}=r,{key:a="r"}=this._parsing,o=new Array(n),s,l,u,c;for(s=0,l=n;s<l;++s)u=s+t,c=e[u],o[s]={r:i.parse(Ho(c,a),u)};return o}var MZ=Number.EPSILON||1e-14,nc=(r,e)=>e<r.length&&!r[e].skip&&r[e],XE=r=>r==="x"?"y":"x";function NZ(r,e,t,n){let i=r.skip?e:r,a=e,o=t.skip?e:t,s=Hh(a,i),l=Hh(o,a),u=s/(s+l),c=l/(s+l);u=isNaN(u)?0:u,c=isNaN(c)?0:c;let d=n*u,f=n*c;return{previous:{x:a.x-d*(o.x-i.x),y:a.y-d*(o.y-i.y)},next:{x:a.x+f*(o.x-i.x),y:a.y+f*(o.y-i.y)}}}function TZ(r,e,t){let n=r.length,i,a,o,s,l,u=nc(r,0);for(let c=0;c<n-1;++c)if(l=u,u=nc(r,c+1),!(!l||!u)){if(oc(e[c],0,MZ)){t[c]=t[c+1]=0;continue}i=t[c]/e[c],a=t[c+1]/e[c],s=Math.pow(i,2)+Math.pow(a,2),!(s<=9)&&(o=3/Math.sqrt(s),t[c]=i*o*e[c],t[c+1]=a*o*e[c])}}function FZ(r,e,t="x"){let n=XE(t),i=r.length,a,o,s,l=nc(r,0);for(let u=0;u<i;++u){if(o=s,s=l,l=nc(r,u+1),!s)continue;let c=s[t],d=s[n];o&&(a=(c-o[t])/3,s[`cp1${t}`]=c-a,s[`cp1${n}`]=d-a*e[u]),l&&(a=(l[t]-c)/3,s[`cp2${t}`]=c+a,s[`cp2${n}`]=d+a*e[u])}}function IZ(r,e="x"){let t=XE(e),n=r.length,i=Array(n).fill(0),a=Array(n),o,s,l,u=nc(r,0);for(o=0;o<n;++o)if(s=l,l=u,u=nc(r,o+1),!!l){if(u){let c=u[e]-l[e];i[o]=c!==0?(u[t]-l[t])/c:0}a[o]=s?u?Pa(i[o-1])!==Pa(i[o])?0:(i[o-1]+i[o])/2:i[o-1]:i[o]}TZ(r,i,a),FZ(r,a,e)}function Vh(r,e,t){return Math.max(Math.min(r,t),e)}function OZ(r,e){let t,n,i,a,o,s=uo(r[0],e);for(t=0,n=r.length;t<n;++t)o=a,a=s,s=t<n-1&&uo(r[t+1],e),a&&(i=r[t],o&&(i.cp1x=Vh(i.cp1x,e.left,e.right),i.cp1y=Vh(i.cp1y,e.top,e.bottom)),s&&(i.cp2x=Vh(i.cp2x,e.left,e.right),i.cp2y=Vh(i.cp2y,e.top,e.bottom)))}function KE(r,e,t,n,i){let a,o,s,l;if(e.spanGaps&&(r=r.filter(u=>!u.skip)),e.cubicInterpolationMode==="monotone")IZ(r,i);else{let u=n?r[r.length-1]:r[0];for(a=0,o=r.length;a<o;++a)s=r[a],l=NZ(u,s,r[Math.min(a+1,o-(n?0:1))%o],e.tension),s.cp1x=l.previous.x,s.cp1y=l.previous.y,s.cp2x=l.next.x,s.cp2y=l.next.y,u=s}e.capBezierPoints&&OZ(r,t)}function tp(){return typeof window<"u"&&typeof document<"u"}function rp(r){let e=r.parentNode;return e&&e.toString()==="[object ShadowRoot]"&&(e=e.host),e}function Wh(r,e,t){let n;return typeof r=="string"?(n=parseInt(r,10),r.indexOf("%")!==-1&&(n=n/100*e.parentNode[t])):n=r,n}var np=r=>r.ownerDocument.defaultView.getComputedStyle(r,null);function RZ(r,e){return np(r).getPropertyValue(e)}var kZ=["top","right","bottom","left"];function jl(r,e,t){let n={};t=t?"-"+t:"";for(let i=0;i<4;i++){let a=kZ[i];n[a]=parseFloat(r[e+"-"+a+t])||0}return n.width=n.left+n.right,n.height=n.top+n.bottom,n}var PZ=(r,e,t)=>(r>0||e>0)&&(!t||!t.shadowRoot);function BZ(r,e){let t=r.touches,n=t&&t.length?t[0]:r,{offsetX:i,offsetY:a}=n,o=!1,s,l;if(PZ(i,a,r.target))s=i,l=a;else{let u=e.getBoundingClientRect();s=n.clientX-u.left,l=n.clientY-u.top,o=!0}return{x:s,y:l,box:o}}function Ps(r,e){if("native"in r)return r;let{canvas:t,currentDevicePixelRatio:n}=e,i=np(t),a=i.boxSizing==="border-box",o=jl(i,"padding"),s=jl(i,"border","width"),{x:l,y:u,box:c}=BZ(r,t),d=o.left+(c&&s.left),f=o.top+(c&&s.top),{width:m,height:p}=e;return a&&(m-=o.width+s.width,p-=o.height+s.height),{x:Math.round((l-d)/m*t.width/n),y:Math.round((u-f)/p*t.height/n)}}function LZ(r,e,t){let n,i;if(e===void 0||t===void 0){let a=r&&rp(r);if(!a)e=r.clientWidth,t=r.clientHeight;else{let o=a.getBoundingClientRect(),s=np(a),l=jl(s,"border","width"),u=jl(s,"padding");e=o.width-u.width-l.width,t=o.height-u.height-l.height,n=Wh(s.maxWidth,a,"clientWidth"),i=Wh(s.maxHeight,a,"clientHeight")}}return{width:e,height:t,maxWidth:n||$h,maxHeight:i||$h}}var Uh=r=>Math.round(r*10)/10;function JE(r,e,t,n){let i=np(r),a=jl(i,"margin"),o=Wh(i.maxWidth,r,"clientWidth")||$h,s=Wh(i.maxHeight,r,"clientHeight")||$h,l=LZ(r,e,t),{width:u,height:c}=l;if(i.boxSizing==="content-box"){let f=jl(i,"border","width"),m=jl(i,"padding");u-=m.width+f.width,c-=m.height+f.height}return u=Math.max(0,u-a.width),c=Math.max(0,n?u/n:c-a.height),u=Uh(Math.min(u,o,l.maxWidth)),c=Uh(Math.min(c,s,l.maxHeight)),u&&!c&&(c=Uh(u/2)),(e!==void 0||t!==void 0)&&n&&l.height&&c>l.height&&(c=l.height,u=Uh(Math.floor(c*n))),{width:u,height:c}}function dy(r,e,t){let n=e||1,i=Math.floor(r.height*n),a=Math.floor(r.width*n);r.height=Math.floor(r.height),r.width=Math.floor(r.width);let o=r.canvas;return o.style&&(t||!o.style.height&&!o.style.width)&&(o.style.height=`${r.height}px`,o.style.width=`${r.width}px`),r.currentDevicePixelRatio!==n||o.height!==i||o.width!==a?(r.currentDevicePixelRatio=n,o.height=i,o.width=a,r.ctx.setTransform(n,0,0,n,0,0),!0):!1}var QE=function(){let r=!1;try{let e={get passive(){return r=!0,!1}};tp()&&(window.addEventListener("test",null,e),window.removeEventListener("test",null,e))}catch{}return r}();function fy(r,e){let t=RZ(r,e),n=t&&t.match(/^(\d+)(\.\d+)?px$/);return n?+n[1]:void 0}function Fs(r,e,t,n){return{x:r.x+t*(e.x-r.x),y:r.y+t*(e.y-r.y)}}function e8(r,e,t,n){return{x:r.x+t*(e.x-r.x),y:n==="middle"?t<.5?r.y:e.y:n==="after"?t<1?r.y:e.y:t>0?e.y:r.y}}function t8(r,e,t,n){let i={x:r.cp2x,y:r.cp2y},a={x:e.cp1x,y:e.cp1y},o=Fs(r,i,t),s=Fs(i,a,t),l=Fs(a,e,t),u=Fs(o,s,t),c=Fs(s,l,t);return Fs(u,c,t)}var zZ=function(r,e){return{x(t){return r+r+e-t},setWidth(t){e=t},textAlign(t){return t==="center"?t:t==="right"?"left":"right"},xPlus(t,n){return t-n},leftForLtr(t,n){return t-n}}},VZ=function(){return{x(r){return r},setWidth(r){},textAlign(r){return r},xPlus(r,e){return r+e},leftForLtr(r,e){return r}}};function Wl(r,e,t){return r?zZ(e,t):VZ()}function my(r,e){let t,n;(e==="ltr"||e==="rtl")&&(t=r.canvas.style,n=[t.getPropertyValue("direction"),t.getPropertyPriority("direction")],t.setProperty("direction",e,"important"),r.prevTextDirection=n)}function hy(r,e){e!==void 0&&(delete r.prevTextDirection,r.canvas.style.setProperty("direction",e[0],e[1]))}function r8(r){return r==="angle"?{between:sc,compare:nZ,normalize:Di}:{between:fo,compare:(e,t)=>e-t,normalize:e=>e}}function EE({start:r,end:e,count:t,loop:n,style:i}){return{start:r%t,end:e%t,loop:n&&(e-r+1)%t===0,style:i}}function UZ(r,e,t){let{property:n,start:i,end:a}=t,{between:o,normalize:s}=r8(n),l=e.length,{start:u,end:c,loop:d}=r,f,m;if(d){for(u+=l,c+=l,f=0,m=l;f<m&&o(s(e[u%l][n]),i,a);++f)u--,c--;u%=l,c%=l}return c<u&&(c+=l),{start:u,end:c,loop:d,style:r.style}}function py(r,e,t){if(!t)return[r];let{property:n,start:i,end:a}=t,o=e.length,{compare:s,between:l,normalize:u}=r8(n),{start:c,end:d,loop:f,style:m}=UZ(r,e,t),p=[],h=!1,v=null,y,S,x,_=()=>l(i,x,y)&&s(i,x)!==0,w=()=>s(a,y)===0||l(a,x,y),b=()=>h||_(),C=()=>!h||w();for(let E=c,D=c;E<=d;++E)S=e[E%o],!S.skip&&(y=u(S[n]),y!==x&&(h=l(y,i,a),v===null&&b()&&(v=s(y,i)===0?E:D),v!==null&&C()&&(p.push(EE({start:v,end:E,loop:f,count:o,style:m})),v=null),D=E,x=y));return v!==null&&p.push(EE({start:v,end:d,loop:f,count:o,style:m})),p}function gy(r,e){let t=[],n=r.segments;for(let i=0;i<n.length;i++){let a=py(n[i],r.points,e);a.length&&t.push(...a)}return t}function qZ(r,e,t,n){let i=0,a=e-1;if(t&&!n)for(;i<e&&!r[i].skip;)i++;for(;i<e&&r[i].skip;)i++;for(i%=e,t&&(a+=i);a>i&&r[a%e].skip;)a--;return a%=e,{start:i,end:a}}function jZ(r,e,t,n){let i=r.length,a=[],o=e,s=r[e],l;for(l=e+1;l<=t;++l){let u=r[l%i];u.skip||u.stop?s.skip||(n=!1,a.push({start:e%i,end:(l-1)%i,loop:n}),e=o=u.stop?l:null):(o=l,s.skip&&(e=l)),s=u}return o!==null&&a.push({start:e%i,end:o%i,loop:n}),a}function n8(r,e){let t=r.points,n=r.options.spanGaps,i=t.length;if(!i)return[];let a=!!r._loop,{start:o,end:s}=qZ(t,i,a,n);if(n===!0)return AE(r,[{start:o,end:s,loop:a}],t,e);let l=s<o?s+i:s,u=!!r._fullLoop&&o===0&&s===i-1;return AE(r,jZ(t,o,l,u),t,e)}function AE(r,e,t,n){return!n||!n.setContext||!t?e:$Z(r,e,t,n)}function $Z(r,e,t,n){let i=r._chart.getContext(),a=ME(r.options),{_datasetIndex:o,options:{spanGaps:s}}=r,l=t.length,u=[],c=a,d=e[0].start,f=d;function m(p,h,v,y){let S=s?-1:1;if(p!==h){for(p+=l;t[p%l].skip;)p-=S;for(;t[h%l].skip;)h+=S;p%l!==h%l&&(u.push({start:p%l,end:h%l,loop:v,style:y}),c=y,d=h%l)}}for(let p of e){d=s?d:p.start;let h=t[d%l],v;for(f=d+1;f<=p.end;f++){let y=t[f%l];v=ME(n.setContext(Wo(i,{type:"segment",p0:h,p1:y,p0DataIndex:(f-1)%l,p1DataIndex:f%l,datasetIndex:o}))),HZ(v,c)&&m(d,f-1,p.loop,c),h=y,c=v}d<f-1&&m(d,f-1,p.loop,c)}return u}function ME(r){return{backgroundColor:r.backgroundColor,borderCapStyle:r.borderCapStyle,borderDash:r.borderDash,borderDashOffset:r.borderDashOffset,borderJoinStyle:r.borderJoinStyle,borderWidth:r.borderWidth,borderColor:r.borderColor}}function HZ(r,e){if(!e)return!1;let t=[],n=function(i,a){return ry(a)?(t.includes(a)||t.push(a),t.indexOf(a)):a};return JSON.stringify(r,n)!==JSON.stringify(e,n)}function qh(r,e,t){return r.options.clip?r[t]:e[t]}function WZ(r,e){let{xScale:t,yScale:n}=r;return t&&n?{left:qh(t,e,"left"),right:qh(t,e,"right"),top:qh(n,e,"top"),bottom:qh(n,e,"bottom")}:e}function vy(r,e){let t=e._clip;if(t.disabled)return!1;let n=WZ(e,r.chartArea);return{left:t.left===!1?0:n.left-(t.left===!0?0:t.left),right:t.right===!1?r.width:n.right+(t.right===!0?0:t.right),top:t.top===!1?0:n.top-(t.top===!0?0:t.top),bottom:t.bottom===!1?r.height:n.bottom+(t.bottom===!0?0:t.bottom)}}var My=class{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(e,t,n,i){let a=t.listeners[i],o=t.duration;a.forEach(s=>s({chart:e,initial:t.initial,numSteps:o,currentStep:Math.min(n-t.start,o)}))}_refresh(){this._request||(this._running=!0,this._request=Jx.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(e=Date.now()){let t=0;this._charts.forEach((n,i)=>{if(!n.running||!n.items.length)return;let a=n.items,o=a.length-1,s=!1,l;for(;o>=0;--o)l=a[o],l._active?(l._total>n.duration&&(n.duration=l._total),l.tick(e),s=!0):(a[o]=a[a.length-1],a.pop());s&&(i.draw(),this._notify(i,n,e,"progress")),a.length||(n.running=!1,this._notify(i,n,e,"complete"),n.initial=!1),t+=a.length}),this._lastDate=e,t===0&&(this._running=!1)}_getAnims(e){let t=this._charts,n=t.get(e);return n||(n={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},t.set(e,n)),n}listen(e,t,n){this._getAnims(e).listeners[t].push(n)}add(e,t){!t||!t.length||this._getAnims(e).items.push(...t)}has(e){return this._getAnims(e).items.length>0}start(e){let t=this._charts.get(e);t&&(t.running=!0,t.start=Date.now(),t.duration=t.items.reduce((n,i)=>Math.max(n,i._duration),0),this._refresh())}running(e){if(!this._running)return!1;let t=this._charts.get(e);return!(!t||!t.running||!t.items.length)}stop(e){let t=this._charts.get(e);if(!t||!t.items.length)return;let n=t.items,i=n.length-1;for(;i>=0;--i)n[i].cancel();t.items=[],this._notify(e,t,Date.now(),"complete")}remove(e){return this._charts.delete(e)}},Go=new My,i8="transparent",GZ={boolean(r,e,t){return t>.5?e:r},color(r,e,t){let n=ny(r||i8),i=n.valid&&ny(e||i8);return i&&i.valid?i.mix(n,t).hexString():e},number(r,e,t){return r+(e-r)*t}},Ny=class{constructor(e,t,n,i){let a=t[n];i=cc([e.to,i,a,e.from]);let o=cc([e.from,a,i]);this._active=!0,this._fn=e.fn||GZ[e.type||typeof o],this._easing=tc[e.easing]||tc.linear,this._start=Math.floor(Date.now()+(e.delay||0)),this._duration=this._total=Math.floor(e.duration),this._loop=!!e.loop,this._target=t,this._prop=n,this._from=o,this._to=i,this._promises=void 0}active(){return this._active}update(e,t,n){if(this._active){this._notify(!1);let i=this._target[this._prop],a=n-this._start,o=this._duration-a;this._start=n,this._duration=Math.floor(Math.max(o,e.duration)),this._total+=a,this._loop=!!e.loop,this._to=cc([e.to,t,i,e.from]),this._from=cc([e.from,i,t])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(e){let t=e-this._start,n=this._duration,i=this._prop,a=this._from,o=this._loop,s=this._to,l;if(this._active=a!==s&&(o||t<n),!this._active){this._target[i]=s,this._notify(!0);return}if(t<0){this._target[i]=a;return}l=t/n%2,l=o&&l>1?2-l:l,l=this._easing(Math.min(1,Math.max(0,l))),this._target[i]=this._fn(a,s,l)}wait(){let e=this._promises||(this._promises=[]);return new Promise((t,n)=>{e.push({res:t,rej:n})})}_notify(e){let t=e?"res":"rej",n=this._promises||[];for(let i=0;i<n.length;i++)n[i][t]()}},fp=class{constructor(e,t){this._chart=e,this._properties=new Map,this.configure(t)}configure(e){if(!tr(e))return;let t=Object.keys(Rr.animation),n=this._properties;Object.getOwnPropertyNames(e).forEach(i=>{let a=e[i];if(!tr(a))return;let o={};for(let s of t)o[s]=a[s];(Fr(a.properties)&&a.properties||[i]).forEach(s=>{(s===i||!n.has(s))&&n.set(s,o)})})}_animateOptions(e,t){let n=t.options,i=ZZ(e,n);if(!i)return[];let a=this._createAnimations(i,n);return n.$shared&&YZ(e.options.$animations,n).then(()=>{e.options=n},()=>{}),a}_createAnimations(e,t){let n=this._properties,i=[],a=e.$animations||(e.$animations={}),o=Object.keys(t),s=Date.now(),l;for(l=o.length-1;l>=0;--l){let u=o[l];if(u.charAt(0)==="$")continue;if(u==="options"){i.push(...this._animateOptions(e,t));continue}let c=t[u],d=a[u],f=n.get(u);if(d)if(f&&d.active()){d.update(f,c,s);continue}else d.cancel();if(!f||!f.duration){e[u]=c;continue}a[u]=d=new Ny(f,e,u,c),i.push(d)}return i}update(e,t){if(this._properties.size===0){Object.assign(e,t);return}let n=this._createAnimations(e,t);if(n.length)return Go.add(this._chart,n),!0}};function YZ(r,e){let t=[],n=Object.keys(e);for(let i=0;i<n.length;i++){let a=r[n[i]];a&&a.active()&&t.push(a.wait())}return Promise.all(t)}function ZZ(r,e){if(!e)return;let t=r.options;if(!t){r.options=e;return}return t.$shared&&(r.options=t=Object.assign({},t,{$shared:!1,$animations:{}})),t}function a8(r,e){let t=r&&r.options||{},n=t.reverse,i=t.min===void 0?e:0,a=t.max===void 0?e:0;return{start:n?a:i,end:n?i:a}}function XZ(r,e,t){if(t===!1)return!1;let n=a8(r,t),i=a8(e,t);return{top:i.end,right:n.end,bottom:i.start,left:n.start}}function KZ(r){let e,t,n,i;return tr(r)?(e=r.top,t=r.right,n=r.bottom,i=r.left):e=t=n=i=r,{top:e,right:t,bottom:n,left:i,disabled:r===!1}}function iA(r,e){let t=[],n=r._getSortedDatasetMetas(e),i,a;for(i=0,a=n.length;i<a;++i)t.push(n[i].index);return t}function o8(r,e,t,n={}){let i=r.keys,a=n.mode==="single",o,s,l,u;if(e===null)return;let c=!1;for(o=0,s=i.length;o<s;++o){if(l=+i[o],l===t){if(c=!0,n.all)continue;break}u=r.values[l],Kr(u)&&(a||e===0||Pa(e)===Pa(u))&&(e+=u)}return!c&&!n.all?0:e}function JZ(r,e){let{iScale:t,vScale:n}=e,i=t.axis==="x"?"x":"y",a=n.axis==="x"?"x":"y",o=Object.keys(r),s=new Array(o.length),l,u,c;for(l=0,u=o.length;l<u;++l)c=o[l],s[l]={[i]:c,[a]:r[c]};return s}function xy(r,e){let t=r&&r.options.stacked;return t||t===void 0&&e.stack!==void 0}function QZ(r,e,t){return`${r.id}.${e.id}.${t.stack||t.type}`}function eX(r){let{min:e,max:t,minDefined:n,maxDefined:i}=r.getUserBounds();return{min:n?e:Number.NEGATIVE_INFINITY,max:i?t:Number.POSITIVE_INFINITY}}function tX(r,e,t){let n=r[e]||(r[e]={});return n[t]||(n[t]={})}function s8(r,e,t,n){for(let i of e.getMatchingVisibleMetas(n).reverse()){let a=r[i.index];if(t&&a>0||!t&&a<0)return i.index}return null}function l8(r,e){let{chart:t,_cachedMeta:n}=r,i=t._stacks||(t._stacks={}),{iScale:a,vScale:o,index:s}=n,l=a.axis,u=o.axis,c=QZ(a,o,n),d=e.length,f;for(let m=0;m<d;++m){let p=e[m],{[l]:h,[u]:v}=p,y=p._stacks||(p._stacks={});f=y[u]=tX(i,c,h),f[s]=v,f._top=s8(f,o,!0,n.type),f._bottom=s8(f,o,!1,n.type);let S=f._visualValues||(f._visualValues={});S[s]=v}}function yy(r,e){let t=r.scales;return Object.keys(t).filter(n=>t[n].axis===e).shift()}function rX(r,e){return Wo(r,{active:!1,dataset:void 0,datasetIndex:e,index:e,mode:"default",type:"dataset"})}function nX(r,e,t){return Wo(r,{active:!1,dataIndex:e,parsed:void 0,raw:void 0,element:t,index:e,mode:"default",type:"data"})}function Zf(r,e){let t=r.controller.index,n=r.vScale&&r.vScale.axis;if(n){e=e||r._parsed;for(let i of e){let a=i._stacks;if(!a||a[n]===void 0||a[n][t]===void 0)return;delete a[n][t],a[n]._visualValues!==void 0&&a[n]._visualValues[t]!==void 0&&delete a[n]._visualValues[t]}}}var by=r=>r==="reset"||r==="none",u8=(r,e)=>e?r:Object.assign({},r),iX=(r,e,t)=>r&&!e.hidden&&e._stacked&&{keys:iA(t,!0),values:null},Ls=(()=>{class r{constructor(t,n){this.chart=t,this._ctx=t.ctx,this.index=n,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){let t=this._cachedMeta;this.configure(),this.linkScales(),t._stacked=xy(t.vScale,t),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(t){this.index!==t&&Zf(this._cachedMeta),this.index=t}linkScales(){let t=this.chart,n=this._cachedMeta,i=this.getDataset(),a=(f,m,p,h)=>f==="x"?m:f==="r"?h:p,o=n.xAxisID=Ut(i.xAxisID,yy(t,"x")),s=n.yAxisID=Ut(i.yAxisID,yy(t,"y")),l=n.rAxisID=Ut(i.rAxisID,yy(t,"r")),u=n.indexAxis,c=n.iAxisID=a(u,o,s,l),d=n.vAxisID=a(u,s,o,l);n.xScale=this.getScaleForId(o),n.yScale=this.getScaleForId(s),n.rScale=this.getScaleForId(l),n.iScale=this.getScaleForId(c),n.vScale=this.getScaleForId(d)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(t){return this.chart.scales[t]}_getOtherScale(t){let n=this._cachedMeta;return t===n.iScale?n.vScale:n.iScale}reset(){this._update("reset")}_destroy(){let t=this._cachedMeta;this._data&&Xx(this._data,this),t._stacked&&Zf(t)}_dataCheck(){let t=this.getDataset(),n=t.data||(t.data=[]),i=this._data;if(tr(n)){let a=this._cachedMeta;this._data=JZ(n,a)}else if(i!==n){if(i){Xx(i,this);let a=this._cachedMeta;Zf(a),a._parsed=[]}n&&Object.isExtensible(n)&&zE(n,this),this._syncList=[],this._data=n}}addElements(){let t=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(t.dataset=new this.datasetElementType)}buildOrUpdateElements(t){let n=this._cachedMeta,i=this.getDataset(),a=!1;this._dataCheck();let o=n._stacked;n._stacked=xy(n.vScale,n),n.stack!==i.stack&&(a=!0,Zf(n),n.stack=i.stack),this._resyncElements(t),(a||o!==n._stacked)&&(l8(this,n._parsed),n._stacked=xy(n.vScale,n))}configure(){let t=this.chart.config,n=t.datasetScopeKeys(this._type),i=t.getOptionScopes(this.getDataset(),n,!0);this.options=t.createResolver(i,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(t,n){let{_cachedMeta:i,_data:a}=this,{iScale:o,_stacked:s}=i,l=o.axis,u=t===0&&n===a.length?!0:i._sorted,c=t>0&&i._parsed[t-1],d,f,m;if(this._parsing===!1)i._parsed=a,i._sorted=!0,m=a;else{Fr(a[t])?m=this.parseArrayData(i,a,t,n):tr(a[t])?m=this.parseObjectData(i,a,t,n):m=this.parsePrimitiveData(i,a,t,n);let p=()=>f[l]===null||c&&f[l]<c[l];for(d=0;d<n;++d)i._parsed[d+t]=f=m[d],u&&(p()&&(u=!1),c=f);i._sorted=u}s&&l8(this,m)}parsePrimitiveData(t,n,i,a){let{iScale:o,vScale:s}=t,l=o.axis,u=s.axis,c=o.getLabels(),d=o===s,f=new Array(a),m,p,h;for(m=0,p=a;m<p;++m)h=m+i,f[m]={[l]:d||o.parse(c[h],h),[u]:s.parse(n[h],h)};return f}parseArrayData(t,n,i,a){let{xScale:o,yScale:s}=t,l=new Array(a),u,c,d,f;for(u=0,c=a;u<c;++u)d=u+i,f=n[d],l[u]={x:o.parse(f[0],d),y:s.parse(f[1],d)};return l}parseObjectData(t,n,i,a){let{xScale:o,yScale:s}=t,{xAxisKey:l="x",yAxisKey:u="y"}=this._parsing,c=new Array(a),d,f,m,p;for(d=0,f=a;d<f;++d)m=d+i,p=n[m],c[d]={x:o.parse(Ho(p,l),m),y:s.parse(Ho(p,u),m)};return c}getParsed(t){return this._cachedMeta._parsed[t]}getDataElement(t){return this._cachedMeta.data[t]}applyStack(t,n,i){let a=this.chart,o=this._cachedMeta,s=n[t.axis],l={keys:iA(a,!0),values:n._stacks[t.axis]._visualValues};return o8(l,s,o.index,{mode:i})}updateRangeFromParsed(t,n,i,a){let o=i[n.axis],s=o===null?NaN:o,l=a&&i._stacks[n.axis];a&&l&&(a.values=l,s=o8(a,o,this._cachedMeta.index)),t.min=Math.min(t.min,s),t.max=Math.max(t.max,s)}getMinMax(t,n){let i=this._cachedMeta,a=i._parsed,o=i._sorted&&t===i.iScale,s=a.length,l=this._getOtherScale(t),u=iX(n,i,this.chart),c={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:d,max:f}=eX(l),m,p;function h(){p=a[m];let v=p[l.axis];return!Kr(p[t.axis])||d>v||f<v}for(m=0;m<s&&!(!h()&&(this.updateRangeFromParsed(c,t,p,u),o));++m);if(o){for(m=s-1;m>=0;--m)if(!h()){this.updateRangeFromParsed(c,t,p,u);break}}return c}getAllParsedValues(t){let n=this._cachedMeta._parsed,i=[],a,o,s;for(a=0,o=n.length;a<o;++a)s=n[a][t.axis],Kr(s)&&i.push(s);return i}getMaxOverflow(){return!1}getLabelAndValue(t){let n=this._cachedMeta,i=n.iScale,a=n.vScale,o=this.getParsed(t);return{label:i?""+i.getLabelForValue(o[i.axis]):"",value:a?""+a.getLabelForValue(o[a.axis]):""}}_update(t){let n=this._cachedMeta;this.update(t||"default"),n._clip=KZ(Ut(this.options.clip,XZ(n.xScale,n.yScale,this.getMaxOverflow())))}update(t){}draw(){let t=this._ctx,n=this.chart,i=this._cachedMeta,a=i.data||[],o=n.chartArea,s=[],l=this._drawStart||0,u=this._drawCount||a.length-l,c=this.options.drawActiveElementsOnTop,d;for(i.dataset&&i.dataset.draw(t,o,l,u),d=l;d<l+u;++d){let f=a[d];f.hidden||(f.active&&c?s.push(f):f.draw(t,o))}for(d=0;d<s.length;++d)s[d].draw(t,o)}getStyle(t,n){let i=n?"active":"default";return t===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(i):this.resolveDataElementOptions(t||0,i)}getContext(t,n,i){let a=this.getDataset(),o;if(t>=0&&t<this._cachedMeta.data.length){let s=this._cachedMeta.data[t];o=s.$context||(s.$context=nX(this.getContext(),t,s)),o.parsed=this.getParsed(t),o.raw=a.data[t],o.index=o.dataIndex=t}else o=this.$context||(this.$context=rX(this.chart.getContext(),this.index)),o.dataset=a,o.index=o.datasetIndex=this.index;return o.active=!!n,o.mode=i,o}resolveDatasetElementOptions(t){return this._resolveElementOptions(this.datasetElementType.id,t)}resolveDataElementOptions(t,n){return this._resolveElementOptions(this.dataElementType.id,n,t)}_resolveElementOptions(t,n="default",i){let a=n==="active",o=this._cachedDataOpts,s=t+"-"+n,l=o[s],u=this.enableOptionSharing&&ac(i);if(l)return u8(l,u);let c=this.chart.config,d=c.datasetElementScopeKeys(this._type,t),f=a?[`${t}Hover`,"hover",t,""]:[t,""],m=c.getOptionScopes(this.getDataset(),d),p=Object.keys(Rr.elements[t]),h=()=>this.getContext(i,a,n),v=c.resolveNamedOptions(m,p,h,f);return v.$shared&&(v.$shared=u,o[s]=Object.freeze(u8(v,u))),v}_resolveAnimations(t,n,i){let a=this.chart,o=this._cachedDataOpts,s=`animation-${n}`,l=o[s];if(l)return l;let u;if(a.options.animation!==!1){let d=this.chart.config,f=d.datasetAnimationScopeKeys(this._type,n),m=d.getOptionScopes(this.getDataset(),f);u=d.createResolver(m,this.getContext(t,i,n))}let c=new fp(a,u&&u.animations);return u&&u._cacheable&&(o[s]=Object.freeze(c)),c}getSharedOptions(t){if(t.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},t))}includeOptions(t,n){return!n||by(t)||this.chart._animationsDisabled}_getSharedOptions(t,n){let i=this.resolveDataElementOptions(t,n),a=this._sharedOptions,o=this.getSharedOptions(i),s=this.includeOptions(n,o)||o!==a;return this.updateSharedOptions(o,n,i),{sharedOptions:o,includeOptions:s}}updateElement(t,n,i,a){by(a)?Object.assign(t,i):this._resolveAnimations(n,a).update(t,i)}updateSharedOptions(t,n,i){t&&!by(n)&&this._resolveAnimations(void 0,n).update(t,i)}_setStyle(t,n,i,a){t.active=a;let o=this.getStyle(n,a);this._resolveAnimations(n,i,a).update(t,{options:!a&&this.getSharedOptions(o)||o})}removeHoverStyle(t,n,i){this._setStyle(t,i,"active",!1)}setHoverStyle(t,n,i){this._setStyle(t,i,"active",!0)}_removeDatasetHoverStyle(){let t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,"active",!1)}_setDatasetHoverStyle(){let t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,"active",!0)}_resyncElements(t){let n=this._data,i=this._cachedMeta.data;for(let[l,u,c]of this._syncList)this[l](u,c);this._syncList=[];let a=i.length,o=n.length,s=Math.min(o,a);s&&this.parse(0,s),o>a?this._insertElements(a,o-a,t):o<a&&this._removeElements(o,a-o)}_insertElements(t,n,i=!0){let a=this._cachedMeta,o=a.data,s=t+n,l,u=c=>{for(c.length+=n,l=c.length-1;l>=s;l--)c[l]=c[l-n]};for(u(o),l=t;l<s;++l)o[l]=new this.dataElementType;this._parsing&&u(a._parsed),this.parse(t,n),i&&this.updateElements(o,t,n,"reset")}updateElements(t,n,i,a){}_removeElements(t,n){let i=this._cachedMeta;if(this._parsing){let a=i._parsed.splice(t,n);i._stacked&&Zf(i,a)}i.data.splice(t,n)}_sync(t){if(this._parsing)this._syncList.push(t);else{let[n,i,a]=t;this[n](i,a)}this.chart._dataChanges.push([this.index,...t])}_onDataPush(){let t=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-t,t])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(t,n){n&&this._sync(["_removeElements",t,n]);let i=arguments.length-2;i&&this._sync(["_insertElements",t,i])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}return g(r,"defaults",{}),g(r,"datasetElementType",null),g(r,"dataElementType",null),r})();function aX(r,e){if(!r._cache.$bar){let t=r.getMatchingVisibleMetas(e),n=[];for(let i=0,a=t.length;i<a;i++)n=n.concat(t[i].controller.getAllParsedValues(r));r._cache.$bar=Kx(n.sort((i,a)=>i-a))}return r._cache.$bar}function oX(r){let e=r.iScale,t=aX(e,r.type),n=e._length,i,a,o,s,l=()=>{o===32767||o===-32768||(ac(s)&&(n=Math.min(n,Math.abs(o-s)||n)),s=o)};for(i=0,a=t.length;i<a;++i)o=e.getPixelForValue(t[i]),l();for(s=void 0,i=0,a=e.ticks.length;i<a;++i)o=e.getPixelForTick(i),l();return n}function sX(r,e,t,n){let i=t.barThickness,a,o;return Qt(i)?(a=e.min*t.categoryPercentage,o=t.barPercentage):(a=i*n,o=1),{chunk:a/n,ratio:o,start:e.pixels[r]-a/2}}function lX(r,e,t,n){let i=e.pixels,a=i[r],o=r>0?i[r-1]:null,s=r<i.length-1?i[r+1]:null,l=t.categoryPercentage;o===null&&(o=a-(s===null?e.end-e.start:s-a)),s===null&&(s=a+a-o);let u=a-(a-Math.min(o,s))/2*l;return{chunk:Math.abs(s-o)/2*l/n,ratio:t.barPercentage,start:u}}function uX(r,e,t,n){let i=t.parse(r[0],n),a=t.parse(r[1],n),o=Math.min(i,a),s=Math.max(i,a),l=o,u=s;Math.abs(o)>Math.abs(s)&&(l=s,u=o),e[t.axis]=u,e._custom={barStart:l,barEnd:u,start:i,end:a,min:o,max:s}}function aA(r,e,t,n){return Fr(r)?uX(r,e,t,n):e[t.axis]=t.parse(r,n),e}function c8(r,e,t,n){let i=r.iScale,a=r.vScale,o=i.getLabels(),s=i===a,l=[],u,c,d,f;for(u=t,c=t+n;u<c;++u)f=e[u],d={},d[i.axis]=s||i.parse(o[u],u),l.push(aA(f,d,a,u));return l}function wy(r){return r&&r.barStart!==void 0&&r.barEnd!==void 0}function cX(r,e,t){return r!==0?Pa(r):(e.isHorizontal()?1:-1)*(e.min>=t?1:-1)}function dX(r){let e,t,n,i,a;return r.horizontal?(e=r.base>r.x,t="left",n="right"):(e=r.base<r.y,t="bottom",n="top"),e?(i="end",a="start"):(i="start",a="end"),{start:t,end:n,reverse:e,top:i,bottom:a}}function fX(r,e,t,n){let i=e.borderSkipped,a={};if(!i){r.borderSkipped=a;return}if(i===!0){r.borderSkipped={top:!0,right:!0,bottom:!0,left:!0};return}let{start:o,end:s,reverse:l,top:u,bottom:c}=dX(r);i==="middle"&&t&&(r.enableBorderRadius=!0,(t._top||0)===n?i=u:(t._bottom||0)===n?i=c:(a[d8(c,o,s,l)]=!0,i=u)),a[d8(i,o,s,l)]=!0,r.borderSkipped=a}function d8(r,e,t,n){return n?(r=mX(r,e,t),r=f8(r,t,e)):r=f8(r,e,t),r}function mX(r,e,t){return r===e?t:r===t?e:r}function f8(r,e,t){return r==="start"?e:r==="end"?t:r}function hX(r,{inflateAmount:e},t){r.inflateAmount=e==="auto"?t===1?.33:0:e}var pX=(()=>{class r extends Ls{parsePrimitiveData(t,n,i,a){return c8(t,n,i,a)}parseArrayData(t,n,i,a){return c8(t,n,i,a)}parseObjectData(t,n,i,a){let{iScale:o,vScale:s}=t,{xAxisKey:l="x",yAxisKey:u="y"}=this._parsing,c=o.axis==="x"?l:u,d=s.axis==="x"?l:u,f=[],m,p,h,v;for(m=i,p=i+a;m<p;++m)v=n[m],h={},h[o.axis]=o.parse(Ho(v,c),m),f.push(aA(Ho(v,d),h,s,m));return f}updateRangeFromParsed(t,n,i,a){super.updateRangeFromParsed(t,n,i,a);let o=i._custom;o&&n===this._cachedMeta.vScale&&(t.min=Math.min(t.min,o.min),t.max=Math.max(t.max,o.max))}getMaxOverflow(){return 0}getLabelAndValue(t){let n=this._cachedMeta,{iScale:i,vScale:a}=n,o=this.getParsed(t),s=o._custom,l=wy(s)?"["+s.start+", "+s.end+"]":""+a.getLabelForValue(o[a.axis]);return{label:""+i.getLabelForValue(o[i.axis]),value:l}}initialize(){this.enableOptionSharing=!0,super.initialize();let t=this._cachedMeta;t.stack=this.getDataset().stack}update(t){let n=this._cachedMeta;this.updateElements(n.data,0,n.data.length,t)}updateElements(t,n,i,a){let o=a==="reset",{index:s,_cachedMeta:{vScale:l}}=this,u=l.getBasePixel(),c=l.isHorizontal(),d=this._getRuler(),{sharedOptions:f,includeOptions:m}=this._getSharedOptions(n,a);for(let p=n;p<n+i;p++){let h=this.getParsed(p),v=o||Qt(h[l.axis])?{base:u,head:u}:this._calculateBarValuePixels(p),y=this._calculateBarIndexPixels(p,d),S=(h._stacks||{})[l.axis],x={horizontal:c,base:v.base,enableBorderRadius:!S||wy(h._custom)||s===S._top||s===S._bottom,x:c?v.head:y.center,y:c?y.center:v.head,height:c?y.size:Math.abs(v.size),width:c?Math.abs(v.size):y.size};m&&(x.options=f||this.resolveDataElementOptions(p,t[p].active?"active":a));let _=x.options||t[p].options;fX(x,_,S,s),hX(x,_,d.ratio),this.updateElement(t[p],p,x,a)}}_getStacks(t,n){let{iScale:i}=this._cachedMeta,a=i.getMatchingVisibleMetas(this._type).filter(d=>d.controller.options.grouped),o=i.options.stacked,s=[],l=this._cachedMeta.controller.getParsed(n),u=l&&l[i.axis],c=d=>{let f=d._parsed.find(p=>p[i.axis]===u),m=f&&f[d.vScale.axis];if(Qt(m)||isNaN(m))return!0};for(let d of a)if(!(n!==void 0&&c(d))&&((o===!1||s.indexOf(d.stack)===-1||o===void 0&&d.stack===void 0)&&s.push(d.stack),d.index===t))break;return s.length||s.push(void 0),s}_getStackCount(t){return this._getStacks(void 0,t).length}_getStackIndex(t,n,i){let a=this._getStacks(t,i),o=n!==void 0?a.indexOf(n):-1;return o===-1?a.length-1:o}_getRuler(){let t=this.options,n=this._cachedMeta,i=n.iScale,a=[],o,s;for(o=0,s=n.data.length;o<s;++o)a.push(i.getPixelForValue(this.getParsed(o)[i.axis],o));let l=t.barThickness;return{min:l||oX(n),pixels:a,start:i._startPixel,end:i._endPixel,stackCount:this._getStackCount(),scale:i,grouped:t.grouped,ratio:l?1:t.categoryPercentage*t.barPercentage}}_calculateBarValuePixels(t){let{_cachedMeta:{vScale:n,_stacked:i,index:a},options:{base:o,minBarLength:s}}=this,l=o||0,u=this.getParsed(t),c=u._custom,d=wy(c),f=u[n.axis],m=0,p=i?this.applyStack(n,u,i):f,h,v;p!==f&&(m=p-f,p=f),d&&(f=c.barStart,p=c.barEnd-c.barStart,f!==0&&Pa(f)!==Pa(c.barEnd)&&(m=0),m+=f);let y=!Qt(o)&&!d?o:m,S=n.getPixelForValue(y);if(this.chart.getDataVisibility(t)?h=n.getPixelForValue(m+p):h=S,v=h-S,Math.abs(v)<s){v=cX(v,n,l)*s,f===l&&(S-=v/2);let x=n.getPixelForDecimal(0),_=n.getPixelForDecimal(1),w=Math.min(x,_),b=Math.max(x,_);S=Math.max(Math.min(S,b),w),h=S+v,i&&!d&&(u._stacks[n.axis]._visualValues[a]=n.getValueForPixel(h)-n.getValueForPixel(S))}if(S===n.getPixelForValue(l)){let x=Pa(v)*n.getLineWidthForValue(l)/2;S+=x,v-=x}return{size:v,base:S,head:h,center:h+v/2}}_calculateBarIndexPixels(t,n){let i=n.scale,a=this.options,o=a.skipNull,s=Ut(a.maxBarThickness,1/0),l,u;if(n.grouped){let c=o?this._getStackCount(t):n.stackCount,d=a.barThickness==="flex"?lX(t,n,a,c):sX(t,n,a,c),f=this._getStackIndex(this.index,this._cachedMeta.stack,o?t:void 0);l=d.start+d.chunk*f+d.chunk/2,u=Math.min(s,d.chunk*d.ratio)}else l=i.getPixelForValue(this.getParsed(t)[i.axis],t),u=Math.min(s,n.min*n.ratio);return{base:l-u/2,head:l+u/2,center:l,size:u}}draw(){let t=this._cachedMeta,n=t.vScale,i=t.data,a=i.length,o=0;for(;o<a;++o)this.getParsed(o)[n.axis]!==null&&!i[o].hidden&&i[o].draw(this._ctx)}}return g(r,"id","bar"),g(r,"defaults",{datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}}),g(r,"overrides",{scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}}),r})(),gX=(()=>{class r extends Ls{initialize(){this.enableOptionSharing=!0,super.initialize()}parsePrimitiveData(t,n,i,a){let o=super.parsePrimitiveData(t,n,i,a);for(let s=0;s<o.length;s++)o[s]._custom=this.resolveDataElementOptions(s+i).radius;return o}parseArrayData(t,n,i,a){let o=super.parseArrayData(t,n,i,a);for(let s=0;s<o.length;s++){let l=n[i+s];o[s]._custom=Ut(l[2],this.resolveDataElementOptions(s+i).radius)}return o}parseObjectData(t,n,i,a){let o=super.parseObjectData(t,n,i,a);for(let s=0;s<o.length;s++){let l=n[i+s];o[s]._custom=Ut(l&&l.r&&+l.r,this.resolveDataElementOptions(s+i).radius)}return o}getMaxOverflow(){let t=this._cachedMeta.data,n=0;for(let i=t.length-1;i>=0;--i)n=Math.max(n,t[i].size(this.resolveDataElementOptions(i))/2);return n>0&&n}getLabelAndValue(t){let n=this._cachedMeta,i=this.chart.data.labels||[],{xScale:a,yScale:o}=n,s=this.getParsed(t),l=a.getLabelForValue(s.x),u=o.getLabelForValue(s.y),c=s._custom;return{label:i[t]||"",value:"("+l+", "+u+(c?", "+c:"")+")"}}update(t){let n=this._cachedMeta.data;this.updateElements(n,0,n.length,t)}updateElements(t,n,i,a){let o=a==="reset",{iScale:s,vScale:l}=this._cachedMeta,{sharedOptions:u,includeOptions:c}=this._getSharedOptions(n,a),d=s.axis,f=l.axis;for(let m=n;m<n+i;m++){let p=t[m],h=!o&&this.getParsed(m),v={},y=v[d]=o?s.getPixelForDecimal(.5):s.getPixelForValue(h[d]),S=v[f]=o?l.getBasePixel():l.getPixelForValue(h[f]);v.skip=isNaN(y)||isNaN(S),c&&(v.options=u||this.resolveDataElementOptions(m,p.active?"active":a),o&&(v.options.radius=0)),this.updateElement(p,m,v,a)}}resolveDataElementOptions(t,n){let i=this.getParsed(t),a=super.resolveDataElementOptions(t,n);a.$shared&&(a=Object.assign({},a,{$shared:!1}));let o=a.radius;return n!=="active"&&(a.radius=0),a.radius+=Ut(i&&i._custom,o),a}}return g(r,"id","bubble"),g(r,"defaults",{datasetElementType:!1,dataElementType:"point",animations:{numbers:{type:"number",properties:["x","y","borderWidth","radius"]}}}),g(r,"overrides",{scales:{x:{type:"linear"},y:{type:"linear"}}}),r})();function vX(r,e,t){let n=1,i=1,a=0,o=0;if(e<Or){let s=r,l=s+e,u=Math.cos(s),c=Math.sin(s),d=Math.cos(l),f=Math.sin(l),m=(x,_,w)=>sc(x,s,l,!0)?1:Math.max(_,_*t,w,w*t),p=(x,_,w)=>sc(x,s,l,!0)?-1:Math.min(_,_*t,w,w*t),h=m(0,u,d),v=m(an,c,f),y=p(Ir,u,d),S=p(Ir+an,c,f);n=(h-y)/2,i=(v-S)/2,a=-(h+y)/2,o=-(v+S)/2}return{ratioX:n,ratioY:i,offsetX:a,offsetY:o}}var jy=(()=>{class r extends Ls{constructor(t,n){super(t,n),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(t,n){let i=this.getDataset().data,a=this._cachedMeta;if(this._parsing===!1)a._parsed=i;else{let o=u=>+i[u];if(tr(i[t])){let{key:u="value"}=this._parsing;o=c=>+Ho(i[c],u)}let s,l;for(s=t,l=t+n;s<l;++s)a._parsed[s]=o(s)}}_getRotation(){return ua(this.options.rotation-90)}_getCircumference(){return ua(this.options.circumference)}_getRotationExtents(){let t=Or,n=-Or;for(let i=0;i<this.chart.data.datasets.length;++i)if(this.chart.isDatasetVisible(i)&&this.chart.getDatasetMeta(i).type===this._type){let a=this.chart.getDatasetMeta(i).controller,o=a._getRotation(),s=a._getCircumference();t=Math.min(t,o),n=Math.max(n,o+s)}return{rotation:t,circumference:n-t}}update(t){let n=this.chart,{chartArea:i}=n,a=this._cachedMeta,o=a.data,s=this.getMaxBorderWidth()+this.getMaxOffset(o)+this.options.spacing,l=Math.max((Math.min(i.width,i.height)-s)/2,0),u=Math.min(TE(this.options.cutout,l),1),c=this._getRingWeight(this.index),{circumference:d,rotation:f}=this._getRotationExtents(),{ratioX:m,ratioY:p,offsetX:h,offsetY:v}=vX(f,d,u),y=(i.width-s)/m,S=(i.height-s)/p,x=Math.max(Math.min(y,S)/2,0),_=$x(this.options.radius,x),w=Math.max(_*u,0),b=(_-w)/this._getVisibleDatasetWeightTotal();this.offsetX=h*_,this.offsetY=v*_,a.total=this.calculateTotal(),this.outerRadius=_-b*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-b*c,0),this.updateElements(o,0,o.length,t)}_circumference(t,n){let i=this.options,a=this._cachedMeta,o=this._getCircumference();return n&&i.animation.animateRotate||!this.chart.getDataVisibility(t)||a._parsed[t]===null||a.data[t].hidden?0:this.calculateCircumference(a._parsed[t]*o/Or)}updateElements(t,n,i,a){let o=a==="reset",s=this.chart,l=s.chartArea,c=s.options.animation,d=(l.left+l.right)/2,f=(l.top+l.bottom)/2,m=o&&c.animateScale,p=m?0:this.innerRadius,h=m?0:this.outerRadius,{sharedOptions:v,includeOptions:y}=this._getSharedOptions(n,a),S=this._getRotation(),x;for(x=0;x<n;++x)S+=this._circumference(x,o);for(x=n;x<n+i;++x){let _=this._circumference(x,o),w=t[x],b={x:d+this.offsetX,y:f+this.offsetY,startAngle:S,endAngle:S+_,circumference:_,outerRadius:h,innerRadius:p};y&&(b.options=v||this.resolveDataElementOptions(x,w.active?"active":a)),S+=_,this.updateElement(w,x,b,a)}}calculateTotal(){let t=this._cachedMeta,n=t.data,i=0,a;for(a=0;a<n.length;a++){let o=t._parsed[a];o!==null&&!isNaN(o)&&this.chart.getDataVisibility(a)&&!n[a].hidden&&(i+=Math.abs(o))}return i}calculateCircumference(t){let n=this._cachedMeta.total;return n>0&&!isNaN(t)?Or*(Math.abs(t)/n):0}getLabelAndValue(t){let n=this._cachedMeta,i=this.chart,a=i.data.labels||[],o=lc(n._parsed[t],i.options.locale);return{label:a[t]||"",value:o}}getMaxBorderWidth(t){let n=0,i=this.chart,a,o,s,l,u;if(!t){for(a=0,o=i.data.datasets.length;a<o;++a)if(i.isDatasetVisible(a)){s=i.getDatasetMeta(a),t=s.data,l=s.controller;break}}if(!t)return 0;for(a=0,o=t.length;a<o;++a)u=l.resolveDataElementOptions(a),u.borderAlign!=="inner"&&(n=Math.max(n,u.borderWidth||0,u.hoverBorderWidth||0));return n}getMaxOffset(t){let n=0;for(let i=0,a=t.length;i<a;++i){let o=this.resolveDataElementOptions(i);n=Math.max(n,o.offset||0,o.hoverOffset||0)}return n}_getRingWeightOffset(t){let n=0;for(let i=0;i<t;++i)this.chart.isDatasetVisible(i)&&(n+=this._getRingWeight(i));return n}_getRingWeight(t){return Math.max(Ut(this.chart.data.datasets[t].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}return g(r,"id","doughnut"),g(r,"defaults",{datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"}),g(r,"descriptors",{_scriptable:t=>t!=="spacing",_indexable:t=>t!=="spacing"&&!t.startsWith("borderDash")&&!t.startsWith("hoverBorderDash")}),g(r,"overrides",{aspectRatio:1,plugins:{legend:{labels:{generateLabels(t){let n=t.data;if(n.labels.length&&n.datasets.length){let{labels:{pointStyle:i,color:a}}=t.legend.options;return n.labels.map((o,s)=>{let u=t.getDatasetMeta(0).controller.getStyle(s);return{text:o,fillStyle:u.backgroundColor,strokeStyle:u.borderColor,fontColor:a,lineWidth:u.borderWidth,pointStyle:i,hidden:!t.getDataVisibility(s),index:s}})}return[]}},onClick(t,n,i){i.chart.toggleDataVisibility(n.index),i.chart.update()}}}}),r})(),xX=(()=>{class r extends Ls{initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(t){let n=this._cachedMeta,{dataset:i,data:a=[],_dataset:o}=n,s=this.chart._animationsDisabled,{start:l,count:u}=ey(n,a,s);this._drawStart=l,this._drawCount=u,ty(n)&&(l=0,u=a.length),i._chart=this.chart,i._datasetIndex=this.index,i._decimated=!!o._decimated,i.points=a;let c=this.resolveDatasetElementOptions(t);this.options.showLine||(c.borderWidth=0),c.segment=this.options.segment,this.updateElement(i,void 0,{animated:!s,options:c},t),this.updateElements(a,l,u,t)}updateElements(t,n,i,a){let o=a==="reset",{iScale:s,vScale:l,_stacked:u,_dataset:c}=this._cachedMeta,{sharedOptions:d,includeOptions:f}=this._getSharedOptions(n,a),m=s.axis,p=l.axis,{spanGaps:h,segment:v}=this.options,y=Hl(h)?h:Number.POSITIVE_INFINITY,S=this.chart._animationsDisabled||o||a==="none",x=n+i,_=t.length,w=n>0&&this.getParsed(n-1);for(let b=0;b<_;++b){let C=t[b],E=S?C:{};if(b<n||b>=x){E.skip=!0;continue}let D=this.getParsed(b),M=Qt(D[p]),T=E[m]=s.getPixelForValue(D[m],b),I=E[p]=o||M?l.getBasePixel():l.getPixelForValue(u?this.applyStack(l,D,u):D[p],b);E.skip=isNaN(T)||isNaN(I)||M,E.stop=b>0&&Math.abs(D[m]-w[m])>y,v&&(E.parsed=D,E.raw=c.data[b]),f&&(E.options=d||this.resolveDataElementOptions(b,C.active?"active":a)),S||this.updateElement(C,b,E,a),w=D}}getMaxOverflow(){let t=this._cachedMeta,n=t.dataset,i=n.options&&n.options.borderWidth||0,a=t.data||[];if(!a.length)return i;let o=a[0].size(this.resolveDataElementOptions(0)),s=a[a.length-1].size(this.resolveDataElementOptions(a.length-1));return Math.max(i,o,s)/2}draw(){let t=this._cachedMeta;t.dataset.updateControlPoints(this.chart.chartArea,t.iScale.axis),super.draw()}}return g(r,"id","line"),g(r,"defaults",{datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1}),g(r,"overrides",{scales:{_index_:{type:"category"},_value_:{type:"linear"}}}),r})(),oA=(()=>{class r extends Ls{constructor(t,n){super(t,n),this.innerRadius=void 0,this.outerRadius=void 0}getLabelAndValue(t){let n=this._cachedMeta,i=this.chart,a=i.data.labels||[],o=lc(n._parsed[t].r,i.options.locale);return{label:a[t]||"",value:o}}parseObjectData(t,n,i,a){return cy.bind(this)(t,n,i,a)}update(t){let n=this._cachedMeta.data;this._updateRadius(),this.updateElements(n,0,n.length,t)}getMinMax(){let t=this._cachedMeta,n={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY};return t.data.forEach((i,a)=>{let o=this.getParsed(a).r;!isNaN(o)&&this.chart.getDataVisibility(a)&&(o<n.min&&(n.min=o),o>n.max&&(n.max=o))}),n}_updateRadius(){let t=this.chart,n=t.chartArea,i=t.options,a=Math.min(n.right-n.left,n.bottom-n.top),o=Math.max(a/2,0),s=Math.max(i.cutoutPercentage?o/100*i.cutoutPercentage:1,0),l=(o-s)/t.getVisibleDatasetCount();this.outerRadius=o-l*this.index,this.innerRadius=this.outerRadius-l}updateElements(t,n,i,a){let o=a==="reset",s=this.chart,u=s.options.animation,c=this._cachedMeta.rScale,d=c.xCenter,f=c.yCenter,m=c.getIndexAngle(0)-.5*Ir,p=m,h,v=360/this.countVisibleElements();for(h=0;h<n;++h)p+=this._computeAngle(h,a,v);for(h=n;h<n+i;h++){let y=t[h],S=p,x=p+this._computeAngle(h,a,v),_=s.getDataVisibility(h)?c.getDistanceFromCenterForValue(this.getParsed(h).r):0;p=x,o&&(u.animateScale&&(_=0),u.animateRotate&&(S=x=m));let w={x:d,y:f,innerRadius:0,outerRadius:_,startAngle:S,endAngle:x,options:this.resolveDataElementOptions(h,y.active?"active":a)};this.updateElement(y,h,w,a)}}countVisibleElements(){let t=this._cachedMeta,n=0;return t.data.forEach((i,a)=>{!isNaN(this.getParsed(a).r)&&this.chart.getDataVisibility(a)&&n++}),n}_computeAngle(t,n,i){return this.chart.getDataVisibility(t)?ua(this.resolveDataElementOptions(t,n).angle||i):0}}return g(r,"id","polarArea"),g(r,"defaults",{dataElementType:"arc",animation:{animateRotate:!0,animateScale:!0},animations:{numbers:{type:"number",properties:["x","y","startAngle","endAngle","innerRadius","outerRadius"]}},indexAxis:"r",startAngle:0}),g(r,"overrides",{aspectRatio:1,plugins:{legend:{labels:{generateLabels(t){let n=t.data;if(n.labels.length&&n.datasets.length){let{labels:{pointStyle:i,color:a}}=t.legend.options;return n.labels.map((o,s)=>{let u=t.getDatasetMeta(0).controller.getStyle(s);return{text:o,fillStyle:u.backgroundColor,strokeStyle:u.borderColor,fontColor:a,lineWidth:u.borderWidth,pointStyle:i,hidden:!t.getDataVisibility(s),index:s}})}return[]}},onClick(t,n,i){i.chart.toggleDataVisibility(n.index),i.chart.update()}}},scales:{r:{type:"radialLinear",angleLines:{display:!1},beginAtZero:!0,grid:{circular:!0},pointLabels:{display:!1},startAngle:0}}}),r})(),yX=(()=>{class r extends jy{}return g(r,"id","pie"),g(r,"defaults",{cutout:0,rotation:0,circumference:360,radius:"100%"}),r})(),bX=(()=>{class r extends Ls{getLabelAndValue(t){let n=this._cachedMeta.vScale,i=this.getParsed(t);return{label:n.getLabels()[t],value:""+n.getLabelForValue(i[n.axis])}}parseObjectData(t,n,i,a){return cy.bind(this)(t,n,i,a)}update(t){let n=this._cachedMeta,i=n.dataset,a=n.data||[],o=n.iScale.getLabels();if(i.points=a,t!=="resize"){let s=this.resolveDatasetElementOptions(t);this.options.showLine||(s.borderWidth=0);let l={_loop:!0,_fullLoop:o.length===a.length,options:s};this.updateElement(i,void 0,l,t)}this.updateElements(a,0,a.length,t)}updateElements(t,n,i,a){let o=this._cachedMeta.rScale,s=a==="reset";for(let l=n;l<n+i;l++){let u=t[l],c=this.resolveDataElementOptions(l,u.active?"active":a),d=o.getPointPositionForValue(l,this.getParsed(l).r),f=s?o.xCenter:d.x,m=s?o.yCenter:d.y,p={x:f,y:m,angle:d.angle,skip:isNaN(f)||isNaN(m),options:c};this.updateElement(u,l,p,a)}}}return g(r,"id","radar"),g(r,"defaults",{datasetElementType:"line",dataElementType:"point",indexAxis:"r",showLine:!0,elements:{line:{fill:"start"}}}),g(r,"overrides",{aspectRatio:1,scales:{r:{type:"radialLinear"}}}),r})(),wX=(()=>{class r extends Ls{getLabelAndValue(t){let n=this._cachedMeta,i=this.chart.data.labels||[],{xScale:a,yScale:o}=n,s=this.getParsed(t),l=a.getLabelForValue(s.x),u=o.getLabelForValue(s.y);return{label:i[t]||"",value:"("+l+", "+u+")"}}update(t){let n=this._cachedMeta,{data:i=[]}=n,a=this.chart._animationsDisabled,{start:o,count:s}=ey(n,i,a);if(this._drawStart=o,this._drawCount=s,ty(n)&&(o=0,s=i.length),this.options.showLine){this.datasetElementType||this.addElements();let{dataset:l,_dataset:u}=n;l._chart=this.chart,l._datasetIndex=this.index,l._decimated=!!u._decimated,l.points=i;let c=this.resolveDatasetElementOptions(t);c.segment=this.options.segment,this.updateElement(l,void 0,{animated:!a,options:c},t)}else this.datasetElementType&&(delete n.dataset,this.datasetElementType=!1);this.updateElements(i,o,s,t)}addElements(){let{showLine:t}=this.options;!this.datasetElementType&&t&&(this.datasetElementType=this.chart.registry.getElement("line")),super.addElements()}updateElements(t,n,i,a){let o=a==="reset",{iScale:s,vScale:l,_stacked:u,_dataset:c}=this._cachedMeta,d=this.resolveDataElementOptions(n,a),f=this.getSharedOptions(d),m=this.includeOptions(a,f),p=s.axis,h=l.axis,{spanGaps:v,segment:y}=this.options,S=Hl(v)?v:Number.POSITIVE_INFINITY,x=this.chart._animationsDisabled||o||a==="none",_=n>0&&this.getParsed(n-1);for(let w=n;w<n+i;++w){let b=t[w],C=this.getParsed(w),E=x?b:{},D=Qt(C[h]),M=E[p]=s.getPixelForValue(C[p],w),T=E[h]=o||D?l.getBasePixel():l.getPixelForValue(u?this.applyStack(l,C,u):C[h],w);E.skip=isNaN(M)||isNaN(T)||D,E.stop=w>0&&Math.abs(C[p]-_[p])>S,y&&(E.parsed=C,E.raw=c.data[w]),m&&(E.options=f||this.resolveDataElementOptions(w,b.active?"active":a)),x||this.updateElement(b,w,E,a),_=C}this.updateSharedOptions(f,a,d)}getMaxOverflow(){let t=this._cachedMeta,n=t.data||[];if(!this.options.showLine){let l=0;for(let u=n.length-1;u>=0;--u)l=Math.max(l,n[u].size(this.resolveDataElementOptions(u))/2);return l>0&&l}let i=t.dataset,a=i.options&&i.options.borderWidth||0;if(!n.length)return a;let o=n[0].size(this.resolveDataElementOptions(0)),s=n[n.length-1].size(this.resolveDataElementOptions(n.length-1));return Math.max(a,o,s)/2}}return g(r,"id","scatter"),g(r,"defaults",{datasetElementType:!1,dataElementType:"point",showLine:!1,fill:!1}),g(r,"overrides",{interaction:{mode:"point"},scales:{x:{type:"linear"},y:{type:"linear"}}}),r})(),_X=Object.freeze({__proto__:null,BarController:pX,BubbleController:gX,DoughnutController:jy,LineController:xX,PieController:yX,PolarAreaController:oA,RadarController:bX,ScatterController:wX});function Gl(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}var Ty=class r{constructor(e){g(this,"options");this.options=e||{}}static override(e){Object.assign(r.prototype,e)}init(){}formats(){return Gl()}parse(){return Gl()}format(){return Gl()}add(){return Gl()}diff(){return Gl()}startOf(){return Gl()}endOf(){return Gl()}},SX={_date:Ty};function DX(r,e,t,n){let{controller:i,data:a,_sorted:o}=r,s=i._cachedMeta.iScale,l=r.dataset&&r.dataset.options?r.dataset.options.spanGaps:null;if(s&&e===s.axis&&e!=="r"&&o&&a.length){let u=s._reversePixels?PE:lo;if(n){if(i._sharedOptions){let c=a[0],d=typeof c.getRange=="function"&&c.getRange(e);if(d){let f=u(a,e,t-d),m=u(a,e,t+d);return{lo:f.lo,hi:m.hi}}}}else{let c=u(a,e,t);if(l){let{vScale:d}=i._cachedMeta,{_parsed:f}=r,m=f.slice(0,c.lo+1).reverse().findIndex(h=>!Qt(h[d.axis]));c.lo-=Math.max(0,m);let p=f.slice(c.hi).findIndex(h=>!Qt(h[d.axis]));c.hi+=Math.max(0,p)}return c}}return{lo:0,hi:a.length-1}}function l0(r,e,t,n,i){let a=r.getSortedVisibleDatasetMetas(),o=t[e];for(let s=0,l=a.length;s<l;++s){let{index:u,data:c}=a[s],{lo:d,hi:f}=DX(a[s],e,o,i);for(let m=d;m<=f;++m){let p=c[m];p.skip||n(p,u,m)}}}function CX(r){let e=r.indexOf("x")!==-1,t=r.indexOf("y")!==-1;return function(n,i){let a=e?Math.abs(n.x-i.x):0,o=t?Math.abs(n.y-i.y):0;return Math.sqrt(Math.pow(a,2)+Math.pow(o,2))}}function _y(r,e,t,n,i){let a=[];return!i&&!r.isPointInArea(e)||l0(r,t,e,function(s,l,u){!i&&!uo(s,r.chartArea,0)||s.inRange(e.x,e.y,n)&&a.push({element:s,datasetIndex:l,index:u})},!0),a}function EX(r,e,t,n){let i=[];function a(o,s,l){let{startAngle:u,endAngle:c}=o.getProps(["startAngle","endAngle"],n),{angle:d}=Zx(o,{x:e.x,y:e.y});sc(d,u,c)&&i.push({element:o,datasetIndex:s,index:l})}return l0(r,t,e,a),i}function AX(r,e,t,n,i,a){let o=[],s=CX(t),l=Number.POSITIVE_INFINITY;function u(c,d,f){let m=c.inRange(e.x,e.y,i);if(n&&!m)return;let p=c.getCenterPoint(i);if(!(!!a||r.isPointInArea(p))&&!m)return;let v=s(e,p);v<l?(o=[{element:c,datasetIndex:d,index:f}],l=v):v===l&&o.push({element:c,datasetIndex:d,index:f})}return l0(r,t,e,u),o}function Sy(r,e,t,n,i,a){return!a&&!r.isPointInArea(e)?[]:t==="r"&&!n?EX(r,e,t,i):AX(r,e,t,n,i,a)}function m8(r,e,t,n,i){let a=[],o=t==="x"?"inXRange":"inYRange",s=!1;return l0(r,t,e,(l,u,c)=>{l[o]&&l[o](e[t],i)&&(a.push({element:l,datasetIndex:u,index:c}),s=s||l.inRange(e.x,e.y,i))}),n&&!s?[]:a}var MX={evaluateInteractionItems:l0,modes:{index(r,e,t,n){let i=Ps(e,r),a=t.axis||"x",o=t.includeInvisible||!1,s=t.intersect?_y(r,i,a,n,o):Sy(r,i,a,!1,n,o),l=[];return s.length?(r.getSortedVisibleDatasetMetas().forEach(u=>{let c=s[0].index,d=u.data[c];d&&!d.skip&&l.push({element:d,datasetIndex:u.index,index:c})}),l):[]},dataset(r,e,t,n){let i=Ps(e,r),a=t.axis||"xy",o=t.includeInvisible||!1,s=t.intersect?_y(r,i,a,n,o):Sy(r,i,a,!1,n,o);if(s.length>0){let l=s[0].datasetIndex,u=r.getDatasetMeta(l).data;s=[];for(let c=0;c<u.length;++c)s.push({element:u[c],datasetIndex:l,index:c})}return s},point(r,e,t,n){let i=Ps(e,r),a=t.axis||"xy",o=t.includeInvisible||!1;return _y(r,i,a,n,o)},nearest(r,e,t,n){let i=Ps(e,r),a=t.axis||"xy",o=t.includeInvisible||!1;return Sy(r,i,a,t.intersect,n,o)},x(r,e,t,n){let i=Ps(e,r);return m8(r,i,"x",t.intersect,n)},y(r,e,t,n){let i=Ps(e,r);return m8(r,i,"y",t.intersect,n)}}},sA=["left","top","right","bottom"];function Xf(r,e){return r.filter(t=>t.pos===e)}function h8(r,e){return r.filter(t=>sA.indexOf(t.pos)===-1&&t.box.axis===e)}function Kf(r,e){return r.sort((t,n)=>{let i=e?n:t,a=e?t:n;return i.weight===a.weight?i.index-a.index:i.weight-a.weight})}function NX(r){let e=[],t,n,i,a,o,s;for(t=0,n=(r||[]).length;t<n;++t)i=r[t],{position:a,options:{stack:o,stackWeight:s=1}}=i,e.push({index:t,box:i,pos:a,horizontal:i.isHorizontal(),weight:i.weight,stack:o&&a+o,stackWeight:s});return e}function TX(r){let e={};for(let t of r){let{stack:n,pos:i,stackWeight:a}=t;if(!n||!sA.includes(i))continue;let o=e[n]||(e[n]={count:0,placed:0,weight:0,size:0});o.count++,o.weight+=a}return e}function FX(r,e){let t=TX(r),{vBoxMaxWidth:n,hBoxMaxHeight:i}=e,a,o,s;for(a=0,o=r.length;a<o;++a){s=r[a];let{fullSize:l}=s.box,u=t[s.stack],c=u&&s.stackWeight/u.weight;s.horizontal?(s.width=c?c*n:l&&e.availableWidth,s.height=i):(s.width=n,s.height=c?c*i:l&&e.availableHeight)}return t}function IX(r){let e=NX(r),t=Kf(e.filter(u=>u.box.fullSize),!0),n=Kf(Xf(e,"left"),!0),i=Kf(Xf(e,"right")),a=Kf(Xf(e,"top"),!0),o=Kf(Xf(e,"bottom")),s=h8(e,"x"),l=h8(e,"y");return{fullSize:t,leftAndTop:n.concat(a),rightAndBottom:i.concat(l).concat(o).concat(s),chartArea:Xf(e,"chartArea"),vertical:n.concat(i).concat(l),horizontal:a.concat(o).concat(s)}}function p8(r,e,t,n){return Math.max(r[t],e[t])+Math.max(r[n],e[n])}function lA(r,e){r.top=Math.max(r.top,e.top),r.left=Math.max(r.left,e.left),r.bottom=Math.max(r.bottom,e.bottom),r.right=Math.max(r.right,e.right)}function OX(r,e,t,n){let{pos:i,box:a}=t,o=r.maxPadding;if(!tr(i)){t.size&&(r[i]-=t.size);let d=n[t.stack]||{size:0,count:1};d.size=Math.max(d.size,t.horizontal?a.height:a.width),t.size=d.size/d.count,r[i]+=t.size}a.getPadding&&lA(o,a.getPadding());let s=Math.max(0,e.outerWidth-p8(o,r,"left","right")),l=Math.max(0,e.outerHeight-p8(o,r,"top","bottom")),u=s!==r.w,c=l!==r.h;return r.w=s,r.h=l,t.horizontal?{same:u,other:c}:{same:c,other:u}}function RX(r){let e=r.maxPadding;function t(n){let i=Math.max(e[n]-r[n],0);return r[n]+=i,i}r.y+=t("top"),r.x+=t("left"),t("right"),t("bottom")}function kX(r,e){let t=e.maxPadding;function n(i){let a={left:0,top:0,right:0,bottom:0};return i.forEach(o=>{a[o]=Math.max(e[o],t[o])}),a}return n(r?["left","right"]:["top","bottom"])}function e0(r,e,t,n){let i=[],a,o,s,l,u,c;for(a=0,o=r.length,u=0;a<o;++a){s=r[a],l=s.box,l.update(s.width||e.w,s.height||e.h,kX(s.horizontal,e));let{same:d,other:f}=OX(e,t,s,n);u|=d&&i.length,c=c||f,l.fullSize||i.push(s)}return u&&e0(i,e,t,n)||c}function ip(r,e,t,n,i){r.top=t,r.left=e,r.right=e+n,r.bottom=t+i,r.width=n,r.height=i}function g8(r,e,t,n){let i=t.padding,{x:a,y:o}=e;for(let s of r){let l=s.box,u=n[s.stack]||{count:1,placed:0,weight:1},c=s.stackWeight/u.weight||1;if(s.horizontal){let d=e.w*c,f=u.size||l.height;ac(u.start)&&(o=u.start),l.fullSize?ip(l,i.left,o,t.outerWidth-i.right-i.left,f):ip(l,e.left+u.placed,o,d,f),u.start=o,u.placed+=d,o=l.bottom}else{let d=e.h*c,f=u.size||l.width;ac(u.start)&&(a=u.start),l.fullSize?ip(l,a,i.top,f,t.outerHeight-i.bottom-i.top):ip(l,a,e.top+u.placed,f,d),u.start=a,u.placed+=d,a=l.right}}e.x=a,e.y=o}var Zn={addBox(r,e){r.boxes||(r.boxes=[]),e.fullSize=e.fullSize||!1,e.position=e.position||"top",e.weight=e.weight||0,e._layers=e._layers||function(){return[{z:0,draw(t){e.draw(t)}}]},r.boxes.push(e)},removeBox(r,e){let t=r.boxes?r.boxes.indexOf(e):-1;t!==-1&&r.boxes.splice(t,1)},configure(r,e,t){e.fullSize=t.fullSize,e.position=t.position,e.weight=t.weight},update(r,e,t,n){if(!r)return;let i=Un(r.options.layout.padding),a=Math.max(e-i.width,0),o=Math.max(t-i.height,0),s=IX(r.boxes),l=s.vertical,u=s.horizontal;gr(r.boxes,h=>{typeof h.beforeLayout=="function"&&h.beforeLayout()});let c=l.reduce((h,v)=>v.box.options&&v.box.options.display===!1?h:h+1,0)||1,d=Object.freeze({outerWidth:e,outerHeight:t,padding:i,availableWidth:a,availableHeight:o,vBoxMaxWidth:a/2/c,hBoxMaxHeight:o/2}),f=Object.assign({},i);lA(f,Un(n));let m=Object.assign({maxPadding:f,w:a,h:o,x:i.left,y:i.top},i),p=FX(l.concat(u),d);e0(s.fullSize,m,d,p),e0(l,m,d,p),e0(u,m,d,p)&&e0(l,m,d,p),RX(m),g8(s.leftAndTop,m,d,p),m.x+=m.w,m.y+=m.h,g8(s.rightAndBottom,m,d,p),r.chartArea={left:m.left,top:m.top,right:m.left+m.w,bottom:m.top+m.h,height:m.h,width:m.w},gr(s.chartArea,h=>{let v=h.box;Object.assign(v,r.chartArea),v.update(m.w,m.h,{left:0,top:0,right:0,bottom:0})})}},mp=class{acquireContext(e,t){}releaseContext(e){return!1}addEventListener(e,t,n){}removeEventListener(e,t,n){}getDevicePixelRatio(){return 1}getMaximumSize(e,t,n,i){return t=Math.max(0,t||e.width),n=n||e.height,{width:t,height:Math.max(0,i?Math.floor(t/i):n)}}isAttached(e){return!0}updateConfig(e){}},Fy=class extends mp{acquireContext(e){return e&&e.getContext&&e.getContext("2d")||null}updateConfig(e){e.options.animation=!1}},cp="$chartjs",PX={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},v8=r=>r===null||r==="";function BX(r,e){let t=r.style,n=r.getAttribute("height"),i=r.getAttribute("width");if(r[cp]={initial:{height:n,width:i,style:{display:t.display,height:t.height,width:t.width}}},t.display=t.display||"block",t.boxSizing=t.boxSizing||"border-box",v8(i)){let a=fy(r,"width");a!==void 0&&(r.width=a)}if(v8(n))if(r.style.height==="")r.height=r.width/(e||2);else{let a=fy(r,"height");a!==void 0&&(r.height=a)}return r}var uA=QE?{passive:!0}:!1;function LX(r,e,t){r&&r.addEventListener(e,t,uA)}function zX(r,e,t){r&&r.canvas&&r.canvas.removeEventListener(e,t,uA)}function VX(r,e){let t=PX[r.type]||r.type,{x:n,y:i}=Ps(r,e);return{type:t,chart:e,native:r,x:n!==void 0?n:null,y:i!==void 0?i:null}}function hp(r,e){for(let t of r)if(t===e||t.contains(e))return!0}function UX(r,e,t){let n=r.canvas,i=new MutationObserver(a=>{let o=!1;for(let s of a)o=o||hp(s.addedNodes,n),o=o&&!hp(s.removedNodes,n);o&&t()});return i.observe(document,{childList:!0,subtree:!0}),i}function qX(r,e,t){let n=r.canvas,i=new MutationObserver(a=>{let o=!1;for(let s of a)o=o||hp(s.removedNodes,n),o=o&&!hp(s.addedNodes,n);o&&t()});return i.observe(document,{childList:!0,subtree:!0}),i}var a0=new Map,x8=0;function cA(){let r=window.devicePixelRatio;r!==x8&&(x8=r,a0.forEach((e,t)=>{t.currentDevicePixelRatio!==r&&e()}))}function jX(r,e){a0.size||window.addEventListener("resize",cA),a0.set(r,e)}function $X(r){a0.delete(r),a0.size||window.removeEventListener("resize",cA)}function HX(r,e,t){let n=r.canvas,i=n&&rp(n);if(!i)return;let a=Qx((s,l)=>{let u=i.clientWidth;t(s,l),u<i.clientWidth&&t()},window),o=new ResizeObserver(s=>{let l=s[0],u=l.contentRect.width,c=l.contentRect.height;u===0&&c===0||a(u,c)});return o.observe(i),jX(r,a),o}function Dy(r,e,t){t&&t.disconnect(),e==="resize"&&$X(r)}function WX(r,e,t){let n=r.canvas,i=Qx(a=>{r.ctx!==null&&t(VX(a,r))},r);return LX(n,e,i),i}var Iy=class extends mp{acquireContext(e,t){let n=e&&e.getContext&&e.getContext("2d");return n&&n.canvas===e?(BX(e,t),n):null}releaseContext(e){let t=e.canvas;if(!t[cp])return!1;let n=t[cp].initial;["height","width"].forEach(a=>{let o=n[a];Qt(o)?t.removeAttribute(a):t.setAttribute(a,o)});let i=n.style||{};return Object.keys(i).forEach(a=>{t.style[a]=i[a]}),t.width=t.width,delete t[cp],!0}addEventListener(e,t,n){this.removeEventListener(e,t);let i=e.$proxies||(e.$proxies={}),o={attach:UX,detach:qX,resize:HX}[t]||WX;i[t]=o(e,t,n)}removeEventListener(e,t){let n=e.$proxies||(e.$proxies={}),i=n[t];if(!i)return;({attach:Dy,detach:Dy,resize:Dy}[t]||zX)(e,t,i),n[t]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(e,t,n,i){return JE(e,t,n,i)}isAttached(e){let t=e&&rp(e);return!!(t&&t.isConnected)}};function GX(r){return!tp()||typeof OffscreenCanvas<"u"&&r instanceof OffscreenCanvas?Fy:Iy}var $i=class{constructor(){g(this,"x");g(this,"y");g(this,"active",!1);g(this,"options");g(this,"$animations")}tooltipPosition(e){let{x:t,y:n}=this.getProps(["x","y"],e);return{x:t,y:n}}hasValue(){return Hl(this.x)&&Hl(this.y)}getProps(e,t){let n=this.$animations;if(!t||!n)return this;let i={};return e.forEach(a=>{i[a]=n[a]&&n[a].active()?n[a]._to:this[a]}),i}};g($i,"defaults",{}),g($i,"defaultRoutes");function YX(r,e){let t=r.options.ticks,n=ZX(r),i=Math.min(t.maxTicksLimit||n,n),a=t.major.enabled?KX(e):[],o=a.length,s=a[0],l=a[o-1],u=[];if(o>i)return JX(e,u,a,o/i),u;let c=XX(a,e,i);if(o>0){let d,f,m=o>1?Math.round((l-s)/(o-1)):null;for(ap(e,u,c,Qt(m)?0:s-m,s),d=0,f=o-1;d<f;d++)ap(e,u,c,a[d],a[d+1]);return ap(e,u,c,l,Qt(m)?e.length:l+m),u}return ap(e,u,c),u}function ZX(r){let e=r.options.offset,t=r._tickSize(),n=r._length/t+(e?0:1),i=r._maxLength/t;return Math.floor(Math.min(n,i))}function XX(r,e,t){let n=QX(r),i=e.length/t;if(!n)return Math.max(i,1);let a=OE(n);for(let o=0,s=a.length-1;o<s;o++){let l=a[o];if(l>i)return l}return Math.max(i,1)}function KX(r){let e=[],t,n;for(t=0,n=r.length;t<n;t++)r[t].major&&e.push(t);return e}function JX(r,e,t,n){let i=0,a=t[0],o;for(n=Math.ceil(n),o=0;o<r.length;o++)o===a&&(e.push(r[o]),i++,a=t[i*n])}function ap(r,e,t,n,i){let a=Ut(n,0),o=Math.min(Ut(i,r.length),r.length),s=0,l,u,c;for(t=Math.ceil(t),i&&(l=i-n,t=l/Math.floor(l/t)),c=a;c<0;)s++,c=Math.round(a+s*t);for(u=Math.max(a,0);u<o;u++)u===c&&(e.push(r[u]),s++,c=Math.round(a+s*t))}function QX(r){let e=r.length,t,n;if(e<2)return!1;for(n=r[0],t=1;t<e;++t)if(r[t]-r[t-1]!==n)return!1;return n}var eK=r=>r==="left"?"right":r==="right"?"left":r,y8=(r,e,t)=>e==="top"||e==="left"?r[e]+t:r[e]-t,b8=(r,e)=>Math.min(e||r,r);function w8(r,e){let t=[],n=r.length/e,i=r.length,a=0;for(;a<i;a+=n)t.push(r[Math.floor(a)]);return t}function tK(r,e,t){let n=r.ticks.length,i=Math.min(e,n-1),a=r._startPixel,o=r._endPixel,s=1e-6,l=r.getPixelForTick(i),u;if(!(t&&(n===1?u=Math.max(l-a,o-l):e===0?u=(r.getPixelForTick(1)-l)/2:u=(l-r.getPixelForTick(i-1))/2,l+=i<e?u:-u,l<a-s||l>o+s)))return l}function rK(r,e){gr(r,t=>{let n=t.gc,i=n.length/2,a;if(i>e){for(a=0;a<i;++a)delete t.data[n[a]];n.splice(0,i)}})}function Jf(r){return r.drawTicks?r.tickLength:0}function _8(r,e){if(!r.display)return 0;let t=pn(r.font,e),n=Un(r.padding);return(Fr(r.text)?r.text.length:1)*t.lineHeight+n.height}function nK(r,e){return Wo(r,{scale:e,type:"scale"})}function iK(r,e,t){return Wo(r,{tick:t,index:e,type:"tick"})}function aK(r,e,t){let n=Xh(r);return(t&&e!=="right"||!t&&e==="right")&&(n=eK(n)),n}function oK(r,e,t,n){let{top:i,left:a,bottom:o,right:s,chart:l}=r,{chartArea:u,scales:c}=l,d=0,f,m,p,h=o-i,v=s-a;if(r.isHorizontal()){if(m=Vn(n,a,s),tr(t)){let y=Object.keys(t)[0],S=t[y];p=c[y].getPixelForValue(S)+h-e}else t==="center"?p=(u.bottom+u.top)/2+h-e:p=y8(r,t,e);f=s-a}else{if(tr(t)){let y=Object.keys(t)[0],S=t[y];m=c[y].getPixelForValue(S)-v+e}else t==="center"?m=(u.left+u.right)/2-v+e:m=y8(r,t,e);p=Vn(n,o,i),d=t==="left"?-an:an}return{titleX:m,titleY:p,maxWidth:f,rotation:d}}var Kl=class r extends $i{constructor(e){super(),this.id=e.id,this.type=e.type,this.options=void 0,this.ctx=e.ctx,this.chart=e.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(e){this.options=e.setContext(this.getContext()),this.axis=e.axis,this._userMin=this.parse(e.min),this._userMax=this.parse(e.max),this._suggestedMin=this.parse(e.suggestedMin),this._suggestedMax=this.parse(e.suggestedMax)}parse(e,t){return e}getUserBounds(){let{_userMin:e,_userMax:t,_suggestedMin:n,_suggestedMax:i}=this;return e=Ci(e,Number.POSITIVE_INFINITY),t=Ci(t,Number.NEGATIVE_INFINITY),n=Ci(n,Number.POSITIVE_INFINITY),i=Ci(i,Number.NEGATIVE_INFINITY),{min:Ci(e,n),max:Ci(t,i),minDefined:Kr(e),maxDefined:Kr(t)}}getMinMax(e){let{min:t,max:n,minDefined:i,maxDefined:a}=this.getUserBounds(),o;if(i&&a)return{min:t,max:n};let s=this.getMatchingVisibleMetas();for(let l=0,u=s.length;l<u;++l)o=s[l].controller.getMinMax(this,e),i||(t=Math.min(t,o.min)),a||(n=Math.max(n,o.max));return t=a&&t>n?n:t,n=i&&t>n?t:n,{min:Ci(t,Ci(n,t)),max:Ci(n,Ci(t,n))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){let e=this.chart.data;return this.options.labels||(this.isHorizontal()?e.xLabels:e.yLabels)||e.labels||[]}getLabelItems(e=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(e))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){Cr(this.options.beforeUpdate,[this])}update(e,t,n){let{beginAtZero:i,grace:a,ticks:o}=this.options,s=o.sampleSize;this.beforeUpdate(),this.maxWidth=e,this.maxHeight=t,this._margins=n=Object.assign({left:0,right:0,top:0,bottom:0},n),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+n.left+n.right:this.height+n.top+n.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=WE(this,a,i),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();let l=s<this.ticks.length;this._convertTicksToLabels(l?w8(this.ticks,s):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),o.display&&(o.autoSkip||o.source==="auto")&&(this.ticks=YX(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),l&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let e=this.options.reverse,t,n;this.isHorizontal()?(t=this.left,n=this.right):(t=this.top,n=this.bottom,e=!e),this._startPixel=t,this._endPixel=n,this._reversePixels=e,this._length=n-t,this._alignToPixels=this.options.alignToPixels}afterUpdate(){Cr(this.options.afterUpdate,[this])}beforeSetDimensions(){Cr(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){Cr(this.options.afterSetDimensions,[this])}_callHooks(e){this.chart.notifyPlugins(e,this.getContext()),Cr(this.options[e],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){Cr(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(e){let t=this.options.ticks,n,i,a;for(n=0,i=e.length;n<i;n++)a=e[n],a.label=Cr(t.callback,[a.value,n,e],this)}afterTickToLabelConversion(){Cr(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){Cr(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){let e=this.options,t=e.ticks,n=b8(this.ticks.length,e.ticks.maxTicksLimit),i=t.minRotation||0,a=t.maxRotation,o=i,s,l,u;if(!this._isVisible()||!t.display||i>=a||n<=1||!this.isHorizontal()){this.labelRotation=i;return}let c=this._getLabelSizes(),d=c.widest.width,f=c.highest.height,m=Dn(this.chart.width-d,0,this.maxWidth);s=e.offset?this.maxWidth/n:m/(n-1),d+6>s&&(s=m/(n-(e.offset?.5:1)),l=this.maxHeight-Jf(e.grid)-t.padding-_8(e.title,this.chart.options.font),u=Math.sqrt(d*d+f*f),o=Yh(Math.min(Math.asin(Dn((c.highest.height+6)/s,-1,1)),Math.asin(Dn(l/u,-1,1))-Math.asin(Dn(f/u,-1,1)))),o=Math.max(i,Math.min(a,o))),this.labelRotation=o}afterCalculateLabelRotation(){Cr(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){Cr(this.options.beforeFit,[this])}fit(){let e={width:0,height:0},{chart:t,options:{ticks:n,title:i,grid:a}}=this,o=this._isVisible(),s=this.isHorizontal();if(o){let l=_8(i,t.options.font);if(s?(e.width=this.maxWidth,e.height=Jf(a)+l):(e.height=this.maxHeight,e.width=Jf(a)+l),n.display&&this.ticks.length){let{first:u,last:c,widest:d,highest:f}=this._getLabelSizes(),m=n.padding*2,p=ua(this.labelRotation),h=Math.cos(p),v=Math.sin(p);if(s){let y=n.mirror?0:v*d.width+h*f.height;e.height=Math.min(this.maxHeight,e.height+y+m)}else{let y=n.mirror?0:h*d.width+v*f.height;e.width=Math.min(this.maxWidth,e.width+y+m)}this._calculatePadding(u,c,v,h)}}this._handleMargins(),s?(this.width=this._length=t.width-this._margins.left-this._margins.right,this.height=e.height):(this.width=e.width,this.height=this._length=t.height-this._margins.top-this._margins.bottom)}_calculatePadding(e,t,n,i){let{ticks:{align:a,padding:o},position:s}=this.options,l=this.labelRotation!==0,u=s!=="top"&&this.axis==="x";if(this.isHorizontal()){let c=this.getPixelForTick(0)-this.left,d=this.right-this.getPixelForTick(this.ticks.length-1),f=0,m=0;l?u?(f=i*e.width,m=n*t.height):(f=n*e.height,m=i*t.width):a==="start"?m=t.width:a==="end"?f=e.width:a!=="inner"&&(f=e.width/2,m=t.width/2),this.paddingLeft=Math.max((f-c+o)*this.width/(this.width-c),0),this.paddingRight=Math.max((m-d+o)*this.width/(this.width-d),0)}else{let c=t.height/2,d=e.height/2;a==="start"?(c=0,d=e.height):a==="end"&&(c=t.height,d=0),this.paddingTop=c+o,this.paddingBottom=d+o}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){Cr(this.options.afterFit,[this])}isHorizontal(){let{axis:e,position:t}=this.options;return t==="top"||t==="bottom"||e==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(e){this.beforeTickToLabelConversion(),this.generateTickLabels(e);let t,n;for(t=0,n=e.length;t<n;t++)Qt(e[t].label)&&(e.splice(t,1),n--,t--);this.afterTickToLabelConversion()}_getLabelSizes(){let e=this._labelSizes;if(!e){let t=this.options.ticks.sampleSize,n=this.ticks;t<n.length&&(n=w8(n,t)),this._labelSizes=e=this._computeLabelSizes(n,n.length,this.options.ticks.maxTicksLimit)}return e}_computeLabelSizes(e,t,n){let{ctx:i,_longestTextCache:a}=this,o=[],s=[],l=Math.floor(t/b8(t,n)),u=0,c=0,d,f,m,p,h,v,y,S,x,_,w;for(d=0;d<t;d+=l){if(p=e[d].label,h=this._resolveTickFontOptions(d),i.font=v=h.string,y=a[v]=a[v]||{data:{},gc:[]},S=h.lineHeight,x=_=0,!Qt(p)&&!Fr(p))x=$f(i,y.data,y.gc,x,p),_=S;else if(Fr(p))for(f=0,m=p.length;f<m;++f)w=p[f],!Qt(w)&&!Fr(w)&&(x=$f(i,y.data,y.gc,x,w),_+=S);o.push(x),s.push(_),u=Math.max(x,u),c=Math.max(_,c)}rK(a,t);let b=o.indexOf(u),C=s.indexOf(c),E=D=>({width:o[D]||0,height:s[D]||0});return{first:E(0),last:E(t-1),widest:E(b),highest:E(C),widths:o,heights:s}}getLabelForValue(e){return e}getPixelForValue(e,t){return NaN}getValueForPixel(e){}getPixelForTick(e){let t=this.ticks;return e<0||e>t.length-1?null:this.getPixelForValue(t[e].value)}getPixelForDecimal(e){this._reversePixels&&(e=1-e);let t=this._startPixel+e*this._length;return kE(this._alignToPixels?Os(this.chart,t,0):t)}getDecimalForPixel(e){let t=(e-this._startPixel)/this._length;return this._reversePixels?1-t:t}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){let{min:e,max:t}=this;return e<0&&t<0?t:e>0&&t>0?e:0}getContext(e){let t=this.ticks||[];if(e>=0&&e<t.length){let n=t[e];return n.$context||(n.$context=iK(this.getContext(),e,n))}return this.$context||(this.$context=nK(this.chart.getContext(),this))}_tickSize(){let e=this.options.ticks,t=ua(this.labelRotation),n=Math.abs(Math.cos(t)),i=Math.abs(Math.sin(t)),a=this._getLabelSizes(),o=e.autoSkipPadding||0,s=a?a.widest.width+o:0,l=a?a.highest.height+o:0;return this.isHorizontal()?l*n>s*i?s/n:l/i:l*i<s*n?l/n:s/i}_isVisible(){let e=this.options.display;return e!=="auto"?!!e:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(e){let t=this.axis,n=this.chart,i=this.options,{grid:a,position:o,border:s}=i,l=a.offset,u=this.isHorizontal(),d=this.ticks.length+(l?1:0),f=Jf(a),m=[],p=s.setContext(this.getContext()),h=p.display?p.width:0,v=h/2,y=function(k){return Os(n,k,h)},S,x,_,w,b,C,E,D,M,T,I,B;if(o==="top")S=y(this.bottom),C=this.bottom-f,D=S-v,T=y(e.top)+v,B=e.bottom;else if(o==="bottom")S=y(this.top),T=e.top,B=y(e.bottom)-v,C=S+v,D=this.top+f;else if(o==="left")S=y(this.right),b=this.right-f,E=S-v,M=y(e.left)+v,I=e.right;else if(o==="right")S=y(this.left),M=e.left,I=y(e.right)-v,b=S+v,E=this.left+f;else if(t==="x"){if(o==="center")S=y((e.top+e.bottom)/2+.5);else if(tr(o)){let k=Object.keys(o)[0],O=o[k];S=y(this.chart.scales[k].getPixelForValue(O))}T=e.top,B=e.bottom,C=S+v,D=C+f}else if(t==="y"){if(o==="center")S=y((e.left+e.right)/2);else if(tr(o)){let k=Object.keys(o)[0],O=o[k];S=y(this.chart.scales[k].getPixelForValue(O))}b=S-v,E=b-f,M=e.left,I=e.right}let V=Ut(i.ticks.maxTicksLimit,d),L=Math.max(1,Math.ceil(d/V));for(x=0;x<d;x+=L){let k=this.getContext(x),O=a.setContext(k),Y=s.setContext(k),P=O.lineWidth,ae=O.color,se=Y.dash||[],te=Y.dashOffset,W=O.tickWidth,ue=O.tickColor,we=O.tickBorderDash||[],le=O.tickBorderDashOffset;_=tK(this,x,l),_!==void 0&&(w=Os(n,_,P),u?b=E=M=I=w:C=D=T=B=w,m.push({tx1:b,ty1:C,tx2:E,ty2:D,x1:M,y1:T,x2:I,y2:B,width:P,color:ae,borderDash:se,borderDashOffset:te,tickWidth:W,tickColor:ue,tickBorderDash:we,tickBorderDashOffset:le}))}return this._ticksLength=d,this._borderValue=S,m}_computeLabelItems(e){let t=this.axis,n=this.options,{position:i,ticks:a}=n,o=this.isHorizontal(),s=this.ticks,{align:l,crossAlign:u,padding:c,mirror:d}=a,f=Jf(n.grid),m=f+c,p=d?-c:m,h=-ua(this.labelRotation),v=[],y,S,x,_,w,b,C,E,D,M,T,I,B="middle";if(i==="top")b=this.bottom-p,C=this._getXAxisLabelAlignment();else if(i==="bottom")b=this.top+p,C=this._getXAxisLabelAlignment();else if(i==="left"){let L=this._getYAxisLabelAlignment(f);C=L.textAlign,w=L.x}else if(i==="right"){let L=this._getYAxisLabelAlignment(f);C=L.textAlign,w=L.x}else if(t==="x"){if(i==="center")b=(e.top+e.bottom)/2+m;else if(tr(i)){let L=Object.keys(i)[0],k=i[L];b=this.chart.scales[L].getPixelForValue(k)+m}C=this._getXAxisLabelAlignment()}else if(t==="y"){if(i==="center")w=(e.left+e.right)/2-m;else if(tr(i)){let L=Object.keys(i)[0],k=i[L];w=this.chart.scales[L].getPixelForValue(k)}C=this._getYAxisLabelAlignment(f).textAlign}t==="y"&&(l==="start"?B="top":l==="end"&&(B="bottom"));let V=this._getLabelSizes();for(y=0,S=s.length;y<S;++y){x=s[y],_=x.label;let L=a.setContext(this.getContext(y));E=this.getPixelForTick(y)+a.labelOffset,D=this._resolveTickFontOptions(y),M=D.lineHeight,T=Fr(_)?_.length:1;let k=T/2,O=L.color,Y=L.textStrokeColor,P=L.textStrokeWidth,ae=C;o?(w=E,C==="inner"&&(y===S-1?ae=this.options.reverse?"left":"right":y===0?ae=this.options.reverse?"right":"left":ae="center"),i==="top"?u==="near"||h!==0?I=-T*M+M/2:u==="center"?I=-V.highest.height/2-k*M+M:I=-V.highest.height+M/2:u==="near"||h!==0?I=M/2:u==="center"?I=V.highest.height/2-k*M:I=V.highest.height-T*M,d&&(I*=-1),h!==0&&!L.showLabelBackdrop&&(w+=M/2*Math.sin(h))):(b=E,I=(1-T)*M/2);let se;if(L.showLabelBackdrop){let te=Un(L.backdropPadding),W=V.heights[y],ue=V.widths[y],we=I-te.top,le=0-te.left;switch(B){case"middle":we-=W/2;break;case"bottom":we-=W;break}switch(C){case"center":le-=ue/2;break;case"right":le-=ue;break;case"inner":y===S-1?le-=ue:y>0&&(le-=ue/2);break}se={left:le,top:we,width:ue+te.width,height:W+te.height,color:L.backdropColor}}v.push({label:_,font:D,textOffset:I,options:{rotation:h,color:O,strokeColor:Y,strokeWidth:P,textAlign:ae,textBaseline:B,translation:[w,b],backdrop:se}})}return v}_getXAxisLabelAlignment(){let{position:e,ticks:t}=this.options;if(-ua(this.labelRotation))return e==="top"?"left":"right";let i="center";return t.align==="start"?i="left":t.align==="end"?i="right":t.align==="inner"&&(i="inner"),i}_getYAxisLabelAlignment(e){let{position:t,ticks:{crossAlign:n,mirror:i,padding:a}}=this.options,o=this._getLabelSizes(),s=e+a,l=o.widest.width,u,c;return t==="left"?i?(c=this.right+a,n==="near"?u="left":n==="center"?(u="center",c+=l/2):(u="right",c+=l)):(c=this.right-s,n==="near"?u="right":n==="center"?(u="center",c-=l/2):(u="left",c=this.left)):t==="right"?i?(c=this.left+a,n==="near"?u="right":n==="center"?(u="center",c-=l/2):(u="left",c-=l)):(c=this.left+s,n==="near"?u="left":n==="center"?(u="center",c+=l/2):(u="right",c=this.right)):u="right",{textAlign:u,x:c}}_computeLabelArea(){if(this.options.ticks.mirror)return;let e=this.chart,t=this.options.position;if(t==="left"||t==="right")return{top:0,left:this.left,bottom:e.height,right:this.right};if(t==="top"||t==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:e.width}}drawBackground(){let{ctx:e,options:{backgroundColor:t},left:n,top:i,width:a,height:o}=this;t&&(e.save(),e.fillStyle=t,e.fillRect(n,i,a,o),e.restore())}getLineWidthForValue(e){let t=this.options.grid;if(!this._isVisible()||!t.display)return 0;let i=this.ticks.findIndex(a=>a.value===e);return i>=0?t.setContext(this.getContext(i)).lineWidth:0}drawGrid(e){let t=this.options.grid,n=this.ctx,i=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(e)),a,o,s=(l,u,c)=>{!c.width||!c.color||(n.save(),n.lineWidth=c.width,n.strokeStyle=c.color,n.setLineDash(c.borderDash||[]),n.lineDashOffset=c.borderDashOffset,n.beginPath(),n.moveTo(l.x,l.y),n.lineTo(u.x,u.y),n.stroke(),n.restore())};if(t.display)for(a=0,o=i.length;a<o;++a){let l=i[a];t.drawOnChartArea&&s({x:l.x1,y:l.y1},{x:l.x2,y:l.y2},l),t.drawTicks&&s({x:l.tx1,y:l.ty1},{x:l.tx2,y:l.ty2},{color:l.tickColor,width:l.tickWidth,borderDash:l.tickBorderDash,borderDashOffset:l.tickBorderDashOffset})}}drawBorder(){let{chart:e,ctx:t,options:{border:n,grid:i}}=this,a=n.setContext(this.getContext()),o=n.display?a.width:0;if(!o)return;let s=i.setContext(this.getContext(0)).lineWidth,l=this._borderValue,u,c,d,f;this.isHorizontal()?(u=Os(e,this.left,o)-o/2,c=Os(e,this.right,s)+s/2,d=f=l):(d=Os(e,this.top,o)-o/2,f=Os(e,this.bottom,s)+s/2,u=c=l),t.save(),t.lineWidth=a.width,t.strokeStyle=a.color,t.beginPath(),t.moveTo(u,d),t.lineTo(c,f),t.stroke(),t.restore()}drawLabels(e){if(!this.options.ticks.display)return;let n=this.ctx,i=this._computeLabelArea();i&&Gf(n,i);let a=this.getLabelItems(e);for(let o of a){let s=o.options,l=o.font,u=o.label,c=o.textOffset;Rs(n,u,0,c,l,s)}i&&Yf(n)}drawTitle(){let{ctx:e,options:{position:t,title:n,reverse:i}}=this;if(!n.display)return;let a=pn(n.font),o=Un(n.padding),s=n.align,l=a.lineHeight/2;t==="bottom"||t==="center"||tr(t)?(l+=o.bottom,Fr(n.text)&&(l+=a.lineHeight*(n.text.length-1))):l+=o.top;let{titleX:u,titleY:c,maxWidth:d,rotation:f}=oK(this,l,t,s);Rs(e,n.text,0,0,a,{color:n.color,maxWidth:d,rotation:f,textAlign:aK(s,t,i),textBaseline:"middle",translation:[u,c]})}draw(e){this._isVisible()&&(this.drawBackground(),this.drawGrid(e),this.drawBorder(),this.drawTitle(),this.drawLabels(e))}_layers(){let e=this.options,t=e.ticks&&e.ticks.z||0,n=Ut(e.grid&&e.grid.z,-1),i=Ut(e.border&&e.border.z,0);return!this._isVisible()||this.draw!==r.prototype.draw?[{z:t,draw:a=>{this.draw(a)}}]:[{z:n,draw:a=>{this.drawBackground(),this.drawGrid(a),this.drawTitle()}},{z:i,draw:()=>{this.drawBorder()}},{z:t,draw:a=>{this.drawLabels(a)}}]}getMatchingVisibleMetas(e){let t=this.chart.getSortedVisibleDatasetMetas(),n=this.axis+"AxisID",i=[],a,o;for(a=0,o=t.length;a<o;++a){let s=t[a];s[n]===this.id&&(!e||s.type===e)&&i.push(s)}return i}_resolveTickFontOptions(e){let t=this.options.ticks.setContext(this.getContext(e));return pn(t.font)}_maxDigits(){let e=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/e}},mc=class{constructor(e,t,n){this.type=e,this.scope=t,this.override=n,this.items=Object.create(null)}isForType(e){return Object.prototype.isPrototypeOf.call(this.type.prototype,e.prototype)}register(e){let t=Object.getPrototypeOf(e),n;uK(t)&&(n=this.register(t));let i=this.items,a=e.id,o=this.scope+"."+a;if(!a)throw new Error("class does not have id: "+e);return a in i||(i[a]=e,sK(e,o,n),this.override&&Rr.override(e.id,e.overrides)),o}get(e){return this.items[e]}unregister(e){let t=this.items,n=e.id,i=this.scope;n in t&&delete t[n],i&&n in Rr[i]&&(delete Rr[i][n],this.override&&delete Is[n])}};function sK(r,e,t){let n=rc(Object.create(null),[t?Rr.get(t):{},Rr.get(e),r.defaults]);Rr.set(e,n),r.defaultRoutes&&lK(e,r.defaultRoutes),r.descriptors&&Rr.describe(e,r.descriptors)}function lK(r,e){Object.keys(e).forEach(t=>{let n=t.split("."),i=n.pop(),a=[r].concat(n).join("."),o=e[t].split("."),s=o.pop(),l=o.join(".");Rr.route(a,i,l,s)})}function uK(r){return"id"in r&&"defaults"in r}var Oy=class{constructor(){this.controllers=new mc(Ls,"datasets",!0),this.elements=new mc($i,"elements"),this.plugins=new mc(Object,"plugins"),this.scales=new mc(Kl,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...e){this._each("register",e)}remove(...e){this._each("unregister",e)}addControllers(...e){this._each("register",e,this.controllers)}addElements(...e){this._each("register",e,this.elements)}addPlugins(...e){this._each("register",e,this.plugins)}addScales(...e){this._each("register",e,this.scales)}getController(e){return this._get(e,this.controllers,"controller")}getElement(e){return this._get(e,this.elements,"element")}getPlugin(e){return this._get(e,this.plugins,"plugin")}getScale(e){return this._get(e,this.scales,"scale")}removeControllers(...e){this._each("unregister",e,this.controllers)}removeElements(...e){this._each("unregister",e,this.elements)}removePlugins(...e){this._each("unregister",e,this.plugins)}removeScales(...e){this._each("unregister",e,this.scales)}_each(e,t,n){[...t].forEach(i=>{let a=n||this._getRegistryForType(i);n||a.isForType(i)||a===this.plugins&&i.id?this._exec(e,a,i):gr(i,o=>{let s=n||this._getRegistryForType(o);this._exec(e,s,o)})})}_exec(e,t,n){let i=Gh(e);Cr(n["before"+i],[],n),t[e](n),Cr(n["after"+i],[],n)}_getRegistryForType(e){for(let t=0;t<this._typedRegistries.length;t++){let n=this._typedRegistries[t];if(n.isForType(e))return n}return this.plugins}_get(e,t,n){let i=t.get(e);if(i===void 0)throw new Error('"'+e+'" is not a registered '+n+".");return i}},ho=new Oy,Ry=class{constructor(){this._init=[]}notify(e,t,n,i){t==="beforeInit"&&(this._init=this._createDescriptors(e,!0),this._notify(this._init,e,"install"));let a=i?this._descriptors(e).filter(i):this._descriptors(e),o=this._notify(a,e,t,n);return t==="afterDestroy"&&(this._notify(a,e,"stop"),this._notify(this._init,e,"uninstall")),o}_notify(e,t,n,i){i=i||{};for(let a of e){let o=a.plugin,s=o[n],l=[t,i,a.options];if(Cr(s,l,o)===!1&&i.cancelable)return!1}return!0}invalidate(){Qt(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(e){if(this._cache)return this._cache;let t=this._cache=this._createDescriptors(e);return this._notifyStateChanges(e),t}_createDescriptors(e,t){let n=e&&e.config,i=Ut(n.options&&n.options.plugins,{}),a=cK(n);return i===!1&&!t?[]:fK(e,a,i,t)}_notifyStateChanges(e){let t=this._oldCache||[],n=this._cache,i=(a,o)=>a.filter(s=>!o.some(l=>s.plugin.id===l.plugin.id));this._notify(i(t,n),e,"stop"),this._notify(i(n,t),e,"start")}};function cK(r){let e={},t=[],n=Object.keys(ho.plugins.items);for(let a=0;a<n.length;a++)t.push(ho.getPlugin(n[a]));let i=r.plugins||[];for(let a=0;a<i.length;a++){let o=i[a];t.indexOf(o)===-1&&(t.push(o),e[o.id]=!0)}return{plugins:t,localIds:e}}function dK(r,e){return!e&&r===!1?null:r===!0?{}:r}function fK(r,{plugins:e,localIds:t},n,i){let a=[],o=r.getContext();for(let s of e){let l=s.id,u=dK(n[l],i);u!==null&&a.push({plugin:s,options:mK(r.config,{plugin:s,local:t[l]},u,o)})}return a}function mK(r,{plugin:e,local:t},n,i){let a=r.pluginScopeKeys(e),o=r.getOptionScopes(n,a);return t&&e.defaults&&o.push(e.defaults),r.createResolver(o,i,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function ky(r,e){let t=Rr.datasets[r]||{};return((e.datasets||{})[r]||{}).indexAxis||e.indexAxis||t.indexAxis||"x"}function hK(r,e){let t=r;return r==="_index_"?t=e:r==="_value_"&&(t=e==="x"?"y":"x"),t}function pK(r,e){return r===e?"_index_":"_value_"}function S8(r){if(r==="x"||r==="y"||r==="r")return r}function gK(r){if(r==="top"||r==="bottom")return"x";if(r==="left"||r==="right")return"y"}function Py(r,...e){if(S8(r))return r;for(let t of e){let n=t.axis||gK(t.position)||r.length>1&&S8(r[0].toLowerCase());if(n)return n}throw new Error(`Cannot determine type of '${r}' axis. Please provide 'axis' or 'position' option.`)}function D8(r,e,t){if(t[e+"AxisID"]===r)return{axis:e}}function vK(r,e){if(e.data&&e.data.datasets){let t=e.data.datasets.filter(n=>n.xAxisID===r||n.yAxisID===r);if(t.length)return D8(r,"x",t[0])||D8(r,"y",t[0])}return{}}function xK(r,e){let t=Is[r.type]||{scales:{}},n=e.scales||{},i=ky(r.type,e),a=Object.create(null);return Object.keys(n).forEach(o=>{let s=n[o];if(!tr(s))return console.error(`Invalid scale configuration for scale: ${o}`);if(s._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${o}`);let l=Py(o,s,vK(o,r),Rr.scales[s.type]),u=pK(l,i),c=t.scales||{};a[o]=ic(Object.create(null),[{axis:l},s,c[l],c[u]])}),r.data.datasets.forEach(o=>{let s=o.type||r.type,l=o.indexAxis||ky(s,e),c=(Is[s]||{}).scales||{};Object.keys(c).forEach(d=>{let f=hK(d,l),m=o[f+"AxisID"]||f;a[m]=a[m]||Object.create(null),ic(a[m],[{axis:f},n[m],c[d]])})}),Object.keys(a).forEach(o=>{let s=a[o];ic(s,[Rr.scales[s.type],Rr.scale])}),a}function dA(r){let e=r.options||(r.options={});e.plugins=Ut(e.plugins,{}),e.scales=xK(r,e)}function fA(r){return r=r||{},r.datasets=r.datasets||[],r.labels=r.labels||[],r}function yK(r){return r=r||{},r.data=fA(r.data),dA(r),r}var C8=new Map,mA=new Set;function op(r,e){let t=C8.get(r);return t||(t=e(),C8.set(r,t),mA.add(t)),t}var Qf=(r,e,t)=>{let n=Ho(e,t);n!==void 0&&r.add(n)},By=class{constructor(e){this._config=yK(e),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(e){this._config.type=e}get data(){return this._config.data}set data(e){this._config.data=fA(e)}get options(){return this._config.options}set options(e){this._config.options=e}get plugins(){return this._config.plugins}update(){let e=this._config;this.clearCache(),dA(e)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(e){return op(e,()=>[[`datasets.${e}`,""]])}datasetAnimationScopeKeys(e,t){return op(`${e}.transition.${t}`,()=>[[`datasets.${e}.transitions.${t}`,`transitions.${t}`],[`datasets.${e}`,""]])}datasetElementScopeKeys(e,t){return op(`${e}-${t}`,()=>[[`datasets.${e}.elements.${t}`,`datasets.${e}`,`elements.${t}`,""]])}pluginScopeKeys(e){let t=e.id,n=this.type;return op(`${n}-plugin-${t}`,()=>[[`plugins.${t}`,...e.additionalOptionScopes||[]]])}_cachedScopes(e,t){let n=this._scopeCache,i=n.get(e);return(!i||t)&&(i=new Map,n.set(e,i)),i}getOptionScopes(e,t,n){let{options:i,type:a}=this,o=this._cachedScopes(e,n),s=o.get(t);if(s)return s;let l=new Set;t.forEach(c=>{e&&(l.add(e),c.forEach(d=>Qf(l,e,d))),c.forEach(d=>Qf(l,i,d)),c.forEach(d=>Qf(l,Is[a]||{},d)),c.forEach(d=>Qf(l,Rr,d)),c.forEach(d=>Qf(l,Kh,d))});let u=Array.from(l);return u.length===0&&u.push(Object.create(null)),mA.has(t)&&o.set(t,u),u}chartOptionScopes(){let{options:e,type:t}=this;return[e,Is[t]||{},Rr.datasets[t]||{},{type:t},Rr,Kh]}resolveNamedOptions(e,t,n,i=[""]){let a={$shared:!0},{resolver:o,subPrefixes:s}=E8(this._resolverCache,e,i),l=o;if(wK(o,t)){a.$shared=!1,n=jo(n)?n():n;let u=this.createResolver(e,n,s);l=$l(o,n,u)}for(let u of t)a[u]=l[u];return a}createResolver(e,t,n=[""],i){let{resolver:a}=E8(this._resolverCache,e,n);return tr(t)?$l(a,t,void 0,i):a}};function E8(r,e,t){let n=r.get(e);n||(n=new Map,r.set(e,n));let i=t.join(),a=n.get(i);return a||(a={resolver:ep(e,t),subPrefixes:t.filter(s=>!s.toLowerCase().includes("hover"))},n.set(i,a)),a}var bK=r=>tr(r)&&Object.getOwnPropertyNames(r).some(e=>jo(r[e]));function wK(r,e){let{isScriptable:t,isIndexable:n}=sy(r);for(let i of e){let a=t(i),o=n(i),s=(o||a)&&r[i];if(a&&(jo(s)||bK(s))||o&&Fr(s))return!0}return!1}var _K="4.4.9",SK=["top","bottom","left","right","chartArea"];function A8(r,e){return r==="top"||r==="bottom"||SK.indexOf(r)===-1&&e==="x"}function M8(r,e){return function(t,n){return t[r]===n[r]?t[e]-n[e]:t[r]-n[r]}}function N8(r){let e=r.chart,t=e.options.animation;e.notifyPlugins("afterRender"),Cr(t&&t.onComplete,[r],e)}function DK(r){let e=r.chart,t=e.options.animation;Cr(t&&t.onProgress,[r],e)}function hA(r){return tp()&&typeof r=="string"?r=document.getElementById(r):r&&r.length&&(r=r[0]),r&&r.canvas&&(r=r.canvas),r}var dp={},T8=r=>{let e=hA(r);return Object.values(dp).filter(t=>t.canvas===e).pop()};function CK(r,e,t){let n=Object.keys(r);for(let i of n){let a=+i;if(a>=e){let o=r[i];delete r[i],(t>0||a>e)&&(r[a+t]=o)}}}function EK(r,e,t,n){return!t||r.type==="mouseout"?null:n?e:r}var zs=(()=>{class r{static register(...t){ho.add(...t),F8()}static unregister(...t){ho.remove(...t),F8()}constructor(t,n){let i=this.config=new By(n),a=hA(t),o=T8(a);if(o)throw new Error("Canvas is already in use. Chart with ID '"+o.id+"' must be destroyed before the canvas with ID '"+o.canvas.id+"' can be reused.");let s=i.createResolver(i.chartOptionScopes(),this.getContext());this.platform=new(i.platform||GX(a)),this.platform.updateConfig(i);let l=this.platform.acquireContext(a,s.aspectRatio),u=l&&l.canvas,c=u&&u.height,d=u&&u.width;if(this.id=NE(),this.ctx=l,this.canvas=u,this.width=d,this.height=c,this._options=s,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new Ry,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=VE(f=>this.update(f),s.resizeDelay||0),this._dataChanges=[],dp[this.id]=this,!l||!u){console.error("Failed to create chart: can't acquire context from the given item");return}Go.listen(this,"complete",N8),Go.listen(this,"progress",DK),this._initialize(),this.attached&&this.update()}get aspectRatio(){let{options:{aspectRatio:t,maintainAspectRatio:n},width:i,height:a,_aspectRatio:o}=this;return Qt(t)?n&&o?o:a?i/a:null:t}get data(){return this.config.data}set data(t){this.config.data=t}get options(){return this._options}set options(t){this.config.options=t}get registry(){return ho}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():dy(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return iy(this.canvas,this.ctx),this}stop(){return Go.stop(this),this}resize(t,n){Go.running(this)?this._resizeBeforeDraw={width:t,height:n}:this._resize(t,n)}_resize(t,n){let i=this.options,a=this.canvas,o=i.maintainAspectRatio&&this.aspectRatio,s=this.platform.getMaximumSize(a,t,n,o),l=i.devicePixelRatio||this.platform.getDevicePixelRatio(),u=this.width?"resize":"attach";this.width=s.width,this.height=s.height,this._aspectRatio=this.aspectRatio,dy(this,l,!0)&&(this.notifyPlugins("resize",{size:s}),Cr(i.onResize,[this,s],this),this.attached&&this._doResize(u)&&this.render())}ensureScalesHaveIDs(){let n=this.options.scales||{};gr(n,(i,a)=>{i.id=a})}buildOrUpdateScales(){let t=this.options,n=t.scales,i=this.scales,a=Object.keys(i).reduce((s,l)=>(s[l]=!1,s),{}),o=[];n&&(o=o.concat(Object.keys(n).map(s=>{let l=n[s],u=Py(s,l),c=u==="r",d=u==="x";return{options:l,dposition:c?"chartArea":d?"bottom":"left",dtype:c?"radialLinear":d?"category":"linear"}}))),gr(o,s=>{let l=s.options,u=l.id,c=Py(u,l),d=Ut(l.type,s.dtype);(l.position===void 0||A8(l.position,c)!==A8(s.dposition))&&(l.position=s.dposition),a[u]=!0;let f=null;if(u in i&&i[u].type===d)f=i[u];else{let m=ho.getScale(d);f=new m({id:u,type:d,ctx:this.ctx,chart:this}),i[f.id]=f}f.init(l,t)}),gr(a,(s,l)=>{s||delete i[l]}),gr(i,s=>{Zn.configure(this,s,s.options),Zn.addBox(this,s)})}_updateMetasets(){let t=this._metasets,n=this.data.datasets.length,i=t.length;if(t.sort((a,o)=>a.index-o.index),i>n){for(let a=n;a<i;++a)this._destroyDatasetMeta(a);t.splice(n,i-n)}this._sortedMetasets=t.slice(0).sort(M8("order","index"))}_removeUnreferencedMetasets(){let{_metasets:t,data:{datasets:n}}=this;t.length>n.length&&delete this._stacks,t.forEach((i,a)=>{n.filter(o=>o===i._dataset).length===0&&this._destroyDatasetMeta(a)})}buildOrUpdateControllers(){let t=[],n=this.data.datasets,i,a;for(this._removeUnreferencedMetasets(),i=0,a=n.length;i<a;i++){let o=n[i],s=this.getDatasetMeta(i),l=o.type||this.config.type;if(s.type&&s.type!==l&&(this._destroyDatasetMeta(i),s=this.getDatasetMeta(i)),s.type=l,s.indexAxis=o.indexAxis||ky(l,this.options),s.order=o.order||0,s.index=i,s.label=""+o.label,s.visible=this.isDatasetVisible(i),s.controller)s.controller.updateIndex(i),s.controller.linkScales();else{let u=ho.getController(l),{datasetElementType:c,dataElementType:d}=Rr.datasets[l];Object.assign(u,{dataElementType:ho.getElement(d),datasetElementType:c&&ho.getElement(c)}),s.controller=new u(this,i),t.push(s.controller)}}return this._updateMetasets(),t}_resetElements(){gr(this.data.datasets,(t,n)=>{this.getDatasetMeta(n).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(t){let n=this.config;n.update();let i=this._options=n.createResolver(n.chartOptionScopes(),this.getContext()),a=this._animationsDisabled=!i.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:t,cancelable:!0})===!1)return;let o=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let s=0;for(let c=0,d=this.data.datasets.length;c<d;c++){let{controller:f}=this.getDatasetMeta(c),m=!a&&o.indexOf(f)===-1;f.buildOrUpdateElements(m),s=Math.max(+f.getMaxOverflow(),s)}s=this._minPadding=i.layout.autoPadding?s:0,this._updateLayout(s),a||gr(o,c=>{c.reset()}),this._updateDatasets(t),this.notifyPlugins("afterUpdate",{mode:t}),this._layers.sort(M8("z","_idx"));let{_active:l,_lastEvent:u}=this;u?this._eventHandler(u,!0):l.length&&this._updateHoverStyles(l,l,!0),this.render()}_updateScales(){gr(this.scales,t=>{Zn.removeBox(this,t)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){let t=this.options,n=new Set(Object.keys(this._listeners)),i=new Set(t.events);(!Hx(n,i)||!!this._responsiveListeners!==t.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){let{_hiddenIndices:t}=this,n=this._getUniformDataChanges()||[];for(let{method:i,start:a,count:o}of n){let s=i==="_removeElements"?-o:o;CK(t,a,s)}}_getUniformDataChanges(){let t=this._dataChanges;if(!t||!t.length)return;this._dataChanges=[];let n=this.data.datasets.length,i=o=>new Set(t.filter(s=>s[0]===o).map((s,l)=>l+","+s.splice(1).join(","))),a=i(0);for(let o=1;o<n;o++)if(!Hx(a,i(o)))return;return Array.from(a).map(o=>o.split(",")).map(o=>({method:o[1],start:+o[2],count:+o[3]}))}_updateLayout(t){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;Zn.update(this,this.width,this.height,t);let n=this.chartArea,i=n.width<=0||n.height<=0;this._layers=[],gr(this.boxes,a=>{i&&a.position==="chartArea"||(a.configure&&a.configure(),this._layers.push(...a._layers()))},this),this._layers.forEach((a,o)=>{a._idx=o}),this.notifyPlugins("afterLayout")}_updateDatasets(t){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:t,cancelable:!0})!==!1){for(let n=0,i=this.data.datasets.length;n<i;++n)this.getDatasetMeta(n).controller.configure();for(let n=0,i=this.data.datasets.length;n<i;++n)this._updateDataset(n,jo(t)?t({datasetIndex:n}):t);this.notifyPlugins("afterDatasetsUpdate",{mode:t})}}_updateDataset(t,n){let i=this.getDatasetMeta(t),a={meta:i,index:t,mode:n,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",a)!==!1&&(i.controller._update(n),a.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",a))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(Go.has(this)?this.attached&&!Go.running(this)&&Go.start(this):(this.draw(),N8({chart:this})))}draw(){let t;if(this._resizeBeforeDraw){let{width:i,height:a}=this._resizeBeforeDraw;this._resizeBeforeDraw=null,this._resize(i,a)}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;let n=this._layers;for(t=0;t<n.length&&n[t].z<=0;++t)n[t].draw(this.chartArea);for(this._drawDatasets();t<n.length;++t)n[t].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(t){let n=this._sortedMetasets,i=[],a,o;for(a=0,o=n.length;a<o;++a){let s=n[a];(!t||s.visible)&&i.push(s)}return i}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;let t=this.getSortedVisibleDatasetMetas();for(let n=t.length-1;n>=0;--n)this._drawDataset(t[n]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(t){let n=this.ctx,i={meta:t,index:t.index,cancelable:!0},a=vy(this,t);this.notifyPlugins("beforeDatasetDraw",i)!==!1&&(a&&Gf(n,a),t.controller.draw(),a&&Yf(n),i.cancelable=!1,this.notifyPlugins("afterDatasetDraw",i))}isPointInArea(t){return uo(t,this.chartArea,this._minPadding)}getElementsAtEventForMode(t,n,i,a){let o=MX.modes[n];return typeof o=="function"?o(this,t,i,a):[]}getDatasetMeta(t){let n=this.data.datasets[t],i=this._metasets,a=i.filter(o=>o&&o._dataset===n).pop();return a||(a={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:n&&n.order||0,index:t,_dataset:n,_parsed:[],_sorted:!1},i.push(a)),a}getContext(){return this.$context||(this.$context=Wo(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(t){let n=this.data.datasets[t];if(!n)return!1;let i=this.getDatasetMeta(t);return typeof i.hidden=="boolean"?!i.hidden:!n.hidden}setDatasetVisibility(t,n){let i=this.getDatasetMeta(t);i.hidden=!n}toggleDataVisibility(t){this._hiddenIndices[t]=!this._hiddenIndices[t]}getDataVisibility(t){return!this._hiddenIndices[t]}_updateVisibility(t,n,i){let a=i?"show":"hide",o=this.getDatasetMeta(t),s=o.controller._resolveAnimations(void 0,a);ac(n)?(o.data[n].hidden=!i,this.update()):(this.setDatasetVisibility(t,i),s.update(o,{visible:i}),this.update(l=>l.datasetIndex===t?a:void 0))}hide(t,n){this._updateVisibility(t,n,!1)}show(t,n){this._updateVisibility(t,n,!0)}_destroyDatasetMeta(t){let n=this._metasets[t];n&&n.controller&&n.controller._destroy(),delete this._metasets[t]}_stop(){let t,n;for(this.stop(),Go.remove(this),t=0,n=this.data.datasets.length;t<n;++t)this._destroyDatasetMeta(t)}destroy(){this.notifyPlugins("beforeDestroy");let{canvas:t,ctx:n}=this;this._stop(),this.config.clearCache(),t&&(this.unbindEvents(),iy(t,n),this.platform.releaseContext(n),this.canvas=null,this.ctx=null),delete dp[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...t){return this.canvas.toDataURL(...t)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){let t=this._listeners,n=this.platform,i=(o,s)=>{n.addEventListener(this,o,s),t[o]=s},a=(o,s,l)=>{o.offsetX=s,o.offsetY=l,this._eventHandler(o)};gr(this.options.events,o=>i(o,a))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});let t=this._responsiveListeners,n=this.platform,i=(u,c)=>{n.addEventListener(this,u,c),t[u]=c},a=(u,c)=>{t[u]&&(n.removeEventListener(this,u,c),delete t[u])},o=(u,c)=>{this.canvas&&this.resize(u,c)},s,l=()=>{a("attach",l),this.attached=!0,this.resize(),i("resize",o),i("detach",s)};s=()=>{this.attached=!1,a("resize",o),this._stop(),this._resize(0,0),i("attach",l)},n.isAttached(this.canvas)?l():s()}unbindEvents(){gr(this._listeners,(t,n)=>{this.platform.removeEventListener(this,n,t)}),this._listeners={},gr(this._responsiveListeners,(t,n)=>{this.platform.removeEventListener(this,n,t)}),this._responsiveListeners=void 0}updateHoverStyle(t,n,i){let a=i?"set":"remove",o,s,l,u;for(n==="dataset"&&(o=this.getDatasetMeta(t[0].datasetIndex),o.controller["_"+a+"DatasetHoverStyle"]()),l=0,u=t.length;l<u;++l){s=t[l];let c=s&&this.getDatasetMeta(s.datasetIndex).controller;c&&c[a+"HoverStyle"](s.element,s.datasetIndex,s.index)}}getActiveElements(){return this._active||[]}setActiveElements(t){let n=this._active||[],i=t.map(({datasetIndex:o,index:s})=>{let l=this.getDatasetMeta(o);if(!l)throw new Error("No dataset found at index "+o);return{datasetIndex:o,element:l.data[s],index:s}});!Hf(i,n)&&(this._active=i,this._lastEvent=null,this._updateHoverStyles(i,n))}notifyPlugins(t,n,i){return this._plugins.notify(this,t,n,i)}isPluginEnabled(t){return this._plugins._cache.filter(n=>n.plugin.id===t).length===1}_updateHoverStyles(t,n,i){let a=this.options.hover,o=(u,c)=>u.filter(d=>!c.some(f=>d.datasetIndex===f.datasetIndex&&d.index===f.index)),s=o(n,t),l=i?t:o(t,n);s.length&&this.updateHoverStyle(s,a.mode,!1),l.length&&a.mode&&this.updateHoverStyle(l,a.mode,!0)}_eventHandler(t,n){let i={event:t,replay:n,cancelable:!0,inChartArea:this.isPointInArea(t)},a=s=>(s.options.events||this.options.events).includes(t.native.type);if(this.notifyPlugins("beforeEvent",i,a)===!1)return;let o=this._handleEvent(t,n,i.inChartArea);return i.cancelable=!1,this.notifyPlugins("afterEvent",i,a),(o||i.changed)&&this.render(),this}_handleEvent(t,n,i){let{_active:a=[],options:o}=this,s=n,l=this._getActiveElements(t,a,i,s),u=IE(t),c=EK(t,this._lastEvent,i,u);i&&(this._lastEvent=null,Cr(o.onHover,[t,l,this],this),u&&Cr(o.onClick,[t,l,this],this));let d=!Hf(l,a);return(d||n)&&(this._active=l,this._updateHoverStyles(l,a,n)),this._lastEvent=c,d}_getActiveElements(t,n,i,a){if(t.type==="mouseout")return[];if(!i)return n;let o=this.options.hover;return this.getElementsAtEventForMode(t,o.mode,o,a)}}return g(r,"defaults",Rr),g(r,"instances",dp),g(r,"overrides",Is),g(r,"registry",ho),g(r,"version",_K),g(r,"getChart",T8),r})();function F8(){return gr(zs.instances,r=>r._plugins.invalidate())}function AK(r,e,t){let{startAngle:n,pixelMargin:i,x:a,y:o,outerRadius:s,innerRadius:l}=e,u=i/s;r.beginPath(),r.arc(a,o,s,n-u,t+u),l>i?(u=i/l,r.arc(a,o,l,t+u,n-u,!0)):r.arc(a,o,i,t+an,n-an),r.closePath(),r.clip()}function MK(r){return Qh(r,["outerStart","outerEnd","innerStart","innerEnd"])}function NK(r,e,t,n){let i=MK(r.options.borderRadius),a=(t-e)/2,o=Math.min(a,n*e/2),s=l=>{let u=(t-Math.min(a,l))*n/2;return Dn(l,0,Math.min(a,u))};return{outerStart:s(i.outerStart),outerEnd:s(i.outerEnd),innerStart:Dn(i.innerStart,0,o),innerEnd:Dn(i.innerEnd,0,o)}}function dc(r,e,t,n){return{x:t+r*Math.cos(e),y:n+r*Math.sin(e)}}function pp(r,e,t,n,i,a){let{x:o,y:s,startAngle:l,pixelMargin:u,innerRadius:c}=e,d=Math.max(e.outerRadius+n+t-u,0),f=c>0?c+n+t+u:0,m=0,p=i-l;if(n){let L=c>0?c-n:0,k=d>0?d-n:0,O=(L+k)/2,Y=O!==0?p*O/(O+n):p;m=(p-Y)/2}let h=Math.max(.001,p*d-t/Ir)/d,v=(p-h)/2,y=l+v+m,S=i-v-m,{outerStart:x,outerEnd:_,innerStart:w,innerEnd:b}=NK(e,f,d,S-y),C=d-x,E=d-_,D=y+x/C,M=S-_/E,T=f+w,I=f+b,B=y+w/T,V=S-b/I;if(r.beginPath(),a){let L=(D+M)/2;if(r.arc(o,s,d,D,L),r.arc(o,s,d,L,M),_>0){let P=dc(E,M,o,s);r.arc(P.x,P.y,_,M,S+an)}let k=dc(I,S,o,s);if(r.lineTo(k.x,k.y),b>0){let P=dc(I,V,o,s);r.arc(P.x,P.y,b,S+an,V+Math.PI)}let O=(S-b/f+(y+w/f))/2;if(r.arc(o,s,f,S-b/f,O,!0),r.arc(o,s,f,O,y+w/f,!0),w>0){let P=dc(T,B,o,s);r.arc(P.x,P.y,w,B+Math.PI,y-an)}let Y=dc(C,y,o,s);if(r.lineTo(Y.x,Y.y),x>0){let P=dc(C,D,o,s);r.arc(P.x,P.y,x,y-an,D)}}else{r.moveTo(o,s);let L=Math.cos(D)*d+o,k=Math.sin(D)*d+s;r.lineTo(L,k);let O=Math.cos(M)*d+o,Y=Math.sin(M)*d+s;r.lineTo(O,Y)}r.closePath()}function TK(r,e,t,n,i){let{fullCircles:a,startAngle:o,circumference:s}=e,l=e.endAngle;if(a){pp(r,e,t,n,l,i);for(let u=0;u<a;++u)r.fill();isNaN(s)||(l=o+(s%Or||Or))}return pp(r,e,t,n,l,i),r.fill(),l}function FK(r,e,t,n,i){let{fullCircles:a,startAngle:o,circumference:s,options:l}=e,{borderWidth:u,borderJoinStyle:c,borderDash:d,borderDashOffset:f}=l,m=l.borderAlign==="inner";if(!u)return;r.setLineDash(d||[]),r.lineDashOffset=f,m?(r.lineWidth=u*2,r.lineJoin=c||"round"):(r.lineWidth=u,r.lineJoin=c||"bevel");let p=e.endAngle;if(a){pp(r,e,t,n,p,i);for(let h=0;h<a;++h)r.stroke();isNaN(s)||(p=o+(s%Or||Or))}m&&AK(r,e,p),a||(pp(r,e,t,n,p,i),r.stroke())}var Zl=class extends $i{constructor(t){super();g(this,"circumference");g(this,"endAngle");g(this,"fullCircles");g(this,"innerRadius");g(this,"outerRadius");g(this,"pixelMargin");g(this,"startAngle");this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,t&&Object.assign(this,t)}inRange(t,n,i){let a=this.getProps(["x","y"],i),{angle:o,distance:s}=Zx(a,{x:t,y:n}),{startAngle:l,endAngle:u,innerRadius:c,outerRadius:d,circumference:f}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],i),m=(this.options.spacing+this.options.borderWidth)/2,p=Ut(f,u-l),h=sc(o,l,u)&&l!==u,v=p>=Or||h,y=fo(s,c+m,d+m);return v&&y}getCenterPoint(t){let{x:n,y:i,startAngle:a,endAngle:o,innerRadius:s,outerRadius:l}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius"],t),{offset:u,spacing:c}=this.options,d=(a+o)/2,f=(s+l+c+u)/2;return{x:n+Math.cos(d)*f,y:i+Math.sin(d)*f}}tooltipPosition(t){return this.getCenterPoint(t)}draw(t){let{options:n,circumference:i}=this,a=(n.offset||0)/4,o=(n.spacing||0)/2,s=n.circular;if(this.pixelMargin=n.borderAlign==="inner"?.33:0,this.fullCircles=i>Or?Math.floor(i/Or):0,i===0||this.innerRadius<0||this.outerRadius<0)return;t.save();let l=(this.startAngle+this.endAngle)/2;t.translate(Math.cos(l)*a,Math.sin(l)*a);let u=1-Math.sin(Math.min(Ir,i||0)),c=a*u;t.fillStyle=n.backgroundColor,t.strokeStyle=n.borderColor,TK(t,this,c,o,s),FK(t,this,c,o,s),t.restore()}};g(Zl,"id","arc"),g(Zl,"defaults",{borderAlign:"center",borderColor:"#fff",borderDash:[],borderDashOffset:0,borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0}),g(Zl,"defaultRoutes",{backgroundColor:"backgroundColor"}),g(Zl,"descriptors",{_scriptable:!0,_indexable:t=>t!=="borderDash"});function pA(r,e,t=e){r.lineCap=Ut(t.borderCapStyle,e.borderCapStyle),r.setLineDash(Ut(t.borderDash,e.borderDash)),r.lineDashOffset=Ut(t.borderDashOffset,e.borderDashOffset),r.lineJoin=Ut(t.borderJoinStyle,e.borderJoinStyle),r.lineWidth=Ut(t.borderWidth,e.borderWidth),r.strokeStyle=Ut(t.borderColor,e.borderColor)}function IK(r,e,t){r.lineTo(t.x,t.y)}function OK(r){return r.stepped?$E:r.tension||r.cubicInterpolationMode==="monotone"?HE:IK}function gA(r,e,t={}){let n=r.length,{start:i=0,end:a=n-1}=t,{start:o,end:s}=e,l=Math.max(i,o),u=Math.min(a,s),c=i<o&&a<o||i>s&&a>s;return{count:n,start:l,loop:e.loop,ilen:u<l&&!c?n+u-l:u-l}}function RK(r,e,t,n){let{points:i,options:a}=e,{count:o,start:s,loop:l,ilen:u}=gA(i,t,n),c=OK(a),{move:d=!0,reverse:f}=n||{},m,p,h;for(m=0;m<=u;++m)p=i[(s+(f?u-m:m))%o],!p.skip&&(d?(r.moveTo(p.x,p.y),d=!1):c(r,h,p,f,a.stepped),h=p);return l&&(p=i[(s+(f?u:0))%o],c(r,h,p,f,a.stepped)),!!l}function kK(r,e,t,n){let i=e.points,{count:a,start:o,ilen:s}=gA(i,t,n),{move:l=!0,reverse:u}=n||{},c=0,d=0,f,m,p,h,v,y,S=_=>(o+(u?s-_:_))%a,x=()=>{h!==v&&(r.lineTo(c,v),r.lineTo(c,h),r.lineTo(c,y))};for(l&&(m=i[S(0)],r.moveTo(m.x,m.y)),f=0;f<=s;++f){if(m=i[S(f)],m.skip)continue;let _=m.x,w=m.y,b=_|0;b===p?(w<h?h=w:w>v&&(v=w),c=(d*c+_)/++d):(x(),r.lineTo(_,w),p=b,d=0,h=v=w),y=w}x()}function Ly(r){let e=r.options,t=e.borderDash&&e.borderDash.length;return!r._decimated&&!r._loop&&!e.tension&&e.cubicInterpolationMode!=="monotone"&&!e.stepped&&!t?kK:RK}function PK(r){return r.stepped?e8:r.tension||r.cubicInterpolationMode==="monotone"?t8:Fs}function BK(r,e,t,n){let i=e._path;i||(i=e._path=new Path2D,e.path(i,t,n)&&i.closePath()),pA(r,e.options),r.stroke(i)}function LK(r,e,t,n){let{segments:i,options:a}=e,o=Ly(e);for(let s of i)pA(r,a,s.style),r.beginPath(),o(r,e,s,{start:t,end:t+n-1})&&r.closePath(),r.stroke()}var zK=typeof Path2D=="function";function VK(r,e,t,n){zK&&!e.options.segment?BK(r,e,t,n):LK(r,e,t,n)}var xp=(()=>{class r extends $i{constructor(t){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,t&&Object.assign(this,t)}updateControlPoints(t,n){let i=this.options;if((i.tension||i.cubicInterpolationMode==="monotone")&&!i.stepped&&!this._pointsUpdated){let a=i.spanGaps?this._loop:this._fullLoop;KE(this._points,i,t,a,n),this._pointsUpdated=!0}}set points(t){this._points=t,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=n8(this,this.options.segment))}first(){let t=this.segments,n=this.points;return t.length&&n[t[0].start]}last(){let t=this.segments,n=this.points,i=t.length;return i&&n[t[i-1].end]}interpolate(t,n){let i=this.options,a=t[n],o=this.points,s=gy(this,{property:n,start:a,end:a});if(!s.length)return;let l=[],u=PK(i),c,d;for(c=0,d=s.length;c<d;++c){let{start:f,end:m}=s[c],p=o[f],h=o[m];if(p===h){l.push(p);continue}let v=Math.abs((a-p[n])/(h[n]-p[n])),y=u(p,h,v,i.stepped);y[n]=t[n],l.push(y)}return l.length===1?l[0]:l}pathSegment(t,n,i){return Ly(this)(t,this,n,i)}path(t,n,i){let a=this.segments,o=Ly(this),s=this._loop;n=n||0,i=i||this.points.length-n;for(let l of a)s&=o(t,this,l,{start:n,end:n+i-1});return!!s}draw(t,n,i,a){let o=this.options||{};(this.points||[]).length&&o.borderWidth&&(t.save(),VK(t,this,i,a),t.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}return g(r,"id","line"),g(r,"defaults",{borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0}),g(r,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"}),g(r,"descriptors",{_scriptable:!0,_indexable:t=>t!=="borderDash"&&t!=="fill"}),r})();function I8(r,e,t,n){let i=r.options,{[t]:a}=r.getProps([t],n);return Math.abs(e-a)<i.radius+i.hitRadius}var UK=(()=>{class r extends $i{constructor(n){super();g(this,"parsed");g(this,"skip");g(this,"stop");this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,n&&Object.assign(this,n)}inRange(n,i,a){let o=this.options,{x:s,y:l}=this.getProps(["x","y"],a);return Math.pow(n-s,2)+Math.pow(i-l,2)<Math.pow(o.hitRadius+o.radius,2)}inXRange(n,i){return I8(this,n,"x",i)}inYRange(n,i){return I8(this,n,"y",i)}getCenterPoint(n){let{x:i,y:a}=this.getProps(["x","y"],n);return{x:i,y:a}}size(n){n=n||this.options||{};let i=n.radius||0;i=Math.max(i,i&&n.hoverRadius||0);let a=i&&n.borderWidth||0;return(i+a)*2}draw(n,i){let a=this.options;this.skip||a.radius<.1||!uo(this,i,this.size(a)/2)||(n.strokeStyle=a.borderColor,n.lineWidth=a.borderWidth,n.fillStyle=a.backgroundColor,Jh(n,a,this.x,this.y))}getRange(){let n=this.options||{};return n.radius+n.hitRadius}}return g(r,"id","point"),g(r,"defaults",{borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0}),g(r,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"}),r})();function vA(r,e){let{x:t,y:n,base:i,width:a,height:o}=r.getProps(["x","y","base","width","height"],e),s,l,u,c,d;return r.horizontal?(d=o/2,s=Math.min(t,i),l=Math.max(t,i),u=n-d,c=n+d):(d=a/2,s=t-d,l=t+d,u=Math.min(n,i),c=Math.max(n,i)),{left:s,top:u,right:l,bottom:c}}function Bs(r,e,t,n){return r?0:Dn(e,t,n)}function qK(r,e,t){let n=r.options.borderWidth,i=r.borderSkipped,a=oy(n);return{t:Bs(i.top,a.top,0,t),r:Bs(i.right,a.right,0,e),b:Bs(i.bottom,a.bottom,0,t),l:Bs(i.left,a.left,0,e)}}function jK(r,e,t){let{enableBorderRadius:n}=r.getProps(["enableBorderRadius"]),i=r.options.borderRadius,a=ks(i),o=Math.min(e,t),s=r.borderSkipped,l=n||tr(i);return{topLeft:Bs(!l||s.top||s.left,a.topLeft,0,o),topRight:Bs(!l||s.top||s.right,a.topRight,0,o),bottomLeft:Bs(!l||s.bottom||s.left,a.bottomLeft,0,o),bottomRight:Bs(!l||s.bottom||s.right,a.bottomRight,0,o)}}function $K(r){let e=vA(r),t=e.right-e.left,n=e.bottom-e.top,i=qK(r,t/2,n/2),a=jK(r,t/2,n/2);return{outer:{x:e.left,y:e.top,w:t,h:n,radius:a},inner:{x:e.left+i.l,y:e.top+i.t,w:t-i.l-i.r,h:n-i.t-i.b,radius:{topLeft:Math.max(0,a.topLeft-Math.max(i.t,i.l)),topRight:Math.max(0,a.topRight-Math.max(i.t,i.r)),bottomLeft:Math.max(0,a.bottomLeft-Math.max(i.b,i.l)),bottomRight:Math.max(0,a.bottomRight-Math.max(i.b,i.r))}}}}function Cy(r,e,t,n){let i=e===null,a=t===null,s=r&&!(i&&a)&&vA(r,n);return s&&(i||fo(e,s.left,s.right))&&(a||fo(t,s.top,s.bottom))}function HK(r){return r.topLeft||r.topRight||r.bottomLeft||r.bottomRight}function WK(r,e){r.rect(e.x,e.y,e.w,e.h)}function Ey(r,e,t={}){let n=r.x!==t.x?-e:0,i=r.y!==t.y?-e:0,a=(r.x+r.w!==t.x+t.w?e:0)-n,o=(r.y+r.h!==t.y+t.h?e:0)-i;return{x:r.x+n,y:r.y+i,w:r.w+a,h:r.h+o,radius:r.radius}}var fc=class extends $i{constructor(e){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,e&&Object.assign(this,e)}draw(e){let{inflateAmount:t,options:{borderColor:n,backgroundColor:i}}=this,{inner:a,outer:o}=$K(this),s=HK(o.radius)?uc:WK;e.save(),(o.w!==a.w||o.h!==a.h)&&(e.beginPath(),s(e,Ey(o,t,a)),e.clip(),s(e,Ey(a,-t,o)),e.fillStyle=n,e.fill("evenodd")),e.beginPath(),s(e,Ey(a,t)),e.fillStyle=i,e.fill(),e.restore()}inRange(e,t,n){return Cy(this,e,t,n)}inXRange(e,t){return Cy(this,e,null,t)}inYRange(e,t){return Cy(this,null,e,t)}getCenterPoint(e){let{x:t,y:n,base:i,horizontal:a}=this.getProps(["x","y","base","horizontal"],e);return{x:a?(t+i)/2:t,y:a?n:(n+i)/2}}getRange(e){return e==="x"?this.width/2:this.height/2}};g(fc,"id","bar"),g(fc,"defaults",{borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0}),g(fc,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});var GK=Object.freeze({__proto__:null,ArcElement:Zl,BarElement:fc,LineElement:xp,PointElement:UK}),zy=["rgb(54, 162, 235)","rgb(255, 99, 132)","rgb(255, 159, 64)","rgb(255, 205, 86)","rgb(75, 192, 192)","rgb(153, 102, 255)","rgb(201, 203, 207)"],O8=zy.map(r=>r.replace("rgb(","rgba(").replace(")",", 0.5)"));function xA(r){return zy[r%zy.length]}function yA(r){return O8[r%O8.length]}function YK(r,e){return r.borderColor=xA(e),r.backgroundColor=yA(e),++e}function ZK(r,e){return r.backgroundColor=r.data.map(()=>xA(e++)),e}function XK(r,e){return r.backgroundColor=r.data.map(()=>yA(e++)),e}function KK(r){let e=0;return(t,n)=>{let i=r.getDatasetMeta(n).controller;i instanceof jy?e=ZK(t,e):i instanceof oA?e=XK(t,e):i&&(e=YK(t,e))}}function R8(r){let e;for(e in r)if(r[e].borderColor||r[e].backgroundColor)return!0;return!1}function JK(r){return r&&(r.borderColor||r.backgroundColor)}function QK(){return Rr.borderColor!=="rgba(0,0,0,0.1)"||Rr.backgroundColor!=="rgba(0,0,0,0.1)"}var eJ={id:"colors",defaults:{enabled:!0,forceOverride:!1},beforeLayout(r,e,t){if(!t.enabled)return;let{data:{datasets:n},options:i}=r.config,{elements:a}=i,o=R8(n)||JK(i)||a&&R8(a)||QK();if(!t.forceOverride&&o)return;let s=KK(r);n.forEach(s)}};function tJ(r,e,t,n,i){let a=i.samples||n;if(a>=t)return r.slice(e,e+t);let o=[],s=(t-2)/(a-2),l=0,u=e+t-1,c=e,d,f,m,p,h;for(o[l++]=r[c],d=0;d<a-2;d++){let v=0,y=0,S,x=Math.floor((d+1)*s)+1+e,_=Math.min(Math.floor((d+2)*s)+1,t)+e,w=_-x;for(S=x;S<_;S++)v+=r[S].x,y+=r[S].y;v/=w,y/=w;let b=Math.floor(d*s)+1+e,C=Math.min(Math.floor((d+1)*s)+1,t)+e,{x:E,y:D}=r[c];for(m=p=-1,S=b;S<C;S++)p=.5*Math.abs((E-v)*(r[S].y-D)-(E-r[S].x)*(y-D)),p>m&&(m=p,f=r[S],h=S);o[l++]=f,c=h}return o[l++]=r[u],o}function rJ(r,e,t,n){let i=0,a=0,o,s,l,u,c,d,f,m,p,h,v=[],y=e+t-1,S=r[e].x,_=r[y].x-S;for(o=e;o<e+t;++o){s=r[o],l=(s.x-S)/_*n,u=s.y;let w=l|0;if(w===c)u<p?(p=u,d=o):u>h&&(h=u,f=o),i=(a*i+s.x)/++a;else{let b=o-1;if(!Qt(d)&&!Qt(f)){let C=Math.min(d,f),E=Math.max(d,f);C!==m&&C!==b&&v.push(Kt(Ge({},r[C]),{x:i})),E!==m&&E!==b&&v.push(Kt(Ge({},r[E]),{x:i}))}o>0&&b!==m&&v.push(r[b]),v.push(s),c=w,a=0,p=h=u,d=f=m=o}}return v}function bA(r){if(r._decimated){let e=r._data;delete r._decimated,delete r._data,Object.defineProperty(r,"data",{configurable:!0,enumerable:!0,writable:!0,value:e})}}function k8(r){r.data.datasets.forEach(e=>{bA(e)})}function nJ(r,e){let t=e.length,n=0,i,{iScale:a}=r,{min:o,max:s,minDefined:l,maxDefined:u}=a.getUserBounds();return l&&(n=Dn(lo(e,a.axis,o).lo,0,t-1)),u?i=Dn(lo(e,a.axis,s).hi+1,n,t)-n:i=t-n,{start:n,count:i}}var iJ={id:"decimation",defaults:{algorithm:"min-max",enabled:!1},beforeElementsUpdate:(r,e,t)=>{if(!t.enabled){k8(r);return}let n=r.width;r.data.datasets.forEach((i,a)=>{let{_data:o,indexAxis:s}=i,l=r.getDatasetMeta(a),u=o||i.data;if(cc([s,r.options.indexAxis])==="y"||!l.controller.supportsDecimation)return;let c=r.scales[l.xAxisID];if(c.type!=="linear"&&c.type!=="time"||r.options.parsing)return;let{start:d,count:f}=nJ(l,u),m=t.threshold||4*n;if(f<=m){bA(i);return}Qt(o)&&(i._data=u,delete i.data,Object.defineProperty(i,"data",{configurable:!0,enumerable:!0,get:function(){return this._decimated},set:function(h){this._data=h}}));let p;switch(t.algorithm){case"lttb":p=tJ(u,d,f,n,t);break;case"min-max":p=rJ(u,d,f,n);break;default:throw new Error(`Unsupported decimation algorithm '${t.algorithm}'`)}i._decimated=p})},destroy(r){k8(r)}};function aJ(r,e,t){let n=r.segments,i=r.points,a=e.points,o=[];for(let s of n){let{start:l,end:u}=s;u=$y(l,u,i);let c=Vy(t,i[l],i[u],s.loop);if(!e.segments){o.push({source:s,target:c,start:i[l],end:i[u]});continue}let d=gy(e,c);for(let f of d){let m=Vy(t,a[f.start],a[f.end],f.loop),p=py(s,i,m);for(let h of p)o.push({source:h,target:f,start:{[t]:P8(c,m,"start",Math.max)},end:{[t]:P8(c,m,"end",Math.min)}})}}return o}function Vy(r,e,t,n){if(n)return;let i=e[r],a=t[r];return r==="angle"&&(i=Di(i),a=Di(a)),{property:r,start:i,end:a}}function oJ(r,e){let{x:t=null,y:n=null}=r||{},i=e.points,a=[];return e.segments.forEach(({start:o,end:s})=>{s=$y(o,s,i);let l=i[o],u=i[s];n!==null?(a.push({x:l.x,y:n}),a.push({x:u.x,y:n})):t!==null&&(a.push({x:t,y:l.y}),a.push({x:t,y:u.y}))}),a}function $y(r,e,t){for(;e>r;e--){let n=t[e];if(!isNaN(n.x)&&!isNaN(n.y))break}return e}function P8(r,e,t,n){return r&&e?n(r[t],e[t]):r?r[t]:e?e[t]:0}function wA(r,e){let t=[],n=!1;return Fr(r)?(n=!0,t=r):t=oJ(r,e),t.length?new xp({points:t,options:{tension:0},_loop:n,_fullLoop:n}):null}function B8(r){return r&&r.fill!==!1}function sJ(r,e,t){let i=r[e].fill,a=[e],o;if(!t)return i;for(;i!==!1&&a.indexOf(i)===-1;){if(!Kr(i))return i;if(o=r[i],!o)return!1;if(o.visible)return i;a.push(i),i=o.fill}return!1}function lJ(r,e,t){let n=fJ(r);if(tr(n))return isNaN(n.value)?!1:n;let i=parseFloat(n);return Kr(i)&&Math.floor(i)===i?uJ(n[0],e,i,t):["origin","start","end","stack","shape"].indexOf(n)>=0&&n}function uJ(r,e,t,n){return(r==="-"||r==="+")&&(t=e+t),t===e||t<0||t>=n?!1:t}function cJ(r,e){let t=null;return r==="start"?t=e.bottom:r==="end"?t=e.top:tr(r)?t=e.getPixelForValue(r.value):e.getBasePixel&&(t=e.getBasePixel()),t}function dJ(r,e,t){let n;return r==="start"?n=t:r==="end"?n=e.options.reverse?e.min:e.max:tr(r)?n=r.value:n=e.getBaseValue(),n}function fJ(r){let e=r.options,t=e.fill,n=Ut(t&&t.target,t);return n===void 0&&(n=!!e.backgroundColor),n===!1||n===null?!1:n===!0?"origin":n}function mJ(r){let{scale:e,index:t,line:n}=r,i=[],a=n.segments,o=n.points,s=hJ(e,t);s.push(wA({x:null,y:e.bottom},n));for(let l=0;l<a.length;l++){let u=a[l];for(let c=u.start;c<=u.end;c++)pJ(i,o[c],s)}return new xp({points:i,options:{}})}function hJ(r,e){let t=[],n=r.getMatchingVisibleMetas("line");for(let i=0;i<n.length;i++){let a=n[i];if(a.index===e)break;a.hidden||t.unshift(a.dataset)}return t}function pJ(r,e,t){let n=[];for(let i=0;i<t.length;i++){let a=t[i],{first:o,last:s,point:l}=gJ(a,e,"x");if(!(!l||o&&s)){if(o)n.unshift(l);else if(r.push(l),!s)break}}r.push(...n)}function gJ(r,e,t){let n=r.interpolate(e,t);if(!n)return{};let i=n[t],a=r.segments,o=r.points,s=!1,l=!1;for(let u=0;u<a.length;u++){let c=a[u],d=o[c.start][t],f=o[c.end][t];if(fo(i,d,f)){s=i===d,l=i===f;break}}return{first:s,last:l,point:n}}var gp=class{constructor(e){this.x=e.x,this.y=e.y,this.radius=e.radius}pathSegment(e,t,n){let{x:i,y:a,radius:o}=this;return t=t||{start:0,end:Or},e.arc(i,a,o,t.end,t.start,!0),!n.bounds}interpolate(e){let{x:t,y:n,radius:i}=this,a=e.angle;return{x:t+Math.cos(a)*i,y:n+Math.sin(a)*i,angle:a}}};function vJ(r){let{chart:e,fill:t,line:n}=r;if(Kr(t))return xJ(e,t);if(t==="stack")return mJ(r);if(t==="shape")return!0;let i=yJ(r);return i instanceof gp?i:wA(i,n)}function xJ(r,e){let t=r.getDatasetMeta(e);return t&&r.isDatasetVisible(e)?t.dataset:null}function yJ(r){return(r.scale||{}).getPointPositionForValue?wJ(r):bJ(r)}function bJ(r){let{scale:e={},fill:t}=r,n=cJ(t,e);if(Kr(n)){let i=e.isHorizontal();return{x:i?n:null,y:i?null:n}}return null}function wJ(r){let{scale:e,fill:t}=r,n=e.options,i=e.getLabels().length,a=n.reverse?e.max:e.min,o=dJ(t,e,a),s=[];if(n.grid.circular){let l=e.getPointPositionForValue(0,a);return new gp({x:l.x,y:l.y,radius:e.getDistanceFromCenterForValue(o)})}for(let l=0;l<i;++l)s.push(e.getPointPositionForValue(l,o));return s}function Ay(r,e,t){let n=vJ(e),{chart:i,index:a,line:o,scale:s,axis:l}=e,u=o.options,c=u.fill,d=u.backgroundColor,{above:f=d,below:m=d}=c||{},p=i.getDatasetMeta(a),h=vy(i,p);n&&o.points.length&&(Gf(r,t),_J(r,{line:o,target:n,above:f,below:m,area:t,scale:s,axis:l,clip:h}),Yf(r))}function _J(r,e){let{line:t,target:n,above:i,below:a,area:o,scale:s,clip:l}=e,u=t._loop?"angle":e.axis;r.save(),u==="x"&&a!==i&&(L8(r,n,o.top),z8(r,{line:t,target:n,color:i,scale:s,property:u,clip:l}),r.restore(),r.save(),L8(r,n,o.bottom)),z8(r,{line:t,target:n,color:a,scale:s,property:u,clip:l}),r.restore()}function L8(r,e,t){let{segments:n,points:i}=e,a=!0,o=!1;r.beginPath();for(let s of n){let{start:l,end:u}=s,c=i[l],d=i[$y(l,u,i)];a?(r.moveTo(c.x,c.y),a=!1):(r.lineTo(c.x,t),r.lineTo(c.x,c.y)),o=!!e.pathSegment(r,s,{move:o}),o?r.closePath():r.lineTo(d.x,t)}r.lineTo(e.first().x,t),r.closePath(),r.clip()}function z8(r,e){let{line:t,target:n,property:i,color:a,scale:o,clip:s}=e,l=aJ(t,n,i);for(let{source:u,target:c,start:d,end:f}of l){let{style:{backgroundColor:m=a}={}}=u,p=n!==!0;r.save(),r.fillStyle=m,SJ(r,o,s,p&&Vy(i,d,f)),r.beginPath();let h=!!t.pathSegment(r,u),v;if(p){h?r.closePath():V8(r,n,f,i);let y=!!n.pathSegment(r,c,{move:h,reverse:!0});v=h&&y,v||V8(r,n,d,i)}r.closePath(),r.fill(v?"evenodd":"nonzero"),r.restore()}}function SJ(r,e,t,n){let i=e.chart.chartArea,{property:a,start:o,end:s}=n||{};if(a==="x"||a==="y"){let l,u,c,d;a==="x"?(l=o,u=i.top,c=s,d=i.bottom):(l=i.left,u=o,c=i.right,d=s),r.beginPath(),t&&(l=Math.max(l,t.left),c=Math.min(c,t.right),u=Math.max(u,t.top),d=Math.min(d,t.bottom)),r.rect(l,u,c-l,d-u),r.clip()}}function V8(r,e,t,n){let i=e.interpolate(t,n);i&&r.lineTo(i.x,i.y)}var DJ={id:"filler",afterDatasetsUpdate(r,e,t){let n=(r.data.datasets||[]).length,i=[],a,o,s,l;for(o=0;o<n;++o)a=r.getDatasetMeta(o),s=a.dataset,l=null,s&&s.options&&s instanceof xp&&(l={visible:r.isDatasetVisible(o),index:o,fill:lJ(s,o,n),chart:r,axis:a.controller.options.indexAxis,scale:a.vScale,line:s}),a.$filler=l,i.push(l);for(o=0;o<n;++o)l=i[o],!(!l||l.fill===!1)&&(l.fill=sJ(i,o,t.propagate))},beforeDraw(r,e,t){let n=t.drawTime==="beforeDraw",i=r.getSortedVisibleDatasetMetas(),a=r.chartArea;for(let o=i.length-1;o>=0;--o){let s=i[o].$filler;s&&(s.line.updateControlPoints(a,s.axis),n&&s.fill&&Ay(r.ctx,s,a))}},beforeDatasetsDraw(r,e,t){if(t.drawTime!=="beforeDatasetsDraw")return;let n=r.getSortedVisibleDatasetMetas();for(let i=n.length-1;i>=0;--i){let a=n[i].$filler;B8(a)&&Ay(r.ctx,a,r.chartArea)}},beforeDatasetDraw(r,e,t){let n=e.meta.$filler;!B8(n)||t.drawTime!=="beforeDatasetDraw"||Ay(r.ctx,n,r.chartArea)},defaults:{propagate:!0,drawTime:"beforeDatasetDraw"}},U8=(r,e)=>{let{boxHeight:t=e,boxWidth:n=e}=r;return r.usePointStyle&&(t=Math.min(t,e),n=r.pointStyleWidth||Math.min(n,e)),{boxWidth:n,boxHeight:t,itemHeight:Math.max(e,t)}},CJ=(r,e)=>r!==null&&e!==null&&r.datasetIndex===e.datasetIndex&&r.index===e.index,vp=class extends $i{constructor(e){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,t,n){this.maxWidth=e,this.maxHeight=t,this._margins=n,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){let e=this.options.labels||{},t=Cr(e.generateLabels,[this.chart],this)||[];e.filter&&(t=t.filter(n=>e.filter(n,this.chart.data))),e.sort&&(t=t.sort((n,i)=>e.sort(n,i,this.chart.data))),this.options.reverse&&t.reverse(),this.legendItems=t}fit(){let{options:e,ctx:t}=this;if(!e.display){this.width=this.height=0;return}let n=e.labels,i=pn(n.font),a=i.size,o=this._computeTitleHeight(),{boxWidth:s,itemHeight:l}=U8(n,a),u,c;t.font=i.string,this.isHorizontal()?(u=this.maxWidth,c=this._fitRows(o,a,s,l)+10):(c=this.maxHeight,u=this._fitCols(o,i,s,l)+10),this.width=Math.min(u,e.maxWidth||this.maxWidth),this.height=Math.min(c,e.maxHeight||this.maxHeight)}_fitRows(e,t,n,i){let{ctx:a,maxWidth:o,options:{labels:{padding:s}}}=this,l=this.legendHitBoxes=[],u=this.lineWidths=[0],c=i+s,d=e;a.textAlign="left",a.textBaseline="middle";let f=-1,m=-c;return this.legendItems.forEach((p,h)=>{let v=n+t/2+a.measureText(p.text).width;(h===0||u[u.length-1]+v+2*s>o)&&(d+=c,u[u.length-(h>0?0:1)]=0,m+=c,f++),l[h]={left:0,top:m,row:f,width:v,height:i},u[u.length-1]+=v+s}),d}_fitCols(e,t,n,i){let{ctx:a,maxHeight:o,options:{labels:{padding:s}}}=this,l=this.legendHitBoxes=[],u=this.columnSizes=[],c=o-e,d=s,f=0,m=0,p=0,h=0;return this.legendItems.forEach((v,y)=>{let{itemWidth:S,itemHeight:x}=EJ(n,t,a,v,i);y>0&&m+x+2*s>c&&(d+=f+s,u.push({width:f,height:m}),p+=f+s,h++,f=m=0),l[y]={left:p,top:m,col:h,width:S,height:x},f=Math.max(f,S),m+=x+s}),d+=f,u.push({width:f,height:m}),d}adjustHitBoxes(){if(!this.options.display)return;let e=this._computeTitleHeight(),{legendHitBoxes:t,options:{align:n,labels:{padding:i},rtl:a}}=this,o=Wl(a,this.left,this.width);if(this.isHorizontal()){let s=0,l=Vn(n,this.left+i,this.right-this.lineWidths[s]);for(let u of t)s!==u.row&&(s=u.row,l=Vn(n,this.left+i,this.right-this.lineWidths[s])),u.top+=this.top+e+i,u.left=o.leftForLtr(o.x(l),u.width),l+=u.width+i}else{let s=0,l=Vn(n,this.top+e+i,this.bottom-this.columnSizes[s].height);for(let u of t)u.col!==s&&(s=u.col,l=Vn(n,this.top+e+i,this.bottom-this.columnSizes[s].height)),u.top=l,u.left+=this.left+i,u.left=o.leftForLtr(o.x(u.left),u.width),l+=u.height+i}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){let e=this.ctx;Gf(e,this),this._draw(),Yf(e)}}_draw(){let{options:e,columnSizes:t,lineWidths:n,ctx:i}=this,{align:a,labels:o}=e,s=Rr.color,l=Wl(e.rtl,this.left,this.width),u=pn(o.font),{padding:c}=o,d=u.size,f=d/2,m;this.drawTitle(),i.textAlign=l.textAlign("left"),i.textBaseline="middle",i.lineWidth=.5,i.font=u.string;let{boxWidth:p,boxHeight:h,itemHeight:v}=U8(o,d),y=function(b,C,E){if(isNaN(p)||p<=0||isNaN(h)||h<0)return;i.save();let D=Ut(E.lineWidth,1);if(i.fillStyle=Ut(E.fillStyle,s),i.lineCap=Ut(E.lineCap,"butt"),i.lineDashOffset=Ut(E.lineDashOffset,0),i.lineJoin=Ut(E.lineJoin,"miter"),i.lineWidth=D,i.strokeStyle=Ut(E.strokeStyle,s),i.setLineDash(Ut(E.lineDash,[])),o.usePointStyle){let M={radius:h*Math.SQRT2/2,pointStyle:E.pointStyle,rotation:E.rotation,borderWidth:D},T=l.xPlus(b,p/2),I=C+f;ay(i,M,T,I,o.pointStyleWidth&&p)}else{let M=C+Math.max((d-h)/2,0),T=l.leftForLtr(b,p),I=ks(E.borderRadius);i.beginPath(),Object.values(I).some(B=>B!==0)?uc(i,{x:T,y:M,w:p,h,radius:I}):i.rect(T,M,p,h),i.fill(),D!==0&&i.stroke()}i.restore()},S=function(b,C,E){Rs(i,E.text,b,C+v/2,u,{strikethrough:E.hidden,textAlign:l.textAlign(E.textAlign)})},x=this.isHorizontal(),_=this._computeTitleHeight();x?m={x:Vn(a,this.left+c,this.right-n[0]),y:this.top+c+_,line:0}:m={x:this.left+c,y:Vn(a,this.top+_+c,this.bottom-t[0].height),line:0},my(this.ctx,e.textDirection);let w=v+c;this.legendItems.forEach((b,C)=>{i.strokeStyle=b.fontColor,i.fillStyle=b.fontColor;let E=i.measureText(b.text).width,D=l.textAlign(b.textAlign||(b.textAlign=o.textAlign)),M=p+f+E,T=m.x,I=m.y;l.setWidth(this.width),x?C>0&&T+M+c>this.right&&(I=m.y+=w,m.line++,T=m.x=Vn(a,this.left+c,this.right-n[m.line])):C>0&&I+w>this.bottom&&(T=m.x=T+t[m.line].width+c,m.line++,I=m.y=Vn(a,this.top+_+c,this.bottom-t[m.line].height));let B=l.x(T);if(y(B,I,b),T=UE(D,T+p+f,x?T+M:this.right,e.rtl),S(l.x(T),I,b),x)m.x+=M+c;else if(typeof b.text!="string"){let V=u.lineHeight;m.y+=_A(b,V)+c}else m.y+=w}),hy(this.ctx,e.textDirection)}drawTitle(){let e=this.options,t=e.title,n=pn(t.font),i=Un(t.padding);if(!t.display)return;let a=Wl(e.rtl,this.left,this.width),o=this.ctx,s=t.position,l=n.size/2,u=i.top+l,c,d=this.left,f=this.width;if(this.isHorizontal())f=Math.max(...this.lineWidths),c=this.top+u,d=Vn(e.align,d,this.right-f);else{let p=this.columnSizes.reduce((h,v)=>Math.max(h,v.height),0);c=u+Vn(e.align,this.top,this.bottom-p-e.labels.padding-this._computeTitleHeight())}let m=Vn(s,d,d+f);o.textAlign=a.textAlign(Xh(s)),o.textBaseline="middle",o.strokeStyle=t.color,o.fillStyle=t.color,o.font=n.string,Rs(o,t.text,m,c,n)}_computeTitleHeight(){let e=this.options.title,t=pn(e.font),n=Un(e.padding);return e.display?t.lineHeight+n.height:0}_getLegendItemAt(e,t){let n,i,a;if(fo(e,this.left,this.right)&&fo(t,this.top,this.bottom)){for(a=this.legendHitBoxes,n=0;n<a.length;++n)if(i=a[n],fo(e,i.left,i.left+i.width)&&fo(t,i.top,i.top+i.height))return this.legendItems[n]}return null}handleEvent(e){let t=this.options;if(!NJ(e.type,t))return;let n=this._getLegendItemAt(e.x,e.y);if(e.type==="mousemove"||e.type==="mouseout"){let i=this._hoveredItem,a=CJ(i,n);i&&!a&&Cr(t.onLeave,[e,i,this],this),this._hoveredItem=n,n&&!a&&Cr(t.onHover,[e,n,this],this)}else n&&Cr(t.onClick,[e,n,this],this)}};function EJ(r,e,t,n,i){let a=AJ(n,r,e,t),o=MJ(i,n,e.lineHeight);return{itemWidth:a,itemHeight:o}}function AJ(r,e,t,n){let i=r.text;return i&&typeof i!="string"&&(i=i.reduce((a,o)=>a.length>o.length?a:o)),e+t.size/2+n.measureText(i).width}function MJ(r,e,t){let n=r;return typeof e.text!="string"&&(n=_A(e,t)),n}function _A(r,e){let t=r.text?r.text.length:0;return e*t}function NJ(r,e){return!!((r==="mousemove"||r==="mouseout")&&(e.onHover||e.onLeave)||e.onClick&&(r==="click"||r==="mouseup"))}var TJ={id:"legend",_element:vp,start(r,e,t){let n=r.legend=new vp({ctx:r.ctx,options:t,chart:r});Zn.configure(r,n,t),Zn.addBox(r,n)},stop(r){Zn.removeBox(r,r.legend),delete r.legend},beforeUpdate(r,e,t){let n=r.legend;Zn.configure(r,n,t),n.options=t},afterUpdate(r){let e=r.legend;e.buildLabels(),e.adjustHitBoxes()},afterEvent(r,e){e.replay||r.legend.handleEvent(e.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(r,e,t){let n=e.datasetIndex,i=t.chart;i.isDatasetVisible(n)?(i.hide(n),e.hidden=!0):(i.show(n),e.hidden=!1)},onHover:null,onLeave:null,labels:{color:r=>r.chart.options.color,boxWidth:40,padding:10,generateLabels(r){let e=r.data.datasets,{labels:{usePointStyle:t,pointStyle:n,textAlign:i,color:a,useBorderRadius:o,borderRadius:s}}=r.legend.options;return r._getSortedDatasetMetas().map(l=>{let u=l.controller.getStyle(t?0:void 0),c=Un(u.borderWidth);return{text:e[l.index].label,fillStyle:u.backgroundColor,fontColor:a,hidden:!l.visible,lineCap:u.borderCapStyle,lineDash:u.borderDash,lineDashOffset:u.borderDashOffset,lineJoin:u.borderJoinStyle,lineWidth:(c.width+c.height)/4,strokeStyle:u.borderColor,pointStyle:n||u.pointStyle,rotation:u.rotation,textAlign:i||u.textAlign,borderRadius:o&&(s||u.borderRadius),datasetIndex:l.index}},this)}},title:{color:r=>r.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:r=>!r.startsWith("on"),labels:{_scriptable:r=>!["generateLabels","filter","sort"].includes(r)}}},o0=class extends $i{constructor(e){super(),this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,t){let n=this.options;if(this.left=0,this.top=0,!n.display){this.width=this.height=this.right=this.bottom=0;return}this.width=this.right=e,this.height=this.bottom=t;let i=Fr(n.text)?n.text.length:1;this._padding=Un(n.padding);let a=i*pn(n.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=a:this.width=a}isHorizontal(){let e=this.options.position;return e==="top"||e==="bottom"}_drawArgs(e){let{top:t,left:n,bottom:i,right:a,options:o}=this,s=o.align,l=0,u,c,d;return this.isHorizontal()?(c=Vn(s,n,a),d=t+e,u=a-n):(o.position==="left"?(c=n+e,d=Vn(s,i,t),l=Ir*-.5):(c=a-e,d=Vn(s,t,i),l=Ir*.5),u=i-t),{titleX:c,titleY:d,maxWidth:u,rotation:l}}draw(){let e=this.ctx,t=this.options;if(!t.display)return;let n=pn(t.font),a=n.lineHeight/2+this._padding.top,{titleX:o,titleY:s,maxWidth:l,rotation:u}=this._drawArgs(a);Rs(e,t.text,0,0,n,{color:t.color,maxWidth:l,rotation:u,textAlign:Xh(t.align),textBaseline:"middle",translation:[o,s]})}};function FJ(r,e){let t=new o0({ctx:r.ctx,options:e,chart:r});Zn.configure(r,t,e),Zn.addBox(r,t),r.titleBlock=t}var IJ={id:"title",_element:o0,start(r,e,t){FJ(r,t)},stop(r){let e=r.titleBlock;Zn.removeBox(r,e),delete r.titleBlock},beforeUpdate(r,e,t){let n=r.titleBlock;Zn.configure(r,n,t),n.options=t},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}},sp=new WeakMap,OJ={id:"subtitle",start(r,e,t){let n=new o0({ctx:r.ctx,options:t,chart:r});Zn.configure(r,n,t),Zn.addBox(r,n),sp.set(r,n)},stop(r){Zn.removeBox(r,sp.get(r)),sp.delete(r)},beforeUpdate(r,e,t){let n=sp.get(r);Zn.configure(r,n,t),n.options=t},defaults:{align:"center",display:!1,font:{weight:"normal"},fullSize:!0,padding:0,position:"top",text:"",weight:1500},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}},t0={average(r){if(!r.length)return!1;let e,t,n=new Set,i=0,a=0;for(e=0,t=r.length;e<t;++e){let s=r[e].element;if(s&&s.hasValue()){let l=s.tooltipPosition();n.add(l.x),i+=l.y,++a}}return a===0||n.size===0?!1:{x:[...n].reduce((s,l)=>s+l)/n.size,y:i/a}},nearest(r,e){if(!r.length)return!1;let t=e.x,n=e.y,i=Number.POSITIVE_INFINITY,a,o,s;for(a=0,o=r.length;a<o;++a){let l=r[a].element;if(l&&l.hasValue()){let u=l.getCenterPoint(),c=Hh(e,u);c<i&&(i=c,s=l)}}if(s){let l=s.tooltipPosition();t=l.x,n=l.y}return{x:t,y:n}}};function mo(r,e){return e&&(Fr(e)?Array.prototype.push.apply(r,e):r.push(e)),r}function Yo(r){return(typeof r=="string"||r instanceof String)&&r.indexOf(`
`)>-1?r.split(`
`):r}function RJ(r,e){let{element:t,datasetIndex:n,index:i}=e,a=r.getDatasetMeta(n).controller,{label:o,value:s}=a.getLabelAndValue(i);return{chart:r,label:o,parsed:a.getParsed(i),raw:r.data.datasets[n].data[i],formattedValue:s,dataset:a.getDataset(),dataIndex:i,datasetIndex:n,element:t}}function q8(r,e){let t=r.chart.ctx,{body:n,footer:i,title:a}=r,{boxWidth:o,boxHeight:s}=e,l=pn(e.bodyFont),u=pn(e.titleFont),c=pn(e.footerFont),d=a.length,f=i.length,m=n.length,p=Un(e.padding),h=p.height,v=0,y=n.reduce((_,w)=>_+w.before.length+w.lines.length+w.after.length,0);if(y+=r.beforeBody.length+r.afterBody.length,d&&(h+=d*u.lineHeight+(d-1)*e.titleSpacing+e.titleMarginBottom),y){let _=e.displayColors?Math.max(s,l.lineHeight):l.lineHeight;h+=m*_+(y-m)*l.lineHeight+(y-1)*e.bodySpacing}f&&(h+=e.footerMarginTop+f*c.lineHeight+(f-1)*e.footerSpacing);let S=0,x=function(_){v=Math.max(v,t.measureText(_).width+S)};return t.save(),t.font=u.string,gr(r.title,x),t.font=l.string,gr(r.beforeBody.concat(r.afterBody),x),S=e.displayColors?o+2+e.boxPadding:0,gr(n,_=>{gr(_.before,x),gr(_.lines,x),gr(_.after,x)}),S=0,t.font=c.string,gr(r.footer,x),t.restore(),v+=p.width,{width:v,height:h}}function kJ(r,e){let{y:t,height:n}=e;return t<n/2?"top":t>r.height-n/2?"bottom":"center"}function PJ(r,e,t,n){let{x:i,width:a}=n,o=t.caretSize+t.caretPadding;if(r==="left"&&i+a+o>e.width||r==="right"&&i-a-o<0)return!0}function BJ(r,e,t,n){let{x:i,width:a}=t,{width:o,chartArea:{left:s,right:l}}=r,u="center";return n==="center"?u=i<=(s+l)/2?"left":"right":i<=a/2?u="left":i>=o-a/2&&(u="right"),PJ(u,r,e,t)&&(u="center"),u}function j8(r,e,t){let n=t.yAlign||e.yAlign||kJ(r,t);return{xAlign:t.xAlign||e.xAlign||BJ(r,e,t,n),yAlign:n}}function LJ(r,e){let{x:t,width:n}=r;return e==="right"?t-=n:e==="center"&&(t-=n/2),t}function zJ(r,e,t){let{y:n,height:i}=r;return e==="top"?n+=t:e==="bottom"?n-=i+t:n-=i/2,n}function $8(r,e,t,n){let{caretSize:i,caretPadding:a,cornerRadius:o}=r,{xAlign:s,yAlign:l}=t,u=i+a,{topLeft:c,topRight:d,bottomLeft:f,bottomRight:m}=ks(o),p=LJ(e,s),h=zJ(e,l,u);return l==="center"?s==="left"?p+=u:s==="right"&&(p-=u):s==="left"?p-=Math.max(c,f)+i:s==="right"&&(p+=Math.max(d,m)+i),{x:Dn(p,0,n.width-e.width),y:Dn(h,0,n.height-e.height)}}function lp(r,e,t){let n=Un(t.padding);return e==="center"?r.x+r.width/2:e==="right"?r.x+r.width-n.right:r.x+n.left}function H8(r){return mo([],Yo(r))}function VJ(r,e,t){return Wo(r,{tooltip:e,tooltipItems:t,type:"tooltip"})}function W8(r,e){let t=e&&e.dataset&&e.dataset.tooltip&&e.dataset.tooltip.callbacks;return t?r.override(t):r}var SA={beforeTitle:co,title(r){if(r.length>0){let e=r[0],t=e.chart.data.labels,n=t?t.length:0;if(this&&this.options&&this.options.mode==="dataset")return e.dataset.label||"";if(e.label)return e.label;if(n>0&&e.dataIndex<n)return t[e.dataIndex]}return""},afterTitle:co,beforeBody:co,beforeLabel:co,label(r){if(this&&this.options&&this.options.mode==="dataset")return r.label+": "+r.formattedValue||r.formattedValue;let e=r.dataset.label||"";e&&(e+=": ");let t=r.formattedValue;return Qt(t)||(e+=t),e},labelColor(r){let t=r.chart.getDatasetMeta(r.datasetIndex).controller.getStyle(r.dataIndex);return{borderColor:t.borderColor,backgroundColor:t.backgroundColor,borderWidth:t.borderWidth,borderDash:t.borderDash,borderDashOffset:t.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(r){let t=r.chart.getDatasetMeta(r.datasetIndex).controller.getStyle(r.dataIndex);return{pointStyle:t.pointStyle,rotation:t.rotation}},afterLabel:co,afterBody:co,beforeFooter:co,footer:co,afterFooter:co};function Ei(r,e,t,n){let i=r[e].call(t,n);return typeof i>"u"?SA[e].call(t,n):i}var G8=(()=>{class r extends $i{constructor(t){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=t.chart,this.options=t.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(t){this.options=t,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){let t=this._cachedAnimations;if(t)return t;let n=this.chart,i=this.options.setContext(this.getContext()),a=i.enabled&&n.options.animation&&i.animations,o=new fp(this.chart,a);return a._cacheable&&(this._cachedAnimations=Object.freeze(o)),o}getContext(){return this.$context||(this.$context=VJ(this.chart.getContext(),this,this._tooltipItems))}getTitle(t,n){let{callbacks:i}=n,a=Ei(i,"beforeTitle",this,t),o=Ei(i,"title",this,t),s=Ei(i,"afterTitle",this,t),l=[];return l=mo(l,Yo(a)),l=mo(l,Yo(o)),l=mo(l,Yo(s)),l}getBeforeBody(t,n){return H8(Ei(n.callbacks,"beforeBody",this,t))}getBody(t,n){let{callbacks:i}=n,a=[];return gr(t,o=>{let s={before:[],lines:[],after:[]},l=W8(i,o);mo(s.before,Yo(Ei(l,"beforeLabel",this,o))),mo(s.lines,Ei(l,"label",this,o)),mo(s.after,Yo(Ei(l,"afterLabel",this,o))),a.push(s)}),a}getAfterBody(t,n){return H8(Ei(n.callbacks,"afterBody",this,t))}getFooter(t,n){let{callbacks:i}=n,a=Ei(i,"beforeFooter",this,t),o=Ei(i,"footer",this,t),s=Ei(i,"afterFooter",this,t),l=[];return l=mo(l,Yo(a)),l=mo(l,Yo(o)),l=mo(l,Yo(s)),l}_createItems(t){let n=this._active,i=this.chart.data,a=[],o=[],s=[],l=[],u,c;for(u=0,c=n.length;u<c;++u)l.push(RJ(this.chart,n[u]));return t.filter&&(l=l.filter((d,f,m)=>t.filter(d,f,m,i))),t.itemSort&&(l=l.sort((d,f)=>t.itemSort(d,f,i))),gr(l,d=>{let f=W8(t.callbacks,d);a.push(Ei(f,"labelColor",this,d)),o.push(Ei(f,"labelPointStyle",this,d)),s.push(Ei(f,"labelTextColor",this,d))}),this.labelColors=a,this.labelPointStyles=o,this.labelTextColors=s,this.dataPoints=l,l}update(t,n){let i=this.options.setContext(this.getContext()),a=this._active,o,s=[];if(!a.length)this.opacity!==0&&(o={opacity:0});else{let l=t0[i.position].call(this,a,this._eventPosition);s=this._createItems(i),this.title=this.getTitle(s,i),this.beforeBody=this.getBeforeBody(s,i),this.body=this.getBody(s,i),this.afterBody=this.getAfterBody(s,i),this.footer=this.getFooter(s,i);let u=this._size=q8(this,i),c=Object.assign({},l,u),d=j8(this.chart,i,c),f=$8(i,c,d,this.chart);this.xAlign=d.xAlign,this.yAlign=d.yAlign,o={opacity:1,x:f.x,y:f.y,width:u.width,height:u.height,caretX:l.x,caretY:l.y}}this._tooltipItems=s,this.$context=void 0,o&&this._resolveAnimations().update(this,o),t&&i.external&&i.external.call(this,{chart:this.chart,tooltip:this,replay:n})}drawCaret(t,n,i,a){let o=this.getCaretPosition(t,i,a);n.lineTo(o.x1,o.y1),n.lineTo(o.x2,o.y2),n.lineTo(o.x3,o.y3)}getCaretPosition(t,n,i){let{xAlign:a,yAlign:o}=this,{caretSize:s,cornerRadius:l}=i,{topLeft:u,topRight:c,bottomLeft:d,bottomRight:f}=ks(l),{x:m,y:p}=t,{width:h,height:v}=n,y,S,x,_,w,b;return o==="center"?(w=p+v/2,a==="left"?(y=m,S=y-s,_=w+s,b=w-s):(y=m+h,S=y+s,_=w-s,b=w+s),x=y):(a==="left"?S=m+Math.max(u,d)+s:a==="right"?S=m+h-Math.max(c,f)-s:S=this.caretX,o==="top"?(_=p,w=_-s,y=S-s,x=S+s):(_=p+v,w=_+s,y=S+s,x=S-s),b=_),{x1:y,x2:S,x3:x,y1:_,y2:w,y3:b}}drawTitle(t,n,i){let a=this.title,o=a.length,s,l,u;if(o){let c=Wl(i.rtl,this.x,this.width);for(t.x=lp(this,i.titleAlign,i),n.textAlign=c.textAlign(i.titleAlign),n.textBaseline="middle",s=pn(i.titleFont),l=i.titleSpacing,n.fillStyle=i.titleColor,n.font=s.string,u=0;u<o;++u)n.fillText(a[u],c.x(t.x),t.y+s.lineHeight/2),t.y+=s.lineHeight+l,u+1===o&&(t.y+=i.titleMarginBottom-l)}}_drawColorBox(t,n,i,a,o){let s=this.labelColors[i],l=this.labelPointStyles[i],{boxHeight:u,boxWidth:c}=o,d=pn(o.bodyFont),f=lp(this,"left",o),m=a.x(f),p=u<d.lineHeight?(d.lineHeight-u)/2:0,h=n.y+p;if(o.usePointStyle){let v={radius:Math.min(c,u)/2,pointStyle:l.pointStyle,rotation:l.rotation,borderWidth:1},y=a.leftForLtr(m,c)+c/2,S=h+u/2;t.strokeStyle=o.multiKeyBackground,t.fillStyle=o.multiKeyBackground,Jh(t,v,y,S),t.strokeStyle=s.borderColor,t.fillStyle=s.backgroundColor,Jh(t,v,y,S)}else{t.lineWidth=tr(s.borderWidth)?Math.max(...Object.values(s.borderWidth)):s.borderWidth||1,t.strokeStyle=s.borderColor,t.setLineDash(s.borderDash||[]),t.lineDashOffset=s.borderDashOffset||0;let v=a.leftForLtr(m,c),y=a.leftForLtr(a.xPlus(m,1),c-2),S=ks(s.borderRadius);Object.values(S).some(x=>x!==0)?(t.beginPath(),t.fillStyle=o.multiKeyBackground,uc(t,{x:v,y:h,w:c,h:u,radius:S}),t.fill(),t.stroke(),t.fillStyle=s.backgroundColor,t.beginPath(),uc(t,{x:y,y:h+1,w:c-2,h:u-2,radius:S}),t.fill()):(t.fillStyle=o.multiKeyBackground,t.fillRect(v,h,c,u),t.strokeRect(v,h,c,u),t.fillStyle=s.backgroundColor,t.fillRect(y,h+1,c-2,u-2))}t.fillStyle=this.labelTextColors[i]}drawBody(t,n,i){let{body:a}=this,{bodySpacing:o,bodyAlign:s,displayColors:l,boxHeight:u,boxWidth:c,boxPadding:d}=i,f=pn(i.bodyFont),m=f.lineHeight,p=0,h=Wl(i.rtl,this.x,this.width),v=function(D){n.fillText(D,h.x(t.x+p),t.y+m/2),t.y+=m+o},y=h.textAlign(s),S,x,_,w,b,C,E;for(n.textAlign=s,n.textBaseline="middle",n.font=f.string,t.x=lp(this,y,i),n.fillStyle=i.bodyColor,gr(this.beforeBody,v),p=l&&y!=="right"?s==="center"?c/2+d:c+2+d:0,w=0,C=a.length;w<C;++w){for(S=a[w],x=this.labelTextColors[w],n.fillStyle=x,gr(S.before,v),_=S.lines,l&&_.length&&(this._drawColorBox(n,t,w,h,i),m=Math.max(f.lineHeight,u)),b=0,E=_.length;b<E;++b)v(_[b]),m=f.lineHeight;gr(S.after,v)}p=0,m=f.lineHeight,gr(this.afterBody,v),t.y-=o}drawFooter(t,n,i){let a=this.footer,o=a.length,s,l;if(o){let u=Wl(i.rtl,this.x,this.width);for(t.x=lp(this,i.footerAlign,i),t.y+=i.footerMarginTop,n.textAlign=u.textAlign(i.footerAlign),n.textBaseline="middle",s=pn(i.footerFont),n.fillStyle=i.footerColor,n.font=s.string,l=0;l<o;++l)n.fillText(a[l],u.x(t.x),t.y+s.lineHeight/2),t.y+=s.lineHeight+i.footerSpacing}}drawBackground(t,n,i,a){let{xAlign:o,yAlign:s}=this,{x:l,y:u}=t,{width:c,height:d}=i,{topLeft:f,topRight:m,bottomLeft:p,bottomRight:h}=ks(a.cornerRadius);n.fillStyle=a.backgroundColor,n.strokeStyle=a.borderColor,n.lineWidth=a.borderWidth,n.beginPath(),n.moveTo(l+f,u),s==="top"&&this.drawCaret(t,n,i,a),n.lineTo(l+c-m,u),n.quadraticCurveTo(l+c,u,l+c,u+m),s==="center"&&o==="right"&&this.drawCaret(t,n,i,a),n.lineTo(l+c,u+d-h),n.quadraticCurveTo(l+c,u+d,l+c-h,u+d),s==="bottom"&&this.drawCaret(t,n,i,a),n.lineTo(l+p,u+d),n.quadraticCurveTo(l,u+d,l,u+d-p),s==="center"&&o==="left"&&this.drawCaret(t,n,i,a),n.lineTo(l,u+f),n.quadraticCurveTo(l,u,l+f,u),n.closePath(),n.fill(),a.borderWidth>0&&n.stroke()}_updateAnimationTarget(t){let n=this.chart,i=this.$animations,a=i&&i.x,o=i&&i.y;if(a||o){let s=t0[t.position].call(this,this._active,this._eventPosition);if(!s)return;let l=this._size=q8(this,t),u=Object.assign({},s,this._size),c=j8(n,t,u),d=$8(t,u,c,n);(a._to!==d.x||o._to!==d.y)&&(this.xAlign=c.xAlign,this.yAlign=c.yAlign,this.width=l.width,this.height=l.height,this.caretX=s.x,this.caretY=s.y,this._resolveAnimations().update(this,d))}}_willRender(){return!!this.opacity}draw(t){let n=this.options.setContext(this.getContext()),i=this.opacity;if(!i)return;this._updateAnimationTarget(n);let a={width:this.width,height:this.height},o={x:this.x,y:this.y};i=Math.abs(i)<.001?0:i;let s=Un(n.padding),l=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;n.enabled&&l&&(t.save(),t.globalAlpha=i,this.drawBackground(o,t,a,n),my(t,n.textDirection),o.y+=s.top,this.drawTitle(o,t,n),this.drawBody(o,t,n),this.drawFooter(o,t,n),hy(t,n.textDirection),t.restore())}getActiveElements(){return this._active||[]}setActiveElements(t,n){let i=this._active,a=t.map(({datasetIndex:l,index:u})=>{let c=this.chart.getDatasetMeta(l);if(!c)throw new Error("Cannot find a dataset at index "+l);return{datasetIndex:l,element:c.data[u],index:u}}),o=!Hf(i,a),s=this._positionChanged(a,n);(o||s)&&(this._active=a,this._eventPosition=n,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(t,n,i=!0){if(n&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;let a=this.options,o=this._active||[],s=this._getActiveElements(t,o,n,i),l=this._positionChanged(s,t),u=n||!Hf(s,o)||l;return u&&(this._active=s,(a.enabled||a.external)&&(this._eventPosition={x:t.x,y:t.y},this.update(!0,n))),u}_getActiveElements(t,n,i,a){let o=this.options;if(t.type==="mouseout")return[];if(!a)return n.filter(l=>this.chart.data.datasets[l.datasetIndex]&&this.chart.getDatasetMeta(l.datasetIndex).controller.getParsed(l.index)!==void 0);let s=this.chart.getElementsAtEventForMode(t,o.mode,o,i);return o.reverse&&s.reverse(),s}_positionChanged(t,n){let{caretX:i,caretY:a,options:o}=this,s=t0[o.position].call(this,t,n);return s!==!1&&(i!==s.x||a!==s.y)}}return g(r,"positioners",t0),r})(),UJ={id:"tooltip",_element:G8,positioners:t0,afterInit(r,e,t){t&&(r.tooltip=new G8({chart:r,options:t}))},beforeUpdate(r,e,t){r.tooltip&&r.tooltip.initialize(t)},reset(r,e,t){r.tooltip&&r.tooltip.initialize(t)},afterDraw(r){let e=r.tooltip;if(e&&e._willRender()){let t={tooltip:e};if(r.notifyPlugins("beforeTooltipDraw",Kt(Ge({},t),{cancelable:!0}))===!1)return;e.draw(r.ctx),r.notifyPlugins("afterTooltipDraw",t)}},afterEvent(r,e){if(r.tooltip){let t=e.replay;r.tooltip.handleEvent(e.event,t,e.inChartArea)&&(e.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(r,e)=>e.bodyFont.size,boxWidth:(r,e)=>e.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:SA},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:r=>r!=="filter"&&r!=="itemSort"&&r!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]},qJ=Object.freeze({__proto__:null,Colors:eJ,Decimation:iJ,Filler:DJ,Legend:TJ,SubTitle:OJ,Title:IJ,Tooltip:UJ}),jJ=(r,e,t,n)=>(typeof e=="string"?(t=r.push(e)-1,n.unshift({index:t,label:e})):isNaN(e)&&(t=null),t);function $J(r,e,t,n){let i=r.indexOf(e);if(i===-1)return jJ(r,e,t,n);let a=r.lastIndexOf(e);return i!==a?t:i}var HJ=(r,e)=>r===null?null:Dn(Math.round(r),0,e);function Y8(r){let e=this.getLabels();return r>=0&&r<e.length?e[r]:r}var WJ=(()=>{class r extends Kl{constructor(t){super(t),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(t){let n=this._addedLabels;if(n.length){let i=this.getLabels();for(let{index:a,label:o}of n)i[a]===o&&i.splice(a,1);this._addedLabels=[]}super.init(t)}parse(t,n){if(Qt(t))return null;let i=this.getLabels();return n=isFinite(n)&&i[n]===t?n:$J(i,t,Ut(n,t),this._addedLabels),HJ(n,i.length-1)}determineDataLimits(){let{minDefined:t,maxDefined:n}=this.getUserBounds(),{min:i,max:a}=this.getMinMax(!0);this.options.bounds==="ticks"&&(t||(i=0),n||(a=this.getLabels().length-1)),this.min=i,this.max=a}buildTicks(){let t=this.min,n=this.max,i=this.options.offset,a=[],o=this.getLabels();o=t===0&&n===o.length-1?o:o.slice(t,n+1),this._valueRange=Math.max(o.length-(i?0:1),1),this._startValue=this.min-(i?.5:0);for(let s=t;s<=n;s++)a.push({value:s});return a}getLabelForValue(t){return Y8.call(this,t)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(t){return typeof t!="number"&&(t=this.parse(t)),t===null?NaN:this.getPixelForDecimal((t-this._startValue)/this._valueRange)}getPixelForTick(t){let n=this.ticks;return t<0||t>n.length-1?null:this.getPixelForValue(n[t].value)}getValueForPixel(t){return Math.round(this._startValue+this.getDecimalForPixel(t)*this._valueRange)}getBasePixel(){return this.bottom}}return g(r,"id","category"),g(r,"defaults",{ticks:{callback:Y8}}),r})();function GJ(r,e){let t=[],{bounds:i,step:a,min:o,max:s,precision:l,count:u,maxTicks:c,maxDigits:d,includeBounds:f}=r,m=a||1,p=c-1,{min:h,max:v}=e,y=!Qt(o),S=!Qt(s),x=!Qt(u),_=(v-h)/(d+1),w=Wx((v-h)/p/m)*m,b,C,E,D;if(w<1e-14&&!y&&!S)return[{value:h},{value:v}];D=Math.ceil(v/w)-Math.floor(h/w),D>p&&(w=Wx(D*w/p/m)*m),Qt(l)||(b=Math.pow(10,l),w=Math.ceil(w*b)/b),i==="ticks"?(C=Math.floor(h/w)*w,E=Math.ceil(v/w)*w):(C=h,E=v),y&&S&&a&&RE((s-o)/a,w/1e3)?(D=Math.round(Math.min((s-o)/w,c)),w=(s-o)/D,C=o,E=s):x?(C=y?o:C,E=S?s:E,D=u-1,w=(E-C)/D):(D=(E-C)/w,oc(D,Math.round(D),w/1e3)?D=Math.round(D):D=Math.ceil(D));let M=Math.max(Yx(w),Yx(C));b=Math.pow(10,Qt(l)?M:l),C=Math.round(C*b)/b,E=Math.round(E*b)/b;let T=0;for(y&&(f&&C!==o?(t.push({value:o}),C<o&&T++,oc(Math.round((C+T*w)*b)/b,o,Z8(o,_,r))&&T++):C<o&&T++);T<D;++T){let I=Math.round((C+T*w)*b)/b;if(S&&I>s)break;t.push({value:I})}return S&&f&&E!==s?t.length&&oc(t[t.length-1].value,s,Z8(s,_,r))?t[t.length-1].value=s:t.push({value:s}):(!S||E===s)&&t.push({value:E}),t}function Z8(r,e,{horizontal:t,minRotation:n}){let i=ua(n),a=(t?Math.sin(i):Math.cos(i))||.001,o=.75*e*(""+r).length;return Math.min(e/a,o)}var hc=class extends Kl{constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(e,t){return Qt(e)||(typeof e=="number"||e instanceof Number)&&!isFinite(+e)?null:+e}handleTickRangeOptions(){let{beginAtZero:e}=this.options,{minDefined:t,maxDefined:n}=this.getUserBounds(),{min:i,max:a}=this,o=l=>i=t?i:l,s=l=>a=n?a:l;if(e){let l=Pa(i),u=Pa(a);l<0&&u<0?s(0):l>0&&u>0&&o(0)}if(i===a){let l=a===0?1:Math.abs(a*.05);s(a+l),e||o(i-l)}this.min=i,this.max=a}getTickLimit(){let e=this.options.ticks,{maxTicksLimit:t,stepSize:n}=e,i;return n?(i=Math.ceil(this.max/n)-Math.floor(this.min/n)+1,i>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${n} would result generating up to ${i} ticks. Limiting to 1000.`),i=1e3)):(i=this.computeTickLimit(),t=t||11),t&&(i=Math.min(t,i)),i}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){let e=this.options,t=e.ticks,n=this.getTickLimit();n=Math.max(2,n);let i={maxTicks:n,bounds:e.bounds,min:e.min,max:e.max,precision:t.precision,step:t.stepSize,count:t.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:t.minRotation||0,includeBounds:t.includeBounds!==!1},a=this._range||this,o=GJ(i,a);return e.bounds==="ticks"&&Gx(o,this,"value"),e.reverse?(o.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),o}configure(){let e=this.ticks,t=this.min,n=this.max;if(super.configure(),this.options.offset&&e.length){let i=(n-t)/Math.max(e.length-1,1)/2;t-=i,n+=i}this._startValue=t,this._endValue=n,this._valueRange=n-t}getLabelForValue(e){return lc(e,this.chart.options.locale,this.options.ticks.format)}},r0=class extends hc{determineDataLimits(){let{min:e,max:t}=this.getMinMax(!0);this.min=Kr(e)?e:0,this.max=Kr(t)?t:1,this.handleTickRangeOptions()}computeTickLimit(){let e=this.isHorizontal(),t=e?this.width:this.height,n=ua(this.options.ticks.minRotation),i=(e?Math.sin(n):Math.cos(n))||.001,a=this._resolveTickFontOptions(0);return Math.ceil(t/Math.min(40,a.lineHeight/i))}getPixelForValue(e){return e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getValueForPixel(e){return this._startValue+this.getDecimalForPixel(e)*this._valueRange}};g(r0,"id","linear"),g(r0,"defaults",{ticks:{callback:Wf.formatters.numeric}});var s0=r=>Math.floor($o(r)),Yl=(r,e)=>Math.pow(10,s0(r)+e);function X8(r){return r/Math.pow(10,s0(r))===1}function K8(r,e,t){let n=Math.pow(10,t),i=Math.floor(r/n);return Math.ceil(e/n)-i}function YJ(r,e){let t=e-r,n=s0(t);for(;K8(r,e,n)>10;)n++;for(;K8(r,e,n)<10;)n--;return Math.min(n,s0(r))}function ZJ(r,{min:e,max:t}){e=Ci(r.min,e);let n=[],i=s0(e),a=YJ(e,t),o=a<0?Math.pow(10,Math.abs(a)):1,s=Math.pow(10,a),l=i>a?Math.pow(10,i):0,u=Math.round((e-l)*o)/o,c=Math.floor((e-l)/s/10)*s*10,d=Math.floor((u-c)/Math.pow(10,a)),f=Ci(r.min,Math.round((l+c+d*Math.pow(10,a))*o)/o);for(;f<t;)n.push({value:f,major:X8(f),significand:d}),d>=10?d=d<15?15:20:d++,d>=20&&(a++,d=2,o=a>=0?1:o),f=Math.round((l+c+d*Math.pow(10,a))*o)/o;let m=Ci(r.max,f);return n.push({value:m,major:X8(m),significand:d}),n}var n0=class extends Kl{constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._valueRange=0}parse(e,t){let n=hc.prototype.parse.apply(this,[e,t]);if(n===0){this._zero=!0;return}return Kr(n)&&n>0?n:null}determineDataLimits(){let{min:e,max:t}=this.getMinMax(!0);this.min=Kr(e)?Math.max(0,e):null,this.max=Kr(t)?Math.max(0,t):null,this.options.beginAtZero&&(this._zero=!0),this._zero&&this.min!==this._suggestedMin&&!Kr(this._userMin)&&(this.min=e===Yl(this.min,0)?Yl(this.min,-1):Yl(this.min,0)),this.handleTickRangeOptions()}handleTickRangeOptions(){let{minDefined:e,maxDefined:t}=this.getUserBounds(),n=this.min,i=this.max,a=s=>n=e?n:s,o=s=>i=t?i:s;n===i&&(n<=0?(a(1),o(10)):(a(Yl(n,-1)),o(Yl(i,1)))),n<=0&&a(Yl(i,-1)),i<=0&&o(Yl(n,1)),this.min=n,this.max=i}buildTicks(){let e=this.options,t={min:this._userMin,max:this._userMax},n=ZJ(t,this);return e.bounds==="ticks"&&Gx(n,this,"value"),e.reverse?(n.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),n}getLabelForValue(e){return e===void 0?"0":lc(e,this.chart.options.locale,this.options.ticks.format)}configure(){let e=this.min;super.configure(),this._startValue=$o(e),this._valueRange=$o(this.max)-$o(e)}getPixelForValue(e){return(e===void 0||e===0)&&(e=this.min),e===null||isNaN(e)?NaN:this.getPixelForDecimal(e===this.min?0:($o(e)-this._startValue)/this._valueRange)}getValueForPixel(e){let t=this.getDecimalForPixel(e);return Math.pow(10,this._startValue+t*this._valueRange)}};g(n0,"id","logarithmic"),g(n0,"defaults",{ticks:{callback:Wf.formatters.logarithmic,major:{enabled:!0}}});function Uy(r){let e=r.ticks;if(e.display&&r.display){let t=Un(e.backdropPadding);return Ut(e.font&&e.font.size,Rr.font.size)+t.height}return 0}function XJ(r,e,t){return t=Fr(t)?t:[t],{w:jE(r,e.string,t),h:t.length*e.lineHeight}}function J8(r,e,t,n,i){return r===n||r===i?{start:e-t/2,end:e+t/2}:r<n||r>i?{start:e-t,end:e}:{start:e,end:e+t}}function KJ(r){let e={l:r.left+r._padding.left,r:r.right-r._padding.right,t:r.top+r._padding.top,b:r.bottom-r._padding.bottom},t=Object.assign({},e),n=[],i=[],a=r._pointLabels.length,o=r.options.pointLabels,s=o.centerPointLabels?Ir/a:0;for(let l=0;l<a;l++){let u=o.setContext(r.getPointLabelContext(l));i[l]=u.padding;let c=r.getPointPosition(l,r.drawingArea+i[l],s),d=pn(u.font),f=XJ(r.ctx,d,r._pointLabels[l]);n[l]=f;let m=Di(r.getIndexAngle(l)+s),p=Math.round(Yh(m)),h=J8(p,c.x,f.w,0,180),v=J8(p,c.y,f.h,90,270);JJ(t,e,m,h,v)}r.setCenterPoint(e.l-t.l,t.r-e.r,e.t-t.t,t.b-e.b),r._pointLabelItems=tQ(r,n,i)}function JJ(r,e,t,n,i){let a=Math.abs(Math.sin(t)),o=Math.abs(Math.cos(t)),s=0,l=0;n.start<e.l?(s=(e.l-n.start)/a,r.l=Math.min(r.l,e.l-s)):n.end>e.r&&(s=(n.end-e.r)/a,r.r=Math.max(r.r,e.r+s)),i.start<e.t?(l=(e.t-i.start)/o,r.t=Math.min(r.t,e.t-l)):i.end>e.b&&(l=(i.end-e.b)/o,r.b=Math.max(r.b,e.b+l))}function QJ(r,e,t){let n=r.drawingArea,{extra:i,additionalAngle:a,padding:o,size:s}=t,l=r.getPointPosition(e,n+i+o,a),u=Math.round(Yh(Di(l.angle+an))),c=iQ(l.y,s.h,u),d=rQ(u),f=nQ(l.x,s.w,d);return{visible:!0,x:l.x,y:c,textAlign:d,left:f,top:c,right:f+s.w,bottom:c+s.h}}function eQ(r,e){if(!e)return!0;let{left:t,top:n,right:i,bottom:a}=r;return!(uo({x:t,y:n},e)||uo({x:t,y:a},e)||uo({x:i,y:n},e)||uo({x:i,y:a},e))}function tQ(r,e,t){let n=[],i=r._pointLabels.length,a=r.options,{centerPointLabels:o,display:s}=a.pointLabels,l={extra:Uy(a)/2,additionalAngle:o?Ir/i:0},u;for(let c=0;c<i;c++){l.padding=t[c],l.size=e[c];let d=QJ(r,c,l);n.push(d),s==="auto"&&(d.visible=eQ(d,u),d.visible&&(u=d))}return n}function rQ(r){return r===0||r===180?"center":r<180?"left":"right"}function nQ(r,e,t){return t==="right"?r-=e:t==="center"&&(r-=e/2),r}function iQ(r,e,t){return t===90||t===270?r-=e/2:(t>270||t<90)&&(r-=e),r}function aQ(r,e,t){let{left:n,top:i,right:a,bottom:o}=t,{backdropColor:s}=e;if(!Qt(s)){let l=ks(e.borderRadius),u=Un(e.backdropPadding);r.fillStyle=s;let c=n-u.left,d=i-u.top,f=a-n+u.width,m=o-i+u.height;Object.values(l).some(p=>p!==0)?(r.beginPath(),uc(r,{x:c,y:d,w:f,h:m,radius:l}),r.fill()):r.fillRect(c,d,f,m)}}function oQ(r,e){let{ctx:t,options:{pointLabels:n}}=r;for(let i=e-1;i>=0;i--){let a=r._pointLabelItems[i];if(!a.visible)continue;let o=n.setContext(r.getPointLabelContext(i));aQ(t,o,a);let s=pn(o.font),{x:l,y:u,textAlign:c}=a;Rs(t,r._pointLabels[i],l,u+s.lineHeight/2,s,{color:o.color,textAlign:c,textBaseline:"middle"})}}function DA(r,e,t,n){let{ctx:i}=r;if(t)i.arc(r.xCenter,r.yCenter,e,0,Or);else{let a=r.getPointPosition(0,e);i.moveTo(a.x,a.y);for(let o=1;o<n;o++)a=r.getPointPosition(o,e),i.lineTo(a.x,a.y)}}function sQ(r,e,t,n,i){let a=r.ctx,o=e.circular,{color:s,lineWidth:l}=e;!o&&!n||!s||!l||t<0||(a.save(),a.strokeStyle=s,a.lineWidth=l,a.setLineDash(i.dash||[]),a.lineDashOffset=i.dashOffset,a.beginPath(),DA(r,t,o,n),a.closePath(),a.stroke(),a.restore())}function lQ(r,e,t){return Wo(r,{label:t,index:e,type:"pointLabel"})}var Xl=class extends hc{constructor(e){super(e),this.xCenter=void 0,this.yCenter=void 0,this.drawingArea=void 0,this._pointLabels=[],this._pointLabelItems=[]}setDimensions(){let e=this._padding=Un(Uy(this.options)/2),t=this.width=this.maxWidth-e.width,n=this.height=this.maxHeight-e.height;this.xCenter=Math.floor(this.left+t/2+e.left),this.yCenter=Math.floor(this.top+n/2+e.top),this.drawingArea=Math.floor(Math.min(t,n)/2)}determineDataLimits(){let{min:e,max:t}=this.getMinMax(!1);this.min=Kr(e)&&!isNaN(e)?e:0,this.max=Kr(t)&&!isNaN(t)?t:0,this.handleTickRangeOptions()}computeTickLimit(){return Math.ceil(this.drawingArea/Uy(this.options))}generateTickLabels(e){hc.prototype.generateTickLabels.call(this,e),this._pointLabels=this.getLabels().map((t,n)=>{let i=Cr(this.options.pointLabels.callback,[t,n],this);return i||i===0?i:""}).filter((t,n)=>this.chart.getDataVisibility(n))}fit(){let e=this.options;e.display&&e.pointLabels.display?KJ(this):this.setCenterPoint(0,0,0,0)}setCenterPoint(e,t,n,i){this.xCenter+=Math.floor((e-t)/2),this.yCenter+=Math.floor((n-i)/2),this.drawingArea-=Math.min(this.drawingArea/2,Math.max(e,t,n,i))}getIndexAngle(e){let t=Or/(this._pointLabels.length||1),n=this.options.startAngle||0;return Di(e*t+ua(n))}getDistanceFromCenterForValue(e){if(Qt(e))return NaN;let t=this.drawingArea/(this.max-this.min);return this.options.reverse?(this.max-e)*t:(e-this.min)*t}getValueForDistanceFromCenter(e){if(Qt(e))return NaN;let t=e/(this.drawingArea/(this.max-this.min));return this.options.reverse?this.max-t:this.min+t}getPointLabelContext(e){let t=this._pointLabels||[];if(e>=0&&e<t.length){let n=t[e];return lQ(this.getContext(),e,n)}}getPointPosition(e,t,n=0){let i=this.getIndexAngle(e)-an+n;return{x:Math.cos(i)*t+this.xCenter,y:Math.sin(i)*t+this.yCenter,angle:i}}getPointPositionForValue(e,t){return this.getPointPosition(e,this.getDistanceFromCenterForValue(t))}getBasePosition(e){return this.getPointPositionForValue(e||0,this.getBaseValue())}getPointLabelPosition(e){let{left:t,top:n,right:i,bottom:a}=this._pointLabelItems[e];return{left:t,top:n,right:i,bottom:a}}drawBackground(){let{backgroundColor:e,grid:{circular:t}}=this.options;if(e){let n=this.ctx;n.save(),n.beginPath(),DA(this,this.getDistanceFromCenterForValue(this._endValue),t,this._pointLabels.length),n.closePath(),n.fillStyle=e,n.fill(),n.restore()}}drawGrid(){let e=this.ctx,t=this.options,{angleLines:n,grid:i,border:a}=t,o=this._pointLabels.length,s,l,u;if(t.pointLabels.display&&oQ(this,o),i.display&&this.ticks.forEach((c,d)=>{if(d!==0||d===0&&this.min<0){l=this.getDistanceFromCenterForValue(c.value);let f=this.getContext(d),m=i.setContext(f),p=a.setContext(f);sQ(this,m,l,o,p)}}),n.display){for(e.save(),s=o-1;s>=0;s--){let c=n.setContext(this.getPointLabelContext(s)),{color:d,lineWidth:f}=c;!f||!d||(e.lineWidth=f,e.strokeStyle=d,e.setLineDash(c.borderDash),e.lineDashOffset=c.borderDashOffset,l=this.getDistanceFromCenterForValue(t.reverse?this.min:this.max),u=this.getPointPosition(s,l),e.beginPath(),e.moveTo(this.xCenter,this.yCenter),e.lineTo(u.x,u.y),e.stroke())}e.restore()}}drawBorder(){}drawLabels(){let e=this.ctx,t=this.options,n=t.ticks;if(!n.display)return;let i=this.getIndexAngle(0),a,o;e.save(),e.translate(this.xCenter,this.yCenter),e.rotate(i),e.textAlign="center",e.textBaseline="middle",this.ticks.forEach((s,l)=>{if(l===0&&this.min>=0&&!t.reverse)return;let u=n.setContext(this.getContext(l)),c=pn(u.font);if(a=this.getDistanceFromCenterForValue(this.ticks[l].value),u.showLabelBackdrop){e.font=c.string,o=e.measureText(s.label).width,e.fillStyle=u.backdropColor;let d=Un(u.backdropPadding);e.fillRect(-o/2-d.left,-a-c.size/2-d.top,o+d.width,c.size+d.height)}Rs(e,s.label,0,-a,c,{color:u.color,strokeColor:u.textStrokeColor,strokeWidth:u.textStrokeWidth})}),e.restore()}drawTitle(){}};g(Xl,"id","radialLinear"),g(Xl,"defaults",{display:!0,animate:!0,position:"chartArea",angleLines:{display:!0,lineWidth:1,borderDash:[],borderDashOffset:0},grid:{circular:!1},startAngle:0,ticks:{showLabelBackdrop:!0,callback:Wf.formatters.numeric},pointLabels:{backdropColor:void 0,backdropPadding:2,display:!0,font:{size:10},callback(e){return e},padding:5,centerPointLabels:!1}}),g(Xl,"defaultRoutes",{"angleLines.color":"borderColor","pointLabels.color":"color","ticks.color":"color"}),g(Xl,"descriptors",{angleLines:{_fallback:"grid"}});var yp={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},Ai=Object.keys(yp);function Q8(r,e){return r-e}function eA(r,e){if(Qt(e))return null;let t=r._adapter,{parser:n,round:i,isoWeekday:a}=r._parseOpts,o=e;return typeof n=="function"&&(o=n(o)),Kr(o)||(o=typeof n=="string"?t.parse(o,n):t.parse(o)),o===null?null:(i&&(o=i==="week"&&(Hl(a)||a===!0)?t.startOf(o,"isoWeek",a):t.startOf(o,i)),+o)}function tA(r,e,t,n){let i=Ai.length;for(let a=Ai.indexOf(r);a<i-1;++a){let o=yp[Ai[a]],s=o.steps?o.steps:Number.MAX_SAFE_INTEGER;if(o.common&&Math.ceil((t-e)/(s*o.size))<=n)return Ai[a]}return Ai[i-1]}function uQ(r,e,t,n,i){for(let a=Ai.length-1;a>=Ai.indexOf(t);a--){let o=Ai[a];if(yp[o].common&&r._adapter.diff(i,n,o)>=e-1)return o}return Ai[t?Ai.indexOf(t):0]}function cQ(r){for(let e=Ai.indexOf(r)+1,t=Ai.length;e<t;++e)if(yp[Ai[e]].common)return Ai[e]}function rA(r,e,t){if(!t)r[e]=!0;else if(t.length){let{lo:n,hi:i}=Zh(t,e),a=t[n]>=e?t[n]:t[i];r[a]=!0}}function dQ(r,e,t,n){let i=r._adapter,a=+i.startOf(e[0].value,n),o=e[e.length-1].value,s,l;for(s=a;s<=o;s=+i.add(s,1,n))l=t[s],l>=0&&(e[l].major=!0);return e}function nA(r,e,t){let n=[],i={},a=e.length,o,s;for(o=0;o<a;++o)s=e[o],i[s]=o,n.push({value:s,major:!1});return a===0||!t?n:dQ(r,n,i,t)}var qy=(()=>{class r extends Kl{constructor(t){super(t),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(t,n={}){let i=t.time||(t.time={}),a=this._adapter=new SX._date(t.adapters.date);a.init(n),ic(i.displayFormats,a.formats()),this._parseOpts={parser:i.parser,round:i.round,isoWeekday:i.isoWeekday},super.init(t),this._normalized=n.normalized}parse(t,n){return t===void 0?null:eA(this,t)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){let t=this.options,n=this._adapter,i=t.time.unit||"day",{min:a,max:o,minDefined:s,maxDefined:l}=this.getUserBounds();function u(c){!s&&!isNaN(c.min)&&(a=Math.min(a,c.min)),!l&&!isNaN(c.max)&&(o=Math.max(o,c.max))}(!s||!l)&&(u(this._getLabelBounds()),(t.bounds!=="ticks"||t.ticks.source!=="labels")&&u(this.getMinMax(!1))),a=Kr(a)&&!isNaN(a)?a:+n.startOf(Date.now(),i),o=Kr(o)&&!isNaN(o)?o:+n.endOf(Date.now(),i)+1,this.min=Math.min(a,o-1),this.max=Math.max(a+1,o)}_getLabelBounds(){let t=this.getLabelTimestamps(),n=Number.POSITIVE_INFINITY,i=Number.NEGATIVE_INFINITY;return t.length&&(n=t[0],i=t[t.length-1]),{min:n,max:i}}buildTicks(){let t=this.options,n=t.time,i=t.ticks,a=i.source==="labels"?this.getLabelTimestamps():this._generate();t.bounds==="ticks"&&a.length&&(this.min=this._userMin||a[0],this.max=this._userMax||a[a.length-1]);let o=this.min,s=this.max,l=BE(a,o,s);return this._unit=n.unit||(i.autoSkip?tA(n.minUnit,this.min,this.max,this._getLabelCapacity(o)):uQ(this,l.length,n.minUnit,this.min,this.max)),this._majorUnit=!i.major.enabled||this._unit==="year"?void 0:cQ(this._unit),this.initOffsets(a),t.reverse&&l.reverse(),nA(this,l,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(t=>+t.value))}initOffsets(t=[]){let n=0,i=0,a,o;this.options.offset&&t.length&&(a=this.getDecimalForValue(t[0]),t.length===1?n=1-a:n=(this.getDecimalForValue(t[1])-a)/2,o=this.getDecimalForValue(t[t.length-1]),t.length===1?i=o:i=(o-this.getDecimalForValue(t[t.length-2]))/2);let s=t.length<3?.5:.25;n=Dn(n,0,s),i=Dn(i,0,s),this._offsets={start:n,end:i,factor:1/(n+1+i)}}_generate(){let t=this._adapter,n=this.min,i=this.max,a=this.options,o=a.time,s=o.unit||tA(o.minUnit,n,i,this._getLabelCapacity(n)),l=Ut(a.ticks.stepSize,1),u=s==="week"?o.isoWeekday:!1,c=Hl(u)||u===!0,d={},f=n,m,p;if(c&&(f=+t.startOf(f,"isoWeek",u)),f=+t.startOf(f,c?"day":s),t.diff(i,n,s)>1e5*l)throw new Error(n+" and "+i+" are too far apart with stepSize of "+l+" "+s);let h=a.ticks.source==="data"&&this.getDataTimestamps();for(m=f,p=0;m<i;m=+t.add(m,l,s),p++)rA(d,m,h);return(m===i||a.bounds==="ticks"||p===1)&&rA(d,m,h),Object.keys(d).sort(Q8).map(v=>+v)}getLabelForValue(t){let n=this._adapter,i=this.options.time;return i.tooltipFormat?n.format(t,i.tooltipFormat):n.format(t,i.displayFormats.datetime)}format(t,n){let a=this.options.time.displayFormats,o=this._unit,s=n||a[o];return this._adapter.format(t,s)}_tickFormatFunction(t,n,i,a){let o=this.options,s=o.ticks.callback;if(s)return Cr(s,[t,n,i],this);let l=o.time.displayFormats,u=this._unit,c=this._majorUnit,d=u&&l[u],f=c&&l[c],m=i[n],p=c&&f&&m&&m.major;return this._adapter.format(t,a||(p?f:d))}generateTickLabels(t){let n,i,a;for(n=0,i=t.length;n<i;++n)a=t[n],a.label=this._tickFormatFunction(a.value,n,t)}getDecimalForValue(t){return t===null?NaN:(t-this.min)/(this.max-this.min)}getPixelForValue(t){let n=this._offsets,i=this.getDecimalForValue(t);return this.getPixelForDecimal((n.start+i)*n.factor)}getValueForPixel(t){let n=this._offsets,i=this.getDecimalForPixel(t)/n.factor-n.end;return this.min+i*(this.max-this.min)}_getLabelSize(t){let n=this.options.ticks,i=this.ctx.measureText(t).width,a=ua(this.isHorizontal()?n.maxRotation:n.minRotation),o=Math.cos(a),s=Math.sin(a),l=this._resolveTickFontOptions(0).size;return{w:i*o+l*s,h:i*s+l*o}}_getLabelCapacity(t){let n=this.options.time,i=n.displayFormats,a=i[n.unit]||i.millisecond,o=this._tickFormatFunction(t,0,nA(this,[t],this._majorUnit),a),s=this._getLabelSize(o),l=Math.floor(this.isHorizontal()?this.width/s.w:this.height/s.h)-1;return l>0?l:1}getDataTimestamps(){let t=this._cache.data||[],n,i;if(t.length)return t;let a=this.getMatchingVisibleMetas();if(this._normalized&&a.length)return this._cache.data=a[0].controller.getAllParsedValues(this);for(n=0,i=a.length;n<i;++n)t=t.concat(a[n].controller.getAllParsedValues(this));return this._cache.data=this.normalize(t)}getLabelTimestamps(){let t=this._cache.labels||[],n,i;if(t.length)return t;let a=this.getLabels();for(n=0,i=a.length;n<i;++n)t.push(eA(this,a[n]));return this._cache.labels=this._normalized?t:this.normalize(t)}normalize(t){return Kx(t.sort(Q8))}}return g(r,"id","time"),g(r,"defaults",{bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}}),r})();function up(r,e,t){let n=0,i=r.length-1,a,o,s,l;t?(e>=r[n].pos&&e<=r[i].pos&&({lo:n,hi:i}=lo(r,"pos",e)),{pos:a,time:s}=r[n],{pos:o,time:l}=r[i]):(e>=r[n].time&&e<=r[i].time&&({lo:n,hi:i}=lo(r,"time",e)),{time:a,pos:s}=r[n],{time:o,pos:l}=r[i]);let u=o-a;return u?s+(l-s)*(e-a)/u:s}var i0=class extends qy{constructor(e){super(e),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){let e=this._getTimestampsForTable(),t=this._table=this.buildLookupTable(e);this._minPos=up(t,this.min),this._tableRange=up(t,this.max)-this._minPos,super.initOffsets(e)}buildLookupTable(e){let{min:t,max:n}=this,i=[],a=[],o,s,l,u,c;for(o=0,s=e.length;o<s;++o)u=e[o],u>=t&&u<=n&&i.push(u);if(i.length<2)return[{time:t,pos:0},{time:n,pos:1}];for(o=0,s=i.length;o<s;++o)c=i[o+1],l=i[o-1],u=i[o],Math.round((c+l)/2)!==u&&a.push({time:u,pos:o/(s-1)});return a}_generate(){let e=this.min,t=this.max,n=super.getDataTimestamps();return(!n.includes(e)||!n.length)&&n.splice(0,0,e),(!n.includes(t)||n.length===1)&&n.push(t),n.sort((i,a)=>i-a)}_getTimestampsForTable(){let e=this._cache.all||[];if(e.length)return e;let t=this.getDataTimestamps(),n=this.getLabelTimestamps();return t.length&&n.length?e=this.normalize(t.concat(n)):e=t.length?t:n,e=this._cache.all=e,e}getDecimalForValue(e){return(up(this._table,e)-this._minPos)/this._tableRange}getValueForPixel(e){let t=this._offsets,n=this.getDecimalForPixel(e)/t.factor-t.end;return up(this._table,n*this._tableRange+this._minPos,!0)}};g(i0,"id","timeseries"),g(i0,"defaults",qy.defaults);var fQ=Object.freeze({__proto__:null,CategoryScale:WJ,LinearScale:r0,LogarithmicScale:n0,RadialLinearScale:Xl,TimeScale:qy,TimeSeriesScale:i0}),pc=[_X,GK,qJ,fQ];var mQ=typeof global=="object"&&global&&global.Object===Object&&global,bp=mQ;var hQ=typeof self=="object"&&self&&self.Object===Object&&self,pQ=bp||hQ||Function("return this")(),ca=pQ;var gQ=ca.Symbol,gc=gQ;var CA=Object.prototype,vQ=CA.hasOwnProperty,xQ=CA.toString,u0=gc?gc.toStringTag:void 0;function yQ(r){var e=vQ.call(r,u0),t=r[u0];try{r[u0]=void 0;var n=!0}catch{}var i=xQ.call(r);return n&&(e?r[u0]=t:delete r[u0]),i}var EA=yQ;var bQ=Object.prototype,wQ=bQ.toString;function _Q(r){return wQ.call(r)}var AA=_Q;var SQ="[object Null]",DQ="[object Undefined]",MA=gc?gc.toStringTag:void 0;function CQ(r){return r==null?r===void 0?DQ:SQ:MA&&MA in Object(r)?EA(r):AA(r)}var Vs=CQ;function EQ(r){return r!=null&&typeof r=="object"}var po=EQ;var AQ=Array.isArray,c0=AQ;function MQ(r){var e=typeof r;return r!=null&&(e=="object"||e=="function")}var Mi=MQ;function NQ(r){return r}var wp=NQ;var TQ="[object AsyncFunction]",FQ="[object Function]",IQ="[object GeneratorFunction]",OQ="[object Proxy]";function RQ(r){if(!Mi(r))return!1;var e=Vs(r);return e==FQ||e==IQ||e==TQ||e==OQ}var vc=RQ;var kQ=ca["__core-js_shared__"],_p=kQ;var NA=function(){var r=/[^.]+$/.exec(_p&&_p.keys&&_p.keys.IE_PROTO||"");return r?"Symbol(src)_1."+r:""}();function PQ(r){return!!NA&&NA in r}var TA=PQ;var BQ=Function.prototype,LQ=BQ.toString;function zQ(r){if(r!=null){try{return LQ.call(r)}catch{}try{return r+""}catch{}}return""}var FA=zQ;var VQ=/[\\^$.*+?()[\]{}|]/g,UQ=/^\[object .+?Constructor\]$/,qQ=Function.prototype,jQ=Object.prototype,$Q=qQ.toString,HQ=jQ.hasOwnProperty,WQ=RegExp("^"+$Q.call(HQ).replace(VQ,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function GQ(r){if(!Mi(r)||TA(r))return!1;var e=vc(r)?WQ:UQ;return e.test(FA(r))}var IA=GQ;function YQ(r,e){return r==null?void 0:r[e]}var OA=YQ;function ZQ(r,e){var t=OA(r,e);return IA(t)?t:void 0}var xc=ZQ;var RA=Object.create,XQ=function(){function r(){}return function(e){if(!Mi(e))return{};if(RA)return RA(e);r.prototype=e;var t=new r;return r.prototype=void 0,t}}(),kA=XQ;function KQ(r,e,t){switch(t.length){case 0:return r.call(e);case 1:return r.call(e,t[0]);case 2:return r.call(e,t[0],t[1]);case 3:return r.call(e,t[0],t[1],t[2])}return r.apply(e,t)}var PA=KQ;function JQ(r,e){var t=-1,n=r.length;for(e||(e=Array(n));++t<n;)e[t]=r[t];return e}var BA=JQ;var QQ=800,eee=16,tee=Date.now;function ree(r){var e=0,t=0;return function(){var n=tee(),i=eee-(n-t);if(t=n,i>0){if(++e>=QQ)return arguments[0]}else e=0;return r.apply(void 0,arguments)}}var LA=ree;function nee(r){return function(){return r}}var zA=nee;var iee=function(){try{var r=xc(Object,"defineProperty");return r({},"",{}),r}catch{}}(),yc=iee;var aee=yc?function(r,e){return yc(r,"toString",{configurable:!0,enumerable:!1,value:zA(e),writable:!0})}:wp,VA=aee;var oee=LA(VA),UA=oee;var see=9007199254740991,lee=/^(?:0|[1-9]\d*)$/;function uee(r,e){var t=typeof r;return e=e==null?see:e,!!e&&(t=="number"||t!="symbol"&&lee.test(r))&&r>-1&&r%1==0&&r<e}var Sp=uee;function cee(r,e,t){e=="__proto__"&&yc?yc(r,e,{configurable:!0,enumerable:!0,value:t,writable:!0}):r[e]=t}var bc=cee;function dee(r,e){return r===e||r!==r&&e!==e}var Us=dee;var fee=Object.prototype,mee=fee.hasOwnProperty;function hee(r,e,t){var n=r[e];(!(mee.call(r,e)&&Us(n,t))||t===void 0&&!(e in r))&&bc(r,e,t)}var qA=hee;function pee(r,e,t,n){var i=!t;t||(t={});for(var a=-1,o=e.length;++a<o;){var s=e[a],l=n?n(t[s],r[s],s,t,r):void 0;l===void 0&&(l=r[s]),i?bc(t,s,l):qA(t,s,l)}return t}var jA=pee;var $A=Math.max;function gee(r,e,t){return e=$A(e===void 0?r.length-1:e,0),function(){for(var n=arguments,i=-1,a=$A(n.length-e,0),o=Array(a);++i<a;)o[i]=n[e+i];i=-1;for(var s=Array(e+1);++i<e;)s[i]=n[i];return s[e]=t(o),PA(r,this,s)}}var HA=gee;function vee(r,e){return UA(HA(r,e,wp),r+"")}var WA=vee;var xee=9007199254740991;function yee(r){return typeof r=="number"&&r>-1&&r%1==0&&r<=xee}var Dp=yee;function bee(r){return r!=null&&Dp(r.length)&&!vc(r)}var wc=bee;function wee(r,e,t){if(!Mi(t))return!1;var n=typeof e;return(n=="number"?wc(t)&&Sp(e,t.length):n=="string"&&e in t)?Us(t[e],r):!1}var GA=wee;function _ee(r){return WA(function(e,t){var n=-1,i=t.length,a=i>1?t[i-1]:void 0,o=i>2?t[2]:void 0;for(a=r.length>3&&typeof a=="function"?(i--,a):void 0,o&&GA(t[0],t[1],o)&&(a=i<3?void 0:a,i=1),e=Object(e);++n<i;){var s=t[n];s&&r(e,s,n,a)}return e})}var YA=_ee;var See=Object.prototype;function Dee(r){var e=r&&r.constructor,t=typeof e=="function"&&e.prototype||See;return r===t}var Cp=Dee;function Cee(r,e){for(var t=-1,n=Array(r);++t<r;)n[t]=e(t);return n}var ZA=Cee;var Eee="[object Arguments]";function Aee(r){return po(r)&&Vs(r)==Eee}var Hy=Aee;var XA=Object.prototype,Mee=XA.hasOwnProperty,Nee=XA.propertyIsEnumerable,Tee=Hy(function(){return arguments}())?Hy:function(r){return po(r)&&Mee.call(r,"callee")&&!Nee.call(r,"callee")},d0=Tee;function Fee(){return!1}var KA=Fee;var eM=typeof exports=="object"&&exports&&!exports.nodeType&&exports,JA=eM&&typeof module=="object"&&module&&!module.nodeType&&module,Iee=JA&&JA.exports===eM,QA=Iee?ca.Buffer:void 0,Oee=QA?QA.isBuffer:void 0,Ree=Oee||KA,Ep=Ree;var kee="[object Arguments]",Pee="[object Array]",Bee="[object Boolean]",Lee="[object Date]",zee="[object Error]",Vee="[object Function]",Uee="[object Map]",qee="[object Number]",jee="[object Object]",$ee="[object RegExp]",Hee="[object Set]",Wee="[object String]",Gee="[object WeakMap]",Yee="[object ArrayBuffer]",Zee="[object DataView]",Xee="[object Float32Array]",Kee="[object Float64Array]",Jee="[object Int8Array]",Qee="[object Int16Array]",ete="[object Int32Array]",tte="[object Uint8Array]",rte="[object Uint8ClampedArray]",nte="[object Uint16Array]",ite="[object Uint32Array]",Vr={};Vr[Xee]=Vr[Kee]=Vr[Jee]=Vr[Qee]=Vr[ete]=Vr[tte]=Vr[rte]=Vr[nte]=Vr[ite]=!0;Vr[kee]=Vr[Pee]=Vr[Yee]=Vr[Bee]=Vr[Zee]=Vr[Lee]=Vr[zee]=Vr[Vee]=Vr[Uee]=Vr[qee]=Vr[jee]=Vr[$ee]=Vr[Hee]=Vr[Wee]=Vr[Gee]=!1;function ate(r){return po(r)&&Dp(r.length)&&!!Vr[Vs(r)]}var tM=ate;function ote(r){return function(e){return r(e)}}var rM=ote;var nM=typeof exports=="object"&&exports&&!exports.nodeType&&exports,f0=nM&&typeof module=="object"&&module&&!module.nodeType&&module,ste=f0&&f0.exports===nM,Wy=ste&&bp.process,lte=function(){try{var r=f0&&f0.require&&f0.require("util").types;return r||Wy&&Wy.binding&&Wy.binding("util")}catch{}}(),Gy=lte;var iM=Gy&&Gy.isTypedArray,ute=iM?rM(iM):tM,Ap=ute;var cte=Object.prototype,dte=cte.hasOwnProperty;function fte(r,e){var t=c0(r),n=!t&&d0(r),i=!t&&!n&&Ep(r),a=!t&&!n&&!i&&Ap(r),o=t||n||i||a,s=o?ZA(r.length,String):[],l=s.length;for(var u in r)(e||dte.call(r,u))&&!(o&&(u=="length"||i&&(u=="offset"||u=="parent")||a&&(u=="buffer"||u=="byteLength"||u=="byteOffset")||Sp(u,l)))&&s.push(u);return s}var aM=fte;function mte(r,e){return function(t){return r(e(t))}}var oM=mte;function hte(r){var e=[];if(r!=null)for(var t in Object(r))e.push(t);return e}var sM=hte;var pte=Object.prototype,gte=pte.hasOwnProperty;function vte(r){if(!Mi(r))return sM(r);var e=Cp(r),t=[];for(var n in r)n=="constructor"&&(e||!gte.call(r,n))||t.push(n);return t}var lM=vte;function xte(r){return wc(r)?aM(r,!0):lM(r)}var Mp=xte;var yte=xc(Object,"create"),Zo=yte;function bte(){this.__data__=Zo?Zo(null):{},this.size=0}var uM=bte;function wte(r){var e=this.has(r)&&delete this.__data__[r];return this.size-=e?1:0,e}var cM=wte;var _te="__lodash_hash_undefined__",Ste=Object.prototype,Dte=Ste.hasOwnProperty;function Cte(r){var e=this.__data__;if(Zo){var t=e[r];return t===_te?void 0:t}return Dte.call(e,r)?e[r]:void 0}var dM=Cte;var Ete=Object.prototype,Ate=Ete.hasOwnProperty;function Mte(r){var e=this.__data__;return Zo?e[r]!==void 0:Ate.call(e,r)}var fM=Mte;var Nte="__lodash_hash_undefined__";function Tte(r,e){var t=this.__data__;return this.size+=this.has(r)?0:1,t[r]=Zo&&e===void 0?Nte:e,this}var mM=Tte;function _c(r){var e=-1,t=r==null?0:r.length;for(this.clear();++e<t;){var n=r[e];this.set(n[0],n[1])}}_c.prototype.clear=uM;_c.prototype.delete=cM;_c.prototype.get=dM;_c.prototype.has=fM;_c.prototype.set=mM;var Yy=_c;function Fte(){this.__data__=[],this.size=0}var hM=Fte;function Ite(r,e){for(var t=r.length;t--;)if(Us(r[t][0],e))return t;return-1}var qs=Ite;var Ote=Array.prototype,Rte=Ote.splice;function kte(r){var e=this.__data__,t=qs(e,r);if(t<0)return!1;var n=e.length-1;return t==n?e.pop():Rte.call(e,t,1),--this.size,!0}var pM=kte;function Pte(r){var e=this.__data__,t=qs(e,r);return t<0?void 0:e[t][1]}var gM=Pte;function Bte(r){return qs(this.__data__,r)>-1}var vM=Bte;function Lte(r,e){var t=this.__data__,n=qs(t,r);return n<0?(++this.size,t.push([r,e])):t[n][1]=e,this}var xM=Lte;function Sc(r){var e=-1,t=r==null?0:r.length;for(this.clear();++e<t;){var n=r[e];this.set(n[0],n[1])}}Sc.prototype.clear=hM;Sc.prototype.delete=pM;Sc.prototype.get=gM;Sc.prototype.has=vM;Sc.prototype.set=xM;var js=Sc;var zte=xc(ca,"Map"),Np=zte;function Vte(){this.size=0,this.__data__={hash:new Yy,map:new(Np||js),string:new Yy}}var yM=Vte;function Ute(r){var e=typeof r;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?r!=="__proto__":r===null}var bM=Ute;function qte(r,e){var t=r.__data__;return bM(e)?t[typeof e=="string"?"string":"hash"]:t.map}var $s=qte;function jte(r){var e=$s(this,r).delete(r);return this.size-=e?1:0,e}var wM=jte;function $te(r){return $s(this,r).get(r)}var _M=$te;function Hte(r){return $s(this,r).has(r)}var SM=Hte;function Wte(r,e){var t=$s(this,r),n=t.size;return t.set(r,e),this.size+=t.size==n?0:1,this}var DM=Wte;function Dc(r){var e=-1,t=r==null?0:r.length;for(this.clear();++e<t;){var n=r[e];this.set(n[0],n[1])}}Dc.prototype.clear=yM;Dc.prototype.delete=wM;Dc.prototype.get=_M;Dc.prototype.has=SM;Dc.prototype.set=DM;var CM=Dc;var Gte=oM(Object.getPrototypeOf,Object),Tp=Gte;var Yte="[object Object]",Zte=Function.prototype,Xte=Object.prototype,EM=Zte.toString,Kte=Xte.hasOwnProperty,Jte=EM.call(Object);function Qte(r){if(!po(r)||Vs(r)!=Yte)return!1;var e=Tp(r);if(e===null)return!0;var t=Kte.call(e,"constructor")&&e.constructor;return typeof t=="function"&&t instanceof t&&EM.call(t)==Jte}var AM=Qte;function ere(){this.__data__=new js,this.size=0}var MM=ere;function tre(r){var e=this.__data__,t=e.delete(r);return this.size=e.size,t}var NM=tre;function rre(r){return this.__data__.get(r)}var TM=rre;function nre(r){return this.__data__.has(r)}var FM=nre;var ire=200;function are(r,e){var t=this.__data__;if(t instanceof js){var n=t.__data__;if(!Np||n.length<ire-1)return n.push([r,e]),this.size=++t.size,this;t=this.__data__=new CM(n)}return t.set(r,e),this.size=t.size,this}var IM=are;function Cc(r){var e=this.__data__=new js(r);this.size=e.size}Cc.prototype.clear=MM;Cc.prototype.delete=NM;Cc.prototype.get=TM;Cc.prototype.has=FM;Cc.prototype.set=IM;var OM=Cc;var BM=typeof exports=="object"&&exports&&!exports.nodeType&&exports,RM=BM&&typeof module=="object"&&module&&!module.nodeType&&module,ore=RM&&RM.exports===BM,kM=ore?ca.Buffer:void 0,PM=kM?kM.allocUnsafe:void 0;function sre(r,e){if(e)return r.slice();var t=r.length,n=PM?PM(t):new r.constructor(t);return r.copy(n),n}var LM=sre;var lre=ca.Uint8Array,Zy=lre;function ure(r){var e=new r.constructor(r.byteLength);return new Zy(e).set(new Zy(r)),e}var zM=ure;function cre(r,e){var t=e?zM(r.buffer):r.buffer;return new r.constructor(t,r.byteOffset,r.length)}var VM=cre;function dre(r){return typeof r.constructor=="function"&&!Cp(r)?kA(Tp(r)):{}}var UM=dre;function fre(r){return function(e,t,n){for(var i=-1,a=Object(e),o=n(e),s=o.length;s--;){var l=o[r?s:++i];if(t(a[l],l,a)===!1)break}return e}}var qM=fre;var mre=qM(),jM=mre;function hre(r,e,t){(t!==void 0&&!Us(r[e],t)||t===void 0&&!(e in r))&&bc(r,e,t)}var m0=hre;function pre(r){return po(r)&&wc(r)}var $M=pre;function gre(r,e){if(!(e==="constructor"&&typeof r[e]=="function")&&e!="__proto__")return r[e]}var h0=gre;function vre(r){return jA(r,Mp(r))}var HM=vre;function xre(r,e,t,n,i,a,o){var s=h0(r,t),l=h0(e,t),u=o.get(l);if(u){m0(r,t,u);return}var c=a?a(s,l,t+"",r,e,o):void 0,d=c===void 0;if(d){var f=c0(l),m=!f&&Ep(l),p=!f&&!m&&Ap(l);c=l,f||m||p?c0(s)?c=s:$M(s)?c=BA(s):m?(d=!1,c=LM(l,!0)):p?(d=!1,c=VM(l,!0)):c=[]:AM(l)||d0(l)?(c=s,d0(s)?c=HM(s):(!Mi(s)||vc(s))&&(c=UM(l))):d=!1}d&&(o.set(l,c),i(c,l,n,a,o),o.delete(l)),m0(r,t,c)}var WM=xre;function GM(r,e,t,n,i){r!==e&&jM(e,function(a,o){if(i||(i=new OM),Mi(a))WM(r,e,o,t,GM,n,i);else{var s=n?n(h0(r,o),a,o+"",r,e,i):void 0;s===void 0&&(s=a),m0(r,o,s)}},Mp)}var YM=GM;var yre=YA(function(r,e,t){YM(r,e,t)}),Xy=yre;var bre=new ht("Configuration for ngCharts");function ZM(...r){return{registerables:[...pc,...r]}}function XM(...r){let e=Xy({},...r);return{provide:bre,useValue:e}}var wre="@",_re=(()=>{let e=class e{constructor(n,i,a,o,s){g(this,"doc");g(this,"delegate");g(this,"zone");g(this,"animationType");g(this,"moduleImpl");g(this,"_rendererFactoryPromise",null);g(this,"scheduler",null);g(this,"injector",Me(wi));g(this,"loadingSchedulerFn",Me(Sre,{optional:!0}));g(this,"_engine");this.doc=n,this.delegate=i,this.zone=a,this.animationType=o,this.moduleImpl=s}ngOnDestroy(){var n;(n=this._engine)==null||n.flush()}loadImpl(){let n=()=>{var a;return(a=this.moduleImpl)!=null?a:import("./chunk-62HHDOPF.js").then(o=>o)},i;return this.loadingSchedulerFn?i=this.loadingSchedulerFn(n):i=n(),i.catch(a=>{throw new Zt(5300,!1)}).then(({\u0275createEngine:a,\u0275AnimationRendererFactory:o})=>{this._engine=a(this.animationType,this.doc);let s=new o(this.delegate,this._engine,this.zone);return this.delegate=s,s})}createRenderer(n,i){var s,l;let a=this.delegate.createRenderer(n,i);if(a.\u0275type===0)return a;typeof a.throwOnSyntheticProps=="boolean"&&(a.throwOnSyntheticProps=!1);let o=new Ky(a);return(s=i==null?void 0:i.data)!=null&&s.animation&&!this._rendererFactoryPromise&&(this._rendererFactoryPromise=this.loadImpl()),(l=this._rendererFactoryPromise)==null||l.then(u=>{var d,f;let c=u.createRenderer(n,i);o.use(c),(d=this.scheduler)!=null||(this.scheduler=this.injector.get(A6,null,{optional:!0})),(f=this.scheduler)==null||f.notify(10)}).catch(u=>{o.use(a)}),o}begin(){var n,i;(i=(n=this.delegate).begin)==null||i.call(n)}end(){var n,i;(i=(n=this.delegate).end)==null||i.call(n)}whenRenderingDone(){var n,i,a;return(a=(i=(n=this.delegate).whenRenderingDone)==null?void 0:i.call(n))!=null?a:Promise.resolve()}componentReplaced(n){var i,a,o;(i=this._engine)==null||i.flush(),(o=(a=this.delegate).componentReplaced)==null||o.call(a,n)}};g(e,"\u0275fac",function(i){V6()}),g(e,"\u0275prov",Ke({token:e,factory:e.\u0275fac}));let r=e;return r})(),Ky=class{constructor(e){g(this,"delegate");g(this,"replay",[]);g(this,"\u0275type",1);this.delegate=e}use(e){if(this.delegate=e,this.replay!==null){for(let t of this.replay)t(e);this.replay=null}}get data(){return this.delegate.data}destroy(){this.replay=null,this.delegate.destroy()}createElement(e,t){return this.delegate.createElement(e,t)}createComment(e){return this.delegate.createComment(e)}createText(e){return this.delegate.createText(e)}get destroyNode(){return this.delegate.destroyNode}appendChild(e,t){this.delegate.appendChild(e,t)}insertBefore(e,t,n,i){this.delegate.insertBefore(e,t,n,i)}removeChild(e,t,n){this.delegate.removeChild(e,t,n)}selectRootElement(e,t){return this.delegate.selectRootElement(e,t)}parentNode(e){return this.delegate.parentNode(e)}nextSibling(e){return this.delegate.nextSibling(e)}setAttribute(e,t,n,i){this.delegate.setAttribute(e,t,n,i)}removeAttribute(e,t,n){this.delegate.removeAttribute(e,t,n)}addClass(e,t){this.delegate.addClass(e,t)}removeClass(e,t){this.delegate.removeClass(e,t)}setStyle(e,t,n,i){this.delegate.setStyle(e,t,n,i)}removeStyle(e,t,n){this.delegate.removeStyle(e,t,n)}setProperty(e,t,n){this.shouldReplay(t)&&this.replay.push(i=>i.setProperty(e,t,n)),this.delegate.setProperty(e,t,n)}setValue(e,t){this.delegate.setValue(e,t)}listen(e,t,n,i){return this.shouldReplay(t)&&this.replay.push(a=>a.listen(e,t,n,i)),this.delegate.listen(e,t,n,i)}shouldReplay(e){return this.replay!==null&&e.startsWith(wre)}},Sre=new ht("");function KM(r="animations"){return z1("NgAsyncAnimations"),bi([{provide:to,useFactory:(e,t,n)=>new _re(e,t,n,r),deps:[Dr,hf,zn]},{provide:F6,useValue:r==="noop"?"NoopAnimations":"BrowserAnimations"}])}var Er={BACKEND_API:"https://physicslabbackend-ten.vercel.app/api",MAX_FREE_COURSES:3,MAX_FREE_ASSISTANT_REQUESTS:5,STUDENTS_URL:"lab4students",TEACHERS_URL:"lab4teachers"};var Jl=class Jl{constructor(e){this.router=e;g(this,"spinner",gt(!1));g(this,"toastMessage",gt(""));g(this,"popupInteraction",gt(void 0));g(this,"selectedWidgets",gt([0]))}getSelectedWidgets(){return this.selectedWidgets}changeSelectedWidgets(e){this.selectedWidgets.update(t=>e)}changeAuthMode(e){this.changePage(e)}changePage(e=""){switch(e){case"":this.router.navigate(["/"]);break;case"dashboard":this.router.navigate(["dashboard"]);break;case"signup":this.router.navigate(["authentification","signup"]);break;case"login":this.router.navigate(["authentification","login"]);break;case"verify":this.router.navigate(["authentification","verify"]);break;case"reset":this.router.navigate(["authentification","reset"]);break;default:this.router.navigate(["/"])}}openExternalLink(e){window.location.href=e}setSpinnerState(e){this.spinner.set(e)}getSpinner(){return this.spinner()}getToastMessage(){return this.toastMessage()}getPopupInteraction(){return this.popupInteraction()}showToastMessage(e){return Xa(this,null,function*(){this.toastMessage.set(e),yield this.sleep(4e3),this.toastMessage.set("")})}setPopupInteraction(e){this.popupInteraction.set(e)}sleep(e){return Xa(this,null,function*(){return new Promise(t=>setTimeout(t,e))})}};g(Jl,"\u0275fac",function(t){return new(t||Jl)(at(Qu))}),g(Jl,"\u0275prov",Ke({token:Jl,factory:Jl.\u0275fac,providedIn:"root"}));var fr=Jl;var Ql=class Ql{constructor(e){this.http=e}getUser(e){var t="";return e=="Student"?t="/students/getStudent":e=="Teacher"&&(t="/teachers/getTeacher"),this.http.get(Er.BACKEND_API+t)}updateUserProfile(e,t,n=void 0){var i="";t=="Student"?i="/students/updateStudent":t=="Teacher"?i="/teachers/updateTeacher":console.log("Invalid user function");let a=new FormData,o={id:e.id,name:e.name};return n!=null&&(a.append("imagesToUpload",n),o.profileImage=n.name),a.append("userData",JSON.stringify(o)),this.http.post(Er.BACKEND_API+i,a)}getTemplateCourses(){return this.http.get(Er.BACKEND_API+"/courses/getTemplateCourses")}getStudentCourse(e){let t={courseId:e};return this.http.post(Er.BACKEND_API+"/courses/getStudentCourse",t)}getUserCourses(){return this.http.get(Er.BACKEND_API+"/courses/getUserCourses")}createOrUpdateCourse(e){let t=new FormData;if(e.images!=null)for(let i=0;i<e.images.length;i++)e.images[i].file!=null&&(t.append("imagesToUpload",e.images[i].file),e.images[i].file=void 0);var n=JSON.parse(JSON.stringify(e));if(n.images!=null)for(let i=0;i<n.images.length;i++)n.images[i].url=void 0;for(let i=0;i<n.sections.length;i++)for(let a=0;a<n.sections[i].blocks.length;a++)n.sections[i].blocks[a].image64!=null&&(n.sections[i].blocks[a].image64=void 0);if(n.previewImage64=void 0,e.images!=null)for(let i=0;i<e.images.length;i++)e.images[i].deleted&&e.images.splice(i,1);return t.append("course",JSON.stringify(n)),this.http.post(Er.BACKEND_API+"/courses/createOrUpdateCourse",t)}deleteCourse(e,t){let n={courseId:e,imagesToDelete:t};return this.http.post(Er.BACKEND_API+"/courses/deleteCourse",n)}};g(Ql,"\u0275fac",function(t){return new(t||Ql)(at(oa))}),g(Ql,"\u0275prov",Ke({token:Ql,factory:Ql.\u0275fac,providedIn:"root"}));var Hs=Ql;var eu=class eu{constructor(e){this.databaseService=e;g(this,"_userData",gt({id:void 0,name:void 0,profileImage:void 0,isPremium:void 0,subscriptionId:void 0}))}get userData(){return this._userData}getUserFromDB(){this.databaseService.getUser(this.userFunction).subscribe(e=>{e.user&&(e.user.numberOfCourses===void 0&&(e.user.numberOfCourses=0),e.user.AIAssistantRequests===void 0&&(e.user.AIAssistantRequests=0),e.user.isPremium===void 0&&(e.user.isPremium=!1),e.user.subscriptionId===void 0&&(e.user.subscriptionId=""),this._userData.update(t=>e.user))})}updateUserProfile(e,t=void 0){this.databaseService.updateUserProfile(e,this.userFunction,t).subscribe(n=>{this._userData=n.user})}};g(eu,"\u0275fac",function(t){return new(t||eu)(at(Hs))}),g(eu,"\u0275prov",Ke({token:eu,factory:eu.\u0275fac,providedIn:"root"}));var Fp=eu;var tu=class tu extends Fp{constructor(t){super(t);g(this,"userFunction","Teacher")}};g(tu,"\u0275fac",function(n){return new(n||tu)(at(Hs))}),g(tu,"\u0275prov",Ke({token:tu,factory:tu.\u0275fac,providedIn:"root"}));var da=tu;var ru=class ru{constructor(e,t,n){this.dbService=e;this.screenService=t;this.teachersService=n;g(this,"exercises",[]);g(this,"publicExercises",[{id:"6819e9e612cab378017853e6",authorName:"Lab4Teachers Team",isPublic:!0,title:"Introduction to Lab4Teachers",description:"A beginner-friendly course designed for teachers and educators to learn how to effectively use the Lab4Teachers application. This course will guide you through creating and managing educational content, using various features of the platform, and understanding how to best utilize the tools available for teaching.",sections:[{title:"Getting Started with Lab4Teachers",blocks:[{content:"Welcome to Lab4Teachers! This platform is designed to assist educators in creating, managing, and delivering a wide range of educational content. In this section, we will cover the basics of setting up your account and navigating the main interface."}],expanded:!1,id:"6819e635c6d10fb0fb77b2eb"},{title:"Creating and Managing Courses",blocks:[{content:"In Lab4Teachers, you can create a new course by navigating to the 'My Courses' section and selecting '+' (Create Course). Enter the course title, the description (and an image if you want), and start adding sections to organize your content."},{question:{question:"Which section do you go to create a new course?",answers:[{text:"Settings",isCorrect:!1},{text:"Users",isCorrect:!1},{text:"My Courses",isCorrect:!0}]}}],expanded:!1,id:"6819e635c6d10fb0fb77b2ec"},{title:"Adding Content Blocks",blocks:[{content:"You can enhance your courses by adding different types of content blocks such as text, images, questions and even graphs in your sections. Each block can be edited to suit your needs. For instance, to add text, simply select 'New Block' and choose 'Text'."},{question:{question:"What is the first step to add a new content block?",answers:[{text:"Choose 'New Block'",isCorrect:!0},{text:"Click 'Save'",isCorrect:!1},{text:"Log out",isCorrect:!1}]}}],expanded:!1,id:"6819e635c6d10fb0fb77b2ed"},{title:"Creating questions",blocks:[{content:"Add a question block (?) to create a new question in your content. Add and modify answers, and select the correct onces. You can then see the correct answers when pressing the 'lightbulb' icon at the top of the page (correction mode)."},{question:{question:"Can you have multiple correct answers in a question ?",answers:[{text:"Yes",isCorrect:!0},{text:"No",isCorrect:!1},{text:"Of course !",isCorrect:!0}]}}],expanded:!1,id:"6819e635c6d10fb0fb77b2ee"},{title:"Using LaTeX",blocks:[{content:"For mathematical content, you can use LaTeX format. Simply enclose your mathematical expressions within dollar signs. For example, the equation of a line can be expressed as 'dollar sign'y = mx + b'dollar sign' ($y = mx + b$). Additionally, create graphs by entering relevant data points."},{question:{question:"How do you format mathematical equations in Lab4Teachers?",answers:[{text:"Using dollar signs ('dollar sign'...'dollar sign')",isCorrect:!0},{text:"With hashtags (#...#)",isCorrect:!1},{text:"Using exclamation marks (!...!)",isCorrect:!1}]}}],expanded:!1,id:"6819e635c6d10fb0fb77b2ef"},{title:"Using the Graphics tool",blocks:[{content:"The graphics tool helps you manage graphics inside your courses. Add a new graphic block and press edit to get started. You can add up to 3 equations and customize the plotting range. You use labels if needed, otherwise, the equation will show as label with the correct color."},{graph:{id:"graphic",xMin:-1,xMax:1,nbrOfPoints:200,mathExpressions:[{label:"_eq1",expression:"x*sin(5x)"},{label:"_eq2",expression:"x^4 -0.5"}]}},{question:{question:"What's the maximum number of equations that you can plot in a single graphics ?",answers:[{text:"2",isCorrect:!1},{text:"4",isCorrect:!1},{text:"3",isCorrect:!0}]}}],expanded:!1,id:"6819e635c6d10fb0fb77b2f0"},{title:"Saving and Resuming Work",blocks:[{content:"The 'Save & come back later' feature allows educators to save their progress and return at a later time. Make sure to click the 'Save' button frequently to avoid losing any work."},{question:{question:"What should you do to avoid losing your progress?",answers:[{text:"Click 'Save'",isCorrect:!0},{text:"Close the application",isCorrect:!1},{text:"Log out",isCorrect:!1}]}}],expanded:!1,id:"6819e635c6d10fb0fb77b2f1"},{title:"Generating Courses, Quizzes and Exams",blocks:[{content:"Use the AI assistant to generate courses, quizzes, theoretical questions, or complete exams. The AI will provide suggested answers and explanations, which can be customized further. If the nature of the content is scientific, it will generate adapted material (latex-style equations, graphics,...). Of course you can modify any part of it at any time."},{question:{question:"Which tool can you use to help in creating quizzes?",answers:[{text:"Image tool",isCorrect:!1},{text:"AI assistant",isCorrect:!0},{text:"Settings feature",isCorrect:!1}]}}],expanded:!1,id:"6819e635c6d10fb0fb77b2f2"},{title:"Uploading and Organizing Images",blocks:[{content:"Lab4Teachers allows you to upload and organize images. You can easily find and insert images into your content blocks for enhanced teaching materials. Here is an example :"},{content:`Robert Hooke was a renowned English polymath, active as a physicist, astronomer, geologist, and architect. Born on July 18, 1635, he made significant contributions to various fields, including the discovery of cells and Hooke's law of elasticity. Hooke's work in microscopy led to the publication of his book "Micrographia" in 1665, which encouraged further microscopic investigations. He is also credited with inventing the balance spring, a crucial component in portable timepieces.`,image:"physics-template-img.jpg"},{question:{question:"Can you mix text and images in a block ?",answers:[{text:"No",isCorrect:!1},{text:"Yes",isCorrect:!0}]}}],expanded:!1,id:"6819e635c6d10fb0fb77b2f3"},{title:"Previewing and Exporting Content",blocks:[{content:"Before finalizing any course material, use the preview feature to see how your content will look when exported. You can export your content as structured PDFs, making it easy to share with your students."},{question:{question:"What format can you export your course content to?",answers:[{text:"PDF",isCorrect:!0},{text:"Word Document",isCorrect:!1},{text:"Excel Sheet",isCorrect:!1}]}}],expanded:!1,id:"6819e635c6d10fb0fb77b2f4"},{title:"Collaboration and Reuse",blocks:[{content:"Lab4Teachers supports collaboration by allowing you to duplicate, adapt, or remix course materials. This feature makes it easy to share resources with fellow educators and create customized content."},{question:{question:"What can you do with course materials for collaboration?",answers:[{text:"Duplicate and adapt",isCorrect:!0},{text:"Delete permanently",isCorrect:!1},{text:"Only view",isCorrect:!1}]}}],expanded:!1,id:"6819e635c6d10fb0fb77b2f5"},{title:"Use Cases for Lab4Teachers",blocks:[{content:"The Lab4Teachers application is versatile and can be used for various scenarios such as preparing for classroom lessons, creating online learning materials, or generating printed exams. Understanding these use cases will help enhance your teaching strategies."}],expanded:!1,id:"6819e635c6d10fb0fb77b2f6"}],images:[{name:"physics-template-img.jpg",url:"physics-template-img.jpg"},{name:"logo-blue.png",url:"logo-blue.png"}],previewImage:"logo-blue.png"},{id:"68193c45c47fb1eb4d06579c",title:"Second Order Equations Exam",authorName:"Lab4Teachers Team",isPublic:!0,description:"This exam covers the properties and solutions of second order equations. It includes theoretical questions and practical problems related to the topic.",sections:[{title:"Theory of Second Order Equations",blocks:[{content:"A second order equation can be represented in the form $ax^2 + bx + c = 0$, where $a$, $b$, and $c$ are constants, and $a \\neq 0$. The general solution can be found using the quadratic formula, $x = \\frac{-b \\pm \\sqrt{b^2 - 4ac}}{2a}$. The value of the discriminant $D = b^2 - 4ac$ determines the nature of the roots."},{question:{question:"What is the general solution for the equation $3x^2 + 6x + 2 = 0$?",answers:[{text:"$-1 \\pm \\frac{\\sqrt{3}}{3}$",isCorrect:!0},{text:"$-\\frac{2}{3}$",isCorrect:!1},{text:"$-1 \\pm \\sqrt{3}$",isCorrect:!1}]}}],expanded:!1,id:"68193c45c47fb1eb4d06579d"},{title:"Solving Quadratic Equations",blocks:[{content:"To solve a quadratic equation, you can either factor it, if possible, or apply the quadratic formula. Factoring is most effective when the coefficients are integers. Otherwise, the quadratic formula is the most reliable method."},{question:{question:"What method is most reliable for solving $x^2 - 4x + 4 = 0$?",answers:[{text:"Factoring",isCorrect:!1},{text:"Quadratic formula",isCorrect:!0},{text:"Completing the square",isCorrect:!1}]}}],expanded:!1,id:"68193c45c47fb1eb4d06579e"},{title:"Applications of Second Order Equations",blocks:[{content:"Second order equations model numerous real-world phenomena, including projectile motion and electrical circuits. Understanding their solutions is crucial for predicting behaviors in these areas. The solutions help determine maximum and minimum values or the points of intersection with the x-axis."},{question:{question:"Which of the following equations represents the height of a projectile with respect to time?",answers:[{text:"$h(t) = -16t^2 + 32t + 48$",isCorrect:!0},{text:"$h(t) = 16t + 32$",isCorrect:!1},{text:"$h(t) = 4t^2 - 8t + 3$",isCorrect:!1}]}}],expanded:!1,id:"68193c45c47fb1eb4d06579f"},{title:"Graphing Quadratic Functions",blocks:[{content:"The graph of a quadratic function is a parabola. If the coefficient of $x^2$ is positive, the parabola opens upwards, while if it is negative, it opens downwards. The vertex of the parabola represents the maximum or minimum point of the function."},{question:{question:"What shape does the graph of $-2x^2 + 4x - 1$ take?",answers:[{text:"Opens upwards",isCorrect:!1},{text:"Opens downwards",isCorrect:!0},{text:"Is linear",isCorrect:!1}]}},{graph:{id:"graphs",xMin:-5,xMax:5,nbrOfPoints:200,mathExpressions:[{label:"_eq1",expression:"-2x^2+4x-1"}]}}],expanded:!1,id:"68193c45c47fb1eb4d0657a0"},{title:"Discriminant Analysis",blocks:[{content:"The discriminant $D = b^2 - 4ac$ of a quadratic equation determines the nature of the roots. If $D > 0$, there are two distinct real roots; if $D = 0$, there is exactly one real root (double root); and if $D < 0$, there are two complex roots."},{question:{question:"If the discriminant of $x^2 + 4x + 5$ is calculated, what will be its sign?",answers:[{text:"$D < 0$",isCorrect:!0},{text:"$D = 0$",isCorrect:!1},{text:"$D > 0$",isCorrect:!1}]}}],expanded:!1,id:"68193c45c47fb1eb4d0657a1"},{title:"Vertex Form of Quadratic Functions",blocks:[{content:"The vertex form of a quadratic function is $y = a(x-h)^2 + k$, where $(h, k)$ is the vertex of the parabola. This form is useful for graphing because it directly provides the vertex, making it easier to identify the maximum or minimum point."},{question:{question:"What is the vertex of the function $y = 2(x - 3)^2 - 5$?",answers:[{text:"(3, -5)",isCorrect:!0},{text:"(3, 5)",isCorrect:!1},{text:"(0, -5)",isCorrect:!1}]}}],expanded:!1,id:"68193c45c47fb1eb4d0657a2"}],images:[]}]);g(this,"currentExerciseId");g(this,"currentExercise",gt(void 0))}getTemplateCoursesFromDB(){this.dbService.getTemplateCourses().subscribe(e=>{try{Array.isArray(e.templateCourses)&&e.templateCourses.forEach(t=>this.publicExercises.push(t))}catch(t){console.error("Invalid JSON string:",t)}})}getUserCoursesFromDB(){this.dbService.getUserCourses().subscribe(e=>{try{Array.isArray(e.courses)&&e.courses.forEach(t=>{this.exercises.push(t)})}catch(t){console.error("Invalid JSON string:",t)}})}getStudentCourseFromDB(e){this.dbService.getStudentCourse(e).subscribe(t=>{try{t.studentCourse?this.exercises.push(t.studentCourse):console.error("No course found with the given ID")}catch(n){console.error("Invalid JSON string:",n)}})}addExercise(){var e={id:"",authorName:this.teachersService.userData().name,isPublic:!1,title:"New Course",description:"",previewImage:void 0,sections:[],images:[]};this.createOrUpdateCourseInDB(e)}createOrUpdateCourseInDB(e=void 0){var t;e?t=e:t=this.getCurrentExercise()(),this.dbService.createOrUpdateCourse(t).subscribe(n=>{n.creation?(this.exercises.unshift(n.course),this.teachersService.userData().numberOfCourses!=null?this.teachersService.userData().numberOfCourses++:this.teachersService.userData().numberOfCourses=1,this.setCurrentExerciseId(n.course.id,!1)):this.screenService.showToastMessage("Course updated successfully")})}getExercises(){return this.exercises}getPublicExercises(){return this.publicExercises}updateCurrentExercise(e){this.currentExercise.update(t=>t&&t.id===e.id?e:t)}setCurrentExerciseId(e,t,n=!1){this.currentExerciseId=e,e&&!t||e&&n?this.currentExercise.set(this.exercises.find(i=>i.id===e)):e&&t?this.currentExercise.set(this.publicExercises.find(i=>i.id===e)):this.currentExercise.set(void 0)}clearCurrentExerciseId(){this.currentExerciseId=void 0}getCurrentExercise(){return this.currentExercise}getCurrentExerciseId(){return this.currentExerciseId}deleteCurrentExercise(){let e=this.currentExercise().images,t=this.currentExercise().id,n=this.exercises.findIndex(i=>i.id===t);this.dbService.deleteCourse(t,e).subscribe(i=>{this.exercises.splice(n,1)})}exerciseFromJson(e){var t=-1;this.currentExerciseId!==void 0&&(t=this.exercises.findIndex(i=>i.id===this.currentExerciseId));try{var n=JSON.parse(e);return n.id="",n.authorName=this.teachersService.userData().name,n.images===void 0&&(n.images=[]),t===-1?(this.exercises.unshift(n),this.createOrUpdateCourseInDB(n),n):(this.exercises[t]=n,n)}catch(i){console.error("Invalid JSON string:",i)}}clearExercisesData(){this.clearCurrentExerciseId(),this.exercises.splice(0,this.exercises.length-1),this.publicExercises.splice(2,this.publicExercises.length-1),this.currentExercise.set(void 0)}getSection(e){return this.getCurrentExercise()().sections[e]}updateLocalSection(e,t){this.getCurrentExercise().update(n=>(n&&(n.sections[e]=t),n))}editGraph(e,t,n){this.getCurrentExercise()().sections[e].blocks[t].graph=n}addImageToCourseImages(e,t){var n={name:e.name,file:e};if(t){let i=this.getCurrentExercise()().images.findIndex(a=>a.name===t);i!==-1&&(this.getCurrentExercise()().images[i].deleted=!0)}this.getCurrentExercise()().images.push(n)}getImage(e,t=void 0){var n;if(t===void 0?n=this.getCurrentExercise()().images.find(i=>i.name===e):n=t.images.find(i=>i.name===e),n&&n.url)return n.url}deleteCourseImage(e){let t=this.getCurrentExercise()().images.findIndex(n=>n.name===e);t!==-1&&(this.getCurrentExercise()().images[t].deleted=!0)}createSection(){this.getCurrentExercise().update(e=>(e&&e.sections.push({id:Date.now().toString(),title:"",blocks:[],expanded:!0,sectionPublished:!1,correctionPublished:!1}),e))}deleteSection(e){let t=this.getCurrentExercise()().sections[e];for(let n=0;n<t.blocks.length;n++)t.blocks[n].image&&this.deleteCourseImage(t.blocks[n].image);this.getCurrentExercise()().sections.splice(e,1)}};g(ru,"\u0275fac",function(t){return new(t||ru)(at(Hs),at(fr),at(da))}),g(ru,"\u0275prov",Ke({token:ru,factory:ru.\u0275fac,providedIn:"root"}));var gn=ru;var nu=class nu{constructor(e,t,n,i,a){this.http=e;this.screenService=t;this.exercisesService=n;this.teacherService=i;this.route=a;g(this,"token",null);g(this,"tokenTimerId");g(this,"beforeTimeOutId");g(this,"isAuthentificated",gt(!1));g(this,"isJustCreated",!1);g(this,"userId","");g(this,"userFunction","");g(this,"email","");g(this,"resetPswToken",null);g(this,"studentCourseId",null)}getToken(){return this.token}getIsAuthentificated(){return this.isAuthentificated}getUserId(){return this.userId}getUserFunction(){return this.userFunction}getUserEmail(){return this.email}getIsJustCreated(){return this.isJustCreated}createUser(e,t,n){let i={email:e,password:t,userFunction:n};this.http.post(Er.BACKEND_API+"/auth/signup",i).subscribe(()=>{this.login(e,t,!0)})}login(e,t,n=!1){this.isJustCreated=n;let i={email:e,password:t};try{this.http.post(Er.BACKEND_API+"/auth/login",i).subscribe(a=>{let o=a.token;if(this.token=o,this.email=e,o!=null){let s=a.expiresIn;this.setAuthTimer(s),this.isAuthentificated.set(!0),this.userId=a.userId,this.userFunction=a.userFunction;let l=new Date,u=new Date(l.getTime()+s*1e3);this.saveAuthData(o,u,this.userId,this.userFunction,e),this.screenService.changeAuthMode(""),this.userFunction=="Teacher"?this.teacherService.getUserFromDB():this.userFunction=="Student",this.exercisesService.getUserCoursesFromDB(),this.screenService.changePage("dashboard"),this.screenService.changeSelectedWidgets([1])}else this.screenService.showToastMessage("Login failed. Please check your credentials.")})}catch(a){console.log(a)}}verifyEmail(e){this.http.post(Er.BACKEND_API+"/auth/verify-email",{email:e}).subscribe(t=>Xa(this,null,function*(){this.logout(),yield this.screenService.showToastMessage("A secured link has been sent to your email to reset your password.")}))}resetPassword(e){if(this.resetPswToken!=null){let t={newPassword:e,resetPswToken:this.resetPswToken};this.http.post(Er.BACKEND_API+"/auth/reset-password",t).subscribe(n=>Xa(this,null,function*(){this.logout(),yield this.screenService.showToastMessage("Your password has been updated!")}))}else this.screenService.showToastMessage("You don't have a valid reset password token.")}fetchUrlParameters(){let e=window.location.href;if(e.includes(Er.STUDENTS_URL)&&(this.userFunction="StudentOffline"),e.includes(Er.TEACHERS_URL)&&(this.userFunction="TeacherOffline"),e.includes("?")){console.log("URL contains query parameters");let n=window.location.hash.split("?")[1],i=new URLSearchParams(n);this.resetPswToken=i.get("resetpswtoken"),this.studentCourseId=i.get("studentcourseid"),console.log("Reset Password Token:",this.resetPswToken),this.studentCourseId!=null&&(this.userFunction="StudentOffline",this.exercisesService.getStudentCourseFromDB(this.studentCourseId)),this.resetPswToken!=null&&this.screenService.changeAuthMode("reset")}}autoAuthUser(){let e=this.getAuthData();if(e!=null&&e.token!=null&&e.userFunction=="Teacher"){let t=new Date,n=e.expirationDate.getTime()-t.getTime();n>0&&(this.token=e.token,this.userId=e.userId,this.userFunction=e.userFunction,this.email=e.email,this.isAuthentificated.set(!0),this.setAuthTimer(n/1e3),this.userFunction=="Teacher"&&this.teacherService.getUserFromDB(),this.exercisesService.getUserCoursesFromDB(),this.screenService.changeSelectedWidgets([1]))}else this.token=null,this.userId="",this.userFunction="",this.isAuthentificated.set(!1),this.email="",this.isJustCreated=!1,this.exercisesService.clearExercisesData(),this.screenService.changeAuthMode(""),this.screenService.changeSelectedWidgets([0]),clearTimeout(this.tokenTimerId),clearTimeout(this.beforeTimeOutId),this.clearAuthData()}logout(e=!1){this.token=null,this.userId="",this.userFunction="",this.isAuthentificated.set(!1),this.email="",this.isJustCreated=!1,this.exercisesService.clearExercisesData(),this.screenService.changeAuthMode(""),this.screenService.changeSelectedWidgets([0]),clearTimeout(this.tokenTimerId),clearTimeout(this.beforeTimeOutId),this.clearAuthData(),e?this.screenService.changePage("login"):window.location.href="/"}setAuthTimer(e){this.tokenTimerId=window.setTimeout(()=>{this.logout()},e*1e3),this.beforeTimeOutId=window.setTimeout(()=>{this.screenService.setPopupInteraction({title:"Session Expiration Warning",content:"Your session will expire in 2 minutes. Please log in again.",action:()=>{this.exercisesService.getCurrentExerciseId()&&this.userFunction=="Teacher"&&this.exercisesService.createOrUpdateCourseInDB(),this.logout(!0)},actionText:this.exercisesService.getCurrentExerciseId()&&this.userFunction=="Teacher"?"Save & log In Again":"Log In Again"})},e*1e3-12e4)}saveAuthData(e,t,n,i,a){(i==="Student"||i==="Teacher")&&(localStorage.setItem("token",e),localStorage.setItem("expiration",t.toISOString()),localStorage.setItem("userId",n),localStorage.setItem("userFunction",i),localStorage.setItem("email",a))}clearAuthData(){localStorage.removeItem("token"),localStorage.removeItem("expiration"),localStorage.removeItem("userId"),localStorage.removeItem("userFunction"),localStorage.removeItem("email")}getAuthData(){let e=localStorage.getItem("token"),t=localStorage.getItem("expiration"),n=localStorage.getItem("userId"),i=localStorage.getItem("userFunction"),a=localStorage.getItem("email");if(!(!e||!t||!n||!i||!a))return{token:e,userId:n,userFunction:i,email:a,expirationDate:new Date(t)}}};g(nu,"\u0275fac",function(t){return new(t||nu)(at(oa),at(fr),at(gn),at(da),at(sa))}),g(nu,"\u0275prov",Ke({token:nu,factory:nu.\u0275fac,providedIn:"root"}));var on=nu;function JM(r,e){let t=Me(on).getToken(),n=r.clone({headers:r.headers.set("Authorization","Bearer "+t)});return e(n)}var QM=(r,e)=>{let t=Me(fr);return r.url.startsWith("/assets/i18n/")?e(r):(t.setSpinnerState(!0),e(r).pipe(Ja(n=>{let i="";return n.error instanceof ErrorEvent?(console.error("An error occured:",n.error.message),i="An error occured:"+n.error.message):(console.error("Backend returned code "+n.status,"Message: "+n.message),i=n.error.message),(i==""||i==null)&&(n.status===404?i="Not found":n.status===500?i="Internal server error":n.status===401?i="Unauthorized":i="An error occurred"),t.showToastMessage(i),t.setSpinnerState(!1),El(()=>i)}),xs(()=>{t.setSpinnerState(!1)})))};var l9=(()=>{let e=class e{constructor(n,i){g(this,"_renderer");g(this,"_elementRef");g(this,"onChange",n=>{});g(this,"onTouched",()=>{});this._renderer=n,this._elementRef=i}setProperty(n,i){this._renderer.setProperty(this._elementRef.nativeElement,n,i)}registerOnTouched(n){this.onTouched=n}registerOnChange(n){this.onChange=n}setDisabledState(n){this.setProperty("disabled",n)}};g(e,"\u0275fac",function(i){return new(i||e)(Xe(Tl),Xe(li))}),g(e,"\u0275dir",Tr({type:e}));let r=e;return r})(),u9=(()=>{let e=class e extends l9{};g(e,"\u0275fac",(()=>{let n;return function(a){return(n||(n=_s(e)))(a||e)}})()),g(e,"\u0275dir",Tr({type:e,features:[Ia]}));let r=e;return r})(),Up=new ht(""),Dre={provide:Up,useExisting:bs(()=>w0),multi:!0},w0=(()=>{let e=class e extends u9{writeValue(n){this.setProperty("checked",n)}};g(e,"\u0275fac",(()=>{let n;return function(a){return(n||(n=_s(e)))(a||e)}})()),g(e,"\u0275dir",Tr({type:e,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function(i,a){i&1&&Ae("change",function(s){return a.onChange(s.target.checked)})("blur",function(){return a.onTouched()})},standalone:!1,features:[na([Dre]),Ia]}));let r=e;return r})(),Cre={provide:Up,useExisting:bs(()=>Ti),multi:!0};function Ere(){let r=aa()?aa().getUserAgent():"";return/android (\d+)/.test(r.toLowerCase())}var Are=new ht(""),Ti=(()=>{let e=class e extends l9{constructor(i,a,o){super(i,a);g(this,"_compositionMode");g(this,"_composing",!1);this._compositionMode=o,this._compositionMode==null&&(this._compositionMode=!Ere())}writeValue(i){let a=i==null?"":i;this.setProperty("value",a)}_handleInput(i){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(i)}_compositionStart(){this._composing=!0}_compositionEnd(i){this._composing=!1,this._compositionMode&&this.onChange(i)}};g(e,"\u0275fac",function(a){return new(a||e)(Xe(Tl),Xe(li),Xe(Are,8))}),g(e,"\u0275dir",Tr({type:e,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(a,o){a&1&&Ae("input",function(l){return o._handleInput(l.target.value)})("blur",function(){return o.onTouched()})("compositionstart",function(){return o._compositionStart()})("compositionend",function(l){return o._compositionEnd(l.target.value)})},standalone:!1,features:[na([Cre]),Ia]}));let r=e;return r})();function ab(r){return r==null||ob(r)===0}function ob(r){return r==null?null:Array.isArray(r)||typeof r=="string"?r.length:r instanceof Set?r.size:null}var qp=new ht(""),sb=new ht(""),Mre=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,Cn=class{static min(e){return Nre(e)}static max(e){return Tre(e)}static required(e){return Fre(e)}static requiredTrue(e){return Ire(e)}static email(e){return Ore(e)}static minLength(e){return Rre(e)}static maxLength(e){return c9(e)}static pattern(e){return kre(e)}static nullValidator(e){return Op()}static compose(e){return g9(e)}static composeAsync(e){return x9(e)}};function Nre(r){return e=>{if(e.value==null||r==null)return null;let t=parseFloat(e.value);return!isNaN(t)&&t<r?{min:{min:r,actual:e.value}}:null}}function Tre(r){return e=>{if(e.value==null||r==null)return null;let t=parseFloat(e.value);return!isNaN(t)&&t>r?{max:{max:r,actual:e.value}}:null}}function Fre(r){return ab(r.value)?{required:!0}:null}function Ire(r){return r.value===!0?null:{required:!0}}function Ore(r){return ab(r.value)||Mre.test(r.value)?null:{email:!0}}function Rre(r){return e=>{var n,i;let t=(i=(n=e.value)==null?void 0:n.length)!=null?i:ob(e.value);return t===null||t===0?null:t<r?{minlength:{requiredLength:r,actualLength:t}}:null}}function c9(r){return e=>{var n,i;let t=(i=(n=e.value)==null?void 0:n.length)!=null?i:ob(e.value);return t!==null&&t>r?{maxlength:{requiredLength:r,actualLength:t}}:null}}function kre(r){if(!r)return Op;let e,t;return typeof r=="string"?(t="",r.charAt(0)!=="^"&&(t+="^"),t+=r,r.charAt(r.length-1)!=="$"&&(t+="$"),e=new RegExp(t)):(t=r.toString(),e=r),n=>{if(ab(n.value))return null;let i=n.value;return e.test(i)?null:{pattern:{requiredPattern:t,actualValue:i}}}}function Op(r){return null}function d9(r){return r!=null}function f9(r){return Um(r)?wn(r):r}function m9(r){let e={};return r.forEach(t=>{e=t!=null?Ge(Ge({},e),t):e}),Object.keys(e).length===0?null:e}function h9(r,e){return e.map(t=>t(r))}function Pre(r){return!r.validate}function p9(r){return r.map(e=>Pre(e)?e:t=>e.validate(t))}function g9(r){if(!r)return null;let e=r.filter(d9);return e.length==0?null:function(t){return m9(h9(t,e))}}function v9(r){return r!=null?g9(p9(r)):null}function x9(r){if(!r)return null;let e=r.filter(d9);return e.length==0?null:function(t){let n=h9(t,e).map(f9);return rf(n).pipe(Ht(m9))}}function y9(r){return r!=null?x9(p9(r)):null}function e9(r,e){return r===null?[e]:Array.isArray(r)?[...r,e]:[r,e]}function b9(r){return r._rawValidators}function w9(r){return r._rawAsyncValidators}function Qy(r){return r?Array.isArray(r)?r:[r]:[]}function Rp(r,e){return Array.isArray(r)?r.includes(e):r===e}function t9(r,e){let t=Qy(e);return Qy(r).forEach(i=>{Rp(t,i)||t.push(i)}),t}function r9(r,e){return Qy(e).filter(t=>!Rp(r,t))}var kp=class{constructor(){g(this,"_composedValidatorFn");g(this,"_composedAsyncValidatorFn");g(this,"_rawValidators",[]);g(this,"_rawAsyncValidators",[]);g(this,"_onDestroyCallbacks",[])}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=v9(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=y9(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,t){return this.control?this.control.hasError(e,t):!1}getError(e,t){return this.control?this.control.getError(e,t):null}},iu=class extends kp{constructor(){super(...arguments);g(this,"name")}get formDirective(){return null}get path(){return null}},au=class extends kp{constructor(){super(...arguments);g(this,"_parent",null);g(this,"name",null);g(this,"valueAccessor",null)}},Pp=class{constructor(e){g(this,"_cd");this._cd=e}get isTouched(){var e,t,n,i,a;return(n=(t=(e=this._cd)==null?void 0:e.control)==null?void 0:t._touched)==null||n.call(t),!!((a=(i=this._cd)==null?void 0:i.control)!=null&&a.touched)}get isUntouched(){var e,t;return!!((t=(e=this._cd)==null?void 0:e.control)!=null&&t.untouched)}get isPristine(){var e,t,n,i,a;return(n=(t=(e=this._cd)==null?void 0:e.control)==null?void 0:t._pristine)==null||n.call(t),!!((a=(i=this._cd)==null?void 0:i.control)!=null&&a.pristine)}get isDirty(){var e,t;return!!((t=(e=this._cd)==null?void 0:e.control)!=null&&t.dirty)}get isValid(){var e,t,n,i,a;return(n=(t=(e=this._cd)==null?void 0:e.control)==null?void 0:t._status)==null||n.call(t),!!((a=(i=this._cd)==null?void 0:i.control)!=null&&a.valid)}get isInvalid(){var e,t;return!!((t=(e=this._cd)==null?void 0:e.control)!=null&&t.invalid)}get isPending(){var e,t;return!!((t=(e=this._cd)==null?void 0:e.control)!=null&&t.pending)}get isSubmitted(){var e,t,n;return(t=(e=this._cd)==null?void 0:e._submitted)==null||t.call(e),!!((n=this._cd)!=null&&n.submitted)}},Bre={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},hDe=Kt(Ge({},Bre),{"[class.ng-submitted]":"isSubmitted"}),fa=(()=>{let e=class e extends Pp{constructor(n){super(n)}};g(e,"\u0275fac",function(i){return new(i||e)(Xe(au,2))}),g(e,"\u0275dir",Tr({type:e,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(i,a){i&2&&Fl("ng-untouched",a.isUntouched)("ng-touched",a.isTouched)("ng-pristine",a.isPristine)("ng-dirty",a.isDirty)("ng-valid",a.isValid)("ng-invalid",a.isInvalid)("ng-pending",a.isPending)},standalone:!1,features:[Ia]}));let r=e;return r})(),_9=(()=>{let e=class e extends Pp{constructor(n){super(n)}};g(e,"\u0275fac",function(i){return new(i||e)(Xe(iu,10))}),g(e,"\u0275dir",Tr({type:e,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(i,a){i&2&&Fl("ng-untouched",a.isUntouched)("ng-touched",a.isTouched)("ng-pristine",a.isPristine)("ng-dirty",a.isDirty)("ng-valid",a.isValid)("ng-invalid",a.isInvalid)("ng-pending",a.isPending)("ng-submitted",a.isSubmitted)},standalone:!1,features:[Ia]}));let r=e;return r})();var g0="VALID",Ip="INVALID",Ec="PENDING",v0="DISABLED",Ws=class{},Bp=class extends Ws{constructor(t,n){super();g(this,"value");g(this,"source");this.value=t,this.source=n}},x0=class extends Ws{constructor(t,n){super();g(this,"pristine");g(this,"source");this.pristine=t,this.source=n}},y0=class extends Ws{constructor(t,n){super();g(this,"touched");g(this,"source");this.touched=t,this.source=n}},Ac=class extends Ws{constructor(t,n){super();g(this,"status");g(this,"source");this.status=t,this.source=n}},eb=class extends Ws{constructor(t){super();g(this,"source");this.source=t}},tb=class extends Ws{constructor(t){super();g(this,"source");this.source=t}};function lb(r){return(jp(r)?r.validators:r)||null}function Lre(r){return Array.isArray(r)?v9(r):r||null}function ub(r,e){return(jp(e)?e.asyncValidators:r)||null}function zre(r){return Array.isArray(r)?y9(r):r||null}function jp(r){return r!=null&&!Array.isArray(r)&&typeof r=="object"}function S9(r,e,t){let n=r.controls;if(!(e?Object.keys(n):n).length)throw new Zt(1e3,"");if(!n[t])throw new Zt(1001,"")}function D9(r,e,t){r._forEachChild((n,i)=>{if(t[i]===void 0)throw new Zt(1002,"")})}var Mc=class{constructor(e,t){g(this,"_pendingDirty",!1);g(this,"_hasOwnPendingAsyncValidator",null);g(this,"_pendingTouched",!1);g(this,"_onCollectionChange",()=>{});g(this,"_updateOn");g(this,"_parent",null);g(this,"_asyncValidationSubscription");g(this,"_composedValidatorFn");g(this,"_composedAsyncValidatorFn");g(this,"_rawValidators");g(this,"_rawAsyncValidators");g(this,"value");g(this,"_status",Il(()=>this.statusReactive()));g(this,"statusReactive",gt(void 0));g(this,"errors");g(this,"_pristine",Il(()=>this.pristineReactive()));g(this,"pristineReactive",gt(!0));g(this,"_touched",Il(()=>this.touchedReactive()));g(this,"touchedReactive",gt(!1));g(this,"_events",new Gt);g(this,"events",this._events.asObservable());g(this,"valueChanges");g(this,"statusChanges");g(this,"_onDisabledChange",[]);this._assignValidators(e),this._assignAsyncValidators(t)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get status(){return Bo(this.statusReactive)}set status(e){Bo(()=>this.statusReactive.set(e))}get valid(){return this.status===g0}get invalid(){return this.status===Ip}get pending(){return this.status==Ec}get disabled(){return this.status===v0}get enabled(){return this.status!==v0}get pristine(){return Bo(this.pristineReactive)}set pristine(e){Bo(()=>this.pristineReactive.set(e))}get dirty(){return!this.pristine}get touched(){return Bo(this.touchedReactive)}set touched(e){Bo(()=>this.touchedReactive.set(e))}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(t9(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(t9(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(r9(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(r9(e,this._rawAsyncValidators))}hasValidator(e){return Rp(this._rawValidators,e)}hasAsyncValidator(e){return Rp(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){var i;let t=this.touched===!1;this.touched=!0;let n=(i=e.sourceControl)!=null?i:this;this._parent&&!e.onlySelf&&this._parent.markAsTouched(Kt(Ge({},e),{sourceControl:n})),t&&e.emitEvent!==!1&&this._events.next(new y0(!0,n))}markAllAsTouched(e={}){this.markAsTouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:this}),this._forEachChild(t=>t.markAllAsTouched(e))}markAsUntouched(e={}){var i;let t=this.touched===!0;this.touched=!1,this._pendingTouched=!1;let n=(i=e.sourceControl)!=null?i:this;this._forEachChild(a=>{a.markAsUntouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:n})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,n),t&&e.emitEvent!==!1&&this._events.next(new y0(!1,n))}markAsDirty(e={}){var i;let t=this.pristine===!0;this.pristine=!1;let n=(i=e.sourceControl)!=null?i:this;this._parent&&!e.onlySelf&&this._parent.markAsDirty(Kt(Ge({},e),{sourceControl:n})),t&&e.emitEvent!==!1&&this._events.next(new x0(!1,n))}markAsPristine(e={}){var i;let t=this.pristine===!1;this.pristine=!0,this._pendingDirty=!1;let n=(i=e.sourceControl)!=null?i:this;this._forEachChild(a=>{a.markAsPristine({onlySelf:!0,emitEvent:e.emitEvent})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e,n),t&&e.emitEvent!==!1&&this._events.next(new x0(!0,n))}markAsPending(e={}){var n;this.status=Ec;let t=(n=e.sourceControl)!=null?n:this;e.emitEvent!==!1&&(this._events.next(new Ac(this.status,t)),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.markAsPending(Kt(Ge({},e),{sourceControl:t}))}disable(e={}){var i;let t=this._parentMarkedDirty(e.onlySelf);this.status=v0,this.errors=null,this._forEachChild(a=>{a.disable(Kt(Ge({},e),{onlySelf:!0}))}),this._updateValue();let n=(i=e.sourceControl)!=null?i:this;e.emitEvent!==!1&&(this._events.next(new Bp(this.value,n)),this._events.next(new Ac(this.status,n)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Kt(Ge({},e),{skipPristineCheck:t}),this),this._onDisabledChange.forEach(a=>a(!0))}enable(e={}){let t=this._parentMarkedDirty(e.onlySelf);this.status=g0,this._forEachChild(n=>{n.enable(Kt(Ge({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(Kt(Ge({},e),{skipPristineCheck:t}),this),this._onDisabledChange.forEach(n=>n(!1))}_updateAncestors(e,t){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine({},t),this._parent._updateTouched({},t))}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){var n;if(this._setInitialStatus(),this._updateValue(),this.enabled){let i=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===g0||this.status===Ec)&&this._runAsyncValidator(i,e.emitEvent)}let t=(n=e.sourceControl)!=null?n:this;e.emitEvent!==!1&&(this._events.next(new Bp(this.value,t)),this._events.next(new Ac(this.status,t)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(Kt(Ge({},e),{sourceControl:t}))}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?v0:g0}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e,t){if(this.asyncValidator){this.status=Ec,this._hasOwnPendingAsyncValidator={emitEvent:t!==!1};let n=f9(this.asyncValidator(this));this._asyncValidationSubscription=n.subscribe(i=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(i,{emitEvent:t,shouldHaveEmitted:e})})}}_cancelExistingSubscription(){var e,t;if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();let n=(t=(e=this._hasOwnPendingAsyncValidator)==null?void 0:e.emitEvent)!=null?t:!1;return this._hasOwnPendingAsyncValidator=null,n}return!1}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(t.emitEvent!==!1,this,t.shouldHaveEmitted)}get(e){let t=e;return t==null||(Array.isArray(t)||(t=t.split(".")),t.length===0)?null:t.reduce((n,i)=>n&&n._find(i),this)}getError(e,t){let n=t?this.get(t):this;return n&&n.errors?n.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e,t,n){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),(e||n)&&this._events.next(new Ac(this.status,t)),this._parent&&this._parent._updateControlsErrors(e,t,n)}_initObservables(){this.valueChanges=new or,this.statusChanges=new or}_calculateStatus(){return this._allControlsDisabled()?v0:this.errors?Ip:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Ec)?Ec:this._anyControlsHaveStatus(Ip)?Ip:g0}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e,t){let n=!this._anyControlsDirty(),i=this.pristine!==n;this.pristine=n,this._parent&&!e.onlySelf&&this._parent._updatePristine(e,t),i&&this._events.next(new x0(this.pristine,t))}_updateTouched(e={},t){this.touched=this._anyControlsTouched(),this._events.next(new y0(this.touched,t)),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,t)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){jp(e)&&e.updateOn!=null&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){let t=this._parent&&this._parent.dirty;return!e&&!!t&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=Lre(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=zre(this._rawAsyncValidators)}},Lp=class extends Mc{constructor(t,n,i){super(lb(n),ub(i,n));g(this,"controls");this.controls=t,this._initObservables(),this._setUpdateStrategy(n),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(t,n){return this.controls[t]?this.controls[t]:(this.controls[t]=n,n.setParent(this),n._registerOnCollectionChange(this._onCollectionChange),n)}addControl(t,n,i={}){this.registerControl(t,n),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}removeControl(t,n={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}setControl(t,n,i={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],n&&this.registerControl(t,n),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}contains(t){return this.controls.hasOwnProperty(t)&&this.controls[t].enabled}setValue(t,n={}){D9(this,!0,t),Object.keys(t).forEach(i=>{S9(this,!0,i),this.controls[i].setValue(t[i],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}patchValue(t,n={}){t!=null&&(Object.keys(t).forEach(i=>{let a=this.controls[i];a&&a.patchValue(t[i],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}reset(t={},n={}){this._forEachChild((i,a)=>{i.reset(t?t[a]:null,{onlySelf:!0,emitEvent:n.emitEvent})}),this._updatePristine(n,this),this._updateTouched(n,this),this.updateValueAndValidity(n)}getRawValue(){return this._reduceChildren({},(t,n,i)=>(t[i]=n.getRawValue(),t))}_syncPendingControls(){let t=this._reduceChildren(!1,(n,i)=>i._syncPendingControls()?!0:n);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_forEachChild(t){Object.keys(this.controls).forEach(n=>{let i=this.controls[n];i&&t(i,n)})}_setUpControls(){this._forEachChild(t=>{t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(t){for(let[n,i]of Object.entries(this.controls))if(this.contains(n)&&t(i))return!0;return!1}_reduceValue(){let t={};return this._reduceChildren(t,(n,i,a)=>((i.enabled||this.disabled)&&(n[a]=i.value),n))}_reduceChildren(t,n){let i=t;return this._forEachChild((a,o)=>{i=n(i,a,o)}),i}_allControlsDisabled(){for(let t of Object.keys(this.controls))if(this.controls[t].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(t){return this.controls.hasOwnProperty(t)?this.controls[t]:null}};var rb=class extends Lp{};var $p=new ht("",{providedIn:"root",factory:()=>Hp}),Hp="always";function C9(r,e){return[...e.path,r]}function nb(r,e,t=Hp){var n,i;cb(r,e),e.valueAccessor.writeValue(r.value),(r.disabled||t==="always")&&((i=(n=e.valueAccessor).setDisabledState)==null||i.call(n,r.disabled)),Ure(r,e),jre(r,e),qre(r,e),Vre(r,e)}function n9(r,e,t=!0){let n=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(n),e.valueAccessor.registerOnTouched(n)),Vp(r,e),r&&(e._invokeOnDestroyCallbacks(),r._registerOnCollectionChange(()=>{}))}function zp(r,e){r.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function Vre(r,e){if(e.valueAccessor.setDisabledState){let t=n=>{e.valueAccessor.setDisabledState(n)};r.registerOnDisabledChange(t),e._registerOnDestroy(()=>{r._unregisterOnDisabledChange(t)})}}function cb(r,e){let t=b9(r);e.validator!==null?r.setValidators(e9(t,e.validator)):typeof t=="function"&&r.setValidators([t]);let n=w9(r);e.asyncValidator!==null?r.setAsyncValidators(e9(n,e.asyncValidator)):typeof n=="function"&&r.setAsyncValidators([n]);let i=()=>r.updateValueAndValidity();zp(e._rawValidators,i),zp(e._rawAsyncValidators,i)}function Vp(r,e){let t=!1;if(r!==null){if(e.validator!==null){let i=b9(r);if(Array.isArray(i)&&i.length>0){let a=i.filter(o=>o!==e.validator);a.length!==i.length&&(t=!0,r.setValidators(a))}}if(e.asyncValidator!==null){let i=w9(r);if(Array.isArray(i)&&i.length>0){let a=i.filter(o=>o!==e.asyncValidator);a.length!==i.length&&(t=!0,r.setAsyncValidators(a))}}}let n=()=>{};return zp(e._rawValidators,n),zp(e._rawAsyncValidators,n),t}function Ure(r,e){e.valueAccessor.registerOnChange(t=>{r._pendingValue=t,r._pendingChange=!0,r._pendingDirty=!0,r.updateOn==="change"&&E9(r,e)})}function qre(r,e){e.valueAccessor.registerOnTouched(()=>{r._pendingTouched=!0,r.updateOn==="blur"&&r._pendingChange&&E9(r,e),r.updateOn!=="submit"&&r.markAsTouched()})}function E9(r,e){r._pendingDirty&&r.markAsDirty(),r.setValue(r._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(r._pendingValue),r._pendingChange=!1}function jre(r,e){let t=(n,i)=>{e.valueAccessor.writeValue(n),i&&e.viewToModelUpdate(n)};r.registerOnChange(t),e._registerOnDestroy(()=>{r._unregisterOnChange(t)})}function $re(r,e){r==null,cb(r,e)}function Hre(r,e){return Vp(r,e)}function A9(r,e){if(!r.hasOwnProperty("model"))return!1;let t=r.model;return t.isFirstChange()?!0:!Object.is(e,t.currentValue)}function Wre(r){return Object.getPrototypeOf(r.constructor)===u9}function Gre(r,e){r._syncPendingControls(),e.forEach(t=>{let n=t.control;n.updateOn==="submit"&&n._pendingChange&&(t.viewToModelUpdate(n._pendingValue),n._pendingChange=!1)})}function M9(r,e){if(!e)return null;Array.isArray(e);let t,n,i;return e.forEach(a=>{a.constructor===Ti?t=a:Wre(a)?n=a:i=a}),i||n||t||null}function Yre(r,e){let t=r.indexOf(e);t>-1&&r.splice(t,1)}function i9(r,e){let t=r.indexOf(e);t>-1&&r.splice(t,1)}function a9(r){return typeof r=="object"&&r!==null&&Object.keys(r).length===2&&"value"in r&&"disabled"in r}var b0=class extends Mc{constructor(t=null,n,i){super(lb(n),ub(i,n));g(this,"defaultValue",null);g(this,"_onChange",[]);g(this,"_pendingValue");g(this,"_pendingChange",!1);this._applyFormState(t),this._setUpdateStrategy(n),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),jp(n)&&(n.nonNullable||n.initialValueIsDefault)&&(a9(t)?this.defaultValue=t.value:this.defaultValue=t)}setValue(t,n={}){this.value=this._pendingValue=t,this._onChange.length&&n.emitModelToViewChange!==!1&&this._onChange.forEach(i=>i(this.value,n.emitViewToModelChange!==!1)),this.updateValueAndValidity(n)}patchValue(t,n={}){this.setValue(t,n)}reset(t=this.defaultValue,n={}){this._applyFormState(t),this.markAsPristine(n),this.markAsUntouched(n),this.setValue(this.value,n),this._pendingChange=!1}_updateValue(){}_anyControls(t){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(t){this._onChange.push(t)}_unregisterOnChange(t){i9(this._onChange,t)}registerOnDisabledChange(t){this._onDisabledChange.push(t)}_unregisterOnDisabledChange(t){i9(this._onDisabledChange,t)}_forEachChild(t){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(t){a9(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t}};var Zre=r=>r instanceof b0;var Xre={provide:au,useExisting:bs(()=>Ba)},o9=Promise.resolve(),Ba=(()=>{let e=class e extends au{constructor(i,a,o,s,l,u){super();g(this,"_changeDetectorRef");g(this,"callSetDisabledState");g(this,"control",new b0);g(this,"_registered",!1);g(this,"viewModel");g(this,"name","");g(this,"isDisabled");g(this,"model");g(this,"options");g(this,"update",new or);this._changeDetectorRef=l,this.callSetDisabledState=u,this._parent=i,this._setValidators(a),this._setAsyncValidators(o),this.valueAccessor=M9(this,s)}ngOnChanges(i){if(this._checkForErrors(),!this._registered||"name"in i){if(this._registered&&(this._checkName(),this.formDirective)){let a=i.name.previousValue;this.formDirective.removeControl({name:a,path:this._getPath(a)})}this._setUpControl()}"isDisabled"in i&&this._updateDisabled(i),A9(i,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(i){this.viewModel=i,this.update.emit(i)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!!(this.options&&this.options.standalone)}_setUpStandalone(){nb(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._checkName()}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),!this._isStandalone()&&this.name}_updateValue(i){o9.then(()=>{var a;this.control.setValue(i,{emitViewToModelChange:!1}),(a=this._changeDetectorRef)==null||a.markForCheck()})}_updateDisabled(i){let a=i.isDisabled.currentValue,o=a!==0&&io(a);o9.then(()=>{var s;o&&!this.control.disabled?this.control.disable():!o&&this.control.disabled&&this.control.enable(),(s=this._changeDetectorRef)==null||s.markForCheck()})}_getPath(i){return this._parent?C9(i,this._parent):[i]}};g(e,"ngAcceptInputType_isDisabled"),g(e,"\u0275fac",function(a){return new(a||e)(Xe(iu,9),Xe(qp,10),Xe(sb,10),Xe(Up,10),Xe(ia,8),Xe($p,8))}),g(e,"\u0275dir",Tr({type:e,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"],options:[0,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],standalone:!1,features:[na([Xre]),Ia,Tn]}));let r=e;return r})();var N9=(()=>{let e=class e{};g(e,"\u0275fac",function(i){return new(i||e)}),g(e,"\u0275dir",Tr({type:e,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""],standalone:!1}));let r=e;return r})();var T9=new ht("");var Kre={provide:iu,useExisting:bs(()=>db)},db=(()=>{let e=class e extends iu{constructor(i,a,o){super();g(this,"callSetDisabledState");g(this,"_submitted",Il(()=>this._submittedReactive()));g(this,"_submittedReactive",gt(!1));g(this,"_oldForm");g(this,"_onCollectionChange",()=>this._updateDomValue());g(this,"directives",[]);g(this,"form",null);g(this,"ngSubmit",new or);this.callSetDisabledState=o,this._setValidators(i),this._setAsyncValidators(a)}get submitted(){return Bo(this._submittedReactive)}set submitted(i){this._submittedReactive.set(i)}ngOnChanges(i){i.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(Vp(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(i){let a=this.form.get(i.path);return nb(a,i,this.callSetDisabledState),a.updateValueAndValidity({emitEvent:!1}),this.directives.push(i),a}getControl(i){return this.form.get(i.path)}removeControl(i){n9(i.control||null,i,!1),Yre(this.directives,i)}addFormGroup(i){this._setUpFormContainer(i)}removeFormGroup(i){this._cleanUpFormContainer(i)}getFormGroup(i){return this.form.get(i.path)}addFormArray(i){this._setUpFormContainer(i)}removeFormArray(i){this._cleanUpFormContainer(i)}getFormArray(i){return this.form.get(i.path)}updateModel(i,a){this.form.get(i.path).setValue(a)}onSubmit(i){var a;return this._submittedReactive.set(!0),Gre(this.form,this.directives),this.ngSubmit.emit(i),this.form._events.next(new eb(this.control)),((a=i==null?void 0:i.target)==null?void 0:a.method)==="dialog"}onReset(){this.resetForm()}resetForm(i=void 0){this.form.reset(i),this._submittedReactive.set(!1),this.form._events.next(new tb(this.form))}_updateDomValue(){this.directives.forEach(i=>{let a=i.control,o=this.form.get(i.path);a!==o&&(n9(a||null,i),Zre(o)&&(nb(o,i,this.callSetDisabledState),i.control=o))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(i){let a=this.form.get(i.path);$re(a,i),a.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(i){if(this.form){let a=this.form.get(i.path);a&&Hre(a,i)&&a.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){cb(this.form,this),this._oldForm&&Vp(this._oldForm,this)}};g(e,"\u0275fac",function(a){return new(a||e)(Xe(qp,10),Xe(sb,10),Xe($p,8))}),g(e,"\u0275dir",Tr({type:e,selectors:[["","formGroup",""]],hostBindings:function(a,o){a&1&&Ae("submit",function(l){return o.onSubmit(l)})("reset",function(){return o.onReset()})},inputs:{form:[0,"formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],standalone:!1,features:[na([Kre]),Ia,Tn]}));let r=e;return r})();var Jre={provide:au,useExisting:bs(()=>fb)},fb=(()=>{let e=class e extends au{constructor(i,a,o,s,l){super();g(this,"_ngModelWarningConfig");g(this,"_added",!1);g(this,"viewModel");g(this,"control");g(this,"name",null);g(this,"model");g(this,"update",new or);g(this,"_ngModelWarningSent",!1);this._ngModelWarningConfig=l,this._parent=i,this._setValidators(a),this._setAsyncValidators(o),this.valueAccessor=M9(this,s)}set isDisabled(i){}ngOnChanges(i){this._added||this._setUpControl(),A9(i,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(i){this.viewModel=i,this.update.emit(i)}get path(){return C9(this.name==null?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_setUpControl(){this.control=this.formDirective.addControl(this),this._added=!0}};g(e,"_ngModelWarningSentOnce",!1),g(e,"\u0275fac",function(a){return new(a||e)(Xe(iu,13),Xe(qp,10),Xe(sb,10),Xe(Up,10),Xe(T9,8))}),g(e,"\u0275dir",Tr({type:e,selectors:[["","formControlName",""]],inputs:{name:[0,"formControlName","name"],isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"]},outputs:{update:"ngModelChange"},standalone:!1,features:[na([Jre]),Ia,Tn]}));let r=e;return r})();function Qre(r){return typeof r=="number"?r:parseInt(r,10)}var ene=(()=>{let e=class e{constructor(){g(this,"_validator",Op);g(this,"_onChange");g(this,"_enabled")}ngOnChanges(n){if(this.inputName in n){let i=this.normalizeInput(n[this.inputName].currentValue);this._enabled=this.enabled(i),this._validator=this._enabled?this.createValidator(i):Op,this._onChange&&this._onChange()}}validate(n){return this._validator(n)}registerOnValidatorChange(n){this._onChange=n}enabled(n){return n!=null}};g(e,"\u0275fac",function(i){return new(i||e)}),g(e,"\u0275dir",Tr({type:e,features:[Tn]}));let r=e;return r})();var tne={provide:qp,useExisting:bs(()=>mb),multi:!0},mb=(()=>{let e=class e extends ene{constructor(){super(...arguments);g(this,"maxlength");g(this,"inputName","maxlength");g(this,"normalizeInput",i=>Qre(i));g(this,"createValidator",i=>c9(i))}};g(e,"\u0275fac",(()=>{let i;return function(o){return(i||(i=_s(e)))(o||e)}})()),g(e,"\u0275dir",Tr({type:e,selectors:[["","maxlength","","formControlName",""],["","maxlength","","formControl",""],["","maxlength","","ngModel",""]],hostVars:1,hostBindings:function(a,o){a&2&&qm("maxlength",o._enabled?o.maxlength:null)},inputs:{maxlength:"maxlength"},standalone:!1,features:[na([tne]),Ia]}));let r=e;return r})();var F9=(()=>{let e=class e{};g(e,"\u0275fac",function(i){return new(i||e)}),g(e,"\u0275mod",_i({type:e})),g(e,"\u0275inj",yi({}));let r=e;return r})(),ib=class extends Mc{constructor(t,n,i){super(lb(n),ub(i,n));g(this,"controls");this.controls=t,this._initObservables(),this._setUpdateStrategy(n),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(t){return this.controls[this._adjustIndex(t)]}push(t,n={}){this.controls.push(t),this._registerControl(t),this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}insert(t,n,i={}){this.controls.splice(t,0,n),this._registerControl(n),this.updateValueAndValidity({emitEvent:i.emitEvent})}removeAt(t,n={}){let i=this._adjustIndex(t);i<0&&(i=0),this.controls[i]&&this.controls[i]._registerOnCollectionChange(()=>{}),this.controls.splice(i,1),this.updateValueAndValidity({emitEvent:n.emitEvent})}setControl(t,n,i={}){let a=this._adjustIndex(t);a<0&&(a=0),this.controls[a]&&this.controls[a]._registerOnCollectionChange(()=>{}),this.controls.splice(a,1),n&&(this.controls.splice(a,0,n),this._registerControl(n)),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(t,n={}){D9(this,!1,t),t.forEach((i,a)=>{S9(this,!1,a),this.at(a).setValue(i,{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}patchValue(t,n={}){t!=null&&(t.forEach((i,a)=>{this.at(a)&&this.at(a).patchValue(i,{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}reset(t=[],n={}){this._forEachChild((i,a)=>{i.reset(t[a],{onlySelf:!0,emitEvent:n.emitEvent})}),this._updatePristine(n,this),this._updateTouched(n,this),this.updateValueAndValidity(n)}getRawValue(){return this.controls.map(t=>t.getRawValue())}clear(t={}){this.controls.length<1||(this._forEachChild(n=>n._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:t.emitEvent}))}_adjustIndex(t){return t<0?t+this.length:t}_syncPendingControls(){let t=this.controls.reduce((n,i)=>i._syncPendingControls()?!0:n,!1);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_forEachChild(t){this.controls.forEach((n,i)=>{t(n,i)})}_updateValue(){this.value=this.controls.filter(t=>t.enabled||this.disabled).map(t=>t.value)}_anyControls(t){return this.controls.some(n=>n.enabled&&t(n))}_setUpControls(){this._forEachChild(t=>this._registerControl(t))}_allControlsDisabled(){for(let t of this.controls)if(t.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(t){t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)}_find(t){var n;return(n=this.at(t))!=null?n:null}};function s9(r){return!!r&&(r.asyncValidators!==void 0||r.validators!==void 0||r.updateOn!==void 0)}var I9=(()=>{let e=class e{constructor(){g(this,"useNonNullable",!1)}get nonNullable(){let n=new e;return n.useNonNullable=!0,n}group(n,i=null){let a=this._reduceControls(n),o={};return s9(i)?o=i:i!==null&&(o.validators=i.validator,o.asyncValidators=i.asyncValidator),new Lp(a,o)}record(n,i=null){let a=this._reduceControls(n);return new rb(a,i)}control(n,i,a){let o={};return this.useNonNullable?(s9(i)?o=i:(o.validators=i,o.asyncValidators=a),new b0(n,Kt(Ge({},o),{nonNullable:!0}))):new b0(n,i,a)}array(n,i,a){let o=n.map(s=>this._createControl(s));return new ib(o,i,a)}_reduceControls(n){let i={};return Object.keys(n).forEach(a=>{i[a]=this._createControl(n[a])}),i}_createControl(n){if(n instanceof b0)return n;if(n instanceof Mc)return n;if(Array.isArray(n)){let i=n[0],a=n.length>1?n[1]:null,o=n.length>2?n[2]:null;return this.control(i,a,o)}else return this.control(n)}};g(e,"\u0275fac",function(i){return new(i||e)}),g(e,"\u0275prov",Ke({token:e,factory:e.\u0275fac,providedIn:"root"}));let r=e;return r})();var Xn=(()=>{let e=class e{static withConfig(n){var i;return{ngModule:e,providers:[{provide:$p,useValue:(i=n.callSetDisabledState)!=null?i:Hp}]}}};g(e,"\u0275fac",function(i){return new(i||e)}),g(e,"\u0275mod",_i({type:e})),g(e,"\u0275inj",yi({imports:[F9]}));let r=e;return r})(),O9=(()=>{let e=class e{static withConfig(n){var i,a;return{ngModule:e,providers:[{provide:T9,useValue:(i=n.warnOnNgModelWithFormControl)!=null?i:"always"},{provide:$p,useValue:(a=n.callSetDisabledState)!=null?a:Hp}]}}};g(e,"\u0275fac",function(i){return new(i||e)}),g(e,"\u0275mod",_i({type:e})),g(e,"\u0275inj",yi({imports:[F9]}));let r=e;return r})();var _0=class{static MatchingPasswords(e){let t=e.get("password").value,n=e.get("confirmPassword").value,i=e.get("confirmPassword").errors,a=e.get("confirmPassword");rne(t,n)?a.setErrors(Kt(Ge({},i),{not_matching:!0})):a.setErrors(i)}};function rne(r,e){return r!==e&&e!==""}function Wp(r){r||(P1(Wp),r=Me(Ml));let e=new Oo(t=>r.onDestroy(t.next.bind(t)));return t=>t.pipe(eo(e))}var gb=class{constructor(e){g(this,"translations");this.translations=e}getTranslation(e){return At(this.translations.get(e)||{})}},P9=new ht("");function hb(r,e){return r&&(Object.prototype.hasOwnProperty.call(r,e)?r[e]:e.split(".").reduce((t,n)=>t==null?void 0:t[n],r))}function nne(r,e,t){r=Ge({},r);let n=e.split("."),i=n.length-1;return n.reduce((a,o,s)=>(s===i?a[o]=t:a[o]=Array.isArray(a[o])?a[o].slice():Ge({},a[o]),a&&a[o]),r),r}function B9(r){return r?Array.isArray(r)?r.length:Gp(r)?Object.keys(r).length:r?r.length:0:0}function ine(r){return B9(r)===0}function ane(r){return typeof r=="function"}function Fc(r){return typeof r=="string"}function Gp(r){return!!r&&typeof r=="object"&&!Array.isArray(r)}function L9(r){return r.replace(/(?:^\w|[A-Z]|\b\w)/g,(e,t)=>t==0?e.toLowerCase():e.toUpperCase()).replace(/\s+|_|-|\//g,"")}function vb(r){return r==null}function R9(r){return vb(r)===!1}function z9(r){return r&&typeof r.scope=="string"}function one(r){return r&&Gp(r.loader)}function k9(r){let e={};function t(n,i){if(n===null)e[i]=null;else if(Gp(n))for(let[a,o]of Object.entries(n))t(o,i?`${i}.${a}`:a);else e[i]=n}return t(r,""),e}function sne(r){let e={};for(let[t,n]of Object.entries(r)){let i=t.split("."),a=e;i.forEach((o,s)=>{var l;s===i.length-1?a[o]=n:((l=a[o])!=null||(a[o]={}),a=a[o])})}return e}var Ic=new ht("",{providedIn:"root",factory:()=>Tc}),Tc={defaultLang:"en",reRenderOnLangChange:!1,prodMode:!1,failedRetries:2,fallbackLang:[],availableLangs:[],missingHandler:{logMissingKey:!0,useFallbackTranslation:!1,allowEmpty:!1},flatten:{aot:!1},interpolation:["{{","}}"],scopes:{keepCasing:!1}};function lne(r={}){return Kt(Ge(Ge({},Tc),r),{missingHandler:Ge(Ge({},Tc.missingHandler),r.missingHandler),flatten:Ge(Ge({},Tc.flatten),r.flatten),scopes:Ge(Ge({},Tc.scopes),r.scopes)})}var V9=new ht(""),une=(()=>{var e;let t=class t{constructor(){g(this,"config",(e=Me(Ic,{optional:!0}))!=null?e:Tc)}get interpolationMatcher(){return cne(this.config)}transpile({value:i,params:a={},translation:o,key:s}){if(Fc(i)){let l,u=i;for(;(l=this.interpolationMatcher.exec(u))!==null;){let[c,d]=l;u=u.replace(c,()=>{let f=d.trim(),m=hb(a,f);return R9(m)?m:R9(o[f])?this.transpile({params:a,translation:o,key:s,value:o[f]}):""})}return u}else a&&(Gp(i)?i=this.handleObject({value:i,params:a,translation:o,key:s}):Array.isArray(i)&&(i=this.handleArray({value:i,params:a,translation:o,key:s})));return i}handleObject({value:i,params:a={},translation:o,key:s}){let l=i;return Object.keys(a).forEach(u=>{let c=this.transpile({value:hb(l,u),params:hb(a,u),translation:o,key:s});l=nne(l,u,c)}),l}handleArray(o){var s=o,{value:i}=s,a=D1(s,["value"]);return i.map(l=>this.transpile(Ge({value:l},a)))}};g(t,"\u0275fac",function(a){return new(a||t)}),g(t,"\u0275prov",Ke({token:t,factory:t.\u0275fac}));let r=t;return r})();function cne(r){let[e,t]=r.interpolation;return new RegExp(`${e}([^${e}${t}]*?)${t}`,"g")}var U9=new ht(""),dne=(()=>{let e=class e{handle(n,i){if(i.missingHandler.logMissingKey&&!i.prodMode){let a=`Missing translation for '${n}'`;console.warn(`%c ${a}`,"font-size: 12px; color: red")}return n}};g(e,"\u0275fac",function(i){return new(i||e)}),g(e,"\u0275prov",Ke({token:e,factory:e.\u0275fac}));let r=e;return r})(),q9=new ht(""),fne=(()=>{let e=class e{preSaveTranslation(n){return n}preSaveTranslationKey(n,i){return i}};g(e,"\u0275fac",function(i){return new(i||e)}),g(e,"\u0275prov",Ke({token:e,factory:e.\u0275fac}));let r=e;return r})(),j9=new ht(""),mne=(()=>{let e=class e{constructor(n){g(this,"userConfig");this.userConfig=n}getNextLangs(){let n=this.userConfig.fallbackLang;if(!n)throw new Error("When using the default fallback, a fallback language must be provided in the config!");return Array.isArray(n)?n:[n]}};g(e,"\u0275fac",function(i){return new(i||e)(at(Ic))}),g(e,"\u0275prov",Ke({token:e,factory:e.\u0275fac}));let r=e;return r})();function S0(r){if(!r)return"";let e=r.split("/");return e.pop(),e.join("/")}function Gs(r){return r?r.split("/").pop():""}function xb(r,e,t="|"){if(Fc(r)){let n=r.split(t),i=n.pop();return i===e?[!0,n.toString()]:[!1,i]}return[!1,""]}function hne(r,e){let[t]=xb(e,"static");return t?!1:!!r.config.reRenderOnLangChange}function pne(r){return r?e=>e:Qa(1)}function gne(r,e){return Object.keys(r).reduce((t,n)=>(t[`${e}/${n}`]=r[n],t),{})}function $9(r,e){return one(r)?gne(r.loader,e):void 0}function pb(r){return{scope:S0(r)||null,langName:Gs(r)}}function H9(r){let{path:e,inlineLoader:t,mainLoader:n,data:i}=r;if(t){let a=t[e];if(ane(a)===!1)throw`You're using an inline loader but didn't provide a loader for ${e}`;return t[e]().then(o=>o.default?o.default:o)}return n.getTranslation(e,i)}function vne({mainLoader:r,path:e,data:t,fallbackPath:n,inlineLoader:i}){return(n?[e,n]:[e]).map(o=>{let s=H9({path:o,mainLoader:r,inlineLoader:i,data:t});return wn(s).pipe(Ht(l=>({translation:l,lang:o})))})}var xne;var D0=(()=>{let e=class e{constructor(n,i,a,o,s,l){g(this,"loader");g(this,"parser");g(this,"missingHandler");g(this,"interceptor");g(this,"fallbackStrategy");g(this,"langChanges$");g(this,"translations",new Map);g(this,"cache",new Map);g(this,"firstFallbackLang");g(this,"defaultLang","");g(this,"availableLangs",[]);g(this,"isResolvedMissingOnce",!1);g(this,"lang");g(this,"failedLangs",new Set);g(this,"events",new Gt);g(this,"events$",this.events.asObservable());g(this,"config");g(this,"destroyRef",Me(Ml));this.loader=n,this.parser=i,this.missingHandler=a,this.interceptor=o,this.fallbackStrategy=l,this.loader||(this.loader=new gb(this.translations)),xne=this,this.config=JSON.parse(JSON.stringify(s)),this.setAvailableLangs(this.config.availableLangs||[]),this.setFallbackLangForMissingTranslation(this.config),this.setDefaultLang(this.config.defaultLang),this.lang=new Yn(this.getDefaultLang()),this.langChanges$=this.lang.asObservable(),this.events$.subscribe(u=>{u.type==="translationLoadSuccess"&&u.wasFailure&&this.setActiveLang(u.payload.langName)}),this.destroyRef.onDestroy(()=>{this.lang.complete(),this.events.complete(),this.cache.clear()})}getDefaultLang(){return this.defaultLang}setDefaultLang(n){this.defaultLang=n}getActiveLang(){return this.lang.getValue()}setActiveLang(n){var i,a;return(a=(i=this.parser).onLangChanged)==null||a.call(i,n),this.lang.next(n),this.events.next({type:"langChanged",payload:pb(n)}),this}setAvailableLangs(n){this.availableLangs=n}getAvailableLangs(){return this.availableLangs}load(n,i={}){let a=this.cache.get(n);if(a)return a;let o,s=this._isLangScoped(n),l;s&&(l=S0(n));let u={path:n,mainLoader:this.loader,inlineLoader:i.inlineLoader,data:s?{scope:l}:void 0};if(this.useFallbackTranslation(n)){let d=s?`${l}/${this.firstFallbackLang}`:this.firstFallbackLang,f=vne(Kt(Ge({},u),{fallbackPath:d}));o=rf(f)}else{let d=H9(u);o=wn(d)}let c=o.pipe(S6(this.config.failedRetries),hn(d=>{if(Array.isArray(d)){d.forEach(f=>{this.handleSuccess(f.lang,f.translation),f.lang!==n&&this.cache.set(f.lang,At({}))});return}this.handleSuccess(n,d)}),Ja(d=>(this.config.prodMode||console.error(`Error while trying to load "${n}"`,d),this.handleFailure(n,i))),R1(1),Wp(this.destroyRef));return this.cache.set(n,c),c}translate(n,i={},a=this.getActiveLang()){if(!n)return n;let{scope:o,resolveLang:s}=this.resolveLangAndScope(a);if(Array.isArray(n))return n.map(c=>this.translate(o?`${o}.${c}`:c,i,s));n=o?`${o}.${n}`:n;let l=this.getTranslation(s),u=l[n];return u?this.parser.transpile({value:u,params:i,translation:l,key:n}):this._handleMissingKey(n,u,i)}selectTranslate(n,i,a,o=!1){let s,l=(c,d)=>this.load(c,d).pipe(Ht(()=>o?this.translateObject(n,i,c):this.translate(n,i,c)));if(vb(a))return this.langChanges$.pipe(mn(c=>l(c)));if(a=Array.isArray(a)?a[0]:a,z9(a)){let c=a;a=c.scope,s=$9(c,c.scope)}if(a=a,this.isLang(a)||this.isScopeWithLang(a))return l(a);let u=a;return this.langChanges$.pipe(mn(c=>l(`${u}/${c}`,{inlineLoader:s})))}isScopeWithLang(n){return this.isLang(Gs(n))}translateObject(n,i={},a=this.getActiveLang()){if(Fc(n)||Array.isArray(n)){let{resolveLang:s,scope:l}=this.resolveLangAndScope(a);if(Array.isArray(n))return n.map(d=>this.translateObject(l?`${l}.${d}`:d,i,s));let u=this.getTranslation(s);n=l?`${l}.${n}`:n;let c=sne(this.getObjectByKey(u,n));return ine(c)?this.translate(n,i,a):this.parser.transpile({value:c,params:i,translation:u,key:n})}let o=[];for(let[s,l]of this.getEntries(n))o.push(this.translateObject(s,l,a));return o}selectTranslateObject(n,i,a){if(Fc(n)||Array.isArray(n))return this.selectTranslate(n,i,a,!0);let[[o,s],...l]=this.getEntries(n);return this.selectTranslateObject(o,s,a).pipe(Ht(u=>{let c=[u];for(let[d,f]of l)c.push(this.translateObject(d,f,a));return c}))}getTranslation(n){if(n){if(this.isLang(n))return this.translations.get(n)||{};{let{scope:i,resolveLang:a}=this.resolveLangAndScope(n),o=this.translations.get(a)||{};return this.getObjectByKey(o,i)}}return this.translations}selectTranslation(n){let i=this.langChanges$;if(n){let a=Gs(n)!==n;this.isLang(n)||a?i=At(n):i=this.langChanges$.pipe(Ht(o=>`${n}/${o}`))}return i.pipe(mn(a=>this.load(a).pipe(Ht(()=>this.getTranslation(a)))))}setTranslation(n,i=this.getActiveLang(),a={}){let s=Ge(Ge({},{merge:!0,emitChange:!0}),a),l=S0(i),u=n;if(l){let p=this.getMappedScope(l);u=k9({[p]:n})}let c=l?Gs(i):i,d=Ge(Ge({},s.merge&&this.getTranslation(c)),u),f=this.config.flatten.aot?d:k9(d),m=this.interceptor.preSaveTranslation(f,c);this.translations.set(c,m),s.emitChange&&this.setActiveLang(this.getActiveLang())}setTranslationKey(n,i,a={}){let o=a.lang||this.getActiveLang(),s=this.interceptor.preSaveTranslationKey(n,i,o),l={[n]:s};this.setTranslation(l,o,Kt(Ge({},a),{merge:!0}))}setFallbackLangForMissingTranslation({fallbackLang:n}){let i=Array.isArray(n)?n[0]:n;n&&this.useFallbackTranslation(i)&&(this.firstFallbackLang=i)}_handleMissingKey(n,i,a){if(this.config.missingHandler.allowEmpty&&i==="")return"";if(!this.isResolvedMissingOnce&&this.useFallbackTranslation()){this.isResolvedMissingOnce=!0;let o=this.translate(n,a,this.firstFallbackLang);return this.isResolvedMissingOnce=!1,o}return this.missingHandler.handle(n,this.getMissingHandlerData(),a)}_isLangScoped(n){return this.getAvailableLangsIds().indexOf(n)===-1}isLang(n){return this.getAvailableLangsIds().indexOf(n)!==-1}_loadDependencies(n,i){let a=Gs(n);return this._isLangScoped(n)&&!this.isLoadedTranslation(a)?tf([this.load(a),this.load(n,{inlineLoader:i})]):this.load(n,{inlineLoader:i})}_completeScopeWithLang(n){return this._isLangScoped(n)&&!this.isLang(Gs(n))?`${n}/${this.getActiveLang()}`:n}_setScopeAlias(n,i){this.config.scopeMapping||(this.config.scopeMapping={}),this.config.scopeMapping[n]=i}isLoadedTranslation(n){return B9(this.getTranslation(n))}getAvailableLangsIds(){let n=this.getAvailableLangs()[0];return Fc(n)?this.getAvailableLangs():this.getAvailableLangs().map(i=>i.id)}getMissingHandlerData(){return Kt(Ge({},this.config),{activeLang:this.getActiveLang(),availableLangs:this.availableLangs,defaultLang:this.defaultLang})}useFallbackTranslation(n){return this.config.missingHandler.useFallbackTranslation&&n!==this.firstFallbackLang}handleSuccess(n,i){this.setTranslation(i,n,{emitChange:!1}),this.events.next({wasFailure:!!this.failedLangs.size,type:"translationLoadSuccess",payload:pb(n)}),this.failedLangs.forEach(a=>this.cache.delete(a)),this.failedLangs.clear()}handleFailure(n,i){vb(i.failedCounter)&&(i.failedCounter=0,i.fallbackLangs||(i.fallbackLangs=this.fallbackStrategy.getNextLangs(n)));let a=n.split("/"),s=i.fallbackLangs[i.failedCounter];if(this.failedLangs.add(n),this.cache.has(s))return this.handleSuccess(s,this.getTranslation(s)),Fa;let l=s===a[a.length-1];if(!s||l){let c="Unable to load translation and all the fallback languages";throw a.length>1&&(c+=", did you misspelled the scope name?"),new Error(c)}let u=s;return a.length>1&&(a[a.length-1]=s,u=a.join("/")),i.failedCounter++,this.events.next({type:"translationLoadFailure",payload:pb(n)}),this.load(u,i)}getMappedScope(n){let{scopeMapping:i={},scopes:a={keepCasing:!1}}=this.config;return i[n]||(a.keepCasing?n:L9(n))}resolveLangAndScope(n){let i=n,a;if(this._isLangScoped(n)){let o=Gs(n),s=this.isLang(o);i=s?o:this.getActiveLang(),a=this.getMappedScope(s?S0(n):n)}return{scope:a,resolveLang:i}}getObjectByKey(n,i){let a={},o=`${i}.`;for(let s in n)s.startsWith(o)&&(a[s.replace(o,"")]=n[s]);return a}getEntries(n){return n instanceof Map?n.entries():Object.entries(n)}};g(e,"\u0275fac",function(i){return new(i||e)(at(P9,8),at(V9),at(U9),at(q9),at(Ic),at(j9))}),g(e,"\u0275prov",Ke({token:e,factory:e.\u0275fac,providedIn:"root"}));let r=e;return r})(),yne=(()=>{let e=class e{constructor(){g(this,"html")}};g(e,"\u0275fac",function(i){return new(i||e)}),g(e,"\u0275cmp",Vt({type:e,selectors:[["ng-component"]],inputs:{html:"html"},decls:1,vars:1,consts:[[1,"transloco-loader-template",3,"innerHTML"]],template:function(i,a){i&1&&Fe(0,"div",0),i&2&&Re("innerHTML",a.html,Ss)},encapsulation:2}));let r=e;return r})(),yb=class{constructor(e,t){g(this,"view");g(this,"vcr");this.view=e,this.vcr=t}attachView(){if(this.view instanceof Bu)this.vcr.createEmbeddedView(this.view);else if(Fc(this.view)){let e=this.vcr.createComponent(yne);e.instance.html=this.view,e.hostView.detectChanges()}else this.vcr.createComponent(this.view)}detachView(){this.vcr.clear()}},bne=new ht(""),wne=new ht(""),_ne=new ht(""),bb=class{constructor(){g(this,"initialized",!1)}resolve({inline:e,provider:t,active:n}){let i=n;if(this.initialized)return i=n,i;if(t){let[,a]=xb(t,"static");i=a}if(e){let[,a]=xb(e,"static");i=a}return this.initialized=!0,i}resolveLangBasedOnScope(e){return S0(e)?Gs(e):e}resolveLangPath(e,t){return t?`${t}/${e}`:e}},wb=class{constructor(e){g(this,"service");this.service=e}resolve(e){let{inline:t,provider:n}=e;if(t)return t;if(n){if(z9(n)){let{scope:i,alias:a=this.service.config.scopes.keepCasing?i:L9(i)}=n;return this.service._setScopeAlias(i,a),i}return n}}},Hr=(()=>{let e=class e{constructor(){g(this,"destroyRef",Me(Ml));g(this,"service",Me(D0));g(this,"tpl",Me(Bu,{optional:!0}));g(this,"providerLang",Me(bne,{optional:!0}));g(this,"providerScope",Me(_ne,{optional:!0}));g(this,"providedLoadingTpl",Me(wne,{optional:!0}));g(this,"cdr",Me(ia));g(this,"host",Me(li));g(this,"vcr",Me(ko));g(this,"renderer",Me(Tl));g(this,"view");g(this,"memo",new Map);g(this,"key");g(this,"params",{});g(this,"inlineScope");g(this,"inlineRead");g(this,"prefix");g(this,"inlineLang");g(this,"inlineTpl");g(this,"currentLang");g(this,"loaderTplHandler");g(this,"initialized",!1);g(this,"path");g(this,"langResolver",new bb);g(this,"scopeResolver",new wb(this.service));g(this,"strategy",this.tpl===null?"attribute":"structural")}static ngTemplateContextGuard(n,i){return!0}ngOnInit(){let n=hne(this.service,this.providerLang||this.inlineLang);if(this.service.langChanges$.pipe(mn(i=>{let a=this.langResolver.resolve({inline:this.inlineLang,provider:this.providerLang,active:i});return Array.isArray(this.providerScope)?rf(this.providerScope.map(o=>this.resolveScope(a,o))):this.resolveScope(a,this.providerScope)}),pne(n),Wp(this.destroyRef)).subscribe(()=>{this.currentLang=this.langResolver.resolveLangBasedOnScope(this.path),this.strategy==="attribute"?this.attributeStrategy():this.structuralStrategy(this.currentLang,this.prefix||this.inlineRead),this.cdr.markForCheck(),this.initialized=!0}),!this.initialized){let i=this.resolveLoadingContent();i&&(this.loaderTplHandler=new yb(i,this.vcr),this.loaderTplHandler.attachView())}}ngOnChanges(n){this.strategy==="attribute"&&Object.keys(n).some(a=>!n[a].firstChange)&&this.attributeStrategy()}attributeStrategy(){this.detachLoader(),this.renderer.setProperty(this.host.nativeElement,"innerText",this.service.translate(this.key,this.params,this.currentLang))}structuralStrategy(n,i){this.memo.clear();let a=this.getTranslateFn(n,i);this.view?(this.view.context.$implicit=a,this.view.context.currentLang=this.currentLang):(this.detachLoader(),this.view=this.vcr.createEmbeddedView(this.tpl,{$implicit:a,currentLang:this.currentLang}))}getTranslateFn(n,i){return(a,o)=>{let s=i?`${i}.${a}`:a,l=o?`${s}${JSON.stringify(o)}`:s;return this.memo.has(l)||this.memo.set(l,this.service.translate(s,o,n)),this.memo.get(l)}}resolveLoadingContent(){return this.inlineTpl||this.providedLoadingTpl}ngOnDestroy(){this.memo.clear()}detachLoader(){var n;(n=this.loaderTplHandler)==null||n.detachView()}resolveScope(n,i){let a=this.scopeResolver.resolve({inline:this.inlineScope,provider:i});this.path=this.langResolver.resolveLangPath(n,a);let o=$9(i,a);return this.service._loadDependencies(this.path,o)}};g(e,"\u0275fac",function(i){return new(i||e)}),g(e,"\u0275dir",Tr({type:e,selectors:[["","transloco",""]],inputs:{key:[0,"transloco","key"],params:[0,"translocoParams","params"],inlineScope:[0,"translocoScope","inlineScope"],inlineRead:[0,"translocoRead","inlineRead"],prefix:[0,"translocoPrefix","prefix"],inlineLang:[0,"translocoLang","inlineLang"],inlineTpl:[0,"translocoLoadingTpl","inlineTpl"]},features:[Tn]}));let r=e;return r})();function W9(r){let e=[Cne(une),Ane(dne),Mne(fne),Ene(mne)];return r.config&&e.push(Sne(r.config)),r.loader&&e.push(Dne(r.loader)),e}function Sne(r){return bi([{provide:Ic,useValue:lne(r)}])}function Dne(r){return bi([{provide:P9,useClass:r}])}function Cne(r){return bi([{provide:V9,useClass:r,deps:[Ic]}])}function Ene(r){return bi([{provide:j9,useClass:r,deps:[Ic]}])}function Ane(r){return bi([{provide:U9,useClass:r}])}function Mne(r){return bi([{provide:q9,useClass:r}])}var HDe=new ht("TRANSLOCO_TEST_LANGS - Available testing languages"),WDe=new ht("TRANSLOCO_TEST_OPTIONS - Testing options");function Nne(r,e){}function Tne(r,e){if(r&1&&ve(0),r&2){let t=U().$implicit;Pe(" ",t("login-to-your-account")," ")}}function Fne(r,e){if(r&1&&ve(0),r&2){let t=U().$implicit;Pe(" ",t("reset-your-password")," ")}}function Ine(r,e){if(r&1&&(G(0,"small",18),ve(1),j()),r&2){let t=U(2).$implicit;$(),xt(t("email-format-wrong"))}}function One(r,e){if(r&1&&(G(0,"small",18),ve(1),j()),r&2){let t=U(2).$implicit;$(),xt(t("password-format-wrong"))}}function Rne(r,e){if(r&1&&(G(0,"small",18),ve(1),j()),r&2){let t=U(2).$implicit;$(),xt(t("not-match"))}}function kne(r,e){if(r&1){let t=He();G(0,"form",14),Ae("ngSubmit",function(){Se(t);let i=U(2);return De(i.onSignup())}),G(1,"div",15)(2,"label",16),ve(3),j(),Fe(4,"input",17),Le(5,Ine,2,1,"small",18),j(),G(6,"div",19)(7,"label",20),ve(8),j(),Fe(9,"input",21),Le(10,One,2,1,"small",18),j(),G(11,"div",19)(12,"label",22),ve(13),j(),Fe(14,"input",23),Le(15,Rne,2,1,"small",18),j(),G(16,"div",24)(17,"button",25),ve(18),j()()()}if(r&2){let t,n,i,a=U().$implicit,o=U();Re("formGroup",o.signupForm),$(3),Pe(" ",a("email")," "),$(2),Ve((t=o.signupForm.get("email"))!=null&&t.invalid&&((t=o.signupForm.get("email"))!=null&&t.dirty)?5:-1),$(3),Pe(" ",a("password")," "),$(2),Ve((n=o.signupForm.get("password"))!=null&&n.invalid&&((n=o.signupForm.get("password"))!=null&&n.dirty)?10:-1),$(3),Pe(" ",a("confirm-password")," "),$(2),Ve((i=o.signupForm.get("confirmPassword"))!=null&&i.invalid&&((i=o.signupForm.get("confirmPassword"))!=null&&i.dirty)?15:-1),$(3),Pe(" ",a("sign-up")," ")}}function Pne(r,e){if(r&1&&(G(0,"small",18),ve(1),j()),r&2){let t=U(2).$implicit;$(),xt(t("email-format-wrong"))}}function Bne(r,e){if(r&1&&(G(0,"small",18),ve(1),j()),r&2){let t=U(2).$implicit;$(),xt(t("password-required"))}}function Lne(r,e){if(r&1){let t=He();G(0,"form",14),Ae("ngSubmit",function(){Se(t);let i=U(2);return De(i.onLogin())}),G(1,"div",15)(2,"label",16),ve(3),j(),Fe(4,"input",26),Le(5,Pne,2,1,"small",18),j(),G(6,"div",19)(7,"label",20),ve(8),j(),Fe(9,"input",27),Le(10,Bne,2,1,"small",18),G(11,"button",28),Ae("click",function(){Se(t);let i=U(2);return De(i.changeMode("verify"))}),ve(12),j()(),G(13,"div",24)(14,"button",25),ve(15),j()()()}if(r&2){let t,n,i=U().$implicit,a=U();Re("formGroup",a.loginForm),$(3),Pe(" ",i("email")," "),$(2),Ve((t=a.loginForm.get("email"))!=null&&t.invalid&&((t=a.loginForm.get("email"))!=null&&t.dirty)?5:-1),$(3),Pe(" ",i("password")," "),$(2),Ve((n=a.loginForm.get("password"))!=null&&n.invalid&&((n=a.loginForm.get("password"))!=null&&n.dirty)?10:-1),$(2),Pe(" ",i("forgot-your-password")," "),$(3),Pe(" ",i("login")," ")}}function zne(r,e){if(r&1&&(G(0,"small",18),ve(1),j()),r&2){let t=U(2).$implicit;$(),xt(t("password-format-wrong"))}}function Vne(r,e){if(r&1&&(G(0,"small",18),ve(1),j()),r&2){let t=U(2).$implicit;$(),xt(t("not-match"))}}function Une(r,e){if(r&1){let t=He();G(0,"form",14),Ae("ngSubmit",function(){Se(t);let i=U(2);return De(i.onResetPassword())}),G(1,"div",19)(2,"label",20),ve(3),j(),Fe(4,"input",27),Le(5,zne,2,1,"small",18),j(),G(6,"div",19)(7,"label",22),ve(8),j(),Fe(9,"input",29),Le(10,Vne,2,1,"small",18),j(),G(11,"div",24)(12,"button",25),ve(13),j()()()}if(r&2){let t,n,i=U().$implicit,a=U();Re("formGroup",a.resetPasswordForm),$(3),Pe(" ",i("new-password")," "),$(2),Ve((t=a.resetPasswordForm.get("password"))!=null&&t.invalid&&((t=a.resetPasswordForm.get("password"))!=null&&t.dirty)?5:-1),$(3),Pe(" ",i("confirm-new-password")," "),$(2),Ve((n=a.resetPasswordForm.get("confirmPassword"))!=null&&n.invalid&&((n=a.resetPasswordForm.get("confirmPassword"))!=null&&n.dirty)?10:-1),$(3),Pe(" ",i("reset-password")," ")}}function qne(r,e){if(r&1&&(G(0,"small",18),ve(1),j()),r&2){let t=U(2).$implicit;$(),Pe(" ",t("email-format-wrong"),"")}}function jne(r,e){if(r&1){let t=He();G(0,"form",14),Ae("ngSubmit",function(){Se(t);let i=U(2);return De(i.onVerifyEmail())}),G(1,"div",15)(2,"label",16),ve(3),j(),G(4,"div",30),ve(5),j(),Fe(6,"input",26),Le(7,qne,2,1,"small",18),j(),G(8,"div",24)(9,"button",25),ve(10),j()()()}if(r&2){let t,n=U().$implicit,i=U();Re("formGroup",i.verifyEmailForm),$(3),Pe(" ",n("forgot-password")," "),$(2),Pe(" ",n("text-email-verification")," "),$(2),Ve((t=i.loginForm.get("email"))!=null&&t.invalid&&((t=i.loginForm.get("email"))!=null&&t.dirty)?7:-1),$(3),Pe(" ",n("verify-email")," ")}}function $ne(r,e){if(r&1){let t=He();G(0,"div"),ve(1),j(),G(2,"button",31),Ae("click",function(){Se(t);let i=U(2);return De(i.changeMode("login"))}),ve(3),j()}if(r&2){let t=U().$implicit;$(),xt(t("already-account")),$(2),Pe(" ",t("sign-in")," ")}}function Hne(r,e){if(r&1){let t=He();G(0,"div"),ve(1),j(),G(2,"button",31),Ae("click",function(){Se(t);let i=U(2);return De(i.changeMode("signup"))}),ve(3),j()}if(r&2){let t=U().$implicit;$(),xt(t("no-account")),$(2),Pe(" ",t("sign-up")," ")}}function Wne(r,e){if(r&1){let t=He();G(0,"div",1),Fe(1,"div",2),G(2,"div",3)(3,"div",4)(4,"div",5)(5,"img",6),Ae("click",function(){Se(t);let i=U();return De(i.changeMode(""))}),j(),G(6,"div",7),ve(7),j(),Fe(8,"div",8),j(),G(9,"div",9)(10,"div",10)(11,"div",11),Le(12,Nne,0,0)(13,Tne,1,1)(14,Fne,1,1),j()(),Le(15,kne,19,8,"form",12)(16,Lne,16,7,"form",12)(17,Une,14,6,"form",12)(18,jne,11,5,"form",12),G(19,"div",13),Le(20,$ne,4,2)(21,Hne,4,2),j()()()()()}if(r&2){let t=e.$implicit,n=U();$(7),xt(t("authentification")),$(5),Ve(n.mode=="signup"?12:n.mode=="login"?13:n.mode=="reset"?14:-1),$(3),Ve(n.mode=="signup"?15:n.mode=="login"?16:n.mode=="reset"?17:n.mode=="verify"?18:-1),$(5),Ve(n.mode=="signup"?20:n.mode=="login"?21:-1)}}var Oc=class Oc{constructor(e,t,n,i){this.authService=e;this.screenService=t;this.fb=n;this.route=i;g(this,"signupForm");g(this,"loginForm");g(this,"verifyEmailForm");g(this,"resetPasswordForm");g(this,"sub");g(this,"mode","signup");this.signupForm=this.fb.group({email:["",Cn.email],password:["",[Cn.required,Cn.minLength(8),Cn.maxLength(100)]],confirmPassword:["",[Cn.required,Cn.minLength(8),Cn.maxLength(100)]]},{validator:_0.MatchingPasswords}),this.loginForm=this.fb.group({email:["",Cn.email],password:["",[Cn.required]]}),this.verifyEmailForm=this.fb.group({email:["",Cn.email]}),this.resetPasswordForm=this.fb.group({password:["",[Cn.required,Cn.minLength(8),Cn.maxLength(100)]],confirmPassword:["",[Cn.required,Cn.minLength(8),Cn.maxLength(100)]]},{validator:_0.MatchingPasswords})}ngOnInit(){this.sub=this.route.params.subscribe(e=>{this.mode=e.mode})}onSignup(){this.signupForm.invalid||this.authService.createUser(this.signupForm.get("email").value,this.signupForm.get("password").value,!1)}onLogin(){this.loginForm.invalid||this.authService.login(this.loginForm.get("email").value,this.loginForm.get("password").value)}onVerifyEmail(){this.verifyEmailForm.invalid||this.authService.verifyEmail(this.verifyEmailForm.get("email").value)}onResetPassword(){this.resetPasswordForm.invalid||this.authService.resetPassword(this.resetPasswordForm.get("password").value)}changeMode(e){this.screenService.changeAuthMode(e)}};g(Oc,"\u0275fac",function(t){return new(t||Oc)(Xe(on),Xe(fr),Xe(I9),Xe(sa))}),g(Oc,"\u0275cmp",Vt({type:Oc,selectors:[["app-authentification"]],decls:1,vars:1,consts:[["class","pt-20 w-full h-screen",4,"transloco","translocoRead"],[1,"pt-20","w-full","h-screen"],[1,"flex","fixed","top-3","left-0","w-full","h-[300vh]","opacity-[20%]","bg-[url(/pattern.png)]","bg-[length:280px_770px]","-z-10","bg-repeat","bg-top","bg-scroll","parallax-bg"],[1,"flex","w-full","justify-center"],[1,"flex","flex-col","w-fit","rounded-lg","px-3","pt-3","pb-5","border","bg-white","border-gray-300","shadow-sm"],[1,"flex","items-center","justify-between","mb-2"],["src","arrow-left-blue1.svg","alt","",1,"cursor-pointer","w-10",3,"click"],[1,"font-bold","text-blue-400"],[1,"w-10"],[1,"w-72"],[1,"flex","flex-row","justify-between","mb-5","items-center"],[1,"text-gray-700","text-sm","font-bold","flex","flex-row","items-center"],[3,"formGroup"],[1,"mt-5","text-gray-700","text-xs","font-bold","flex","flex-row","justify-center"],[3,"ngSubmit","formGroup"],[1,"mb-4"],["for","email",1,"block","text-gray-700","text-sm","font-bold","mb-2"],["id","email","type","email","placeholder","Email","formControlName","email",1,"shadow","placeholder-gray-300","appearance-none","border","rounded","w-full","py-2","px-3","text-gray-700","leading-tight","focus:outline-none","focus:shadow-outline"],[1,"p-error","block"],[1,"mb-6"],["for","password",1,"block","text-gray-700","text-sm","font-bold","mb-2"],["id","password","type","password","placeholder","******************","formControlName","password",1,"shadow","placeholder-gray-300","appearance-none","border","rounded","w-full","py-2","px-3","text-gray-700","leading-tight","focus:outline-none","focus:shadow-outline"],["for","confirmPassword",1,"block","text-gray-700","text-sm","font-bold","mb-2"],["id","confirmPassword","type","password","placeholder","******************","formControlName","confirmPassword",1,"shadow","appearance-none","placeholder-gray-300","border","rounded","w-full","py-2","px-3","text-gray-700","leading-tight","focus:outline-none","focus:shadow-outline"],[1,"flex","items-center"],["type","submit",1,"cursor-pointer","w-full","shadow-lg","bg-blue-400","hover:bg-blue-400","active:bg-blue-400","text-white","font-bold","py-2","px-4","rounded","focus:outline-none","focus:shadow-outline"],["id","email","type","email","placeholder","Email","formControlName","email",1,"shadow","appearance-none","placeholder-gray-300","border","rounded","w-full","py-2","px-3","text-gray-700","leading-tight","focus:outline-none","focus:shadow-outline"],["id","password","type","password","placeholder","******************","formControlName","password",1,"shadow","appearance-none","placeholder-gray-300","border","rounded","w-full","py-2","px-3","text-gray-700","leading-tight","focus:outline-none","focus:shadow-outline"],[1,"cursor-pointer","mt-2","text-sm","underline","text-blue-400",3,"click"],["id","confirmPassword","type","password","placeholder","******************","formControlName","confirmPassword",1,"shadow","appearance-none","border","placeholder-gray-300","rounded","w-full","py-2","px-3","text-gray-700","leading-tight","focus:outline-none","focus:shadow-outline"],[1,"mb-4","mt-3","text-xs"],[1,"cursor-pointer","ml-2","text-blue-400",3,"click"]],template:function(t,n){t&1&&Le(0,Wne,22,4,"div",0),t&2&&Re("translocoRead","authentification")},dependencies:[Xn,N9,Ti,fa,_9,O9,db,fb,Hr],encapsulation:2}));var Yp=Oc;var Gne=[[["","id","0"]],[["","id","1"]],[["","id","2"]],[["","id","3"]],[["","id","4"]],[["","id","5"]],[["","id","6"]],[["","id","7"]]],Yne=["#0","#1","#2","#3","#4","#5","#6","#7"];function Zne(r,e){r&1&&ro(0)}function Xne(r,e){r&1&&ro(0,1)}function Kne(r,e){r&1&&ro(0,2)}function Jne(r,e){r&1&&ro(0,3)}function Qne(r,e){r&1&&ro(0,4)}function eie(r,e){r&1&&ro(0,5)}function tie(r,e){r&1&&ro(0,6)}function rie(r,e){r&1&&ro(0,7)}function nie(r,e){if(r&1){let t=He();G(0,"div",13),Ae("click",function(){let i=Se(t).$index,a=U();return De(a.selectWidget(i))}),Fe(1,"img",14),j()}if(r&2){let t=e.$implicit,n=e.$index,i=U();Ft("opacity",i.selectedWidgets.includes(n)?"1":"0.5")("border-color",i.colors[0]),$(),no("src",t,Lr)}}function iie(r,e){if(r&1&&(G(0,"div",12),Fe(1,"img",15),j()),r&2){let t=U();$(),no("src",t.logo,Lr)}}function aie(r,e){if(r&1&&zr(0,18),r&2){U(2);let t=ur(1);Re("ngTemplateOutlet",t)}}function oie(r,e){if(r&1&&zr(0,18),r&2){U(2);let t=ur(3);Re("ngTemplateOutlet",t)}}function sie(r,e){if(r&1&&zr(0,18),r&2){U(2);let t=ur(5);Re("ngTemplateOutlet",t)}}function lie(r,e){if(r&1&&zr(0,18),r&2){U(2);let t=ur(7);Re("ngTemplateOutlet",t)}}function uie(r,e){if(r&1&&zr(0,18),r&2){U(2);let t=ur(9);Re("ngTemplateOutlet",t)}}function cie(r,e){if(r&1&&zr(0,18),r&2){U(2);let t=ur(11);Re("ngTemplateOutlet",t)}}function die(r,e){if(r&1&&zr(0,18),r&2){U(2);let t=ur(13);Re("ngTemplateOutlet",t)}}function fie(r,e){if(r&1&&zr(0,18),r&2){U(2);let t=ur(15);Re("ngTemplateOutlet",t)}}function mie(r,e){if(r&1&&zr(0,18),r&2){U(2);let t=ur(1);Re("ngTemplateOutlet",t)}}function hie(r,e){if(r&1&&zr(0,18),r&2){U(2);let t=ur(3);Re("ngTemplateOutlet",t)}}function pie(r,e){if(r&1&&zr(0,18),r&2){U(2);let t=ur(5);Re("ngTemplateOutlet",t)}}function gie(r,e){if(r&1&&zr(0,18),r&2){U(2);let t=ur(7);Re("ngTemplateOutlet",t)}}function vie(r,e){if(r&1&&zr(0,18),r&2){U(2);let t=ur(9);Re("ngTemplateOutlet",t)}}function xie(r,e){if(r&1&&zr(0,18),r&2){U(2);let t=ur(11);Re("ngTemplateOutlet",t)}}function yie(r,e){if(r&1&&zr(0,18),r&2){U(2);let t=ur(13);Re("ngTemplateOutlet",t)}}function bie(r,e){if(r&1&&zr(0,18),r&2){U(2);let t=ur(15);Re("ngTemplateOutlet",t)}}function wie(r,e){if(r&1&&zr(0,18),r&2){U(3);let t=ur(1);Re("ngTemplateOutlet",t)}}function _ie(r,e){if(r&1&&zr(0,18),r&2){U(3);let t=ur(3);Re("ngTemplateOutlet",t)}}function Sie(r,e){if(r&1&&zr(0,18),r&2){U(3);let t=ur(5);Re("ngTemplateOutlet",t)}}function Die(r,e){if(r&1&&zr(0,18),r&2){U(3);let t=ur(7);Re("ngTemplateOutlet",t)}}function Cie(r,e){if(r&1&&zr(0,18),r&2){U(3);let t=ur(9);Re("ngTemplateOutlet",t)}}function Eie(r,e){if(r&1&&zr(0,18),r&2){U(3);let t=ur(11);Re("ngTemplateOutlet",t)}}function Aie(r,e){if(r&1&&zr(0,18),r&2){U(3);let t=ur(13);Re("ngTemplateOutlet",t)}}function Mie(r,e){if(r&1&&zr(0,18),r&2){U(3);let t=ur(15);Re("ngTemplateOutlet",t)}}function Nie(r,e){if(r&1&&(G(0,"div")(1,"div",20)(2,"div",17),Le(3,wie,1,1,"ng-container",18)(4,_ie,1,1,"ng-container",18)(5,Sie,1,1,"ng-container",18)(6,Die,1,1,"ng-container",18)(7,Cie,1,1,"ng-container",18)(8,Eie,1,1,"ng-container",18)(9,Aie,1,1,"ng-container",18)(10,Mie,1,1,"ng-container",18),j()()()),r&2){let t,n=U(2);Ft("height",n.h_bottom_window,"px"),$(2),Ft("width",n.w_bottom_left_window,"px")("height",n.h_bottom_window,"px")("padding",n.margins,"px")("padding-right",n.w_bottom_right_window!=0?n.margins/2:n.margins,"px")("padding-top",n.separations?n.margins:n.margins/2,"px"),$(),Ve((t=n.selectedWidgets.length>2?n.selectedWidgets[2]:n.selectedWidgets[1])===0?3:t===1?4:t===2?5:t===3?6:t===4?7:t===5?8:t===6?9:t===7?10:-1)}}function Tie(r,e){if(r&1){let t=He();G(0,"div",23),Ae("mousedown",function(i){Se(t);let a=U(3);return De(a.onMouseDownH(i))}),Fe(1,"div",24),j()}if(r&2){let t=U(3);Ft("left",t.w_top_left_window-6+t.margins/2,"px")("height",t.selectedWidgets.length!=3?t.h_top_window+t.h_bottom_window:t.h_top_window,"px")("top",t.h_top_layer,"px")("width",t.margins*2,"px"),$(),Ft("background-color",t.colors[0])}}function Fie(r,e){if(r&1){let t=He();G(0,"div",25),Ae("mousedown",function(i){Se(t);let a=U(3);return De(a.onMouseDownH(i))}),j()}if(r&2){let t=U(3);Ft("left",t.w_top_left_window-6,"px")("height",t.selectedWidgets.length!=3?t.h_top_window+t.h_bottom_window:t.h_top_window,"px")("top",t.h_top_layer,"px")("width",t.margins*2,"px")}}function Iie(r,e){if(r&1&&Le(0,Tie,2,10,"div",21)(1,Fie,1,8,"div",22),r&2){let t=U(2);Ve(t.separations?0:1)}}function Oie(r,e){if(r&1){let t=He();G(0,"div",28),Ae("mousedown",function(i){Se(t);let a=U(3);return De(a.onMouseDownV(i))}),Fe(1,"div",29),j()}if(r&2){let t=U(3);Ft("top",t.h_top_window+52-t.margins/2,"px")("height",t.margins*2,"px"),$(),Ft("background-color",t.colors[0])}}function Rie(r,e){if(r&1){let t=He();G(0,"div",30),Ae("mousedown",function(i){Se(t);let a=U(3);return De(a.onMouseDownV(i))}),j()}if(r&2){let t=U(3);Ft("top",t.h_top_window+52,"px")}}function kie(r,e){if(r&1&&Le(0,Oie,2,6,"div",26)(1,Rie,1,2,"div",27),r&2){let t=U(2);Ve(t.separations?0:1)}}function Pie(r,e){if(r&1&&(G(0,"div")(1,"div",16)(2,"div",17),Le(3,aie,1,1,"ng-container",18)(4,oie,1,1,"ng-container",18)(5,sie,1,1,"ng-container",18)(6,lie,1,1,"ng-container",18)(7,uie,1,1,"ng-container",18)(8,cie,1,1,"ng-container",18)(9,die,1,1,"ng-container",18)(10,fie,1,1,"ng-container",18),j(),G(11,"div",17),Le(12,mie,1,1,"ng-container",18)(13,hie,1,1,"ng-container",18)(14,pie,1,1,"ng-container",18)(15,gie,1,1,"ng-container",18)(16,vie,1,1,"ng-container",18)(17,xie,1,1,"ng-container",18)(18,yie,1,1,"ng-container",18)(19,bie,1,1,"ng-container",18),j()()(),Le(20,Nie,11,13,"div",19)(21,Iie,2,1)(22,kie,2,1)),r&2){let t,n,i=U();Ft("height",i.h_top_window,"px"),$(2),Ft("width",i.w_top_left_window,"px")("height",i.h_top_window,"px")("padding",i.margins,"px")("padding-right",i.w_top_right_window!=0&&!i.separations?i.margins/2:i.margins,"px")("padding-bottom",i.h_bottom_window!=0&&!i.separations?i.margins/2:i.margins,"px"),$(),Ve((t=i.selectedWidgets[0])===0?3:t===1?4:t===2?5:t===3?6:t===4?7:t===5?8:t===6?9:t===7?10:-1),$(8),Ft("width",i.w_top_right_window,"px")("height",i.h_top_window,"px")("padding",i.selectedWidgets.length>1?i.margins:0,"px")("padding-left",i.selectedWidgets.length>1&&!i.separations?i.margins/2:0,"px")("padding-bottom",i.h_bottom_window!=0&&!i.separations?i.margins/2:i.margins,"px"),$(),Ve((n=i.selectedWidgets[1])===0?12:n===1?13:n===2?14:n===3?15:n===4?16:n===5?17:n===6?18:n===7?19:-1),$(8),Ve(i.selectedWidgets.length>2||i.selectedWidgets.length==2&&!i.isLargeScreen?20:-1),$(),Ve(i.selectedWidgets.length>1&&i.isLargeScreen?21:-1),$(),Ve(i.selectedWidgets.length>2||i.selectedWidgets.length==2&&!i.isLargeScreen?22:-1)}}var Y9=(()=>{let e=class e{constructor(){g(this,"widgetIcons",[]);g(this,"separations",!0);g(this,"margins",8);g(this,"selectWidgets",[0]);g(this,"maxNbrOfWidgets",3);g(this,"maxSingleWidgetWidth");g(this,"colorTheme","blue");g(this,"iconsLeft",!0);g(this,"logo","");g(this,"pinkTheme",["#ff8fa3","#ffb3c1","#fff0f3"]);g(this,"blueTheme",["#60a5fa","#60a5fa","#bbdefb"]);g(this,"brownTheme",["#5e503f","#a9927d","#f2f4f3"]);g(this,"grayTheme",["#b1a7a6","#d3d3d3","#f5f3f4"]);g(this,"colors",["#b1a7a6","#d3d3d3","#f5f3f4"]);g(this,"isLargeScreen");g(this,"w_top_left_window");g(this,"w_top_right_window",0);g(this,"w_bottom_left_window");g(this,"w_bottom_right_window",0);g(this,"h_top_window");g(this,"h_bottom_window",0);g(this,"h_top_layer",54);g(this,"w_max_window",384);g(this,"h_max_window",200);g(this,"grabberH",!1);g(this,"grabberV",!1);g(this,"PADDING",12);g(this,"BIG_MARGIN",24);g(this,"SMALL_MARGIN",12);g(this,"selectedWidgets",[])}selectWidget(n){if(this.selectedWidgets.includes(n)){var n=this.selectedWidgets.indexOf(n);this.selectedWidgets.splice(n,1),this.fitWindows()}else this.isLargeScreen&&this.selectedWidgets.length<3&&this.selectWidgets.length<this.maxNbrOfWidgets||!this.isLargeScreen&&this.selectedWidgets.length<1?(this.selectedWidgets.push(n),this.fitWindows()):(this.isLargeScreen&&(this.selectedWidgets.length==3||this.selectWidgets.length==this.maxNbrOfWidgets)||!this.isLargeScreen&&this.selectedWidgets.length==1)&&(this.selectedWidgets.splice(this.selectedWidgets.length-1,1),this.selectedWidgets.push(n),this.fitWindows())}fitWindows(){if(window.innerWidth>=768)switch(this.selectedWidgets.length){case 1:this.w_top_left_window=this.maxSingleWidgetWidth!=null?window.innerWidth<=this.maxSingleWidgetWidth?window.innerWidth:this.maxSingleWidgetWidth:window.innerWidth,this.w_top_right_window=0,this.w_bottom_left_window=window.innerWidth,this.w_bottom_right_window=0,this.h_top_window=window.innerHeight-this.h_top_layer,this.h_bottom_window=0;break;case 2:this.w_top_left_window=1/2*window.innerWidth,this.w_top_right_window=window.innerWidth-this.w_top_left_window,this.w_bottom_left_window=window.innerWidth,this.w_bottom_right_window=0,this.h_top_window=window.innerHeight-this.h_top_layer,this.h_bottom_window=0;break;case 3:this.w_top_right_window==0&&(this.w_top_left_window=1/2*window.innerWidth,this.w_top_right_window=window.innerWidth-this.w_top_left_window),this.w_top_right_window>=this.w_max_window?this.w_top_right_window=window.innerWidth-this.w_top_left_window:this.w_top_left_window=window.innerWidth-this.w_top_right_window,this.w_bottom_left_window=window.innerWidth,this.w_bottom_right_window=0,this.h_top_window=1/2*(window.innerHeight-this.h_top_layer),this.h_bottom_window=window.innerHeight-this.h_top_layer-this.h_top_window;break;default:this.w_top_left_window=window.innerWidth,this.w_top_right_window=0,this.w_bottom_left_window=window.innerWidth,this.w_bottom_right_window=0,this.h_top_window=window.innerHeight-this.h_top_layer,this.h_bottom_window=window.innerHeight-this.h_top_layer-this.h_top_window}else switch(this.selectedWidgets.length>1&&(this.selectedWidgets=this.selectedWidgets.slice(0,1)),this.selectedWidgets.length){case 1:this.w_top_left_window=window.innerWidth,this.w_top_right_window=0,this.w_bottom_left_window=window.innerWidth,this.w_bottom_right_window=0,this.h_top_window=window.innerHeight-this.h_top_layer,this.h_bottom_window=window.innerHeight-this.h_top_layer-this.h_top_window;break;case 2:this.w_top_left_window=window.innerWidth,this.w_top_right_window=0,this.w_bottom_left_window=window.innerWidth,this.w_bottom_right_window=0,this.h_top_window=1/2*(window.innerHeight-this.h_top_layer),this.h_bottom_window=window.innerHeight-this.h_top_layer-this.h_top_window;break}}onMouseDownH(n){n.preventDefault(),this.grabberH=!0}onMouseDownV(n){n.preventDefault(),this.grabberV=!0}onMouseMove(n){if(n.preventDefault(),this.grabberH&&this.w_top_left_window>=this.w_max_window&&this.w_top_right_window>=this.w_max_window){var i=n.clientX-this.w_top_left_window;this.w_top_left_window+i>=this.w_max_window&&this.w_top_right_window-i>=this.w_max_window&&(this.w_top_left_window+=i,this.w_top_right_window-=i)}else this.grabberH=!1,this.w_top_left_window<this.w_max_window&&this.isLargeScreen?this.w_top_left_window=this.w_max_window:this.w_top_right_window<this.w_max_window&&this.isLargeScreen&&this.w_top_right_window!=0&&(this.w_top_right_window=this.w_max_window);if(this.selectedWidgets.length>2||!this.isLargeScreen&&this.selectedWidgets.length==2)if(this.grabberV&&this.h_top_window>=this.h_max_window&&this.h_bottom_window>=this.h_max_window){var i=n.clientY-this.h_top_window-56;this.h_top_window+i>=this.h_max_window&&this.h_bottom_window-i>=this.h_max_window&&(this.h_top_window+=i,this.h_bottom_window-=i)}else this.grabberV=!1,this.h_top_window<this.h_max_window&&this.isLargeScreen?this.h_top_window=this.h_max_window:this.h_bottom_window<this.h_max_window&&this.isLargeScreen&&this.h_bottom_window!=0&&(this.h_bottom_window=this.h_max_window)}onMouseUp(){this.grabberH=!1,this.grabberV=!1}ngOnInit(){switch(this.colorTheme){case"blue":this.colors=this.blueTheme;break;case"gray":this.colors=this.grayTheme;break;case"brown":this.colors=this.brownTheme;break;case"pink":this.colors=this.pinkTheme;break}window.innerWidth>=768?this.isLargeScreen=!0:this.isLargeScreen=!1,this.selectedWidgets=this.selectWidgets,this.fitWindows()}ngOnChanges(n){this.selectedWidgets=this.selectWidgets,this.fitWindows()}onResize(){window.innerWidth>=768?this.isLargeScreen=!0:this.isLargeScreen=!1,this.fitWindows()}};g(e,"\u0275fac",function(i){return new(i||e)}),g(e,"\u0275cmp",Vt({type:e,selectors:[["lib-ngx-modular-dash"]],hostBindings:function(i,a){i&1&&Ae("mousemove",function(s){return a.onMouseMove(s)},!1,Pu)("mouseup",function(){return a.onMouseUp()},!1,Pu)("resize",function(s){return a.onResize(s)},!1,Pu)},inputs:{widgetIcons:"widgetIcons",separations:"separations",margins:"margins",selectWidgets:"selectWidgets",maxNbrOfWidgets:"maxNbrOfWidgets",maxSingleWidgetWidth:"maxSingleWidgetWidth",colorTheme:"colorTheme",iconsLeft:"iconsLeft",logo:"logo"},features:[Tn],ngContentSelectors:Yne,decls:23,vars:8,consts:[["t0",""],["t1",""],["t2",""],["t3",""],["t4",""],["t5",""],["t6",""],["t7",""],[1,"w-full","relative","h-screen","overflow-hidden"],[1,"w-full","flex","items-center","z-10","fixed","justify-between","pl-2","h-[54px]"],[1,"flex","mr-0.5"],[1,"cursor-pointer","h-10","w-10","mr-1","rounded-xl","p-0.5","border-2","bg-white","hover:opacity-100","hover:shadow-lg",3,"opacity","border-color"],[1,"max-h-10","w-fit","mr-1"],[1,"cursor-pointer","h-10","w-10","mr-1","rounded-xl","p-0.5","border-2","bg-white","hover:opacity-100","hover:shadow-lg",3,"click"],["alt","",3,"src"],["alt","",1,"max-h-10",3,"src"],[1,"fixed","mt-[54px]","flex-grow","justify-center","flex","flex-col","md:flex-row","w-full"],[1,"overflow-hidden"],[3,"ngTemplateOutlet"],[3,"height"],[1,"relative","flex-grow","flex","flex-col","md:flex-row","w-full"],[1,"absolute","bg-transparent","flex","justify-center","cursor-col-resize","hover:bg-gray-300","hover:opacity-70",3,"left","height","top","width"],[1,"absolute","bg-transparent","flex","justify-center","cursor-col-resize",3,"left","height","top","width"],[1,"absolute","bg-transparent","flex","justify-center","cursor-col-resize","hover:bg-gray-300","hover:opacity-70",3,"mousedown"],[1,"relative","h-full","w-0.5"],[1,"absolute","bg-transparent","flex","justify-center","cursor-col-resize",3,"mousedown"],[1,"absolute","w-full","flex","flex-col","items-center","justify-center","cursor-row-resize","hover:bg-gray-300","hover:opacity-70",3,"top","height"],[1,"absolute","w-full","h-[12px]","bg-transparent","flex","flex-col","justify-center","cursor-row-resize",3,"top"],[1,"absolute","w-full","flex","flex-col","items-center","justify-center","cursor-row-resize","hover:bg-gray-300","hover:opacity-70",3,"mousedown"],[1,"w-full","h-0.5"],[1,"absolute","w-full","h-[12px]","bg-transparent","flex","flex-col","justify-center","cursor-row-resize",3,"mousedown"]],template:function(i,a){i&1&&(q1(Gne),Le(0,Zne,1,0,"ng-template",null,0,Po)(2,Xne,1,0,"ng-template",null,1,Po)(4,Kne,1,0,"ng-template",null,2,Po)(6,Jne,1,0,"ng-template",null,3,Po)(8,Qne,1,0,"ng-template",null,4,Po)(10,eie,1,0,"ng-template",null,5,Po)(12,tie,1,0,"ng-template",null,6,Po)(14,rie,1,0,"ng-template",null,7,Po),G(16,"div",8)(17,"div",9)(18,"div",10),_n(19,nie,2,5,"div",11,Oa),j(),Le(21,iie,2,1,"div",12),j(),Le(22,Pie,23,27),j()),i&2&&($(17),Ft("background-color",a.colors[1])("border-color",a.colors[0])("flex-direction",a.iconsLeft?"row":"row-reverse"),$(2),Sn(a.widgetIcons),$(2),Ve(a.logo!=""?21:-1),$(),Ve(a.selectedWidgets.length>0?22:-1))},dependencies:[Ym,K1],encapsulation:2}));let r=e;return r})();var _b;function Bie(){if(_b==null){let r=typeof document<"u"?document.head:null;_b=!!(r&&(r.createShadowRoot||r.attachShadow))}return _b}function Zp(r){if(Bie()){let e=r.getRootNode?r.getRootNode():null;if(typeof ShadowRoot<"u"&&ShadowRoot&&e instanceof ShadowRoot)return e}return null}function C0(r){return r.composedPath?r.composedPath()[0]:r.target}function Z9(r){return r.buttons===0||r.detail===0}function X9(r){let e=r.touches&&r.touches[0]||r.changedTouches&&r.changedTouches[0];return!!e&&e.identifier===-1&&(e.radiusX==null||e.radiusX===1)&&(e.radiusY==null||e.radiusY===1)}function Xp(r,e=0){return Lie(r)?Number(r):arguments.length===2?e:0}function Lie(r){return!isNaN(parseFloat(r))&&!isNaN(Number(r))}function go(r){return r instanceof li?r.nativeElement:r}function Ys(r,e,t,n,i){let a=parseInt(W1.major),o=parseInt(W1.minor);return a>19||a===19&&o>0||a===0&&o===0?r.listen(e,t,n,i):(e.addEventListener(t,n,i),()=>{e.removeEventListener(t,n,i)})}var Kp=new WeakMap,K9=(()=>{let e=class e{constructor(){g(this,"_appRef");g(this,"_injector",Me(wi));g(this,"_environmentInjector",Me(ws))}load(n){let i=this._appRef=this._appRef||this._injector.get(sf),a=Kp.get(i);a||(a={loaders:new Set,refs:[]},Kp.set(i,a),i.onDestroy(()=>{var o;(o=Kp.get(i))==null||o.refs.forEach(s=>s.destroy()),Kp.delete(i)})),a.loaders.has(n)||(a.loaders.add(n),a.refs.push(X6(n,{environmentInjector:this._environmentInjector})))}};g(e,"\u0275fac",function(i){return new(i||e)}),g(e,"\u0275prov",Ke({token:e,factory:e.\u0275fac,providedIn:"root"}));let r=e;return r})();var Sb;try{Sb=typeof Intl<"u"&&Intl.v8BreakIterator}catch{Sb=!1}var Db=(()=>{let e=class e{constructor(){g(this,"_platformId",Me(Ro));g(this,"isBrowser",this._platformId?J1(this._platformId):typeof document=="object"&&!!document);g(this,"EDGE",this.isBrowser&&/(edge)/i.test(navigator.userAgent));g(this,"TRIDENT",this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent));g(this,"BLINK",this.isBrowser&&!!(window.chrome||Sb)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT);g(this,"WEBKIT",this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT);g(this,"IOS",this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window));g(this,"FIREFOX",this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent));g(this,"ANDROID",this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT);g(this,"SAFARI",this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT)}};g(e,"\u0275fac",function(i){return new(i||e)}),g(e,"\u0275prov",Ke({token:e,factory:e.\u0275fac,providedIn:"root"}));let r=e;return r})();var zie=new ht("cdk-dir-doc",{providedIn:"root",factory:Vie});function Vie(){return Me(Dr)}var Uie=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;function qie(r){let e=(r==null?void 0:r.toLowerCase())||"";return e==="auto"&&typeof navigator<"u"&&(navigator!=null&&navigator.language)?Uie.test(navigator.language)?"rtl":"ltr":e==="rtl"?"rtl":"ltr"}var Cb=(()=>{let e=class e{constructor(){g(this,"value","ltr");g(this,"change",new or);let n=Me(zie,{optional:!0});if(n){let i=n.body?n.body.dir:null,a=n.documentElement?n.documentElement.dir:null;this.value=qie(i||a||"ltr")}}ngOnDestroy(){this.change.complete()}};g(e,"\u0275fac",function(i){return new(i||e)}),g(e,"\u0275prov",Ke({token:e,factory:e.\u0275fac,providedIn:"root"}));let r=e;return r})();var jie=20,J9=(()=>{let e=class e{constructor(){g(this,"_ngZone",Me(zn));g(this,"_platform",Me(Db));g(this,"_renderer",Me(to).createRenderer(null,null));g(this,"_cleanupGlobalListener");g(this,"_scrolled",new Gt);g(this,"_scrolledCount",0);g(this,"scrollContainers",new Map)}register(n){this.scrollContainers.has(n)||this.scrollContainers.set(n,n.elementScrolled().subscribe(()=>this._scrolled.next(n)))}deregister(n){let i=this.scrollContainers.get(n);i&&(i.unsubscribe(),this.scrollContainers.delete(n))}scrolled(n=jie){return this._platform.isBrowser?new Oo(i=>{this._cleanupGlobalListener||(this._cleanupGlobalListener=this._ngZone.runOutsideAngular(()=>this._renderer.listen("document","scroll",()=>this._scrolled.next())));let a=n>0?this._scrolled.pipe(F1(n)).subscribe(i):this._scrolled.subscribe(i);return this._scrolledCount++,()=>{var o;a.unsubscribe(),this._scrolledCount--,this._scrolledCount||((o=this._cleanupGlobalListener)==null||o.call(this),this._cleanupGlobalListener=void 0)}}):At()}ngOnDestroy(){var n;(n=this._cleanupGlobalListener)==null||n.call(this),this._cleanupGlobalListener=void 0,this.scrollContainers.forEach((i,a)=>this.deregister(a)),this._scrolled.complete()}ancestorScrolled(n,i){let a=this.getAncestorScrollContainers(n);return this.scrolled(i).pipe(Ka(o=>!o||a.indexOf(o)>-1))}getAncestorScrollContainers(n){let i=[];return this.scrollContainers.forEach((a,o)=>{this._scrollableContainsElement(o,n)&&i.push(o)}),i}_scrollableContainsElement(n,i){let a=go(i),o=n.getElementRef().nativeElement;do if(a==o)return!0;while(a=a.parentElement);return!1}};g(e,"\u0275fac",function(i){return new(i||e)}),g(e,"\u0275prov",Ke({token:e,factory:e.\u0275fac,providedIn:"root"}));let r=e;return r})();var $ie=20,Q9=(()=>{let e=class e{constructor(){g(this,"_platform",Me(Db));g(this,"_listeners");g(this,"_viewportSize");g(this,"_change",new Gt);g(this,"_document",Me(Dr,{optional:!0}));let n=Me(zn),i=Me(to).createRenderer(null,null);n.runOutsideAngular(()=>{if(this._platform.isBrowser){let a=o=>this._change.next(o);this._listeners=[i.listen("window","resize",a),i.listen("window","orientationchange",a)]}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){var n;(n=this._listeners)==null||n.forEach(i=>i()),this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();let n={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),n}getViewportRect(){let n=this.getViewportScrollPosition(),{width:i,height:a}=this.getViewportSize();return{top:n.top,left:n.left,bottom:n.top+a,right:n.left+i,height:a,width:i}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};let n=this._document,i=this._getWindow(),a=n.documentElement,o=a.getBoundingClientRect(),s=-o.top||n.body.scrollTop||i.scrollY||a.scrollTop||0,l=-o.left||n.body.scrollLeft||i.scrollX||a.scrollLeft||0;return{top:s,left:l}}change(n=$ie){return n>0?this._change.pipe(F1(n)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){let n=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:n.innerWidth,height:n.innerHeight}:{width:0,height:0}}};g(e,"\u0275fac",function(i){return new(i||e)}),g(e,"\u0275prov",Ke({token:e,factory:e.\u0275fac,providedIn:"root"}));let r=e;return r})();var eN=(()=>{let e=class e{};g(e,"\u0275fac",function(i){return new(i||e)}),g(e,"\u0275mod",_i({type:e})),g(e,"\u0275inj",yi({}));let r=e;return r})();var Eb={},tN=(()=>{let e=class e{constructor(){g(this,"_appId",Me(nf))}getId(n){return this._appId!=="ng"&&(n+=this._appId),Eb.hasOwnProperty(n)||(Eb[n]=0),`${n}${Eb[n]++}`}};g(e,"\u0275fac",function(i){return new(i||e)}),g(e,"\u0275prov",Ke({token:e,factory:e.\u0275fac,providedIn:"root"}));let r=e;return r})();function rN(r){return Array.isArray(r)?r:[r]}function vN(r){let e=r.cloneNode(!0),t=e.querySelectorAll("[id]"),n=r.nodeName.toLowerCase();e.removeAttribute("id");for(let i=0;i<t.length;i++)t[i].removeAttribute("id");return n==="canvas"?aN(r,e):(n==="input"||n==="select"||n==="textarea")&&iN(r,e),nN("canvas",r,e,aN),nN("input, textarea, select",r,e,iN),e}function nN(r,e,t,n){let i=e.querySelectorAll(r);if(i.length){let a=t.querySelectorAll(r);for(let o=0;o<i.length;o++)n(i[o],a[o])}}var Hie=0;function iN(r,e){e.type!=="file"&&(e.value=r.value),e.type==="radio"&&e.name&&(e.name=`mat-clone-${e.name}-${Hie++}`)}function aN(r,e){let t=e.getContext("2d");if(t)try{t.drawImage(r,0,0)}catch{}}function kb(r){let e=r.getBoundingClientRect();return{top:e.top,right:e.right,bottom:e.bottom,left:e.left,width:e.width,height:e.height,x:e.x,y:e.y}}function Nb(r,e,t){let{top:n,bottom:i,left:a,right:o}=r;return t>=n&&t<=i&&e>=a&&e<=o}function M0(r,e,t){r.top+=e,r.bottom=r.top+r.height,r.left+=t,r.right=r.left+r.width}function oN(r,e,t,n){let{top:i,right:a,bottom:o,left:s,width:l,height:u}=r,c=l*e,d=u*e;return n>i-d&&n<o+d&&t>s-c&&t<a+c}var Jp=class{constructor(e){g(this,"_document");g(this,"positions",new Map);this._document=e}clear(){this.positions.clear()}cache(e){this.clear(),this.positions.set(this._document,{scrollPosition:this.getViewportScrollPosition()}),e.forEach(t=>{this.positions.set(t,{scrollPosition:{top:t.scrollTop,left:t.scrollLeft},clientRect:kb(t)})})}handleScroll(e){let t=C0(e),n=this.positions.get(t);if(!n)return null;let i=n.scrollPosition,a,o;if(t===this._document){let u=this.getViewportScrollPosition();a=u.top,o=u.left}else a=t.scrollTop,o=t.scrollLeft;let s=i.top-a,l=i.left-o;return this.positions.forEach((u,c)=>{u.clientRect&&t!==c&&t.contains(c)&&M0(u.clientRect,s,l)}),i.top=a,i.left=o,{top:s,left:l}}getViewportScrollPosition(){return{top:window.scrollY,left:window.scrollX}}};function xN(r,e){let t=r.rootNodes;if(t.length===1&&t[0].nodeType===e.ELEMENT_NODE)return t[0];let n=e.createElement("div");return t.forEach(i=>n.appendChild(i)),n}function Pb(r,e,t){for(let n in e)if(e.hasOwnProperty(n)){let i=e[n];i?r.setProperty(n,i,t!=null&&t.has(n)?"important":""):r.removeProperty(n)}return r}function Rc(r,e){let t=e?"":"none";Pb(r.style,{"touch-action":e?"":"none","-webkit-user-drag":e?"":"none","-webkit-tap-highlight-color":e?"":"transparent","user-select":t,"-ms-user-select":t,"-webkit-user-select":t,"-moz-user-select":t})}function sN(r,e,t){Pb(r.style,{position:e?"":"fixed",top:e?"":"0",opacity:e?"":"0",left:e?"":"-999em"},t)}function Qp(r,e){return e&&e!="none"?r+" "+e:r}function lN(r,e){r.style.width=`${e.width}px`,r.style.height=`${e.height}px`,r.style.transform=eg(e.left,e.top)}function eg(r,e){return`translate3d(${Math.round(r)}px, ${Math.round(e)}px, 0)`}function uN(r){let e=r.toLowerCase().indexOf("ms")>-1?1:1e3;return parseFloat(r)*e}function Wie(r){let e=getComputedStyle(r),t=Ab(e,"transition-property"),n=t.find(s=>s==="transform"||s==="all");if(!n)return 0;let i=t.indexOf(n),a=Ab(e,"transition-duration"),o=Ab(e,"transition-delay");return uN(a[i])+uN(o[i])}function Ab(r,e){return r.getPropertyValue(e).split(",").map(n=>n.trim())}var Gie=new Set(["position"]),Tb=class{constructor(e,t,n,i,a,o,s,l,u,c){g(this,"_document");g(this,"_rootElement");g(this,"_direction");g(this,"_initialDomRect");g(this,"_previewTemplate");g(this,"_previewClass");g(this,"_pickupPositionOnPage");g(this,"_initialTransform");g(this,"_zIndex");g(this,"_renderer");g(this,"_previewEmbeddedView");g(this,"_preview");this._document=e,this._rootElement=t,this._direction=n,this._initialDomRect=i,this._previewTemplate=a,this._previewClass=o,this._pickupPositionOnPage=s,this._initialTransform=l,this._zIndex=u,this._renderer=c}get element(){return this._preview}attach(e){this._preview=this._createPreview(),e.appendChild(this._preview),cN(this._preview)&&this._preview.showPopover()}destroy(){var e;this._preview.remove(),(e=this._previewEmbeddedView)==null||e.destroy(),this._preview=this._previewEmbeddedView=null}setTransform(e){this._preview.style.transform=e}getBoundingClientRect(){return this._preview.getBoundingClientRect()}addClass(e){this._preview.classList.add(e)}getTransitionDuration(){return Wie(this._preview)}addEventListener(e,t){return this._renderer.listen(this._preview,e,t)}_createPreview(){let e=this._previewTemplate,t=this._previewClass,n=e?e.template:null,i;if(n&&e){let a=e.matchSize?this._initialDomRect:null,o=e.viewContainer.createEmbeddedView(n,e.context);o.detectChanges(),i=xN(o,this._document),this._previewEmbeddedView=o,e.matchSize?lN(i,a):i.style.transform=eg(this._pickupPositionOnPage.x,this._pickupPositionOnPage.y)}else i=vN(this._rootElement),lN(i,this._initialDomRect),this._initialTransform&&(i.style.transform=this._initialTransform);return Pb(i.style,{"pointer-events":"none",margin:cN(i)?"0 auto 0 0":"0",position:"fixed",top:"0",left:"0","z-index":this._zIndex+""},Gie),Rc(i,!1),i.classList.add("cdk-drag-preview"),i.setAttribute("popover","manual"),i.setAttribute("dir",this._direction),t&&(Array.isArray(t)?t.forEach(a=>i.classList.add(a)):i.classList.add(t)),i}};function cN(r){return"showPopover"in r}var Yie={passive:!0},dN={passive:!1},Zie={passive:!1,capture:!0},Xie=800,fN=new Set(["position"]),Fb=class{constructor(e,t,n,i,a,o,s){g(this,"_config");g(this,"_document");g(this,"_ngZone");g(this,"_viewportRuler");g(this,"_dragDropRegistry");g(this,"_renderer");g(this,"_rootElementCleanups");g(this,"_cleanupShadowRootSelectStart");g(this,"_preview");g(this,"_previewContainer");g(this,"_placeholderRef");g(this,"_placeholder");g(this,"_pickupPositionInElement");g(this,"_pickupPositionOnPage");g(this,"_anchor");g(this,"_passiveTransform",{x:0,y:0});g(this,"_activeTransform",{x:0,y:0});g(this,"_initialTransform");g(this,"_hasStartedDragging",gt(!1));g(this,"_hasMoved");g(this,"_initialContainer");g(this,"_initialIndex");g(this,"_parentPositions");g(this,"_moveEvents",new Gt);g(this,"_pointerDirectionDelta");g(this,"_pointerPositionAtLastDirectionChange");g(this,"_lastKnownPointerPosition");g(this,"_rootElement");g(this,"_ownerSVGElement");g(this,"_rootElementTapHighlight");g(this,"_pointerMoveSubscription",Io.EMPTY);g(this,"_pointerUpSubscription",Io.EMPTY);g(this,"_scrollSubscription",Io.EMPTY);g(this,"_resizeSubscription",Io.EMPTY);g(this,"_lastTouchEventTime");g(this,"_dragStartTime");g(this,"_boundaryElement",null);g(this,"_nativeInteractionsEnabled",!0);g(this,"_initialDomRect");g(this,"_previewRect");g(this,"_boundaryRect");g(this,"_previewTemplate");g(this,"_placeholderTemplate");g(this,"_handles",[]);g(this,"_disabledHandles",new Set);g(this,"_dropContainer");g(this,"_direction","ltr");g(this,"_parentDragRef");g(this,"_cachedShadowRoot");g(this,"lockAxis");g(this,"dragStartDelay",0);g(this,"previewClass");g(this,"scale",1);g(this,"_disabled",!1);g(this,"beforeStarted",new Gt);g(this,"started",new Gt);g(this,"released",new Gt);g(this,"ended",new Gt);g(this,"entered",new Gt);g(this,"exited",new Gt);g(this,"dropped",new Gt);g(this,"moved",this._moveEvents);g(this,"data");g(this,"constrainPosition");g(this,"_pointerDown",e=>{if(this.beforeStarted.next(),this._handles.length){let t=this._getTargetHandle(e);t&&!this._disabledHandles.has(t)&&!this.disabled&&this._initializeDragSequence(t,e)}else this.disabled||this._initializeDragSequence(this._rootElement,e)});g(this,"_pointerMove",e=>{let t=this._getPointerPositionOnPage(e);if(!this._hasStartedDragging()){let i=Math.abs(t.x-this._pickupPositionOnPage.x),a=Math.abs(t.y-this._pickupPositionOnPage.y);if(i+a>=this._config.dragStartThreshold){let s=Date.now()>=this._dragStartTime+this._getDragStartDelay(e),l=this._dropContainer;if(!s){this._endDragSequence(e);return}(!l||!l.isDragging()&&!l.isReceiving())&&(e.cancelable&&e.preventDefault(),this._hasStartedDragging.set(!0),this._ngZone.run(()=>this._startDragSequence(e)))}return}e.cancelable&&e.preventDefault();let n=this._getConstrainedPointerPosition(t);if(this._hasMoved=!0,this._lastKnownPointerPosition=t,this._updatePointerDirectionDelta(n),this._dropContainer)this._updateActiveDropContainer(n,t);else{let i=this.constrainPosition?this._initialDomRect:this._pickupPositionOnPage,a=this._activeTransform;a.x=n.x-i.x+this._passiveTransform.x,a.y=n.y-i.y+this._passiveTransform.y,this._applyRootElementTransform(a.x,a.y)}this._moveEvents.observers.length&&this._ngZone.run(()=>{this._moveEvents.next({source:this,pointerPosition:n,event:e,distance:this._getDragDistance(n),delta:this._pointerDirectionDelta})})});g(this,"_pointerUp",e=>{this._endDragSequence(e)});g(this,"_nativeDragStart",e=>{if(this._handles.length){let t=this._getTargetHandle(e);t&&!this._disabledHandles.has(t)&&!this.disabled&&e.preventDefault()}else this.disabled||e.preventDefault()});this._config=t,this._document=n,this._ngZone=i,this._viewportRuler=a,this._dragDropRegistry=o,this._renderer=s,this.withRootElement(e).withParent(t.parentDragRef||null),this._parentPositions=new Jp(n),o.registerDragItem(this)}get disabled(){return this._disabled||!!(this._dropContainer&&this._dropContainer.disabled)}set disabled(e){e!==this._disabled&&(this._disabled=e,this._toggleNativeDragInteractions(),this._handles.forEach(t=>Rc(t,e)))}getPlaceholderElement(){return this._placeholder}getRootElement(){return this._rootElement}getVisibleElement(){return this.isDragging()?this.getPlaceholderElement():this.getRootElement()}withHandles(e){this._handles=e.map(n=>go(n)),this._handles.forEach(n=>Rc(n,this.disabled)),this._toggleNativeDragInteractions();let t=new Set;return this._disabledHandles.forEach(n=>{this._handles.indexOf(n)>-1&&t.add(n)}),this._disabledHandles=t,this}withPreviewTemplate(e){return this._previewTemplate=e,this}withPlaceholderTemplate(e){return this._placeholderTemplate=e,this}withRootElement(e){let t=go(e);return t!==this._rootElement&&(this._removeRootElementListeners(),this._rootElementCleanups=this._ngZone.runOutsideAngular(()=>[Ys(this._renderer,t,"mousedown",this._pointerDown,dN),Ys(this._renderer,t,"touchstart",this._pointerDown,Yie),Ys(this._renderer,t,"dragstart",this._nativeDragStart,dN)]),this._initialTransform=void 0,this._rootElement=t),typeof SVGElement<"u"&&this._rootElement instanceof SVGElement&&(this._ownerSVGElement=this._rootElement.ownerSVGElement),this}withBoundaryElement(e){return this._boundaryElement=e?go(e):null,this._resizeSubscription.unsubscribe(),e&&(this._resizeSubscription=this._viewportRuler.change(10).subscribe(()=>this._containInsideBoundaryOnResize())),this}withParent(e){return this._parentDragRef=e,this}dispose(){var e,t;this._removeRootElementListeners(),this.isDragging()&&((e=this._rootElement)==null||e.remove()),(t=this._anchor)==null||t.remove(),this._destroyPreview(),this._destroyPlaceholder(),this._dragDropRegistry.removeDragItem(this),this._removeListeners(),this.beforeStarted.complete(),this.started.complete(),this.released.complete(),this.ended.complete(),this.entered.complete(),this.exited.complete(),this.dropped.complete(),this._moveEvents.complete(),this._handles=[],this._disabledHandles.clear(),this._dropContainer=void 0,this._resizeSubscription.unsubscribe(),this._parentPositions.clear(),this._boundaryElement=this._rootElement=this._ownerSVGElement=this._placeholderTemplate=this._previewTemplate=this._anchor=this._parentDragRef=null}isDragging(){return this._hasStartedDragging()&&this._dragDropRegistry.isDragging(this)}reset(){this._rootElement.style.transform=this._initialTransform||"",this._activeTransform={x:0,y:0},this._passiveTransform={x:0,y:0}}disableHandle(e){!this._disabledHandles.has(e)&&this._handles.indexOf(e)>-1&&(this._disabledHandles.add(e),Rc(e,!0))}enableHandle(e){this._disabledHandles.has(e)&&(this._disabledHandles.delete(e),Rc(e,this.disabled))}withDirection(e){return this._direction=e,this}_withDropContainer(e){this._dropContainer=e}getFreeDragPosition(){let e=this.isDragging()?this._activeTransform:this._passiveTransform;return{x:e.x,y:e.y}}setFreeDragPosition(e){return this._activeTransform={x:0,y:0},this._passiveTransform.x=e.x,this._passiveTransform.y=e.y,this._dropContainer||this._applyRootElementTransform(e.x,e.y),this}withPreviewContainer(e){return this._previewContainer=e,this}_sortFromLastPointerPosition(){let e=this._lastKnownPointerPosition;e&&this._dropContainer&&this._updateActiveDropContainer(this._getConstrainedPointerPosition(e),e)}_removeListeners(){var e;this._pointerMoveSubscription.unsubscribe(),this._pointerUpSubscription.unsubscribe(),this._scrollSubscription.unsubscribe(),(e=this._cleanupShadowRootSelectStart)==null||e.call(this),this._cleanupShadowRootSelectStart=void 0}_destroyPreview(){var e;(e=this._preview)==null||e.destroy(),this._preview=null}_destroyPlaceholder(){var e,t;(e=this._placeholder)==null||e.remove(),(t=this._placeholderRef)==null||t.destroy(),this._placeholder=this._placeholderRef=null}_endDragSequence(e){if(this._dragDropRegistry.isDragging(this)&&(this._removeListeners(),this._dragDropRegistry.stopDragging(this),this._toggleNativeDragInteractions(),this._handles&&(this._rootElement.style.webkitTapHighlightColor=this._rootElementTapHighlight),!!this._hasStartedDragging()))if(this.released.next({source:this,event:e}),this._dropContainer)this._dropContainer._stopScrolling(),this._animatePreviewToPlaceholder().then(()=>{this._cleanupDragArtifacts(e),this._cleanupCachedDimensions(),this._dragDropRegistry.stopDragging(this)});else{this._passiveTransform.x=this._activeTransform.x;let t=this._getPointerPositionOnPage(e);this._passiveTransform.y=this._activeTransform.y,this._ngZone.run(()=>{this.ended.next({source:this,distance:this._getDragDistance(t),dropPoint:t,event:e})}),this._cleanupCachedDimensions(),this._dragDropRegistry.stopDragging(this)}}_startDragSequence(e){E0(e)&&(this._lastTouchEventTime=Date.now()),this._toggleNativeDragInteractions();let t=this._getShadowRoot(),n=this._dropContainer;if(t&&this._ngZone.runOutsideAngular(()=>{this._cleanupShadowRootSelectStart=Ys(this._renderer,t,"selectstart",Kie,Zie)}),n){let i=this._rootElement,a=i.parentNode,o=this._placeholder=this._createPlaceholderElement(),s=this._anchor=this._anchor||this._document.createComment("");a.insertBefore(s,i),this._initialTransform=i.style.transform||"",this._preview=new Tb(this._document,this._rootElement,this._direction,this._initialDomRect,this._previewTemplate||null,this.previewClass||null,this._pickupPositionOnPage,this._initialTransform,this._config.zIndex||1e3,this._renderer),this._preview.attach(this._getPreviewInsertionPoint(a,t)),sN(i,!1,fN),this._document.body.appendChild(a.replaceChild(o,i)),this.started.next({source:this,event:e}),n.start(),this._initialContainer=n,this._initialIndex=n.getItemIndex(this)}else this.started.next({source:this,event:e}),this._initialContainer=this._initialIndex=void 0;this._parentPositions.cache(n?n.getScrollableParents():[])}_initializeDragSequence(e,t){this._parentDragRef&&t.stopPropagation();let n=this.isDragging(),i=E0(t),a=!i&&t.button!==0,o=this._rootElement,s=C0(t),l=!i&&this._lastTouchEventTime&&this._lastTouchEventTime+Xie>Date.now(),u=i?X9(t):Z9(t);if(s&&s.draggable&&t.type==="mousedown"&&t.preventDefault(),n||a||l||u)return;if(this._handles.length){let f=o.style;this._rootElementTapHighlight=f.webkitTapHighlightColor||"",f.webkitTapHighlightColor="transparent"}this._hasMoved=!1,this._hasStartedDragging.set(this._hasMoved),this._removeListeners(),this._initialDomRect=this._rootElement.getBoundingClientRect(),this._pointerMoveSubscription=this._dragDropRegistry.pointerMove.subscribe(this._pointerMove),this._pointerUpSubscription=this._dragDropRegistry.pointerUp.subscribe(this._pointerUp),this._scrollSubscription=this._dragDropRegistry.scrolled(this._getShadowRoot()).subscribe(f=>this._updateOnScroll(f)),this._boundaryElement&&(this._boundaryRect=kb(this._boundaryElement));let c=this._previewTemplate;this._pickupPositionInElement=c&&c.template&&!c.matchSize?{x:0,y:0}:this._getPointerPositionInElement(this._initialDomRect,e,t);let d=this._pickupPositionOnPage=this._lastKnownPointerPosition=this._getPointerPositionOnPage(t);this._pointerDirectionDelta={x:0,y:0},this._pointerPositionAtLastDirectionChange={x:d.x,y:d.y},this._dragStartTime=Date.now(),this._dragDropRegistry.startDragging(this,t)}_cleanupDragArtifacts(e){sN(this._rootElement,!0,fN),this._anchor.parentNode.replaceChild(this._rootElement,this._anchor),this._destroyPreview(),this._destroyPlaceholder(),this._initialDomRect=this._boundaryRect=this._previewRect=this._initialTransform=void 0,this._ngZone.run(()=>{let t=this._dropContainer,n=t.getItemIndex(this),i=this._getPointerPositionOnPage(e),a=this._getDragDistance(i),o=t._isOverContainer(i.x,i.y);this.ended.next({source:this,distance:a,dropPoint:i,event:e}),this.dropped.next({item:this,currentIndex:n,previousIndex:this._initialIndex,container:t,previousContainer:this._initialContainer,isPointerOverContainer:o,distance:a,dropPoint:i,event:e}),t.drop(this,n,this._initialIndex,this._initialContainer,o,a,i,e),this._dropContainer=this._initialContainer})}_updateActiveDropContainer({x:e,y:t},{x:n,y:i}){let a=this._initialContainer._getSiblingContainerFromPosition(this,e,t);!a&&this._dropContainer!==this._initialContainer&&this._initialContainer._isOverContainer(e,t)&&(a=this._initialContainer),a&&a!==this._dropContainer&&this._ngZone.run(()=>{this.exited.next({item:this,container:this._dropContainer}),this._dropContainer.exit(this),this._dropContainer=a,this._dropContainer.enter(this,e,t,a===this._initialContainer&&a.sortingDisabled?this._initialIndex:void 0),this.entered.next({item:this,container:a,currentIndex:a.getItemIndex(this)})}),this.isDragging()&&(this._dropContainer._startScrollingIfNecessary(n,i),this._dropContainer._sortItem(this,e,t,this._pointerDirectionDelta),this.constrainPosition?this._applyPreviewTransform(e,t):this._applyPreviewTransform(e-this._pickupPositionInElement.x,t-this._pickupPositionInElement.y))}_animatePreviewToPlaceholder(){if(!this._hasMoved)return Promise.resolve();let e=this._placeholder.getBoundingClientRect();this._preview.addClass("cdk-drag-animating"),this._applyPreviewTransform(e.left,e.top);let t=this._preview.getTransitionDuration();return t===0?Promise.resolve():this._ngZone.runOutsideAngular(()=>new Promise(n=>{let i=s=>{(!s||this._preview&&C0(s)===this._preview.element&&s.propertyName==="transform")&&(o(),n(),clearTimeout(a))},a=setTimeout(i,t*1.5),o=this._preview.addEventListener("transitionend",i)}))}_createPlaceholderElement(){let e=this._placeholderTemplate,t=e?e.template:null,n;return t?(this._placeholderRef=e.viewContainer.createEmbeddedView(t,e.context),this._placeholderRef.detectChanges(),n=xN(this._placeholderRef,this._document)):n=vN(this._rootElement),n.style.pointerEvents="none",n.classList.add("cdk-drag-placeholder"),n}_getPointerPositionInElement(e,t,n){let i=t===this._rootElement?null:t,a=i?i.getBoundingClientRect():e,o=E0(n)?n.targetTouches[0]:n,s=this._getViewportScrollPosition(),l=o.pageX-a.left-s.left,u=o.pageY-a.top-s.top;return{x:a.left-e.left+l,y:a.top-e.top+u}}_getPointerPositionOnPage(e){let t=this._getViewportScrollPosition(),n=E0(e)?e.touches[0]||e.changedTouches[0]||{pageX:0,pageY:0}:e,i=n.pageX-t.left,a=n.pageY-t.top;if(this._ownerSVGElement){let o=this._ownerSVGElement.getScreenCTM();if(o){let s=this._ownerSVGElement.createSVGPoint();return s.x=i,s.y=a,s.matrixTransform(o.inverse())}}return{x:i,y:a}}_getConstrainedPointerPosition(e){let t=this._dropContainer?this._dropContainer.lockAxis:null,{x:n,y:i}=this.constrainPosition?this.constrainPosition(e,this,this._initialDomRect,this._pickupPositionInElement):e;if(this.lockAxis==="x"||t==="x"?i=this._pickupPositionOnPage.y-(this.constrainPosition?this._pickupPositionInElement.y:0):(this.lockAxis==="y"||t==="y")&&(n=this._pickupPositionOnPage.x-(this.constrainPosition?this._pickupPositionInElement.x:0)),this._boundaryRect){let{x:a,y:o}=this.constrainPosition?{x:0,y:0}:this._pickupPositionInElement,s=this._boundaryRect,{width:l,height:u}=this._getPreviewRect(),c=s.top+o,d=s.bottom-(u-o),f=s.left+a,m=s.right-(l-a);n=mN(n,f,m),i=mN(i,c,d)}return{x:n,y:i}}_updatePointerDirectionDelta(e){let{x:t,y:n}=e,i=this._pointerDirectionDelta,a=this._pointerPositionAtLastDirectionChange,o=Math.abs(t-a.x),s=Math.abs(n-a.y);return o>this._config.pointerDirectionChangeThreshold&&(i.x=t>a.x?1:-1,a.x=t),s>this._config.pointerDirectionChangeThreshold&&(i.y=n>a.y?1:-1,a.y=n),i}_toggleNativeDragInteractions(){if(!this._rootElement||!this._handles)return;let e=this._handles.length>0||!this.isDragging();e!==this._nativeInteractionsEnabled&&(this._nativeInteractionsEnabled=e,Rc(this._rootElement,e))}_removeRootElementListeners(){var e;(e=this._rootElementCleanups)==null||e.forEach(t=>t()),this._rootElementCleanups=void 0}_applyRootElementTransform(e,t){let n=1/this.scale,i=eg(e*n,t*n),a=this._rootElement.style;this._initialTransform==null&&(this._initialTransform=a.transform&&a.transform!="none"?a.transform:""),a.transform=Qp(i,this._initialTransform)}_applyPreviewTransform(e,t){var a;let n=(a=this._previewTemplate)!=null&&a.template?void 0:this._initialTransform,i=eg(e,t);this._preview.setTransform(Qp(i,n))}_getDragDistance(e){let t=this._pickupPositionOnPage;return t?{x:e.x-t.x,y:e.y-t.y}:{x:0,y:0}}_cleanupCachedDimensions(){this._boundaryRect=this._previewRect=void 0,this._parentPositions.clear()}_containInsideBoundaryOnResize(){let{x:e,y:t}=this._passiveTransform;if(e===0&&t===0||this.isDragging()||!this._boundaryElement)return;let n=this._rootElement.getBoundingClientRect(),i=this._boundaryElement.getBoundingClientRect();if(i.width===0&&i.height===0||n.width===0&&n.height===0)return;let a=i.left-n.left,o=n.right-i.right,s=i.top-n.top,l=n.bottom-i.bottom;i.width>n.width?(a>0&&(e+=a),o>0&&(e-=o)):e=0,i.height>n.height?(s>0&&(t+=s),l>0&&(t-=l)):t=0,(e!==this._passiveTransform.x||t!==this._passiveTransform.y)&&this.setFreeDragPosition({y:t,x:e})}_getDragStartDelay(e){let t=this.dragStartDelay;return typeof t=="number"?t:E0(e)?t.touch:t?t.mouse:0}_updateOnScroll(e){let t=this._parentPositions.handleScroll(e);if(t){let n=C0(e);this._boundaryRect&&n!==this._boundaryElement&&n.contains(this._boundaryElement)&&M0(this._boundaryRect,t.top,t.left),this._pickupPositionOnPage.x+=t.left,this._pickupPositionOnPage.y+=t.top,this._dropContainer||(this._activeTransform.x-=t.left,this._activeTransform.y-=t.top,this._applyRootElementTransform(this._activeTransform.x,this._activeTransform.y))}}_getViewportScrollPosition(){var e;return((e=this._parentPositions.positions.get(this._document))==null?void 0:e.scrollPosition)||this._parentPositions.getViewportScrollPosition()}_getShadowRoot(){return this._cachedShadowRoot===void 0&&(this._cachedShadowRoot=Zp(this._rootElement)),this._cachedShadowRoot}_getPreviewInsertionPoint(e,t){let n=this._previewContainer||"global";if(n==="parent")return e;if(n==="global"){let i=this._document;return t||i.fullscreenElement||i.webkitFullscreenElement||i.mozFullScreenElement||i.msFullscreenElement||i.body}return go(n)}_getPreviewRect(){return(!this._previewRect||!this._previewRect.width&&!this._previewRect.height)&&(this._previewRect=this._preview?this._preview.getBoundingClientRect():this._initialDomRect),this._previewRect}_getTargetHandle(e){return this._handles.find(t=>e.target&&(e.target===t||t.contains(e.target)))}};function mN(r,e,t){return Math.max(e,Math.min(t,r))}function E0(r){return r.type[0]==="t"}function Kie(r){r.preventDefault()}function kc(r,e,t){let n=hN(e,r.length-1),i=hN(t,r.length-1);if(n===i)return;let a=r[n],o=i<n?-1:1;for(let s=n;s!==i;s+=o)r[s]=r[s+o];r[i]=a}function hN(r,e){return Math.max(0,Math.min(e,r))}var tg=class{constructor(e){g(this,"_dragDropRegistry");g(this,"_element");g(this,"_sortPredicate");g(this,"_itemPositions",[]);g(this,"_activeDraggables");g(this,"orientation","vertical");g(this,"direction");g(this,"_previousSwap",{drag:null,delta:0,overlaps:!1});this._dragDropRegistry=e}start(e){this.withItems(e)}sort(e,t,n,i){let a=this._itemPositions,o=this._getItemIndexFromPointerPosition(e,t,n,i);if(o===-1&&a.length>0)return null;let s=this.orientation==="horizontal",l=a.findIndex(v=>v.drag===e),u=a[o],c=a[l].clientRect,d=u.clientRect,f=l>o?1:-1,m=this._getItemOffsetPx(c,d,f),p=this._getSiblingOffsetPx(l,a,f),h=a.slice();return kc(a,l,o),a.forEach((v,y)=>{if(h[y]===v)return;let S=v.drag===e,x=S?m:p,_=S?e.getPlaceholderElement():v.drag.getRootElement();v.offset+=x;let w=Math.round(v.offset*(1/v.drag.scale));s?(_.style.transform=Qp(`translate3d(${w}px, 0, 0)`,v.initialTransform),M0(v.clientRect,0,x)):(_.style.transform=Qp(`translate3d(0, ${w}px, 0)`,v.initialTransform),M0(v.clientRect,x,0))}),this._previousSwap.overlaps=Nb(d,t,n),this._previousSwap.drag=u.drag,this._previousSwap.delta=s?i.x:i.y,{previousIndex:l,currentIndex:o}}enter(e,t,n,i){let a=i==null||i<0?this._getItemIndexFromPointerPosition(e,t,n):i,o=this._activeDraggables,s=o.indexOf(e),l=e.getPlaceholderElement(),u=o[a];if(u===e&&(u=o[a+1]),!u&&(a==null||a===-1||a<o.length-1)&&this._shouldEnterAsFirstChild(t,n)&&(u=o[0]),s>-1&&o.splice(s,1),u&&!this._dragDropRegistry.isDragging(u)){let c=u.getRootElement();c.parentElement.insertBefore(l,c),o.splice(a,0,e)}else this._element.appendChild(l),o.push(e);l.style.transform="",this._cacheItemPositions()}withItems(e){this._activeDraggables=e.slice(),this._cacheItemPositions()}withSortPredicate(e){this._sortPredicate=e}reset(){var e;(e=this._activeDraggables)==null||e.forEach(t=>{var i;let n=t.getRootElement();if(n){let a=(i=this._itemPositions.find(o=>o.drag===t))==null?void 0:i.initialTransform;n.style.transform=a||""}}),this._itemPositions=[],this._activeDraggables=[],this._previousSwap.drag=null,this._previousSwap.delta=0,this._previousSwap.overlaps=!1}getActiveItemsSnapshot(){return this._activeDraggables}getItemIndex(e){return(this.orientation==="horizontal"&&this.direction==="rtl"?this._itemPositions.slice().reverse():this._itemPositions).findIndex(n=>n.drag===e)}updateOnScroll(e,t){this._itemPositions.forEach(({clientRect:n})=>{M0(n,e,t)}),this._itemPositions.forEach(({drag:n})=>{this._dragDropRegistry.isDragging(n)&&n._sortFromLastPointerPosition()})}withElementContainer(e){this._element=e}_cacheItemPositions(){let e=this.orientation==="horizontal";this._itemPositions=this._activeDraggables.map(t=>{let n=t.getVisibleElement();return{drag:t,offset:0,initialTransform:n.style.transform||"",clientRect:kb(n)}}).sort((t,n)=>e?t.clientRect.left-n.clientRect.left:t.clientRect.top-n.clientRect.top)}_getItemOffsetPx(e,t,n){let i=this.orientation==="horizontal",a=i?t.left-e.left:t.top-e.top;return n===-1&&(a+=i?t.width-e.width:t.height-e.height),a}_getSiblingOffsetPx(e,t,n){let i=this.orientation==="horizontal",a=t[e].clientRect,o=t[e+n*-1],s=a[i?"width":"height"]*n;if(o){let l=i?"left":"top",u=i?"right":"bottom";n===-1?s-=o.clientRect[l]-a[u]:s+=a[l]-o.clientRect[u]}return s}_shouldEnterAsFirstChild(e,t){if(!this._activeDraggables.length)return!1;let n=this._itemPositions,i=this.orientation==="horizontal";if(n[0].drag!==this._activeDraggables[0]){let o=n[n.length-1].clientRect;return i?e>=o.right:t>=o.bottom}else{let o=n[0].clientRect;return i?e<=o.left:t<=o.top}}_getItemIndexFromPointerPosition(e,t,n,i){let a=this.orientation==="horizontal",o=this._itemPositions.findIndex(({drag:s,clientRect:l})=>{if(s===e)return!1;if(i){let u=a?i.x:i.y;if(s===this._previousSwap.drag&&this._previousSwap.overlaps&&u===this._previousSwap.delta)return!1}return a?t>=Math.floor(l.left)&&t<Math.floor(l.right):n>=Math.floor(l.top)&&n<Math.floor(l.bottom)});return o===-1||!this._sortPredicate(o,e)?-1:o}},Ib=class{constructor(e,t){g(this,"_document");g(this,"_dragDropRegistry");g(this,"_element");g(this,"_sortPredicate");g(this,"_rootNode");g(this,"_activeItems");g(this,"_previousSwap",{drag:null,deltaX:0,deltaY:0,overlaps:!1});g(this,"_relatedNodes",[]);this._document=e,this._dragDropRegistry=t}start(e){let t=this._element.childNodes;this._relatedNodes=[];for(let n=0;n<t.length;n++){let i=t[n];this._relatedNodes.push([i,i.nextSibling])}this.withItems(e)}sort(e,t,n,i){let a=this._getItemIndexFromPointerPosition(e,t,n),o=this._previousSwap;if(a===-1||this._activeItems[a]===e)return null;let s=this._activeItems[a];if(o.drag===s&&o.overlaps&&o.deltaX===i.x&&o.deltaY===i.y)return null;let l=this.getItemIndex(e),u=e.getPlaceholderElement(),c=s.getRootElement();a>l?c.after(u):c.before(u),kc(this._activeItems,l,a);let d=this._getRootNode().elementFromPoint(t,n);return o.deltaX=i.x,o.deltaY=i.y,o.drag=s,o.overlaps=c===d||c.contains(d),{previousIndex:l,currentIndex:a}}enter(e,t,n,i){let a=i==null||i<0?this._getItemIndexFromPointerPosition(e,t,n):i;a===-1&&(a=this._getClosestItemIndexToPointer(e,t,n));let o=this._activeItems[a],s=this._activeItems.indexOf(e);s>-1&&this._activeItems.splice(s,1),o&&!this._dragDropRegistry.isDragging(o)?(this._activeItems.splice(a,0,e),o.getRootElement().before(e.getPlaceholderElement())):(this._activeItems.push(e),this._element.appendChild(e.getPlaceholderElement()))}withItems(e){this._activeItems=e.slice()}withSortPredicate(e){this._sortPredicate=e}reset(){let e=this._element,t=this._previousSwap;for(let n=this._relatedNodes.length-1;n>-1;n--){let[i,a]=this._relatedNodes[n];i.parentNode===e&&i.nextSibling!==a&&(a===null?e.appendChild(i):a.parentNode===e&&e.insertBefore(i,a))}this._relatedNodes=[],this._activeItems=[],t.drag=null,t.deltaX=t.deltaY=0,t.overlaps=!1}getActiveItemsSnapshot(){return this._activeItems}getItemIndex(e){return this._activeItems.indexOf(e)}updateOnScroll(){this._activeItems.forEach(e=>{this._dragDropRegistry.isDragging(e)&&e._sortFromLastPointerPosition()})}withElementContainer(e){e!==this._element&&(this._element=e,this._rootNode=void 0)}_getItemIndexFromPointerPosition(e,t,n){let i=this._getRootNode().elementFromPoint(Math.floor(t),Math.floor(n)),a=i?this._activeItems.findIndex(o=>{let s=o.getRootElement();return i===s||s.contains(i)}):-1;return a===-1||!this._sortPredicate(a,e)?-1:a}_getRootNode(){return this._rootNode||(this._rootNode=Zp(this._element)||this._document),this._rootNode}_getClosestItemIndexToPointer(e,t,n){if(this._activeItems.length===0)return-1;if(this._activeItems.length===1)return 0;let i=1/0,a=-1;for(let o=0;o<this._activeItems.length;o++){let s=this._activeItems[o];if(s!==e){let{x:l,y:u}=s.getRootElement().getBoundingClientRect(),c=Math.hypot(t-l,n-u);c<i&&(i=c,a=o)}}return a}},pN=.05,yN=.05,ma=function(r){return r[r.NONE=0]="NONE",r[r.UP=1]="UP",r[r.DOWN=2]="DOWN",r}(ma||{}),ui=function(r){return r[r.NONE=0]="NONE",r[r.LEFT=1]="LEFT",r[r.RIGHT=2]="RIGHT",r}(ui||{}),Ob=class{constructor(e,t,n,i,a){g(this,"_dragDropRegistry");g(this,"_ngZone");g(this,"_viewportRuler");g(this,"element");g(this,"disabled",!1);g(this,"sortingDisabled",!1);g(this,"lockAxis");g(this,"autoScrollDisabled",!1);g(this,"autoScrollStep",2);g(this,"enterPredicate",()=>!0);g(this,"sortPredicate",()=>!0);g(this,"beforeStarted",new Gt);g(this,"entered",new Gt);g(this,"exited",new Gt);g(this,"dropped",new Gt);g(this,"sorted",new Gt);g(this,"receivingStarted",new Gt);g(this,"receivingStopped",new Gt);g(this,"data");g(this,"_container");g(this,"_isDragging",!1);g(this,"_parentPositions");g(this,"_sortStrategy");g(this,"_domRect");g(this,"_draggables",[]);g(this,"_siblings",[]);g(this,"_activeSiblings",new Set);g(this,"_viewportScrollSubscription",Io.EMPTY);g(this,"_verticalScrollDirection",ma.NONE);g(this,"_horizontalScrollDirection",ui.NONE);g(this,"_scrollNode");g(this,"_stopScrollTimers",new Gt);g(this,"_cachedShadowRoot",null);g(this,"_document");g(this,"_scrollableElements",[]);g(this,"_initialScrollSnap");g(this,"_direction","ltr");g(this,"_startScrollInterval",()=>{this._stopScrolling(),w6(0,M1).pipe(eo(this._stopScrollTimers)).subscribe(()=>{let e=this._scrollNode,t=this.autoScrollStep;this._verticalScrollDirection===ma.UP?e.scrollBy(0,-t):this._verticalScrollDirection===ma.DOWN&&e.scrollBy(0,t),this._horizontalScrollDirection===ui.LEFT?e.scrollBy(-t,0):this._horizontalScrollDirection===ui.RIGHT&&e.scrollBy(t,0)})});this._dragDropRegistry=t,this._ngZone=i,this._viewportRuler=a;let o=this.element=go(e);this._document=n,this.withOrientation("vertical").withElementContainer(o),t.registerDropContainer(this),this._parentPositions=new Jp(n)}dispose(){this._stopScrolling(),this._stopScrollTimers.complete(),this._viewportScrollSubscription.unsubscribe(),this.beforeStarted.complete(),this.entered.complete(),this.exited.complete(),this.dropped.complete(),this.sorted.complete(),this.receivingStarted.complete(),this.receivingStopped.complete(),this._activeSiblings.clear(),this._scrollNode=null,this._parentPositions.clear(),this._dragDropRegistry.removeDropContainer(this)}isDragging(){return this._isDragging}start(){this._draggingStarted(),this._notifyReceivingSiblings()}enter(e,t,n,i){this._draggingStarted(),i==null&&this.sortingDisabled&&(i=this._draggables.indexOf(e)),this._sortStrategy.enter(e,t,n,i),this._cacheParentPositions(),this._notifyReceivingSiblings(),this.entered.next({item:e,container:this,currentIndex:this.getItemIndex(e)})}exit(e){this._reset(),this.exited.next({item:e,container:this})}drop(e,t,n,i,a,o,s,l={}){this._reset(),this.dropped.next({item:e,currentIndex:t,previousIndex:n,container:this,previousContainer:i,isPointerOverContainer:a,distance:o,dropPoint:s,event:l})}withItems(e){let t=this._draggables;return this._draggables=e,e.forEach(n=>n._withDropContainer(this)),this.isDragging()&&(t.filter(i=>i.isDragging()).every(i=>e.indexOf(i)===-1)?this._reset():this._sortStrategy.withItems(this._draggables)),this}withDirection(e){return this._direction=e,this._sortStrategy instanceof tg&&(this._sortStrategy.direction=e),this}connectedTo(e){return this._siblings=e.slice(),this}withOrientation(e){if(e==="mixed")this._sortStrategy=new Ib(this._document,this._dragDropRegistry);else{let t=new tg(this._dragDropRegistry);t.direction=this._direction,t.orientation=e,this._sortStrategy=t}return this._sortStrategy.withElementContainer(this._container),this._sortStrategy.withSortPredicate((t,n)=>this.sortPredicate(t,n,this)),this}withScrollableParents(e){let t=this._container;return this._scrollableElements=e.indexOf(t)===-1?[t,...e]:e.slice(),this}withElementContainer(e){if(e===this._container)return this;let t=go(this.element),n=this._scrollableElements.indexOf(this._container),i=this._scrollableElements.indexOf(e);return n>-1&&this._scrollableElements.splice(n,1),i>-1&&this._scrollableElements.splice(i,1),this._sortStrategy&&this._sortStrategy.withElementContainer(e),this._cachedShadowRoot=null,this._scrollableElements.unshift(e),this._container=e,this}getScrollableParents(){return this._scrollableElements}getItemIndex(e){return this._isDragging?this._sortStrategy.getItemIndex(e):this._draggables.indexOf(e)}isReceiving(){return this._activeSiblings.size>0}_sortItem(e,t,n,i){if(this.sortingDisabled||!this._domRect||!oN(this._domRect,pN,t,n))return;let a=this._sortStrategy.sort(e,t,n,i);a&&this.sorted.next({previousIndex:a.previousIndex,currentIndex:a.currentIndex,container:this,item:e})}_startScrollingIfNecessary(e,t){if(this.autoScrollDisabled)return;let n,i=ma.NONE,a=ui.NONE;if(this._parentPositions.positions.forEach((o,s)=>{s===this._document||!o.clientRect||n||oN(o.clientRect,pN,e,t)&&([i,a]=Jie(s,o.clientRect,this._direction,e,t),(i||a)&&(n=s))}),!i&&!a){let{width:o,height:s}=this._viewportRuler.getViewportSize(),l={width:o,height:s,top:0,right:o,bottom:s,left:0};i=bN(l,t),a=wN(l,e),n=window}n&&(i!==this._verticalScrollDirection||a!==this._horizontalScrollDirection||n!==this._scrollNode)&&(this._verticalScrollDirection=i,this._horizontalScrollDirection=a,this._scrollNode=n,(i||a)&&n?this._ngZone.runOutsideAngular(this._startScrollInterval):this._stopScrolling())}_stopScrolling(){this._stopScrollTimers.next()}_draggingStarted(){let e=this._container.style;this.beforeStarted.next(),this._isDragging=!0,this._initialScrollSnap=e.msScrollSnapType||e.scrollSnapType||"",e.scrollSnapType=e.msScrollSnapType="none",this._sortStrategy.start(this._draggables),this._cacheParentPositions(),this._viewportScrollSubscription.unsubscribe(),this._listenToScrollEvents()}_cacheParentPositions(){this._parentPositions.cache(this._scrollableElements),this._domRect=this._parentPositions.positions.get(this._container).clientRect}_reset(){this._isDragging=!1;let e=this._container.style;e.scrollSnapType=e.msScrollSnapType=this._initialScrollSnap,this._siblings.forEach(t=>t._stopReceiving(this)),this._sortStrategy.reset(),this._stopScrolling(),this._viewportScrollSubscription.unsubscribe(),this._parentPositions.clear()}_isOverContainer(e,t){return this._domRect!=null&&Nb(this._domRect,e,t)}_getSiblingContainerFromPosition(e,t,n){return this._siblings.find(i=>i._canReceive(e,t,n))}_canReceive(e,t,n){if(!this._domRect||!Nb(this._domRect,t,n)||!this.enterPredicate(e,this))return!1;let i=this._getShadowRoot().elementFromPoint(t,n);return i?i===this._container||this._container.contains(i):!1}_startReceiving(e,t){let n=this._activeSiblings;!n.has(e)&&t.every(i=>this.enterPredicate(i,this)||this._draggables.indexOf(i)>-1)&&(n.add(e),this._cacheParentPositions(),this._listenToScrollEvents(),this.receivingStarted.next({initiator:e,receiver:this,items:t}))}_stopReceiving(e){this._activeSiblings.delete(e),this._viewportScrollSubscription.unsubscribe(),this.receivingStopped.next({initiator:e,receiver:this})}_listenToScrollEvents(){this._viewportScrollSubscription=this._dragDropRegistry.scrolled(this._getShadowRoot()).subscribe(e=>{if(this.isDragging()){let t=this._parentPositions.handleScroll(e);t&&this._sortStrategy.updateOnScroll(t.top,t.left)}else this.isReceiving()&&this._cacheParentPositions()})}_getShadowRoot(){if(!this._cachedShadowRoot){let e=Zp(this._container);this._cachedShadowRoot=e||this._document}return this._cachedShadowRoot}_notifyReceivingSiblings(){let e=this._sortStrategy.getActiveItemsSnapshot().filter(t=>t.isDragging());this._siblings.forEach(t=>t._startReceiving(this,e))}};function bN(r,e){let{top:t,bottom:n,height:i}=r,a=i*yN;return e>=t-a&&e<=t+a?ma.UP:e>=n-a&&e<=n+a?ma.DOWN:ma.NONE}function wN(r,e){let{left:t,right:n,width:i}=r,a=i*yN;return e>=t-a&&e<=t+a?ui.LEFT:e>=n-a&&e<=n+a?ui.RIGHT:ui.NONE}function Jie(r,e,t,n,i){let a=bN(e,i),o=wN(e,n),s=ma.NONE,l=ui.NONE;if(a){let u=r.scrollTop;a===ma.UP?u>0&&(s=ma.UP):r.scrollHeight-u>r.clientHeight&&(s=ma.DOWN)}if(o){let u=r.scrollLeft;t==="rtl"?o===ui.RIGHT?u<0&&(l=ui.RIGHT):r.scrollWidth+u>r.clientWidth&&(l=ui.LEFT):o===ui.LEFT?u>0&&(l=ui.LEFT):r.scrollWidth-u>r.clientWidth&&(l=ui.RIGHT)}return[s,l]}var A0={capture:!0},Mb={passive:!1,capture:!0},Qie=(()=>{let e=class e{};g(e,"\u0275fac",function(i){return new(i||e)}),g(e,"\u0275cmp",Vt({type:e,selectors:[["ng-component"]],hostAttrs:["cdk-drag-resets-container",""],decls:0,vars:0,template:function(i,a){},styles:[`@layer cdk-resets{.cdk-drag-preview{background:none;border:none;padding:0;color:inherit;inset:auto}}.cdk-drag-placeholder *,.cdk-drag-preview *{pointer-events:none !important}
`],encapsulation:2,changeDetection:0}));let r=e;return r})(),Bb=(()=>{let e=class e{constructor(){g(this,"_ngZone",Me(zn));g(this,"_document",Me(Dr));g(this,"_styleLoader",Me(K9));g(this,"_renderer",Me(to).createRenderer(null,null));g(this,"_cleanupDocumentTouchmove");g(this,"_dropInstances",new Set);g(this,"_dragInstances",new Set);g(this,"_activeDragInstances",gt([]));g(this,"_globalListeners");g(this,"_draggingPredicate",n=>n.isDragging());g(this,"_domNodesToDirectives",null);g(this,"pointerMove",new Gt);g(this,"pointerUp",new Gt);g(this,"scroll",new Gt);g(this,"_preventDefaultWhileDragging",n=>{this._activeDragInstances().length>0&&n.preventDefault()});g(this,"_persistentTouchmoveListener",n=>{this._activeDragInstances().length>0&&(this._activeDragInstances().some(this._draggingPredicate)&&n.preventDefault(),this.pointerMove.next(n))})}registerDropContainer(n){this._dropInstances.has(n)||this._dropInstances.add(n)}registerDragItem(n){this._dragInstances.add(n),this._dragInstances.size===1&&this._ngZone.runOutsideAngular(()=>{var i;(i=this._cleanupDocumentTouchmove)==null||i.call(this),this._cleanupDocumentTouchmove=Ys(this._renderer,this._document,"touchmove",this._persistentTouchmoveListener,Mb)})}removeDropContainer(n){this._dropInstances.delete(n)}removeDragItem(n){var i;this._dragInstances.delete(n),this.stopDragging(n),this._dragInstances.size===0&&((i=this._cleanupDocumentTouchmove)==null||i.call(this))}startDragging(n,i){if(!(this._activeDragInstances().indexOf(n)>-1)&&(this._styleLoader.load(Qie),this._activeDragInstances.update(a=>[...a,n]),this._activeDragInstances().length===1)){let a=i.type.startsWith("touch"),o=l=>this.pointerUp.next(l),s=[["scroll",l=>this.scroll.next(l),A0],["selectstart",this._preventDefaultWhileDragging,Mb]];a?s.push(["touchend",o,A0],["touchcancel",o,A0]):s.push(["mouseup",o,A0]),a||s.push(["mousemove",l=>this.pointerMove.next(l),Mb]),this._ngZone.runOutsideAngular(()=>{this._globalListeners=s.map(([l,u,c])=>Ys(this._renderer,this._document,l,u,c))})}}stopDragging(n){this._activeDragInstances.update(i=>{let a=i.indexOf(n);return a>-1?(i.splice(a,1),[...i]):i}),this._activeDragInstances().length===0&&this._clearGlobalListeners()}isDragging(n){return this._activeDragInstances().indexOf(n)>-1}scrolled(n){let i=[this.scroll];return n&&n!==this._document&&i.push(new Oo(a=>this._ngZone.runOutsideAngular(()=>{let o=Ys(this._renderer,n,"scroll",s=>{this._activeDragInstances().length&&a.next(s)},A0);return()=>{o()}}))),Lm(...i)}registerDirectiveNode(n,i){var a;(a=this._domNodesToDirectives)!=null||(this._domNodesToDirectives=new WeakMap),this._domNodesToDirectives.set(n,i)}removeDirectiveNode(n){var i;(i=this._domNodesToDirectives)==null||i.delete(n)}getDragDirectiveForNode(n){var i;return((i=this._domNodesToDirectives)==null?void 0:i.get(n))||null}ngOnDestroy(){this._dragInstances.forEach(n=>this.removeDragItem(n)),this._dropInstances.forEach(n=>this.removeDropContainer(n)),this._domNodesToDirectives=null,this._clearGlobalListeners(),this.pointerMove.complete(),this.pointerUp.complete()}_clearGlobalListeners(){var n;(n=this._globalListeners)==null||n.forEach(i=>i()),this._globalListeners=void 0}};g(e,"\u0275fac",function(i){return new(i||e)}),g(e,"\u0275prov",Ke({token:e,factory:e.\u0275fac,providedIn:"root"}));let r=e;return r})(),eae={dragStartThreshold:5,pointerDirectionChangeThreshold:5},Lb=(()=>{let e=class e{constructor(){g(this,"_document",Me(Dr));g(this,"_ngZone",Me(zn));g(this,"_viewportRuler",Me(Q9));g(this,"_dragDropRegistry",Me(Bb));g(this,"_renderer",Me(to).createRenderer(null,null))}createDrag(n,i=eae){return new Fb(n,i,this._document,this._ngZone,this._viewportRuler,this._dragDropRegistry,this._renderer)}createDropList(n){return new Ob(n,this._dragDropRegistry,this._document,this._ngZone,this._viewportRuler)}};g(e,"\u0275fac",function(i){return new(i||e)}),g(e,"\u0275prov",Ke({token:e,factory:e.\u0275fac,providedIn:"root"}));let r=e;return r})(),Rb=new ht("CDK_DRAG_PARENT");var _N=new ht("CdkDragHandle"),SN=(()=>{let e=class e{constructor(){g(this,"element",Me(li));g(this,"_parentDrag",Me(Rb,{optional:!0,skipSelf:!0}));g(this,"_dragDropRegistry",Me(Bb));g(this,"_stateChanges",new Gt);g(this,"_disabled",!1);var n;(n=this._parentDrag)==null||n._addHandle(this)}get disabled(){return this._disabled}set disabled(n){this._disabled=n,this._stateChanges.next(this)}ngAfterViewInit(){if(!this._parentDrag){let n=this.element.nativeElement.parentElement;for(;n;){let i=this._dragDropRegistry.getDragDirectiveForNode(n);if(i){this._parentDrag=i,i._addHandle(this);break}n=n.parentElement}}}ngOnDestroy(){var n;(n=this._parentDrag)==null||n._removeHandle(this),this._stateChanges.complete()}};g(e,"\u0275fac",function(i){return new(i||e)}),g(e,"\u0275dir",Tr({type:e,selectors:[["","cdkDragHandle",""]],hostAttrs:[1,"cdk-drag-handle"],inputs:{disabled:[2,"cdkDragHandleDisabled","disabled",io]},features:[na([{provide:_N,useExisting:e}])]}));let r=e;return r})(),DN=new ht("CDK_DRAG_CONFIG"),CN=new ht("CdkDropList"),EN=(()=>{let e=class e{constructor(){g(this,"element",Me(li));g(this,"dropContainer",Me(CN,{optional:!0,skipSelf:!0}));g(this,"_ngZone",Me(zn));g(this,"_viewContainerRef",Me(ko));g(this,"_dir",Me(Cb,{optional:!0}));g(this,"_changeDetectorRef",Me(ia));g(this,"_selfHandle",Me(_N,{optional:!0,self:!0}));g(this,"_parentDrag",Me(Rb,{optional:!0,skipSelf:!0}));g(this,"_dragDropRegistry",Me(Bb));g(this,"_destroyed",new Gt);g(this,"_handles",new Yn([]));g(this,"_previewTemplate");g(this,"_placeholderTemplate");g(this,"_dragRef");g(this,"data");g(this,"lockAxis");g(this,"rootElementSelector");g(this,"boundaryElement");g(this,"dragStartDelay");g(this,"freeDragPosition");g(this,"_disabled");g(this,"constrainPosition");g(this,"previewClass");g(this,"previewContainer");g(this,"scale",1);g(this,"started",new or);g(this,"released",new or);g(this,"ended",new or);g(this,"entered",new or);g(this,"exited",new or);g(this,"dropped",new or);g(this,"moved",new Oo(n=>{let i=this._dragRef.moved.pipe(Ht(a=>({source:this,pointerPosition:a.pointerPosition,event:a.event,delta:a.delta,distance:a.distance}))).subscribe(n);return()=>{i.unsubscribe()}}));g(this,"_injector",Me(wi));let n=this.dropContainer,i=Me(DN,{optional:!0}),a=Me(Lb);this._dragRef=a.createDrag(this.element,{dragStartThreshold:i&&i.dragStartThreshold!=null?i.dragStartThreshold:5,pointerDirectionChangeThreshold:i&&i.pointerDirectionChangeThreshold!=null?i.pointerDirectionChangeThreshold:5,zIndex:i==null?void 0:i.zIndex}),this._dragRef.data=this,this._dragDropRegistry.registerDirectiveNode(this.element.nativeElement,this),i&&this._assignDefaults(i),n&&(this._dragRef._withDropContainer(n._dropListRef),n.addItem(this),n._dropListRef.beforeStarted.pipe(eo(this._destroyed)).subscribe(()=>{this._dragRef.scale=this.scale})),this._syncInputs(this._dragRef),this._handleEvents(this._dragRef)}get disabled(){return this._disabled||!!(this.dropContainer&&this.dropContainer.disabled)}set disabled(n){this._disabled=n,this._dragRef.disabled=this._disabled}getPlaceholderElement(){return this._dragRef.getPlaceholderElement()}getRootElement(){return this._dragRef.getRootElement()}reset(){this._dragRef.reset()}getFreeDragPosition(){return this._dragRef.getFreeDragPosition()}setFreeDragPosition(n){this._dragRef.setFreeDragPosition(n)}ngAfterViewInit(){Vm(()=>{this._updateRootElement(),this._setupHandlesListener(),this._dragRef.scale=this.scale,this.freeDragPosition&&this._dragRef.setFreeDragPosition(this.freeDragPosition)},{injector:this._injector})}ngOnChanges(n){let i=n.rootElementSelector,a=n.freeDragPosition;i&&!i.firstChange&&this._updateRootElement(),this._dragRef.scale=this.scale,a&&!a.firstChange&&this.freeDragPosition&&this._dragRef.setFreeDragPosition(this.freeDragPosition)}ngOnDestroy(){this.dropContainer&&this.dropContainer.removeItem(this),this._dragDropRegistry.removeDirectiveNode(this.element.nativeElement),this._ngZone.runOutsideAngular(()=>{this._handles.complete(),this._destroyed.next(),this._destroyed.complete(),this._dragRef.dispose()})}_addHandle(n){let i=this._handles.getValue();i.push(n),this._handles.next(i)}_removeHandle(n){let i=this._handles.getValue(),a=i.indexOf(n);a>-1&&(i.splice(a,1),this._handles.next(i))}_setPreviewTemplate(n){this._previewTemplate=n}_resetPreviewTemplate(n){n===this._previewTemplate&&(this._previewTemplate=null)}_setPlaceholderTemplate(n){this._placeholderTemplate=n}_resetPlaceholderTemplate(n){n===this._placeholderTemplate&&(this._placeholderTemplate=null)}_updateRootElement(){var a;let n=this.element.nativeElement,i=n;this.rootElementSelector&&(i=n.closest!==void 0?n.closest(this.rootElementSelector):(a=n.parentElement)==null?void 0:a.closest(this.rootElementSelector)),this._dragRef.withRootElement(i||n)}_getBoundaryElement(){let n=this.boundaryElement;return n?typeof n=="string"?this.element.nativeElement.closest(n):go(n):null}_syncInputs(n){n.beforeStarted.subscribe(()=>{if(!n.isDragging()){let i=this._dir,a=this.dragStartDelay,o=this._placeholderTemplate?{template:this._placeholderTemplate.templateRef,context:this._placeholderTemplate.data,viewContainer:this._viewContainerRef}:null,s=this._previewTemplate?{template:this._previewTemplate.templateRef,context:this._previewTemplate.data,matchSize:this._previewTemplate.matchSize,viewContainer:this._viewContainerRef}:null;n.disabled=this.disabled,n.lockAxis=this.lockAxis,n.scale=this.scale,n.dragStartDelay=typeof a=="object"&&a?a:Xp(a),n.constrainPosition=this.constrainPosition,n.previewClass=this.previewClass,n.withBoundaryElement(this._getBoundaryElement()).withPlaceholderTemplate(o).withPreviewTemplate(s).withPreviewContainer(this.previewContainer||"global"),i&&n.withDirection(i.value)}}),n.beforeStarted.pipe(Qa(1)).subscribe(()=>{if(this._parentDrag){n.withParent(this._parentDrag._dragRef);return}let i=this.element.nativeElement.parentElement;for(;i;){let a=this._dragDropRegistry.getDragDirectiveForNode(i);if(a){n.withParent(a._dragRef);break}i=i.parentElement}})}_handleEvents(n){n.started.subscribe(i=>{this.started.emit({source:this,event:i.event}),this._changeDetectorRef.markForCheck()}),n.released.subscribe(i=>{this.released.emit({source:this,event:i.event})}),n.ended.subscribe(i=>{this.ended.emit({source:this,distance:i.distance,dropPoint:i.dropPoint,event:i.event}),this._changeDetectorRef.markForCheck()}),n.entered.subscribe(i=>{this.entered.emit({container:i.container.data,item:this,currentIndex:i.currentIndex})}),n.exited.subscribe(i=>{this.exited.emit({container:i.container.data,item:this})}),n.dropped.subscribe(i=>{this.dropped.emit({previousIndex:i.previousIndex,currentIndex:i.currentIndex,previousContainer:i.previousContainer.data,container:i.container.data,isPointerOverContainer:i.isPointerOverContainer,item:this,distance:i.distance,dropPoint:i.dropPoint,event:i.event})})}_assignDefaults(n){let{lockAxis:i,dragStartDelay:a,constrainPosition:o,previewClass:s,boundaryElement:l,draggingDisabled:u,rootElementSelector:c,previewContainer:d}=n;this.disabled=u==null?!1:u,this.dragStartDelay=a||0,i&&(this.lockAxis=i),o&&(this.constrainPosition=o),s&&(this.previewClass=s),l&&(this.boundaryElement=l),c&&(this.rootElementSelector=c),d&&(this.previewContainer=d)}_setupHandlesListener(){this._handles.pipe(hn(n=>{let i=n.map(a=>a.element);this._selfHandle&&this.rootElementSelector&&i.push(this.element),this._dragRef.withHandles(i)}),mn(n=>Lm(...n.map(i=>i._stateChanges.pipe(Ou(i))))),eo(this._destroyed)).subscribe(n=>{let i=this._dragRef,a=n.element.nativeElement;n.disabled?i.disableHandle(a):i.enableHandle(a)})}};g(e,"\u0275fac",function(i){return new(i||e)}),g(e,"\u0275dir",Tr({type:e,selectors:[["","cdkDrag",""]],hostAttrs:[1,"cdk-drag"],hostVars:4,hostBindings:function(i,a){i&2&&Fl("cdk-drag-disabled",a.disabled)("cdk-drag-dragging",a._dragRef.isDragging())},inputs:{data:[0,"cdkDragData","data"],lockAxis:[0,"cdkDragLockAxis","lockAxis"],rootElementSelector:[0,"cdkDragRootElement","rootElementSelector"],boundaryElement:[0,"cdkDragBoundary","boundaryElement"],dragStartDelay:[0,"cdkDragStartDelay","dragStartDelay"],freeDragPosition:[0,"cdkDragFreeDragPosition","freeDragPosition"],disabled:[2,"cdkDragDisabled","disabled",io],constrainPosition:[0,"cdkDragConstrainPosition","constrainPosition"],previewClass:[0,"cdkDragPreviewClass","previewClass"],previewContainer:[0,"cdkDragPreviewContainer","previewContainer"],scale:[2,"cdkDragScale","scale",Z6]},outputs:{started:"cdkDragStarted",released:"cdkDragReleased",ended:"cdkDragEnded",entered:"cdkDragEntered",exited:"cdkDragExited",dropped:"cdkDragDropped",moved:"cdkDragMoved"},exportAs:["cdkDrag"],features:[na([{provide:Rb,useExisting:e}]),Tn]}));let r=e;return r})(),gN=new ht("CdkDropListGroup");var rg=(()=>{let e=class e{constructor(){g(this,"element",Me(li));g(this,"_changeDetectorRef",Me(ia));g(this,"_scrollDispatcher",Me(J9));g(this,"_dir",Me(Cb,{optional:!0}));g(this,"_group",Me(gN,{optional:!0,skipSelf:!0}));g(this,"_latestSortedRefs");g(this,"_destroyed",new Gt);g(this,"_scrollableParentsResolved");g(this,"_dropListRef");g(this,"connectedTo",[]);g(this,"data");g(this,"orientation");g(this,"id",Me(tN).getId("cdk-drop-list-"));g(this,"lockAxis");g(this,"_disabled");g(this,"sortingDisabled");g(this,"enterPredicate",()=>!0);g(this,"sortPredicate",()=>!0);g(this,"autoScrollDisabled");g(this,"autoScrollStep");g(this,"elementContainerSelector");g(this,"dropped",new or);g(this,"entered",new or);g(this,"exited",new or);g(this,"sorted",new or);g(this,"_unsortedItems",new Set);let n=Me(Lb),i=Me(DN,{optional:!0});this._dropListRef=n.createDropList(this.element),this._dropListRef.data=this,i&&this._assignDefaults(i),this._dropListRef.enterPredicate=(a,o)=>this.enterPredicate(a.data,o.data),this._dropListRef.sortPredicate=(a,o,s)=>this.sortPredicate(a,o.data,s.data),this._setupInputSyncSubscription(this._dropListRef),this._handleEvents(this._dropListRef),e._dropLists.push(this),this._group&&this._group._items.add(this)}get disabled(){return this._disabled||!!this._group&&this._group.disabled}set disabled(n){this._dropListRef.disabled=this._disabled=n}addItem(n){this._unsortedItems.add(n),this._dropListRef.isDragging()&&this._syncItemsWithRef(this.getSortedItems().map(i=>i._dragRef))}removeItem(n){if(this._unsortedItems.delete(n),this._latestSortedRefs){let i=this._latestSortedRefs.indexOf(n._dragRef);i>-1&&(this._latestSortedRefs.splice(i,1),this._syncItemsWithRef(this._latestSortedRefs))}}getSortedItems(){return Array.from(this._unsortedItems).sort((n,i)=>n._dragRef.getVisibleElement().compareDocumentPosition(i._dragRef.getVisibleElement())&Node.DOCUMENT_POSITION_FOLLOWING?-1:1)}ngOnDestroy(){let n=e._dropLists.indexOf(this);n>-1&&e._dropLists.splice(n,1),this._group&&this._group._items.delete(this),this._latestSortedRefs=void 0,this._unsortedItems.clear(),this._dropListRef.dispose(),this._destroyed.next(),this._destroyed.complete()}_setupInputSyncSubscription(n){this._dir&&this._dir.change.pipe(Ou(this._dir.value),eo(this._destroyed)).subscribe(i=>n.withDirection(i)),n.beforeStarted.subscribe(()=>{let i=rN(this.connectedTo).map(a=>{if(typeof a=="string"){let o=e._dropLists.find(s=>s.id===a);return o}return a});if(this._group&&this._group._items.forEach(a=>{i.indexOf(a)===-1&&i.push(a)}),!this._scrollableParentsResolved){let a=this._scrollDispatcher.getAncestorScrollContainers(this.element).map(o=>o.getElementRef().nativeElement);this._dropListRef.withScrollableParents(a),this._scrollableParentsResolved=!0}if(this.elementContainerSelector){let a=this.element.nativeElement.querySelector(this.elementContainerSelector);n.withElementContainer(a)}n.disabled=this.disabled,n.lockAxis=this.lockAxis,n.sortingDisabled=this.sortingDisabled,n.autoScrollDisabled=this.autoScrollDisabled,n.autoScrollStep=Xp(this.autoScrollStep,2),n.connectedTo(i.filter(a=>a&&a!==this).map(a=>a._dropListRef)).withOrientation(this.orientation)})}_handleEvents(n){n.beforeStarted.subscribe(()=>{this._syncItemsWithRef(this.getSortedItems().map(i=>i._dragRef)),this._changeDetectorRef.markForCheck()}),n.entered.subscribe(i=>{this.entered.emit({container:this,item:i.item.data,currentIndex:i.currentIndex})}),n.exited.subscribe(i=>{this.exited.emit({container:this,item:i.item.data}),this._changeDetectorRef.markForCheck()}),n.sorted.subscribe(i=>{this.sorted.emit({previousIndex:i.previousIndex,currentIndex:i.currentIndex,container:this,item:i.item.data})}),n.dropped.subscribe(i=>{this.dropped.emit({previousIndex:i.previousIndex,currentIndex:i.currentIndex,previousContainer:i.previousContainer.data,container:i.container.data,item:i.item.data,isPointerOverContainer:i.isPointerOverContainer,distance:i.distance,dropPoint:i.dropPoint,event:i.event}),this._changeDetectorRef.markForCheck()}),Lm(n.receivingStarted,n.receivingStopped).subscribe(()=>this._changeDetectorRef.markForCheck())}_assignDefaults(n){let{lockAxis:i,draggingDisabled:a,sortingDisabled:o,listAutoScrollDisabled:s,listOrientation:l}=n;this.disabled=a==null?!1:a,this.sortingDisabled=o==null?!1:o,this.autoScrollDisabled=s==null?!1:s,this.orientation=l||"vertical",i&&(this.lockAxis=i)}_syncItemsWithRef(n){this._latestSortedRefs=n,this._dropListRef.withItems(n)}};g(e,"_dropLists",[]),g(e,"\u0275fac",function(i){return new(i||e)}),g(e,"\u0275dir",Tr({type:e,selectors:[["","cdkDropList",""],["cdk-drop-list"]],hostAttrs:[1,"cdk-drop-list"],hostVars:7,hostBindings:function(i,a){i&2&&(qm("id",a.id),Fl("cdk-drop-list-disabled",a.disabled)("cdk-drop-list-dragging",a._dropListRef.isDragging())("cdk-drop-list-receiving",a._dropListRef.isReceiving()))},inputs:{connectedTo:[0,"cdkDropListConnectedTo","connectedTo"],data:[0,"cdkDropListData","data"],orientation:[0,"cdkDropListOrientation","orientation"],id:"id",lockAxis:[0,"cdkDropListLockAxis","lockAxis"],disabled:[2,"cdkDropListDisabled","disabled",io],sortingDisabled:[2,"cdkDropListSortingDisabled","sortingDisabled",io],enterPredicate:[0,"cdkDropListEnterPredicate","enterPredicate"],sortPredicate:[0,"cdkDropListSortPredicate","sortPredicate"],autoScrollDisabled:[2,"cdkDropListAutoScrollDisabled","autoScrollDisabled",io],autoScrollStep:[0,"cdkDropListAutoScrollStep","autoScrollStep"],elementContainerSelector:[0,"cdkDropListElementContainer","elementContainerSelector"]},outputs:{dropped:"cdkDropListDropped",entered:"cdkDropListEntered",exited:"cdkDropListExited",sorted:"cdkDropListSorted"},exportAs:["cdkDropList"],features:[na([{provide:gN,useValue:void 0},{provide:CN,useExisting:e}])]}));let r=e;return r})();var Pc=(()=>{let e=class e{};g(e,"\u0275fac",function(i){return new(i||e)}),g(e,"\u0275mod",_i({type:e})),g(e,"\u0275inj",yi({providers:[Lb],imports:[eN]}));let r=e;return r})();function kr(){return kr=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var n in t)({}).hasOwnProperty.call(t,n)&&(r[n]=t[n])}return r},kr.apply(null,arguments)}var zb={relTol:1e-12,absTol:1e-15,matrix:"Matrix",number:"number",numberFallback:"number",precision:64,predictable:!1,randomSeed:null};function Ar(r,e){if(N0(r,e))return r[e];throw typeof r[e]=="function"&&ng(r,e)?new Error('Cannot access method "'+e+'" as a property'):new Error('No access to property "'+e+'"')}function vo(r,e,t){if(N0(r,e))return r[e]=t,t;throw new Error('No access to property "'+e+'"')}function N0(r,e){return!tae(r)&&!Array.isArray(r)?!1:nt(rae,e)?!0:!(e in Object.prototype||e in Function.prototype)}function MN(r,e){if(!ng(r,e))throw new Error('No access to method "'+e+'"');return r[e]}function ng(r,e){return r==null||typeof r[e]!="function"||nt(r,e)&&Object.getPrototypeOf&&e in Object.getPrototypeOf(r)?!1:nt(nae,e)?!0:!(e in Object.prototype||e in Function.prototype)}function tae(r){return typeof r=="object"&&r&&r.constructor===Object}var rae={length:!0,name:!0},nae={toString:!0,valueOf:!0,toLocaleString:!0};var Zs=class{constructor(e){this.wrappedObject=e,this[Symbol.iterator]=this.entries}keys(){return Object.keys(this.wrappedObject).filter(e=>this.has(e)).values()}get(e){return Ar(this.wrappedObject,e)}set(e,t){return vo(this.wrappedObject,e,t),this}has(e){return N0(this.wrappedObject,e)&&e in this.wrappedObject}entries(){return NN(this.keys(),e=>[e,this.get(e)])}forEach(e){for(var t of this.keys())e(this.get(t),t,this)}delete(e){N0(this.wrappedObject,e)&&delete this.wrappedObject[e]}clear(){for(var e of this.keys())this.delete(e)}get size(){return Object.keys(this.wrappedObject).length}},Bc=class{constructor(e,t,n){this.a=e,this.b=t,this.bKeys=n,this[Symbol.iterator]=this.entries}get(e){return this.bKeys.has(e)?this.b.get(e):this.a.get(e)}set(e,t){return this.bKeys.has(e)?this.b.set(e,t):this.a.set(e,t),this}has(e){return this.b.has(e)||this.a.has(e)}keys(){return new Set([...this.a.keys(),...this.b.keys()])[Symbol.iterator]()}entries(){return NN(this.keys(),e=>[e,this.get(e)])}forEach(e){for(var t of this.keys())e(this.get(t),t,this)}delete(e){return this.bKeys.has(e)?this.b.delete(e):this.a.delete(e)}clear(){this.a.clear(),this.b.clear()}get size(){return[...this.keys()].length}};function NN(r,e){return{next:()=>{var t=r.next();return t.done?t:{value:e(t.value),done:!1}}}}function Xs(){return new Map}function Jo(r){if(!r)return Xs();if(ig(r))return r;if(Ks(r))return new Zs(r);throw new Error("createMap can create maps from objects or Maps")}function TN(r){if(r instanceof Zs)return r.wrappedObject;var e={};for(var t of r.keys()){var n=r.get(t);vo(e,t,n)}return e}function ft(r){return typeof r=="number"}function st(r){return!r||typeof r!="object"||typeof r.constructor!="function"?!1:r.isBigNumber===!0&&typeof r.constructor.prototype=="object"&&r.constructor.prototype.isBigNumber===!0||typeof r.constructor.isDecimal=="function"&&r.constructor.isDecimal(r)===!0}function Js(r){return typeof r=="bigint"}function ci(r){return r&&typeof r=="object"&&Object.getPrototypeOf(r).isComplex===!0||!1}function Qo(r){return r&&typeof r=="object"&&Object.getPrototypeOf(r).isFraction===!0||!1}function qn(r){return r&&r.constructor.prototype.isUnit===!0||!1}function Wr(r){return typeof r=="string"}var Yt=Array.isArray;function Je(r){return r&&r.constructor.prototype.isMatrix===!0||!1}function Jr(r){return Array.isArray(r)||Je(r)}function ou(r){return r&&r.isDenseMatrix&&r.constructor.prototype.isMatrix===!0||!1}function La(r){return r&&r.isSparseMatrix&&r.constructor.prototype.isMatrix===!0||!1}function Lc(r){return r&&r.constructor.prototype.isRange===!0||!1}function Qs(r){return r&&r.constructor.prototype.isIndex===!0||!1}function FN(r){return typeof r=="boolean"}function IN(r){return r&&r.constructor.prototype.isResultSet===!0||!1}function ag(r){return r&&r.constructor.prototype.isHelp===!0||!1}function ON(r){return typeof r=="function"}function RN(r){return r instanceof Date}function kN(r){return r instanceof RegExp}function Ks(r){return!!(r&&typeof r=="object"&&r.constructor===Object&&!ci(r)&&!Qo(r))}function ig(r){return r?r instanceof Map||r instanceof Zs||typeof r.set=="function"&&typeof r.get=="function"&&typeof r.keys=="function"&&typeof r.has=="function":!1}function PN(r){return r===null}function BN(r){return r===void 0}function Hi(r){return r&&r.isAccessorNode===!0&&r.constructor.prototype.isNode===!0||!1}function jn(r){return r&&r.isArrayNode===!0&&r.constructor.prototype.isNode===!0||!1}function LN(r){return r&&r.isAssignmentNode===!0&&r.constructor.prototype.isNode===!0||!1}function zN(r){return r&&r.isBlockNode===!0&&r.constructor.prototype.isNode===!0||!1}function VN(r){return r&&r.isConditionalNode===!0&&r.constructor.prototype.isNode===!0||!1}function It(r){return r&&r.isConstantNode===!0&&r.constructor.prototype.isNode===!0||!1}function T0(r){return It(r)||wr(r)&&r.args.length===1&&It(r.args[0])&&"-+~".includes(r.op)}function xo(r){return r&&r.isFunctionAssignmentNode===!0&&r.constructor.prototype.isNode===!0||!1}function di(r){return r&&r.isFunctionNode===!0&&r.constructor.prototype.isNode===!0||!1}function ha(r){return r&&r.isIndexNode===!0&&r.constructor.prototype.isNode===!0||!1}function Rt(r){return r&&r.isNode===!0&&r.constructor.prototype.isNode===!0||!1}function el(r){return r&&r.isObjectNode===!0&&r.constructor.prototype.isNode===!0||!1}function wr(r){return r&&r.isOperatorNode===!0&&r.constructor.prototype.isNode===!0||!1}function $n(r){return r&&r.isParenthesisNode===!0&&r.constructor.prototype.isNode===!0||!1}function UN(r){return r&&r.isRangeNode===!0&&r.constructor.prototype.isNode===!0||!1}function qN(r){return r&&r.isRelationalNode===!0&&r.constructor.prototype.isNode===!0||!1}function pr(r){return r&&r.isSymbolNode===!0&&r.constructor.prototype.isNode===!0||!1}function og(r){return r&&r.constructor.prototype.isChain===!0||!1}function zt(r){var e=typeof r;return e==="object"?r===null?"null":st(r)?"BigNumber":r.constructor&&r.constructor.name?r.constructor.name:"Object":e}function dt(r){var e=typeof r;if(e==="number"||e==="bigint"||e==="string"||e==="boolean"||r===null||r===void 0)return r;if(typeof r.clone=="function")return r.clone();if(Array.isArray(r))return r.map(function(t){return dt(t)});if(r instanceof Date)return new Date(r.valueOf());if(st(r))return r;if(Ks(r))return iae(r,dt);if(e==="function")return r;throw new TypeError("Cannot clone: unknown type of value (value: ".concat(r,")"))}function iae(r,e){var t={};for(var n in r)nt(r,n)&&(t[n]=e(r[n]));return t}function sg(r,e){for(var t in e)nt(e,t)&&(r[t]=e[t]);return r}function Fi(r,e){var t,n,i;if(Array.isArray(r)){if(!Array.isArray(e)||r.length!==e.length)return!1;for(n=0,i=r.length;n<i;n++)if(!Fi(r[n],e[n]))return!1;return!0}else{if(typeof r=="function")return r===e;if(r instanceof Object){if(Array.isArray(e)||!(e instanceof Object))return!1;for(t in r)if(!(t in e)||!Fi(r[t],e[t]))return!1;for(t in e)if(!(t in r))return!1;return!0}else return r===e}}function jN(r,e,t){var n=!0,i;Object.defineProperty(r,e,{get:function(){return n&&(i=t(),n=!1),i},set:function(o){i=o,n=!1},configurable:!0,enumerable:!0})}function nt(r,e){return r&&Object.hasOwnProperty.call(r,e)}function $N(r,e){for(var t={},n=0;n<e.length;n++){var i=e[n],a=r[i];a!==void 0&&(t[i]=a)}return t}var HN=["Matrix","Array"],WN=["number","BigNumber","Fraction"];var Ne=function(e){if(e)throw new Error(`The global config is readonly. 
Please create a mathjs instance if you want to change the default configuration. 
Example:

  import { create, all } from 'mathjs';
  const mathjs = create(all);
  mathjs.config({ number: 'BigNumber' });
`);return Object.freeze(zb)};kr(Ne,zb,{MATRIX_OPTIONS:HN,NUMBER_OPTIONS:WN});var Wb=ef(qb(),1);function A(r,e,t,n){function i(a){var o=$N(a,e.map(sae));return aae(r,e,a),t(o)}return i.isFactory=!0,i.fn=r,i.dependencies=e.slice().sort(),n&&(i.meta=n),i}function aae(r,e,t){var n=e.filter(a=>!oae(a)).every(a=>t[a]!==void 0);if(!n){var i=e.filter(a=>t[a]===void 0);throw new Error('Cannot create function "'.concat(r,'", ')+"some dependencies are missing: ".concat(i.map(a=>'"'.concat(a,'"')).join(", "),"."))}}function oae(r){return r&&r[0]==="?"}function sae(r){return r&&r[0]==="?"?r.slice(1):r}function Ye(r){return typeof r=="boolean"?!0:isFinite(r)?r===Math.round(r):!1}function Jn(r,e){if(e.number==="bigint")try{BigInt(r)}catch{return e.numberFallback}return e.number}var pa=Math.sign||function(r){return r>0?1:r<0?-1:0},ZN=Math.log2||function(e){return Math.log(e)/Math.LN2},XN=Math.log10||function(e){return Math.log(e)/Math.LN10},lg=Math.log1p||function(r){return Math.log(r+1)},KN=Math.cbrt||function(e){if(e===0)return e;var t=e<0,n;return t&&(e=-e),isFinite(e)?(n=Math.exp(Math.log(e)/3),n=(e/(n*n)+2*n)/3):n=e,t?-n:n},JN=Math.expm1||function(e){return e>=2e-4||e<=-2e-4?Math.exp(e)-1:e+e*e/2+e*e*e/6};function jb(r,e,t){var n={2:"0b",8:"0o",16:"0x"},i=n[e],a="";if(t){if(t<1)throw new Error("size must be in greater than 0");if(!Ye(t))throw new Error("size must be an integer");if(r>2**(t-1)-1||r<-(2**(t-1)))throw new Error("Value must be in range [-2^".concat(t-1,", 2^").concat(t-1,"-1]"));if(!Ye(r))throw new Error("Value must be an integer");r<0&&(r=r+2**t),a="i".concat(t)}var o="";return r<0&&(r=-r,o="-"),"".concat(o).concat(i).concat(r.toString(e)).concat(a)}function za(r,e){if(typeof e=="function")return e(r);if(r===1/0)return"Infinity";if(r===-1/0)return"-Infinity";if(isNaN(r))return"NaN";var{notation:t,precision:n,wordSize:i}=$b(e);switch(t){case"fixed":return Hb(r,n);case"exponential":return QN(r,n);case"engineering":return lae(r,n);case"bin":return jb(r,2,i);case"oct":return jb(r,8,i);case"hex":return jb(r,16,i);case"auto":return uae(r,n,e).replace(/((\.\d*?)(0+))($|e)/,function(){var a=arguments[2],o=arguments[4];return a!=="."?a+o:o});default:throw new Error('Unknown notation "'+t+'". Choose "auto", "exponential", "fixed", "bin", "oct", or "hex.')}}function $b(r){var e="auto",t,n;if(r!==void 0)if(ft(r))t=r;else if(st(r))t=r.toNumber();else if(Ks(r))r.precision!==void 0&&(t=GN(r.precision,()=>{throw new Error('Option "precision" must be a number or BigNumber')})),r.wordSize!==void 0&&(n=GN(r.wordSize,()=>{throw new Error('Option "wordSize" must be a number or BigNumber')})),r.notation&&(e=r.notation);else throw new Error("Unsupported type of options, number, BigNumber, or object expected");return{notation:e,precision:t,wordSize:n}}function Vc(r){var e=String(r).toLowerCase().match(/^(-?)(\d+\.?\d*)(e([+-]?\d+))?$/);if(!e)throw new SyntaxError("Invalid number "+r);var t=e[1],n=e[2],i=parseFloat(e[4]||"0"),a=n.indexOf(".");i+=a!==-1?a-1:n.length-1;var o=n.replace(".","").replace(/^0*/,function(s){return i-=s.length,""}).replace(/0*$/,"").split("").map(function(s){return parseInt(s)});return o.length===0&&(o.push(0),i++),{sign:t,coefficients:o,exponent:i}}function lae(r,e){if(isNaN(r)||!isFinite(r))return String(r);var t=Vc(r),n=ug(t,e),i=n.exponent,a=n.coefficients,o=i%3===0?i:i<0?i-3-i%3:i-i%3;if(ft(e))for(;e>a.length||i-o+1>a.length;)a.push(0);else for(var s=Math.abs(i-o)-(a.length-1),l=0;l<s;l++)a.push(0);for(var u=Math.abs(i-o),c=1;u>0;)c++,u--;var d=a.slice(c).join(""),f=ft(e)&&d.length||d.match(/[1-9]/)?"."+d:"",m=a.slice(0,c).join("")+f+"e"+(i>=0?"+":"")+o.toString();return n.sign+m}function Hb(r,e){if(isNaN(r)||!isFinite(r))return String(r);var t=Vc(r),n=typeof e=="number"?ug(t,t.exponent+1+e):t,i=n.coefficients,a=n.exponent+1,o=a+(e||0);return i.length<o&&(i=i.concat(zc(o-i.length))),a<0&&(i=zc(-a+1).concat(i),a=1),a<i.length&&i.splice(a,0,a===0?"0.":"."),n.sign+i.join("")}function QN(r,e){if(isNaN(r)||!isFinite(r))return String(r);var t=Vc(r),n=e?ug(t,e):t,i=n.coefficients,a=n.exponent;i.length<e&&(i=i.concat(zc(e-i.length)));var o=i.shift();return n.sign+o+(i.length>0?"."+i.join(""):"")+"e"+(a>=0?"+":"")+a}function uae(r,e,t){if(isNaN(r)||!isFinite(r))return String(r);var n=YN(t==null?void 0:t.lowerExp,-3),i=YN(t==null?void 0:t.upperExp,5),a=Vc(r),o=e?ug(a,e):a;if(o.exponent<n||o.exponent>=i)return QN(r,e);var s=o.coefficients,l=o.exponent;s.length<e&&(s=s.concat(zc(e-s.length))),s=s.concat(zc(l-s.length+1+(s.length<e?e-s.length:0))),s=zc(-l).concat(s);var u=l>0?l:0;return u<s.length-1&&s.splice(u+1,0,"."),o.sign+s.join("")}function ug(r,e){for(var t={sign:r.sign,coefficients:r.coefficients,exponent:r.exponent},n=t.coefficients;e<=0;)n.unshift(0),t.exponent++,e++;if(n.length>e){var i=n.splice(e,n.length-e);if(i[0]>=5){var a=e-1;for(n[a]++;n[a]===10;)n.pop(),a===0&&(n.unshift(0),t.exponent++,a++),a--,n[a]++}}return t}function zc(r){for(var e=[],t=0;t<r;t++)e.push(0);return e}function eT(r){return r.toExponential().replace(/e.*$/,"").replace(/^0\.?0*|\./,"").length}function _r(r,e){var t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1e-8,n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0;if(t<=0)throw new Error("Relative tolerance must be greater than 0");if(n<0)throw new Error("Absolute tolerance must be at least 0");return isNaN(r)||isNaN(e)?!1:!isFinite(r)||!isFinite(e)?r===e:r===e?!0:Math.abs(r-e)<=Math.max(t*Math.max(Math.abs(r),Math.abs(e)),n)}var tT=Math.acosh||function(r){return Math.log(Math.sqrt(r*r-1)+r)},rT=Math.asinh||function(r){return Math.log(Math.sqrt(r*r+1)+r)},nT=Math.atanh||function(r){return Math.log((1+r)/(1-r))/2},cg=Math.cosh||function(r){return(Math.exp(r)+Math.exp(-r))/2},iT=Math.sinh||function(r){return(Math.exp(r)-Math.exp(-r))/2},dg=Math.tanh||function(r){var e=Math.exp(2*r);return(e-1)/(e+1)};function aT(r,e){var t=r>0?!0:r<0?!1:1/r===1/0,n=e>0?!0:e<0?!1:1/e===1/0;return t^n?-r:r}function GN(r,e){if(ft(r))return r;if(st(r))return r.toNumber();e()}function YN(r,e){return ft(r)?r:st(r)?r.toNumber():e}var oT=function(){return oT=Wb.default.create,Wb.default},cae=["?BigNumber","?Complex","?DenseMatrix","?Fraction"],Gb=A("typed",cae,function(e){var{BigNumber:t,Complex:n,DenseMatrix:i,Fraction:a}=e,o=oT();return o.clear(),o.addTypes([{name:"number",test:ft},{name:"Complex",test:ci},{name:"BigNumber",test:st},{name:"bigint",test:Js},{name:"Fraction",test:Qo},{name:"Unit",test:qn},{name:"identifier",test:s=>Wr&&/^(?:[A-Za-z\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u0870-\u0887\u0889-\u088E\u08A0-\u08C9\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C5D\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16F1-\u16F8\u1700-\u1711\u171F-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1878\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4C\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C8A\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184\u2C00-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u31A0-\u31BF\u31F0-\u31FF\u3400-\u4DBF\u4E00-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788\uA78B-\uA7CD\uA7D0\uA7D1\uA7D3\uA7D5-\uA7DC\uA7F2-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF2D-\uDF40\uDF42-\uDF49\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF]|\uD801[\uDC00-\uDC9D\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDD70-\uDD7A\uDD7C-\uDD8A\uDD8C-\uDD92\uDD94\uDD95\uDD97-\uDDA1\uDDA3-\uDDB1\uDDB3-\uDDB9\uDDBB\uDDBC\uDDC0-\uDDF3\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67\uDF80-\uDF85\uDF87-\uDFB0\uDFB2-\uDFBA]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDD00-\uDD23\uDD4A-\uDD65\uDD6F-\uDD85\uDE80-\uDEA9\uDEB0\uDEB1\uDEC2-\uDEC4\uDF00-\uDF1C\uDF27\uDF30-\uDF45\uDF70-\uDF81\uDFB0-\uDFC4\uDFE0-\uDFF6]|\uD804[\uDC03-\uDC37\uDC71\uDC72\uDC75\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD44\uDD47\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE3F\uDE40\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61\uDF80-\uDF89\uDF8B\uDF8E\uDF90-\uDFB5\uDFB7\uDFD1\uDFD3]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC5F-\uDC61\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDEB8\uDF00-\uDF1A\uDF40-\uDF46]|\uD806[\uDC00-\uDC2B\uDCA0-\uDCDF\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD2F\uDD3F\uDD41\uDDA0-\uDDA7\uDDAA-\uDDD0\uDDE1\uDDE3\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE89\uDE9D\uDEB0-\uDEF8\uDFC0-\uDFE0]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD89\uDD98\uDEE0-\uDEF2\uDF02\uDF04-\uDF10\uDF12-\uDF33\uDFB0]|\uD808[\uDC00-\uDF99]|\uD809[\uDC80-\uDD43]|\uD80B[\uDF90-\uDFF0]|[\uD80C\uD80E\uD80F\uD81C-\uD820\uD822\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883\uD885-\uD887][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2F\uDC41-\uDC46\uDC60-\uDFFF]|\uD810[\uDC00-\uDFFA]|\uD811[\uDC00-\uDE46]|\uD818[\uDD00-\uDD1D]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE70-\uDEBE\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDD40-\uDD6C\uDE40-\uDE7F\uDF00-\uDF4A\uDF50\uDF93-\uDF9F\uDFE0\uDFE1\uDFE3]|\uD821[\uDC00-\uDFF7]|\uD823[\uDC00-\uDCD5\uDCFF-\uDD08]|\uD82B[\uDFF0-\uDFF3\uDFF5-\uDFFB\uDFFD\uDFFE]|\uD82C[\uDC00-\uDD22\uDD32\uDD50-\uDD52\uDD55\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD837[\uDF00-\uDF1E\uDF25-\uDF2A]|\uD838[\uDC30-\uDC6D\uDD00-\uDD2C\uDD37-\uDD3D\uDD4E\uDE90-\uDEAD\uDEC0-\uDEEB]|\uD839[\uDCD0-\uDCEB\uDDD0-\uDDED\uDDF0\uDFE0-\uDFE6\uDFE8-\uDFEB\uDFED\uDFEE\uDFF0-\uDFFE]|\uD83A[\uDC00-\uDCC4\uDD00-\uDD43\uDD4B]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDEDF\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF39\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0\uDFF0-\uDFFF]|\uD87B[\uDC00-\uDE5D]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A\uDF50-\uDFFF]|\uD888[\uDC00-\uDFAF])(?:[0-9A-Za-z\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u0870-\u0887\u0889-\u088E\u08A0-\u08C9\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C5D\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16F1-\u16F8\u1700-\u1711\u171F-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1878\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4C\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C8A\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184\u2C00-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u31A0-\u31BF\u31F0-\u31FF\u3400-\u4DBF\u4E00-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788\uA78B-\uA7CD\uA7D0\uA7D1\uA7D3\uA7D5-\uA7DC\uA7F2-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF2D-\uDF40\uDF42-\uDF49\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF]|\uD801[\uDC00-\uDC9D\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDD70-\uDD7A\uDD7C-\uDD8A\uDD8C-\uDD92\uDD94\uDD95\uDD97-\uDDA1\uDDA3-\uDDB1\uDDB3-\uDDB9\uDDBB\uDDBC\uDDC0-\uDDF3\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67\uDF80-\uDF85\uDF87-\uDFB0\uDFB2-\uDFBA]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDD00-\uDD23\uDD4A-\uDD65\uDD6F-\uDD85\uDE80-\uDEA9\uDEB0\uDEB1\uDEC2-\uDEC4\uDF00-\uDF1C\uDF27\uDF30-\uDF45\uDF70-\uDF81\uDFB0-\uDFC4\uDFE0-\uDFF6]|\uD804[\uDC03-\uDC37\uDC71\uDC72\uDC75\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD44\uDD47\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE3F\uDE40\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61\uDF80-\uDF89\uDF8B\uDF8E\uDF90-\uDFB5\uDFB7\uDFD1\uDFD3]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC5F-\uDC61\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDEB8\uDF00-\uDF1A\uDF40-\uDF46]|\uD806[\uDC00-\uDC2B\uDCA0-\uDCDF\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD2F\uDD3F\uDD41\uDDA0-\uDDA7\uDDAA-\uDDD0\uDDE1\uDDE3\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE89\uDE9D\uDEB0-\uDEF8\uDFC0-\uDFE0]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD89\uDD98\uDEE0-\uDEF2\uDF02\uDF04-\uDF10\uDF12-\uDF33\uDFB0]|\uD808[\uDC00-\uDF99]|\uD809[\uDC80-\uDD43]|\uD80B[\uDF90-\uDFF0]|[\uD80C\uD80E\uD80F\uD81C-\uD820\uD822\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883\uD885-\uD887][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2F\uDC41-\uDC46\uDC60-\uDFFF]|\uD810[\uDC00-\uDFFA]|\uD811[\uDC00-\uDE46]|\uD818[\uDD00-\uDD1D]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE70-\uDEBE\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDD40-\uDD6C\uDE40-\uDE7F\uDF00-\uDF4A\uDF50\uDF93-\uDF9F\uDFE0\uDFE1\uDFE3]|\uD821[\uDC00-\uDFF7]|\uD823[\uDC00-\uDCD5\uDCFF-\uDD08]|\uD82B[\uDFF0-\uDFF3\uDFF5-\uDFFB\uDFFD\uDFFE]|\uD82C[\uDC00-\uDD22\uDD32\uDD50-\uDD52\uDD55\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD837[\uDF00-\uDF1E\uDF25-\uDF2A]|\uD838[\uDC30-\uDC6D\uDD00-\uDD2C\uDD37-\uDD3D\uDD4E\uDE90-\uDEAD\uDEC0-\uDEEB]|\uD839[\uDCD0-\uDCEB\uDDD0-\uDDED\uDDF0\uDFE0-\uDFE6\uDFE8-\uDFEB\uDFED\uDFEE\uDFF0-\uDFFE]|\uD83A[\uDC00-\uDCC4\uDD00-\uDD43\uDD4B]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDEDF\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF39\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0\uDFF0-\uDFFF]|\uD87B[\uDC00-\uDE5D]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A\uDF50-\uDFFF]|\uD888[\uDC00-\uDFAF])*$/.test(s)},{name:"string",test:Wr},{name:"Chain",test:og},{name:"Array",test:Yt},{name:"Matrix",test:Je},{name:"DenseMatrix",test:ou},{name:"SparseMatrix",test:La},{name:"Range",test:Lc},{name:"Index",test:Qs},{name:"boolean",test:FN},{name:"ResultSet",test:IN},{name:"Help",test:ag},{name:"function",test:ON},{name:"Date",test:RN},{name:"RegExp",test:kN},{name:"null",test:PN},{name:"undefined",test:BN},{name:"AccessorNode",test:Hi},{name:"ArrayNode",test:jn},{name:"AssignmentNode",test:LN},{name:"BlockNode",test:zN},{name:"ConditionalNode",test:VN},{name:"ConstantNode",test:It},{name:"FunctionNode",test:di},{name:"FunctionAssignmentNode",test:xo},{name:"IndexNode",test:ha},{name:"Node",test:Rt},{name:"ObjectNode",test:el},{name:"OperatorNode",test:wr},{name:"ParenthesisNode",test:$n},{name:"RangeNode",test:UN},{name:"RelationalNode",test:qN},{name:"SymbolNode",test:pr},{name:"Map",test:ig},{name:"Object",test:Ks}]),o.addConversions([{from:"number",to:"BigNumber",convert:function(l){if(t||fg(l),eT(l)>15)throw new TypeError("Cannot implicitly convert a number with >15 significant digits to BigNumber (value: "+l+"). Use function bignumber(x) to convert to BigNumber.");return new t(l)}},{from:"number",to:"Complex",convert:function(l){return n||mg(l),new n(l,0)}},{from:"BigNumber",to:"Complex",convert:function(l){return n||mg(l),new n(l.toNumber(),0)}},{from:"bigint",to:"number",convert:function(l){if(l>Number.MAX_SAFE_INTEGER)throw new TypeError("Cannot implicitly convert bigint to number: value exceeds the max safe integer value (value: "+l+")");return Number(l)}},{from:"bigint",to:"BigNumber",convert:function(l){return t||fg(l),new t(l.toString())}},{from:"bigint",to:"Fraction",convert:function(l){return a||hg(l),new a(l)}},{from:"Fraction",to:"BigNumber",convert:function(l){throw new TypeError("Cannot implicitly convert a Fraction to BigNumber or vice versa. Use function bignumber(x) to convert to BigNumber or fraction(x) to convert to Fraction.")}},{from:"Fraction",to:"Complex",convert:function(l){return n||mg(l),new n(l.valueOf(),0)}},{from:"number",to:"Fraction",convert:function(l){a||hg(l);var u=new a(l);if(u.valueOf()!==l)throw new TypeError("Cannot implicitly convert a number to a Fraction when there will be a loss of precision (value: "+l+"). Use function fraction(x) to convert to Fraction.");return u}},{from:"string",to:"number",convert:function(l){var u=Number(l);if(isNaN(u))throw new Error('Cannot convert "'+l+'" to a number');return u}},{from:"string",to:"BigNumber",convert:function(l){t||fg(l);try{return new t(l)}catch{throw new Error('Cannot convert "'+l+'" to BigNumber')}}},{from:"string",to:"bigint",convert:function(l){try{return BigInt(l)}catch{throw new Error('Cannot convert "'+l+'" to BigInt')}}},{from:"string",to:"Fraction",convert:function(l){a||hg(l);try{return new a(l)}catch{throw new Error('Cannot convert "'+l+'" to Fraction')}}},{from:"string",to:"Complex",convert:function(l){n||mg(l);try{return new n(l)}catch{throw new Error('Cannot convert "'+l+'" to Complex')}}},{from:"boolean",to:"number",convert:function(l){return+l}},{from:"boolean",to:"BigNumber",convert:function(l){return t||fg(l),new t(+l)}},{from:"boolean",to:"bigint",convert:function(l){return BigInt(+l)}},{from:"boolean",to:"Fraction",convert:function(l){return a||hg(l),new a(+l)}},{from:"boolean",to:"string",convert:function(l){return String(l)}},{from:"Array",to:"Matrix",convert:function(l){return i||dae(),new i(l)}},{from:"Matrix",to:"Array",convert:function(l){return l.valueOf()}}]),o.onMismatch=(s,l,u)=>{var c=o.createError(s,l,u);if(["wrongType","mismatch"].includes(c.data.category)&&l.length===1&&Jr(l[0])&&u.some(f=>!f.params.includes(","))){var d=new TypeError("Function '".concat(s,"' doesn't apply to matrices. To call it ")+"elementwise on a matrix 'M', try 'map(M, ".concat(s,")'."));throw d.data=c.data,d}throw c},o.onMismatch=(s,l,u)=>{var c=o.createError(s,l,u);if(["wrongType","mismatch"].includes(c.data.category)&&l.length===1&&Jr(l[0])&&u.some(f=>!f.params.includes(","))){var d=new TypeError("Function '".concat(s,"' doesn't apply to matrices. To call it ")+"elementwise on a matrix 'M', try 'map(M, ".concat(s,")'."));throw d.data=c.data,d}throw c},o});function fg(r){throw new Error("Cannot convert value ".concat(r," into a BigNumber: no class 'BigNumber' provided"))}function mg(r){throw new Error("Cannot convert value ".concat(r," into a Complex number: no class 'Complex' provided"))}function dae(){throw new Error("Cannot convert array into a Matrix: no class 'DenseMatrix' provided")}function hg(r){throw new Error("Cannot convert value ".concat(r," into a Fraction, no class 'Fraction' provided."))}var fae="ResultSet",mae=[],Yb=A(fae,mae,()=>{function r(e){if(!(this instanceof r))throw new SyntaxError("Constructor must be called with the new operator");this.entries=e||[]}return r.prototype.type="ResultSet",r.prototype.isResultSet=!0,r.prototype.valueOf=function(){return this.entries},r.prototype.toString=function(){return"["+this.entries.map(String).join(", ")+"]"},r.prototype.toJSON=function(){return{mathjs:"ResultSet",entries:this.entries}},r.fromJSON=function(e){return new r(e.entries)},r},{isClass:!0});var Uc=9e15,il=1e9,Zb="0123456789abcdef",vg="2.3025850929940456840179914546843642076011014886287729760333279009675726096773524802359972050895982983419677840422862486334095254650828067566662873690987816894829072083255546808437998948262331985283935053089653777326288461633662222876982198867465436674744042432743651550489343149393914796194044002221051017141748003688084012647080685567743216228355220114804663715659121373450747856947683463616792101806445070648000277502684916746550586856935673420670581136429224554405758925724208241314695689016758940256776311356919292033376587141660230105703089634572075440370847469940168269282808481184289314848524948644871927809676271275775397027668605952496716674183485704422507197965004714951050492214776567636938662976979522110718264549734772662425709429322582798502585509785265383207606726317164309505995087807523710333101197857547331541421808427543863591778117054309827482385045648019095610299291824318237525357709750539565187697510374970888692180205189339507238539205144634197265287286965110862571492198849978748873771345686209167058",xg="3.1415926535897932384626433832795028841971693993751058209749445923078164062862089986280348253421170679821480865132823066470938446095505822317253594081284811174502841027019385211055596446229489549303819644288109756659334461284756482337867831652712019091456485669234603486104543266482133936072602491412737245870066063155881748815209209628292540917153643678925903600113305305488204665213841469519415116094330572703657595919530921861173819326117931051185480744623799627495673518857527248912279381830119491298336733624406566430860213949463952247371907021798609437027705392171762931767523846748184676694051320005681271452635608277857713427577896091736371787214684409012249534301465495853710507922796892589235420199561121290219608640344181598136297747713099605187072113499999983729780499510597317328160963185950244594553469083026425223082533446850352619311881710100031378387528865875332083814206171776691473035982534904287554687311595628638823537875937519577818577805321712268066130019278766111959092164201989380952572010654858632789",Xb={precision:20,rounding:4,modulo:1,toExpNeg:-7,toExpPos:21,minE:-Uc,maxE:Uc,crypto:!1},cT,es,kt=!0,bg="[DecimalError] ",nl=bg+"Invalid argument: ",dT=bg+"Precision limit exceeded",fT=bg+"crypto unavailable",mT="[object Decimal]",Qn=Math.floor,En=Math.pow,hae=/^0b([01]+(\.[01]*)?|\.[01]+)(p[+-]?\d+)?$/i,pae=/^0x([0-9a-f]+(\.[0-9a-f]*)?|\.[0-9a-f]+)(p[+-]?\d+)?$/i,gae=/^0o([0-7]+(\.[0-7]*)?|\.[0-7]+)(p[+-]?\d+)?$/i,hT=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Va=1e7,Mt=7,vae=9007199254740991,xae=vg.length-1,Kb=xg.length-1,ze={toStringTag:mT};ze.absoluteValue=ze.abs=function(){var r=new this.constructor(this);return r.s<0&&(r.s=1),bt(r)};ze.ceil=function(){return bt(new this.constructor(this),this.e+1,2)};ze.clampedTo=ze.clamp=function(r,e){var t,n=this,i=n.constructor;if(r=new i(r),e=new i(e),!r.s||!e.s)return new i(NaN);if(r.gt(e))throw Error(nl+e);return t=n.cmp(r),t<0?r:n.cmp(e)>0?e:new i(n)};ze.comparedTo=ze.cmp=function(r){var e,t,n,i,a=this,o=a.d,s=(r=new a.constructor(r)).d,l=a.s,u=r.s;if(!o||!s)return!l||!u?NaN:l!==u?l:o===s?0:!o^l<0?1:-1;if(!o[0]||!s[0])return o[0]?l:s[0]?-u:0;if(l!==u)return l;if(a.e!==r.e)return a.e>r.e^l<0?1:-1;for(n=o.length,i=s.length,e=0,t=n<i?n:i;e<t;++e)if(o[e]!==s[e])return o[e]>s[e]^l<0?1:-1;return n===i?0:n>i^l<0?1:-1};ze.cosine=ze.cos=function(){var r,e,t=this,n=t.constructor;return t.d?t.d[0]?(r=n.precision,e=n.rounding,n.precision=r+Math.max(t.e,t.sd())+Mt,n.rounding=1,t=yae(n,yT(n,t)),n.precision=r,n.rounding=e,bt(es==2||es==3?t.neg():t,r,e,!0)):new n(1):new n(NaN)};ze.cubeRoot=ze.cbrt=function(){var r,e,t,n,i,a,o,s,l,u,c=this,d=c.constructor;if(!c.isFinite()||c.isZero())return new d(c);for(kt=!1,a=c.s*En(c.s*c,1/3),!a||Math.abs(a)==1/0?(t=Hn(c.d),r=c.e,(a=(r-t.length+1)%3)&&(t+=a==1||a==-2?"0":"00"),a=En(t,1/3),r=Qn((r+1)/3)-(r%3==(r<0?-1:2)),a==1/0?t="5e"+r:(t=a.toExponential(),t=t.slice(0,t.indexOf("e")+1)+r),n=new d(t),n.s=c.s):n=new d(a.toString()),o=(r=d.precision)+3;;)if(s=n,l=s.times(s).times(s),u=l.plus(c),n=Mr(u.plus(c).times(s),u.plus(l),o+2,1),Hn(s.d).slice(0,o)===(t=Hn(n.d)).slice(0,o))if(t=t.slice(o-3,o+1),t=="9999"||!i&&t=="4999"){if(!i&&(bt(s,r+1,0),s.times(s).times(s).eq(c))){n=s;break}o+=4,i=1}else{(!+t||!+t.slice(1)&&t.charAt(0)=="5")&&(bt(n,r+1,1),e=!n.times(n).times(n).eq(c));break}return kt=!0,bt(n,r,d.rounding,e)};ze.decimalPlaces=ze.dp=function(){var r,e=this.d,t=NaN;if(e){if(r=e.length-1,t=(r-Qn(this.e/Mt))*Mt,r=e[r],r)for(;r%10==0;r/=10)t--;t<0&&(t=0)}return t};ze.dividedBy=ze.div=function(r){return Mr(this,new this.constructor(r))};ze.dividedToIntegerBy=ze.divToInt=function(r){var e=this,t=e.constructor;return bt(Mr(e,new t(r),0,1,1),t.precision,t.rounding)};ze.equals=ze.eq=function(r){return this.cmp(r)===0};ze.floor=function(){return bt(new this.constructor(this),this.e+1,3)};ze.greaterThan=ze.gt=function(r){return this.cmp(r)>0};ze.greaterThanOrEqualTo=ze.gte=function(r){var e=this.cmp(r);return e==1||e===0};ze.hyperbolicCosine=ze.cosh=function(){var r,e,t,n,i,a=this,o=a.constructor,s=new o(1);if(!a.isFinite())return new o(a.s?1/0:NaN);if(a.isZero())return s;t=o.precision,n=o.rounding,o.precision=t+Math.max(a.e,a.sd())+4,o.rounding=1,i=a.d.length,i<32?(r=Math.ceil(i/3),e=(1/_g(4,r)).toString()):(r=16,e="2.3283064365386962890625e-10"),a=qc(o,1,a.times(e),new o(1),!0);for(var l,u=r,c=new o(8);u--;)l=a.times(a),a=s.minus(l.times(c.minus(l.times(c))));return bt(a,o.precision=t,o.rounding=n,!0)};ze.hyperbolicSine=ze.sinh=function(){var r,e,t,n,i=this,a=i.constructor;if(!i.isFinite()||i.isZero())return new a(i);if(e=a.precision,t=a.rounding,a.precision=e+Math.max(i.e,i.sd())+4,a.rounding=1,n=i.d.length,n<3)i=qc(a,2,i,i,!0);else{r=1.4*Math.sqrt(n),r=r>16?16:r|0,i=i.times(1/_g(5,r)),i=qc(a,2,i,i,!0);for(var o,s=new a(5),l=new a(16),u=new a(20);r--;)o=i.times(i),i=i.times(s.plus(o.times(l.times(o).plus(u))))}return a.precision=e,a.rounding=t,bt(i,e,t,!0)};ze.hyperbolicTangent=ze.tanh=function(){var r,e,t=this,n=t.constructor;return t.isFinite()?t.isZero()?new n(t):(r=n.precision,e=n.rounding,n.precision=r+7,n.rounding=1,Mr(t.sinh(),t.cosh(),n.precision=r,n.rounding=e)):new n(t.s)};ze.inverseCosine=ze.acos=function(){var r=this,e=r.constructor,t=r.abs().cmp(1),n=e.precision,i=e.rounding;return t!==-1?t===0?r.isNeg()?yo(e,n,i):new e(0):new e(NaN):r.isZero()?yo(e,n+4,i).times(.5):(e.precision=n+6,e.rounding=1,r=new e(1).minus(r).div(r.plus(1)).sqrt().atan(),e.precision=n,e.rounding=i,r.times(2))};ze.inverseHyperbolicCosine=ze.acosh=function(){var r,e,t=this,n=t.constructor;return t.lte(1)?new n(t.eq(1)?0:NaN):t.isFinite()?(r=n.precision,e=n.rounding,n.precision=r+Math.max(Math.abs(t.e),t.sd())+4,n.rounding=1,kt=!1,t=t.times(t).minus(1).sqrt().plus(t),kt=!0,n.precision=r,n.rounding=e,t.ln()):new n(t)};ze.inverseHyperbolicSine=ze.asinh=function(){var r,e,t=this,n=t.constructor;return!t.isFinite()||t.isZero()?new n(t):(r=n.precision,e=n.rounding,n.precision=r+2*Math.max(Math.abs(t.e),t.sd())+6,n.rounding=1,kt=!1,t=t.times(t).plus(1).sqrt().plus(t),kt=!0,n.precision=r,n.rounding=e,t.ln())};ze.inverseHyperbolicTangent=ze.atanh=function(){var r,e,t,n,i=this,a=i.constructor;return i.isFinite()?i.e>=0?new a(i.abs().eq(1)?i.s/0:i.isZero()?i:NaN):(r=a.precision,e=a.rounding,n=i.sd(),Math.max(n,r)<2*-i.e-1?bt(new a(i),r,e,!0):(a.precision=t=n-i.e,i=Mr(i.plus(1),new a(1).minus(i),t+r,1),a.precision=r+4,a.rounding=1,i=i.ln(),a.precision=r,a.rounding=e,i.times(.5))):new a(NaN)};ze.inverseSine=ze.asin=function(){var r,e,t,n,i=this,a=i.constructor;return i.isZero()?new a(i):(e=i.abs().cmp(1),t=a.precision,n=a.rounding,e!==-1?e===0?(r=yo(a,t+4,n).times(.5),r.s=i.s,r):new a(NaN):(a.precision=t+6,a.rounding=1,i=i.div(new a(1).minus(i.times(i)).sqrt().plus(1)).atan(),a.precision=t,a.rounding=n,i.times(2)))};ze.inverseTangent=ze.atan=function(){var r,e,t,n,i,a,o,s,l,u=this,c=u.constructor,d=c.precision,f=c.rounding;if(u.isFinite()){if(u.isZero())return new c(u);if(u.abs().eq(1)&&d+4<=Kb)return o=yo(c,d+4,f).times(.25),o.s=u.s,o}else{if(!u.s)return new c(NaN);if(d+4<=Kb)return o=yo(c,d+4,f).times(.5),o.s=u.s,o}for(c.precision=s=d+10,c.rounding=1,t=Math.min(28,s/Mt+2|0),r=t;r;--r)u=u.div(u.times(u).plus(1).sqrt().plus(1));for(kt=!1,e=Math.ceil(s/Mt),n=1,l=u.times(u),o=new c(u),i=u;r!==-1;)if(i=i.times(l),a=o.minus(i.div(n+=2)),i=i.times(l),o=a.plus(i.div(n+=2)),o.d[e]!==void 0)for(r=e;o.d[r]===a.d[r]&&r--;);return t&&(o=o.times(2<<t-1)),kt=!0,bt(o,c.precision=d,c.rounding=f,!0)};ze.isFinite=function(){return!!this.d};ze.isInteger=ze.isInt=function(){return!!this.d&&Qn(this.e/Mt)>this.d.length-2};ze.isNaN=function(){return!this.s};ze.isNegative=ze.isNeg=function(){return this.s<0};ze.isPositive=ze.isPos=function(){return this.s>0};ze.isZero=function(){return!!this.d&&this.d[0]===0};ze.lessThan=ze.lt=function(r){return this.cmp(r)<0};ze.lessThanOrEqualTo=ze.lte=function(r){return this.cmp(r)<1};ze.logarithm=ze.log=function(r){var e,t,n,i,a,o,s,l,u=this,c=u.constructor,d=c.precision,f=c.rounding,m=5;if(r==null)r=new c(10),e=!0;else{if(r=new c(r),t=r.d,r.s<0||!t||!t[0]||r.eq(1))return new c(NaN);e=r.eq(10)}if(t=u.d,u.s<0||!t||!t[0]||u.eq(1))return new c(t&&!t[0]?-1/0:u.s!=1?NaN:t?0:1/0);if(e)if(t.length>1)a=!0;else{for(i=t[0];i%10===0;)i/=10;a=i!==1}if(kt=!1,s=d+m,o=rl(u,s),n=e?yg(c,s+10):rl(r,s),l=Mr(o,n,s,1),F0(l.d,i=d,f))do if(s+=10,o=rl(u,s),n=e?yg(c,s+10):rl(r,s),l=Mr(o,n,s,1),!a){+Hn(l.d).slice(i+1,i+15)+1==1e14&&(l=bt(l,d+1,0));break}while(F0(l.d,i+=10,f));return kt=!0,bt(l,d,f)};ze.minus=ze.sub=function(r){var e,t,n,i,a,o,s,l,u,c,d,f,m=this,p=m.constructor;if(r=new p(r),!m.d||!r.d)return!m.s||!r.s?r=new p(NaN):m.d?r.s=-r.s:r=new p(r.d||m.s!==r.s?m:NaN),r;if(m.s!=r.s)return r.s=-r.s,m.plus(r);if(u=m.d,f=r.d,s=p.precision,l=p.rounding,!u[0]||!f[0]){if(f[0])r.s=-r.s;else if(u[0])r=new p(m);else return new p(l===3?-0:0);return kt?bt(r,s,l):r}if(t=Qn(r.e/Mt),c=Qn(m.e/Mt),u=u.slice(),a=c-t,a){for(d=a<0,d?(e=u,a=-a,o=f.length):(e=f,t=c,o=u.length),n=Math.max(Math.ceil(s/Mt),o)+2,a>n&&(a=n,e.length=1),e.reverse(),n=a;n--;)e.push(0);e.reverse()}else{for(n=u.length,o=f.length,d=n<o,d&&(o=n),n=0;n<o;n++)if(u[n]!=f[n]){d=u[n]<f[n];break}a=0}for(d&&(e=u,u=f,f=e,r.s=-r.s),o=u.length,n=f.length-o;n>0;--n)u[o++]=0;for(n=f.length;n>a;){if(u[--n]<f[n]){for(i=n;i&&u[--i]===0;)u[i]=Va-1;--u[i],u[n]+=Va}u[n]-=f[n]}for(;u[--o]===0;)u.pop();for(;u[0]===0;u.shift())--t;return u[0]?(r.d=u,r.e=wg(u,t),kt?bt(r,s,l):r):new p(l===3?-0:0)};ze.modulo=ze.mod=function(r){var e,t=this,n=t.constructor;return r=new n(r),!t.d||!r.s||r.d&&!r.d[0]?new n(NaN):!r.d||t.d&&!t.d[0]?bt(new n(t),n.precision,n.rounding):(kt=!1,n.modulo==9?(e=Mr(t,r.abs(),0,3,1),e.s*=r.s):e=Mr(t,r,0,n.modulo,1),e=e.times(r),kt=!0,t.minus(e))};ze.naturalExponential=ze.exp=function(){return Jb(this)};ze.naturalLogarithm=ze.ln=function(){return rl(this)};ze.negated=ze.neg=function(){var r=new this.constructor(this);return r.s=-r.s,bt(r)};ze.plus=ze.add=function(r){var e,t,n,i,a,o,s,l,u,c,d=this,f=d.constructor;if(r=new f(r),!d.d||!r.d)return!d.s||!r.s?r=new f(NaN):d.d||(r=new f(r.d||d.s===r.s?d:NaN)),r;if(d.s!=r.s)return r.s=-r.s,d.minus(r);if(u=d.d,c=r.d,s=f.precision,l=f.rounding,!u[0]||!c[0])return c[0]||(r=new f(d)),kt?bt(r,s,l):r;if(a=Qn(d.e/Mt),n=Qn(r.e/Mt),u=u.slice(),i=a-n,i){for(i<0?(t=u,i=-i,o=c.length):(t=c,n=a,o=u.length),a=Math.ceil(s/Mt),o=a>o?a+1:o+1,i>o&&(i=o,t.length=1),t.reverse();i--;)t.push(0);t.reverse()}for(o=u.length,i=c.length,o-i<0&&(i=o,t=c,c=u,u=t),e=0;i;)e=(u[--i]=u[i]+c[i]+e)/Va|0,u[i]%=Va;for(e&&(u.unshift(e),++n),o=u.length;u[--o]==0;)u.pop();return r.d=u,r.e=wg(u,n),kt?bt(r,s,l):r};ze.precision=ze.sd=function(r){var e,t=this;if(r!==void 0&&r!==!!r&&r!==1&&r!==0)throw Error(nl+r);return t.d?(e=pT(t.d),r&&t.e+1>e&&(e=t.e+1)):e=NaN,e};ze.round=function(){var r=this,e=r.constructor;return bt(new e(r),r.e+1,e.rounding)};ze.sine=ze.sin=function(){var r,e,t=this,n=t.constructor;return t.isFinite()?t.isZero()?new n(t):(r=n.precision,e=n.rounding,n.precision=r+Math.max(t.e,t.sd())+Mt,n.rounding=1,t=wae(n,yT(n,t)),n.precision=r,n.rounding=e,bt(es>2?t.neg():t,r,e,!0)):new n(NaN)};ze.squareRoot=ze.sqrt=function(){var r,e,t,n,i,a,o=this,s=o.d,l=o.e,u=o.s,c=o.constructor;if(u!==1||!s||!s[0])return new c(!u||u<0&&(!s||s[0])?NaN:s?o:1/0);for(kt=!1,u=Math.sqrt(+o),u==0||u==1/0?(e=Hn(s),(e.length+l)%2==0&&(e+="0"),u=Math.sqrt(e),l=Qn((l+1)/2)-(l<0||l%2),u==1/0?e="5e"+l:(e=u.toExponential(),e=e.slice(0,e.indexOf("e")+1)+l),n=new c(e)):n=new c(u.toString()),t=(l=c.precision)+3;;)if(a=n,n=a.plus(Mr(o,a,t+2,1)).times(.5),Hn(a.d).slice(0,t)===(e=Hn(n.d)).slice(0,t))if(e=e.slice(t-3,t+1),e=="9999"||!i&&e=="4999"){if(!i&&(bt(a,l+1,0),a.times(a).eq(o))){n=a;break}t+=4,i=1}else{(!+e||!+e.slice(1)&&e.charAt(0)=="5")&&(bt(n,l+1,1),r=!n.times(n).eq(o));break}return kt=!0,bt(n,l,c.rounding,r)};ze.tangent=ze.tan=function(){var r,e,t=this,n=t.constructor;return t.isFinite()?t.isZero()?new n(t):(r=n.precision,e=n.rounding,n.precision=r+10,n.rounding=1,t=t.sin(),t.s=1,t=Mr(t,new n(1).minus(t.times(t)).sqrt(),r+10,0),n.precision=r,n.rounding=e,bt(es==2||es==4?t.neg():t,r,e,!0)):new n(NaN)};ze.times=ze.mul=function(r){var e,t,n,i,a,o,s,l,u,c=this,d=c.constructor,f=c.d,m=(r=new d(r)).d;if(r.s*=c.s,!f||!f[0]||!m||!m[0])return new d(!r.s||f&&!f[0]&&!m||m&&!m[0]&&!f?NaN:!f||!m?r.s/0:r.s*0);for(t=Qn(c.e/Mt)+Qn(r.e/Mt),l=f.length,u=m.length,l<u&&(a=f,f=m,m=a,o=l,l=u,u=o),a=[],o=l+u,n=o;n--;)a.push(0);for(n=u;--n>=0;){for(e=0,i=l+n;i>n;)s=a[i]+m[n]*f[i-n-1]+e,a[i--]=s%Va|0,e=s/Va|0;a[i]=(a[i]+e)%Va|0}for(;!a[--o];)a.pop();return e?++t:a.shift(),r.d=a,r.e=wg(a,t),kt?bt(r,d.precision,d.rounding):r};ze.toBinary=function(r,e){return Qb(this,2,r,e)};ze.toDecimalPlaces=ze.toDP=function(r,e){var t=this,n=t.constructor;return t=new n(t),r===void 0?t:(Ii(r,0,il),e===void 0?e=n.rounding:Ii(e,0,8),bt(t,r+t.e+1,e))};ze.toExponential=function(r,e){var t,n=this,i=n.constructor;return r===void 0?t=bo(n,!0):(Ii(r,0,il),e===void 0?e=i.rounding:Ii(e,0,8),n=bt(new i(n),r+1,e),t=bo(n,!0,r+1)),n.isNeg()&&!n.isZero()?"-"+t:t};ze.toFixed=function(r,e){var t,n,i=this,a=i.constructor;return r===void 0?t=bo(i):(Ii(r,0,il),e===void 0?e=a.rounding:Ii(e,0,8),n=bt(new a(i),r+i.e+1,e),t=bo(n,!1,r+n.e+1)),i.isNeg()&&!i.isZero()?"-"+t:t};ze.toFraction=function(r){var e,t,n,i,a,o,s,l,u,c,d,f,m=this,p=m.d,h=m.constructor;if(!p)return new h(m);if(u=t=new h(1),n=l=new h(0),e=new h(n),a=e.e=pT(p)-m.e-1,o=a%Mt,e.d[0]=En(10,o<0?Mt+o:o),r==null)r=a>0?e:u;else{if(s=new h(r),!s.isInt()||s.lt(u))throw Error(nl+s);r=s.gt(e)?a>0?e:u:s}for(kt=!1,s=new h(Hn(p)),c=h.precision,h.precision=a=p.length*Mt*2;d=Mr(s,e,0,1,1),i=t.plus(d.times(n)),i.cmp(r)!=1;)t=n,n=i,i=u,u=l.plus(d.times(i)),l=i,i=e,e=s.minus(d.times(i)),s=i;return i=Mr(r.minus(t),n,0,1,1),l=l.plus(i.times(u)),t=t.plus(i.times(n)),l.s=u.s=m.s,f=Mr(u,n,a,1).minus(m).abs().cmp(Mr(l,t,a,1).minus(m).abs())<1?[u,n]:[l,t],h.precision=c,kt=!0,f};ze.toHexadecimal=ze.toHex=function(r,e){return Qb(this,16,r,e)};ze.toNearest=function(r,e){var t=this,n=t.constructor;if(t=new n(t),r==null){if(!t.d)return t;r=new n(1),e=n.rounding}else{if(r=new n(r),e===void 0?e=n.rounding:Ii(e,0,8),!t.d)return r.s?t:r;if(!r.d)return r.s&&(r.s=t.s),r}return r.d[0]?(kt=!1,t=Mr(t,r,0,e,1).times(r),kt=!0,bt(t)):(r.s=t.s,t=r),t};ze.toNumber=function(){return+this};ze.toOctal=function(r,e){return Qb(this,8,r,e)};ze.toPower=ze.pow=function(r){var e,t,n,i,a,o,s=this,l=s.constructor,u=+(r=new l(r));if(!s.d||!r.d||!s.d[0]||!r.d[0])return new l(En(+s,u));if(s=new l(s),s.eq(1))return s;if(n=l.precision,a=l.rounding,r.eq(1))return bt(s,n,a);if(e=Qn(r.e/Mt),e>=r.d.length-1&&(t=u<0?-u:u)<=vae)return i=gT(l,s,t,n),r.s<0?new l(1).div(i):bt(i,n,a);if(o=s.s,o<0){if(e<r.d.length-1)return new l(NaN);if((r.d[e]&1)==0&&(o=1),s.e==0&&s.d[0]==1&&s.d.length==1)return s.s=o,s}return t=En(+s,u),e=t==0||!isFinite(t)?Qn(u*(Math.log("0."+Hn(s.d))/Math.LN10+s.e+1)):new l(t+"").e,e>l.maxE+1||e<l.minE-1?new l(e>0?o/0:0):(kt=!1,l.rounding=s.s=1,t=Math.min(12,(e+"").length),i=Jb(r.times(rl(s,n+t)),n),i.d&&(i=bt(i,n+5,1),F0(i.d,n,a)&&(e=n+10,i=bt(Jb(r.times(rl(s,e+t)),e),e+5,1),+Hn(i.d).slice(n+1,n+15)+1==1e14&&(i=bt(i,n+1,0)))),i.s=o,kt=!0,l.rounding=a,bt(i,n,a))};ze.toPrecision=function(r,e){var t,n=this,i=n.constructor;return r===void 0?t=bo(n,n.e<=i.toExpNeg||n.e>=i.toExpPos):(Ii(r,1,il),e===void 0?e=i.rounding:Ii(e,0,8),n=bt(new i(n),r,e),t=bo(n,r<=n.e||n.e<=i.toExpNeg,r)),n.isNeg()&&!n.isZero()?"-"+t:t};ze.toSignificantDigits=ze.toSD=function(r,e){var t=this,n=t.constructor;return r===void 0?(r=n.precision,e=n.rounding):(Ii(r,1,il),e===void 0?e=n.rounding:Ii(e,0,8)),bt(new n(t),r,e)};ze.toString=function(){var r=this,e=r.constructor,t=bo(r,r.e<=e.toExpNeg||r.e>=e.toExpPos);return r.isNeg()&&!r.isZero()?"-"+t:t};ze.truncated=ze.trunc=function(){return bt(new this.constructor(this),this.e+1,1)};ze.valueOf=ze.toJSON=function(){var r=this,e=r.constructor,t=bo(r,r.e<=e.toExpNeg||r.e>=e.toExpPos);return r.isNeg()?"-"+t:t};function Hn(r){var e,t,n,i=r.length-1,a="",o=r[0];if(i>0){for(a+=o,e=1;e<i;e++)n=r[e]+"",t=Mt-n.length,t&&(a+=tl(t)),a+=n;o=r[e],n=o+"",t=Mt-n.length,t&&(a+=tl(t))}else if(o===0)return"0";for(;o%10===0;)o/=10;return a+o}function Ii(r,e,t){if(r!==~~r||r<e||r>t)throw Error(nl+r)}function F0(r,e,t,n){var i,a,o,s;for(a=r[0];a>=10;a/=10)--e;return--e<0?(e+=Mt,i=0):(i=Math.ceil((e+1)/Mt),e%=Mt),a=En(10,Mt-e),s=r[i]%a|0,n==null?e<3?(e==0?s=s/100|0:e==1&&(s=s/10|0),o=t<4&&s==99999||t>3&&s==49999||s==5e4||s==0):o=(t<4&&s+1==a||t>3&&s+1==a/2)&&(r[i+1]/a/100|0)==En(10,e-2)-1||(s==a/2||s==0)&&(r[i+1]/a/100|0)==0:e<4?(e==0?s=s/1e3|0:e==1?s=s/100|0:e==2&&(s=s/10|0),o=(n||t<4)&&s==9999||!n&&t>3&&s==4999):o=((n||t<4)&&s+1==a||!n&&t>3&&s+1==a/2)&&(r[i+1]/a/1e3|0)==En(10,e-3)-1,o}function pg(r,e,t){for(var n,i=[0],a,o=0,s=r.length;o<s;){for(a=i.length;a--;)i[a]*=e;for(i[0]+=Zb.indexOf(r.charAt(o++)),n=0;n<i.length;n++)i[n]>t-1&&(i[n+1]===void 0&&(i[n+1]=0),i[n+1]+=i[n]/t|0,i[n]%=t)}return i.reverse()}function yae(r,e){var t,n,i;if(e.isZero())return e;n=e.d.length,n<32?(t=Math.ceil(n/3),i=(1/_g(4,t)).toString()):(t=16,i="2.3283064365386962890625e-10"),r.precision+=t,e=qc(r,1,e.times(i),new r(1));for(var a=t;a--;){var o=e.times(e);e=o.times(o).minus(o).times(8).plus(1)}return r.precision-=t,e}var Mr=function(){function r(n,i,a){var o,s=0,l=n.length;for(n=n.slice();l--;)o=n[l]*i+s,n[l]=o%a|0,s=o/a|0;return s&&n.unshift(s),n}function e(n,i,a,o){var s,l;if(a!=o)l=a>o?1:-1;else for(s=l=0;s<a;s++)if(n[s]!=i[s]){l=n[s]>i[s]?1:-1;break}return l}function t(n,i,a,o){for(var s=0;a--;)n[a]-=s,s=n[a]<i[a]?1:0,n[a]=s*o+n[a]-i[a];for(;!n[0]&&n.length>1;)n.shift()}return function(n,i,a,o,s,l){var u,c,d,f,m,p,h,v,y,S,x,_,w,b,C,E,D,M,T,I,B=n.constructor,V=n.s==i.s?1:-1,L=n.d,k=i.d;if(!L||!L[0]||!k||!k[0])return new B(!n.s||!i.s||(L?k&&L[0]==k[0]:!k)?NaN:L&&L[0]==0||!k?V*0:V/0);for(l?(m=1,c=n.e-i.e):(l=Va,m=Mt,c=Qn(n.e/m)-Qn(i.e/m)),T=k.length,D=L.length,y=new B(V),S=y.d=[],d=0;k[d]==(L[d]||0);d++);if(k[d]>(L[d]||0)&&c--,a==null?(b=a=B.precision,o=B.rounding):s?b=a+(n.e-i.e)+1:b=a,b<0)S.push(1),p=!0;else{if(b=b/m+2|0,d=0,T==1){for(f=0,k=k[0],b++;(d<D||f)&&b--;d++)C=f*l+(L[d]||0),S[d]=C/k|0,f=C%k|0;p=f||d<D}else{for(f=l/(k[0]+1)|0,f>1&&(k=r(k,f,l),L=r(L,f,l),T=k.length,D=L.length),E=T,x=L.slice(0,T),_=x.length;_<T;)x[_++]=0;I=k.slice(),I.unshift(0),M=k[0],k[1]>=l/2&&++M;do f=0,u=e(k,x,T,_),u<0?(w=x[0],T!=_&&(w=w*l+(x[1]||0)),f=w/M|0,f>1?(f>=l&&(f=l-1),h=r(k,f,l),v=h.length,_=x.length,u=e(h,x,v,_),u==1&&(f--,t(h,T<v?I:k,v,l))):(f==0&&(u=f=1),h=k.slice()),v=h.length,v<_&&h.unshift(0),t(x,h,_,l),u==-1&&(_=x.length,u=e(k,x,T,_),u<1&&(f++,t(x,T<_?I:k,_,l))),_=x.length):u===0&&(f++,x=[0]),S[d++]=f,u&&x[0]?x[_++]=L[E]||0:(x=[L[E]],_=1);while((E++<D||x[0]!==void 0)&&b--);p=x[0]!==void 0}S[0]||S.shift()}if(m==1)y.e=c,cT=p;else{for(d=1,f=S[0];f>=10;f/=10)d++;y.e=d+c*m-1,bt(y,s?a+y.e+1:a,o,p)}return y}}();function bt(r,e,t,n){var i,a,o,s,l,u,c,d,f,m=r.constructor;e:if(e!=null){if(d=r.d,!d)return r;for(i=1,s=d[0];s>=10;s/=10)i++;if(a=e-i,a<0)a+=Mt,o=e,c=d[f=0],l=c/En(10,i-o-1)%10|0;else if(f=Math.ceil((a+1)/Mt),s=d.length,f>=s)if(n){for(;s++<=f;)d.push(0);c=l=0,i=1,a%=Mt,o=a-Mt+1}else break e;else{for(c=s=d[f],i=1;s>=10;s/=10)i++;a%=Mt,o=a-Mt+i,l=o<0?0:c/En(10,i-o-1)%10|0}if(n=n||e<0||d[f+1]!==void 0||(o<0?c:c%En(10,i-o-1)),u=t<4?(l||n)&&(t==0||t==(r.s<0?3:2)):l>5||l==5&&(t==4||n||t==6&&(a>0?o>0?c/En(10,i-o):0:d[f-1])%10&1||t==(r.s<0?8:7)),e<1||!d[0])return d.length=0,u?(e-=r.e+1,d[0]=En(10,(Mt-e%Mt)%Mt),r.e=-e||0):d[0]=r.e=0,r;if(a==0?(d.length=f,s=1,f--):(d.length=f+1,s=En(10,Mt-a),d[f]=o>0?(c/En(10,i-o)%En(10,o)|0)*s:0),u)for(;;)if(f==0){for(a=1,o=d[0];o>=10;o/=10)a++;for(o=d[0]+=s,s=1;o>=10;o/=10)s++;a!=s&&(r.e++,d[0]==Va&&(d[0]=1));break}else{if(d[f]+=s,d[f]!=Va)break;d[f--]=0,s=1}for(a=d.length;d[--a]===0;)d.pop()}return kt&&(r.e>m.maxE?(r.d=null,r.e=NaN):r.e<m.minE&&(r.e=0,r.d=[0])),r}function bo(r,e,t){if(!r.isFinite())return xT(r);var n,i=r.e,a=Hn(r.d),o=a.length;return e?(t&&(n=t-o)>0?a=a.charAt(0)+"."+a.slice(1)+tl(n):o>1&&(a=a.charAt(0)+"."+a.slice(1)),a=a+(r.e<0?"e":"e+")+r.e):i<0?(a="0."+tl(-i-1)+a,t&&(n=t-o)>0&&(a+=tl(n))):i>=o?(a+=tl(i+1-o),t&&(n=t-i-1)>0&&(a=a+"."+tl(n))):((n=i+1)<o&&(a=a.slice(0,n)+"."+a.slice(n)),t&&(n=t-o)>0&&(i+1===o&&(a+="."),a+=tl(n))),a}function wg(r,e){var t=r[0];for(e*=Mt;t>=10;t/=10)e++;return e}function yg(r,e,t){if(e>xae)throw kt=!0,t&&(r.precision=t),Error(dT);return bt(new r(vg),e,1,!0)}function yo(r,e,t){if(e>Kb)throw Error(dT);return bt(new r(xg),e,t,!0)}function pT(r){var e=r.length-1,t=e*Mt+1;if(e=r[e],e){for(;e%10==0;e/=10)t--;for(e=r[0];e>=10;e/=10)t++}return t}function tl(r){for(var e="";r--;)e+="0";return e}function gT(r,e,t,n){var i,a=new r(1),o=Math.ceil(n/Mt+4);for(kt=!1;;){if(t%2&&(a=a.times(e),lT(a.d,o)&&(i=!0)),t=Qn(t/2),t===0){t=a.d.length-1,i&&a.d[t]===0&&++a.d[t];break}e=e.times(e),lT(e.d,o)}return kt=!0,a}function sT(r){return r.d[r.d.length-1]&1}function vT(r,e,t){for(var n,i,a=new r(e[0]),o=0;++o<e.length;){if(i=new r(e[o]),!i.s){a=i;break}n=a.cmp(i),(n===t||n===0&&a.s===t)&&(a=i)}return a}function Jb(r,e){var t,n,i,a,o,s,l,u=0,c=0,d=0,f=r.constructor,m=f.rounding,p=f.precision;if(!r.d||!r.d[0]||r.e>17)return new f(r.d?r.d[0]?r.s<0?0:1/0:1:r.s?r.s<0?0:r:NaN);for(e==null?(kt=!1,l=p):l=e,s=new f(.03125);r.e>-2;)r=r.times(s),d+=5;for(n=Math.log(En(2,d))/Math.LN10*2+5|0,l+=n,t=a=o=new f(1),f.precision=l;;){if(a=bt(a.times(r),l,1),t=t.times(++c),s=o.plus(Mr(a,t,l,1)),Hn(s.d).slice(0,l)===Hn(o.d).slice(0,l)){for(i=d;i--;)o=bt(o.times(o),l,1);if(e==null)if(u<3&&F0(o.d,l-n,m,u))f.precision=l+=10,t=a=s=new f(1),c=0,u++;else return bt(o,f.precision=p,m,kt=!0);else return f.precision=p,o}o=s}}function rl(r,e){var t,n,i,a,o,s,l,u,c,d,f,m=1,p=10,h=r,v=h.d,y=h.constructor,S=y.rounding,x=y.precision;if(h.s<0||!v||!v[0]||!h.e&&v[0]==1&&v.length==1)return new y(v&&!v[0]?-1/0:h.s!=1?NaN:v?0:h);if(e==null?(kt=!1,c=x):c=e,y.precision=c+=p,t=Hn(v),n=t.charAt(0),Math.abs(a=h.e)<15e14){for(;n<7&&n!=1||n==1&&t.charAt(1)>3;)h=h.times(r),t=Hn(h.d),n=t.charAt(0),m++;a=h.e,n>1?(h=new y("0."+t),a++):h=new y(n+"."+t.slice(1))}else return u=yg(y,c+2,x).times(a+""),h=rl(new y(n+"."+t.slice(1)),c-p).plus(u),y.precision=x,e==null?bt(h,x,S,kt=!0):h;for(d=h,l=o=h=Mr(h.minus(1),h.plus(1),c,1),f=bt(h.times(h),c,1),i=3;;){if(o=bt(o.times(f),c,1),u=l.plus(Mr(o,new y(i),c,1)),Hn(u.d).slice(0,c)===Hn(l.d).slice(0,c))if(l=l.times(2),a!==0&&(l=l.plus(yg(y,c+2,x).times(a+""))),l=Mr(l,new y(m),c,1),e==null)if(F0(l.d,c-p,S,s))y.precision=c+=p,u=o=h=Mr(d.minus(1),d.plus(1),c,1),f=bt(h.times(h),c,1),i=s=1;else return bt(l,y.precision=x,S,kt=!0);else return y.precision=x,l;l=u,i+=2}}function xT(r){return String(r.s*r.s/0)}function gg(r,e){var t,n,i;for((t=e.indexOf("."))>-1&&(e=e.replace(".","")),(n=e.search(/e/i))>0?(t<0&&(t=n),t+=+e.slice(n+1),e=e.substring(0,n)):t<0&&(t=e.length),n=0;e.charCodeAt(n)===48;n++);for(i=e.length;e.charCodeAt(i-1)===48;--i);if(e=e.slice(n,i),e){if(i-=n,r.e=t=t-n-1,r.d=[],n=(t+1)%Mt,t<0&&(n+=Mt),n<i){for(n&&r.d.push(+e.slice(0,n)),i-=Mt;n<i;)r.d.push(+e.slice(n,n+=Mt));e=e.slice(n),n=Mt-e.length}else n-=i;for(;n--;)e+="0";r.d.push(+e),kt&&(r.e>r.constructor.maxE?(r.d=null,r.e=NaN):r.e<r.constructor.minE&&(r.e=0,r.d=[0]))}else r.e=0,r.d=[0];return r}function bae(r,e){var t,n,i,a,o,s,l,u,c;if(e.indexOf("_")>-1){if(e=e.replace(/(\d)_(?=\d)/g,"$1"),hT.test(e))return gg(r,e)}else if(e==="Infinity"||e==="NaN")return+e||(r.s=NaN),r.e=NaN,r.d=null,r;if(pae.test(e))t=16,e=e.toLowerCase();else if(hae.test(e))t=2;else if(gae.test(e))t=8;else throw Error(nl+e);for(a=e.search(/p/i),a>0?(l=+e.slice(a+1),e=e.substring(2,a)):e=e.slice(2),a=e.indexOf("."),o=a>=0,n=r.constructor,o&&(e=e.replace(".",""),s=e.length,a=s-a,i=gT(n,new n(t),a,a*2)),u=pg(e,t,Va),c=u.length-1,a=c;u[a]===0;--a)u.pop();return a<0?new n(r.s*0):(r.e=wg(u,c),r.d=u,kt=!1,o&&(r=Mr(r,i,s*4)),l&&(r=r.times(Math.abs(l)<54?En(2,l):I0.pow(2,l))),kt=!0,r)}function wae(r,e){var t,n=e.d.length;if(n<3)return e.isZero()?e:qc(r,2,e,e);t=1.4*Math.sqrt(n),t=t>16?16:t|0,e=e.times(1/_g(5,t)),e=qc(r,2,e,e);for(var i,a=new r(5),o=new r(16),s=new r(20);t--;)i=e.times(e),e=e.times(a.plus(i.times(o.times(i).minus(s))));return e}function qc(r,e,t,n,i){var a,o,s,l,u=1,c=r.precision,d=Math.ceil(c/Mt);for(kt=!1,l=t.times(t),s=new r(n);;){if(o=Mr(s.times(l),new r(e++*e++),c,1),s=i?n.plus(o):n.minus(o),n=Mr(o.times(l),new r(e++*e++),c,1),o=s.plus(n),o.d[d]!==void 0){for(a=d;o.d[a]===s.d[a]&&a--;);if(a==-1)break}a=s,s=n,n=o,o=a,u++}return kt=!0,o.d.length=d+1,o}function _g(r,e){for(var t=r;--e;)t*=r;return t}function yT(r,e){var t,n=e.s<0,i=yo(r,r.precision,1),a=i.times(.5);if(e=e.abs(),e.lte(a))return es=n?4:1,e;if(t=e.divToInt(i),t.isZero())es=n?3:2;else{if(e=e.minus(t.times(i)),e.lte(a))return es=sT(t)?n?2:3:n?4:1,e;es=sT(t)?n?1:4:n?3:2}return e.minus(i).abs()}function Qb(r,e,t,n){var i,a,o,s,l,u,c,d,f,m=r.constructor,p=t!==void 0;if(p?(Ii(t,1,il),n===void 0?n=m.rounding:Ii(n,0,8)):(t=m.precision,n=m.rounding),!r.isFinite())c=xT(r);else{for(c=bo(r),o=c.indexOf("."),p?(i=2,e==16?t=t*4-3:e==8&&(t=t*3-2)):i=e,o>=0&&(c=c.replace(".",""),f=new m(1),f.e=c.length-o,f.d=pg(bo(f),10,i),f.e=f.d.length),d=pg(c,10,i),a=l=d.length;d[--l]==0;)d.pop();if(!d[0])c=p?"0p+0":"0";else{if(o<0?a--:(r=new m(r),r.d=d,r.e=a,r=Mr(r,f,t,n,0,i),d=r.d,a=r.e,u=cT),o=d[t],s=i/2,u=u||d[t+1]!==void 0,u=n<4?(o!==void 0||u)&&(n===0||n===(r.s<0?3:2)):o>s||o===s&&(n===4||u||n===6&&d[t-1]&1||n===(r.s<0?8:7)),d.length=t,u)for(;++d[--t]>i-1;)d[t]=0,t||(++a,d.unshift(1));for(l=d.length;!d[l-1];--l);for(o=0,c="";o<l;o++)c+=Zb.charAt(d[o]);if(p){if(l>1)if(e==16||e==8){for(o=e==16?4:3,--l;l%o;l++)c+="0";for(d=pg(c,i,e),l=d.length;!d[l-1];--l);for(o=1,c="1.";o<l;o++)c+=Zb.charAt(d[o])}else c=c.charAt(0)+"."+c.slice(1);c=c+(a<0?"p":"p+")+a}else if(a<0){for(;++a;)c="0"+c;c="0."+c}else if(++a>l)for(a-=l;a--;)c+="0";else a<l&&(c=c.slice(0,a)+"."+c.slice(a))}c=(e==16?"0x":e==2?"0b":e==8?"0o":"")+c}return r.s<0?"-"+c:c}function lT(r,e){if(r.length>e)return r.length=e,!0}function _ae(r){return new this(r).abs()}function Sae(r){return new this(r).acos()}function Dae(r){return new this(r).acosh()}function Cae(r,e){return new this(r).plus(e)}function Eae(r){return new this(r).asin()}function Aae(r){return new this(r).asinh()}function Mae(r){return new this(r).atan()}function Nae(r){return new this(r).atanh()}function Tae(r,e){r=new this(r),e=new this(e);var t,n=this.precision,i=this.rounding,a=n+4;return!r.s||!e.s?t=new this(NaN):!r.d&&!e.d?(t=yo(this,a,1).times(e.s>0?.25:.75),t.s=r.s):!e.d||r.isZero()?(t=e.s<0?yo(this,n,i):new this(0),t.s=r.s):!r.d||e.isZero()?(t=yo(this,a,1).times(.5),t.s=r.s):e.s<0?(this.precision=a,this.rounding=1,t=this.atan(Mr(r,e,a,1)),e=yo(this,a,1),this.precision=n,this.rounding=i,t=r.s<0?t.minus(e):t.plus(e)):t=this.atan(Mr(r,e,a,1)),t}function Fae(r){return new this(r).cbrt()}function Iae(r){return bt(r=new this(r),r.e+1,2)}function Oae(r,e,t){return new this(r).clamp(e,t)}function Rae(r){if(!r||typeof r!="object")throw Error(bg+"Object expected");var e,t,n,i=r.defaults===!0,a=["precision",1,il,"rounding",0,8,"toExpNeg",-Uc,0,"toExpPos",0,Uc,"maxE",0,Uc,"minE",-Uc,0,"modulo",0,9];for(e=0;e<a.length;e+=3)if(t=a[e],i&&(this[t]=Xb[t]),(n=r[t])!==void 0)if(Qn(n)===n&&n>=a[e+1]&&n<=a[e+2])this[t]=n;else throw Error(nl+t+": "+n);if(t="crypto",i&&(this[t]=Xb[t]),(n=r[t])!==void 0)if(n===!0||n===!1||n===0||n===1)if(n)if(typeof crypto<"u"&&crypto&&(crypto.getRandomValues||crypto.randomBytes))this[t]=!0;else throw Error(fT);else this[t]=!1;else throw Error(nl+t+": "+n);return this}function kae(r){return new this(r).cos()}function Pae(r){return new this(r).cosh()}function bT(r){var e,t,n;function i(a){var o,s,l,u=this;if(!(u instanceof i))return new i(a);if(u.constructor=i,uT(a)){u.s=a.s,kt?!a.d||a.e>i.maxE?(u.e=NaN,u.d=null):a.e<i.minE?(u.e=0,u.d=[0]):(u.e=a.e,u.d=a.d.slice()):(u.e=a.e,u.d=a.d?a.d.slice():a.d);return}if(l=typeof a,l==="number"){if(a===0){u.s=1/a<0?-1:1,u.e=0,u.d=[0];return}if(a<0?(a=-a,u.s=-1):u.s=1,a===~~a&&a<1e7){for(o=0,s=a;s>=10;s/=10)o++;kt?o>i.maxE?(u.e=NaN,u.d=null):o<i.minE?(u.e=0,u.d=[0]):(u.e=o,u.d=[a]):(u.e=o,u.d=[a]);return}if(a*0!==0){a||(u.s=NaN),u.e=NaN,u.d=null;return}return gg(u,a.toString())}if(l==="string")return(s=a.charCodeAt(0))===45?(a=a.slice(1),u.s=-1):(s===43&&(a=a.slice(1)),u.s=1),hT.test(a)?gg(u,a):bae(u,a);if(l==="bigint")return a<0?(a=-a,u.s=-1):u.s=1,gg(u,a.toString());throw Error(nl+a)}if(i.prototype=ze,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.EUCLID=9,i.config=i.set=Rae,i.clone=bT,i.isDecimal=uT,i.abs=_ae,i.acos=Sae,i.acosh=Dae,i.add=Cae,i.asin=Eae,i.asinh=Aae,i.atan=Mae,i.atanh=Nae,i.atan2=Tae,i.cbrt=Fae,i.ceil=Iae,i.clamp=Oae,i.cos=kae,i.cosh=Pae,i.div=Bae,i.exp=Lae,i.floor=zae,i.hypot=Vae,i.ln=Uae,i.log=qae,i.log10=$ae,i.log2=jae,i.max=Hae,i.min=Wae,i.mod=Gae,i.mul=Yae,i.pow=Zae,i.random=Xae,i.round=Kae,i.sign=Jae,i.sin=Qae,i.sinh=eoe,i.sqrt=toe,i.sub=roe,i.sum=noe,i.tan=ioe,i.tanh=aoe,i.trunc=ooe,r===void 0&&(r={}),r&&r.defaults!==!0)for(n=["precision","rounding","toExpNeg","toExpPos","maxE","minE","modulo","crypto"],e=0;e<n.length;)r.hasOwnProperty(t=n[e++])||(r[t]=this[t]);return i.config(r),i}function Bae(r,e){return new this(r).div(e)}function Lae(r){return new this(r).exp()}function zae(r){return bt(r=new this(r),r.e+1,3)}function Vae(){var r,e,t=new this(0);for(kt=!1,r=0;r<arguments.length;)if(e=new this(arguments[r++]),e.d)t.d&&(t=t.plus(e.times(e)));else{if(e.s)return kt=!0,new this(1/0);t=e}return kt=!0,t.sqrt()}function uT(r){return r instanceof I0||r&&r.toStringTag===mT||!1}function Uae(r){return new this(r).ln()}function qae(r,e){return new this(r).log(e)}function jae(r){return new this(r).log(2)}function $ae(r){return new this(r).log(10)}function Hae(){return vT(this,arguments,-1)}function Wae(){return vT(this,arguments,1)}function Gae(r,e){return new this(r).mod(e)}function Yae(r,e){return new this(r).mul(e)}function Zae(r,e){return new this(r).pow(e)}function Xae(r){var e,t,n,i,a=0,o=new this(1),s=[];if(r===void 0?r=this.precision:Ii(r,1,il),n=Math.ceil(r/Mt),this.crypto)if(crypto.getRandomValues)for(e=crypto.getRandomValues(new Uint32Array(n));a<n;)i=e[a],i>=429e7?e[a]=crypto.getRandomValues(new Uint32Array(1))[0]:s[a++]=i%1e7;else if(crypto.randomBytes){for(e=crypto.randomBytes(n*=4);a<n;)i=e[a]+(e[a+1]<<8)+(e[a+2]<<16)+((e[a+3]&127)<<24),i>=214e7?crypto.randomBytes(4).copy(e,a):(s.push(i%1e7),a+=4);a=n/4}else throw Error(fT);else for(;a<n;)s[a++]=Math.random()*1e7|0;for(n=s[--a],r%=Mt,n&&r&&(i=En(10,Mt-r),s[a]=(n/i|0)*i);s[a]===0;a--)s.pop();if(a<0)t=0,s=[0];else{for(t=-1;s[0]===0;t-=Mt)s.shift();for(n=1,i=s[0];i>=10;i/=10)n++;n<Mt&&(t-=Mt-n)}return o.e=t,o.d=s,o}function Kae(r){return bt(r=new this(r),r.e+1,this.rounding)}function Jae(r){return r=new this(r),r.d?r.d[0]?r.s:0*r.s:r.s||NaN}function Qae(r){return new this(r).sin()}function eoe(r){return new this(r).sinh()}function toe(r){return new this(r).sqrt()}function roe(r,e){return new this(r).sub(e)}function noe(){var r=0,e=arguments,t=new this(e[r]);for(kt=!1;t.s&&++r<e.length;)t=t.plus(e[r]);return kt=!0,bt(t,this.precision,this.rounding)}function ioe(r){return new this(r).tan()}function aoe(r){return new this(r).tanh()}function ooe(r){return bt(r=new this(r),r.e+1,1)}ze[Symbol.for("nodejs.util.inspect.custom")]=ze.toString;ze[Symbol.toStringTag]="Decimal";var I0=ze.constructor=bT(Xb);vg=new I0(vg);xg=new I0(xg);var su=I0;var soe="BigNumber",loe=["?on","config"],e2=A(soe,loe,r=>{var{on:e,config:t}=r,n=su.clone({precision:t.precision,modulo:su.EUCLID});return n.prototype=Object.create(n.prototype),n.prototype.type="BigNumber",n.prototype.isBigNumber=!0,n.prototype.toJSON=function(){return{mathjs:"BigNumber",value:this.toString()}},n.fromJSON=function(i){return new n(i.value)},e&&e("config",function(i,a){i.precision!==a.precision&&n.config({precision:i.precision})}),n},{isClass:!0});var ei=Math.cosh||function(r){return Math.abs(r)<1e-9?1-r:(Math.exp(r)+Math.exp(-r))*.5},ga=Math.sinh||function(r){return Math.abs(r)<1e-9?r:(Math.exp(r)-Math.exp(-r))*.5},uoe=function(r){let e=Math.PI/4;if(-e>r||r>e)return Math.cos(r)-1;let t=r*r;return t*(t*(t*(t*(t*(t*(t*(t/20922789888e3-1/87178291200)+1/479001600)-1/3628800)+1/40320)-1/720)+1/24)-1/2)},t2=function(r,e){return r=Math.abs(r),e=Math.abs(e),r<e&&([r,e]=[e,r]),r<1e8?Math.sqrt(r*r+e*e):(e/=r,r*Math.sqrt(1+e*e))},jc=function(){throw SyntaxError("Invalid Param")};function r2(r,e){let t=Math.abs(r),n=Math.abs(e);return r===0?Math.log(n):e===0?Math.log(t):t<3e3&&n<3e3?Math.log(r*r+e*e)*.5:(r=r*.5,e=e*.5,.5*Math.log(r*r+e*e)+Math.LN2)}var coe={re:0,im:0},lu=function(r,e){let t=coe;if(r==null)t.re=t.im=0;else if(e!==void 0)t.re=r,t.im=e;else switch(typeof r){case"object":if("im"in r&&"re"in r)t.re=r.re,t.im=r.im;else if("abs"in r&&"arg"in r){if(!isFinite(r.abs)&&isFinite(r.arg))return Te.INFINITY;t.re=r.abs*Math.cos(r.arg),t.im=r.abs*Math.sin(r.arg)}else if("r"in r&&"phi"in r){if(!isFinite(r.r)&&isFinite(r.phi))return Te.INFINITY;t.re=r.r*Math.cos(r.phi),t.im=r.r*Math.sin(r.phi)}else r.length===2?(t.re=r[0],t.im=r[1]):jc();break;case"string":t.im=t.re=0;let n=r.replace(/_/g,"").match(/\d+\.?\d*e[+-]?\d+|\d+\.?\d*|\.\d+|./g),i=1,a=0;n===null&&jc();for(let o=0;o<n.length;o++){let s=n[o];s===" "||s==="	"||s===`
`||(s==="+"?i++:s==="-"?a++:s==="i"||s==="I"?(i+a===0&&jc(),n[o+1]!==" "&&!isNaN(n[o+1])?(t.im+=parseFloat((a%2?"-":"")+n[o+1]),o++):t.im+=parseFloat((a%2?"-":"")+"1"),i=a=0):((i+a===0||isNaN(s))&&jc(),n[o+1]==="i"||n[o+1]==="I"?(t.im+=parseFloat((a%2?"-":"")+s),o++):t.re+=parseFloat((a%2?"-":"")+s),i=a=0))}i+a>0&&jc();break;case"number":t.im=0,t.re=r;break;default:jc()}return isNaN(t.re)||isNaN(t.im),t};function Te(r,e){if(!(this instanceof Te))return new Te(r,e);let t=lu(r,e);this.re=t.re,this.im=t.im}Te.prototype={re:0,im:0,sign:function(){let r=t2(this.re,this.im);return new Te(this.re/r,this.im/r)},add:function(r,e){let t=lu(r,e),n=this.isInfinite(),i=!(isFinite(t.re)&&isFinite(t.im));return n||i?n&&i?Te.NAN:Te.INFINITY:new Te(this.re+t.re,this.im+t.im)},sub:function(r,e){let t=lu(r,e),n=this.isInfinite(),i=!(isFinite(t.re)&&isFinite(t.im));return n||i?n&&i?Te.NAN:Te.INFINITY:new Te(this.re-t.re,this.im-t.im)},mul:function(r,e){let t=lu(r,e),n=this.isInfinite(),i=!(isFinite(t.re)&&isFinite(t.im)),a=this.re===0&&this.im===0,o=t.re===0&&t.im===0;return n&&o||i&&a?Te.NAN:n||i?Te.INFINITY:t.im===0&&this.im===0?new Te(this.re*t.re,0):new Te(this.re*t.re-this.im*t.im,this.re*t.im+this.im*t.re)},div:function(r,e){let t=lu(r,e),n=this.isInfinite(),i=!(isFinite(t.re)&&isFinite(t.im)),a=this.re===0&&this.im===0,o=t.re===0&&t.im===0;if(a&&o||n&&i)return Te.NAN;if(o||n)return Te.INFINITY;if(a||i)return Te.ZERO;if(t.im===0)return new Te(this.re/t.re,this.im/t.re);if(Math.abs(t.re)<Math.abs(t.im)){let s=t.re/t.im,l=t.re*s+t.im;return new Te((this.re*s+this.im)/l,(this.im*s-this.re)/l)}else{let s=t.im/t.re,l=t.im*s+t.re;return new Te((this.re+this.im*s)/l,(this.im-this.re*s)/l)}},pow:function(r,e){let t=lu(r,e),n=this.re===0&&this.im===0;if(t.re===0&&t.im===0)return Te.ONE;if(t.im===0){if(this.im===0&&this.re>0)return new Te(Math.pow(this.re,t.re),0);if(this.re===0)switch((t.re%4+4)%4){case 0:return new Te(Math.pow(this.im,t.re),0);case 1:return new Te(0,Math.pow(this.im,t.re));case 2:return new Te(-Math.pow(this.im,t.re),0);case 3:return new Te(0,-Math.pow(this.im,t.re))}}if(n&&t.re>0)return Te.ZERO;let a=Math.atan2(this.im,this.re),o=r2(this.re,this.im),s=Math.exp(t.re*o-t.im*a),l=t.im*o+t.re*a;return new Te(s*Math.cos(l),s*Math.sin(l))},sqrt:function(){let r=this.re,e=this.im;if(e===0)return r>=0?new Te(Math.sqrt(r),0):new Te(0,Math.sqrt(-r));let t=t2(r,e),n=Math.sqrt(.5*(t+Math.abs(r))),i=Math.abs(e)/(2*n);return r>=0?new Te(n,e<0?-i:i):new Te(i,e<0?-n:n)},exp:function(){let r=Math.exp(this.re);return this.im===0?new Te(r,0):new Te(r*Math.cos(this.im),r*Math.sin(this.im))},expm1:function(){let r=this.re,e=this.im;return new Te(Math.expm1(r)*Math.cos(e)+uoe(e),Math.exp(r)*Math.sin(e))},log:function(){let r=this.re,e=this.im;return e===0&&r>0?new Te(Math.log(r),0):new Te(r2(r,e),Math.atan2(e,r))},abs:function(){return t2(this.re,this.im)},arg:function(){return Math.atan2(this.im,this.re)},sin:function(){let r=this.re,e=this.im;return new Te(Math.sin(r)*ei(e),Math.cos(r)*ga(e))},cos:function(){let r=this.re,e=this.im;return new Te(Math.cos(r)*ei(e),-Math.sin(r)*ga(e))},tan:function(){let r=2*this.re,e=2*this.im,t=Math.cos(r)+ei(e);return new Te(Math.sin(r)/t,ga(e)/t)},cot:function(){let r=2*this.re,e=2*this.im,t=Math.cos(r)-ei(e);return new Te(-Math.sin(r)/t,ga(e)/t)},sec:function(){let r=this.re,e=this.im,t=.5*ei(2*e)+.5*Math.cos(2*r);return new Te(Math.cos(r)*ei(e)/t,Math.sin(r)*ga(e)/t)},csc:function(){let r=this.re,e=this.im,t=.5*ei(2*e)-.5*Math.cos(2*r);return new Te(Math.sin(r)*ei(e)/t,-Math.cos(r)*ga(e)/t)},asin:function(){let r=this.re,e=this.im,t=new Te(e*e-r*r+1,-2*r*e).sqrt(),n=new Te(t.re-e,t.im+r).log();return new Te(n.im,-n.re)},acos:function(){let r=this.re,e=this.im,t=new Te(e*e-r*r+1,-2*r*e).sqrt(),n=new Te(t.re-e,t.im+r).log();return new Te(Math.PI/2-n.im,n.re)},atan:function(){let r=this.re,e=this.im;if(r===0){if(e===1)return new Te(0,1/0);if(e===-1)return new Te(0,-1/0)}let t=r*r+(1-e)*(1-e),n=new Te((1-e*e-r*r)/t,-2*r/t).log();return new Te(-.5*n.im,.5*n.re)},acot:function(){let r=this.re,e=this.im;if(e===0)return new Te(Math.atan2(1,r),0);let t=r*r+e*e;return t!==0?new Te(r/t,-e/t).atan():new Te(r!==0?r/0:0,e!==0?-e/0:0).atan()},asec:function(){let r=this.re,e=this.im;if(r===0&&e===0)return new Te(0,1/0);let t=r*r+e*e;return t!==0?new Te(r/t,-e/t).acos():new Te(r!==0?r/0:0,e!==0?-e/0:0).acos()},acsc:function(){let r=this.re,e=this.im;if(r===0&&e===0)return new Te(Math.PI/2,1/0);let t=r*r+e*e;return t!==0?new Te(r/t,-e/t).asin():new Te(r!==0?r/0:0,e!==0?-e/0:0).asin()},sinh:function(){let r=this.re,e=this.im;return new Te(ga(r)*Math.cos(e),ei(r)*Math.sin(e))},cosh:function(){let r=this.re,e=this.im;return new Te(ei(r)*Math.cos(e),ga(r)*Math.sin(e))},tanh:function(){let r=2*this.re,e=2*this.im,t=ei(r)+Math.cos(e);return new Te(ga(r)/t,Math.sin(e)/t)},coth:function(){let r=2*this.re,e=2*this.im,t=ei(r)-Math.cos(e);return new Te(ga(r)/t,-Math.sin(e)/t)},csch:function(){let r=this.re,e=this.im,t=Math.cos(2*e)-ei(2*r);return new Te(-2*ga(r)*Math.cos(e)/t,2*ei(r)*Math.sin(e)/t)},sech:function(){let r=this.re,e=this.im,t=Math.cos(2*e)+ei(2*r);return new Te(2*ei(r)*Math.cos(e)/t,-2*ga(r)*Math.sin(e)/t)},asinh:function(){let r=this.im;this.im=-this.re,this.re=r;let e=this.asin();return this.re=-this.im,this.im=r,r=e.re,e.re=-e.im,e.im=r,e},acosh:function(){let r=this.acos();if(r.im<=0){let e=r.re;r.re=-r.im,r.im=e}else{let e=r.im;r.im=-r.re,r.re=e}return r},atanh:function(){let r=this.re,e=this.im,t=r>1&&e===0,n=1-r,i=1+r,a=n*n+e*e,o=a!==0?new Te((i*n-e*e)/a,(e*n+i*e)/a):new Te(r!==-1?r/0:0,e!==0?e/0:0),s=o.re;return o.re=r2(o.re,o.im)/2,o.im=Math.atan2(o.im,s)/2,t&&(o.im=-o.im),o},acoth:function(){let r=this.re,e=this.im;if(r===0&&e===0)return new Te(0,Math.PI/2);let t=r*r+e*e;return t!==0?new Te(r/t,-e/t).atanh():new Te(r!==0?r/0:0,e!==0?-e/0:0).atanh()},acsch:function(){let r=this.re,e=this.im;if(e===0)return new Te(r!==0?Math.log(r+Math.sqrt(r*r+1)):1/0,0);let t=r*r+e*e;return t!==0?new Te(r/t,-e/t).asinh():new Te(r!==0?r/0:0,e!==0?-e/0:0).asinh()},asech:function(){let r=this.re,e=this.im;if(this.isZero())return Te.INFINITY;let t=r*r+e*e;return t!==0?new Te(r/t,-e/t).acosh():new Te(r!==0?r/0:0,e!==0?-e/0:0).acosh()},inverse:function(){if(this.isZero())return Te.INFINITY;if(this.isInfinite())return Te.ZERO;let r=this.re,e=this.im,t=r*r+e*e;return new Te(r/t,-e/t)},conjugate:function(){return new Te(this.re,-this.im)},neg:function(){return new Te(-this.re,-this.im)},ceil:function(r){return r=Math.pow(10,r||0),new Te(Math.ceil(this.re*r)/r,Math.ceil(this.im*r)/r)},floor:function(r){return r=Math.pow(10,r||0),new Te(Math.floor(this.re*r)/r,Math.floor(this.im*r)/r)},round:function(r){return r=Math.pow(10,r||0),new Te(Math.round(this.re*r)/r,Math.round(this.im*r)/r)},equals:function(r,e){let t=lu(r,e);return Math.abs(t.re-this.re)<=Te.EPSILON&&Math.abs(t.im-this.im)<=Te.EPSILON},clone:function(){return new Te(this.re,this.im)},toString:function(){let r=this.re,e=this.im,t="";return this.isNaN()?"NaN":this.isInfinite()?"Infinity":(Math.abs(r)<Te.EPSILON&&(r=0),Math.abs(e)<Te.EPSILON&&(e=0),e===0?t+r:(r!==0?(t+=r,t+=" ",e<0?(e=-e,t+="-"):t+="+",t+=" "):e<0&&(e=-e,t+="-"),e!==1&&(t+=e),t+"i"))},toVector:function(){return[this.re,this.im]},valueOf:function(){return this.im===0?this.re:null},isNaN:function(){return isNaN(this.re)||isNaN(this.im)},isZero:function(){return this.im===0&&this.re===0},isFinite:function(){return isFinite(this.re)&&isFinite(this.im)},isInfinite:function(){return!this.isFinite()}};Te.ZERO=new Te(0,0);Te.ONE=new Te(1,0);Te.I=new Te(0,1);Te.PI=new Te(Math.PI,0);Te.E=new Te(Math.E,0);Te.INFINITY=new Te(1/0,1/0);Te.NAN=new Te(NaN,NaN);Te.EPSILON=1e-15;var doe="Complex",foe=[],n2=A(doe,foe,()=>(Object.defineProperty(Te,"name",{value:"Complex"}),Te.prototype.constructor=Te,Te.prototype.type="Complex",Te.prototype.isComplex=!0,Te.prototype.toJSON=function(){return{mathjs:"Complex",re:this.re,im:this.im}},Te.prototype.toPolar=function(){return{r:this.abs(),phi:this.arg()}},Te.prototype.format=function(r){var e="",t=this.im,n=this.re,i=za(this.re,r),a=za(this.im,r),o=ft(r)?r:r?r.precision:null;if(o!==null){var s=Math.pow(10,-o);Math.abs(n/t)<s&&(n=0),Math.abs(t/n)<s&&(t=0)}return t===0?e=i:n===0?t===1?e="i":t===-1?e="-i":e=a+"i":t<0?t===-1?e=i+" - i":e=i+" - "+a.substring(1)+"i":t===1?e=i+" + i":e=i+" + "+a+"i",e},Te.fromPolar=function(r){switch(arguments.length){case 1:{var e=arguments[0];if(typeof e=="object")return Te(e);throw new TypeError("Input has to be an object with r and phi keys.")}case 2:{var t=arguments[0],n=arguments[1];if(ft(t)){if(qn(n)&&n.hasBase("ANGLE")&&(n=n.toNumber("rad")),ft(n))return new Te({r:t,phi:n});throw new TypeError("Phi is not a number nor an angle unit.")}else throw new TypeError("Radius r is not a number.")}default:throw new SyntaxError("Wrong number of arguments in function fromPolar")}},Te.prototype.valueOf=Te.prototype.toString,Te.fromJSON=function(r){return new Te(r)},Te.compare=function(r,e){return r.re>e.re?1:r.re<e.re?-1:r.im>e.im?1:r.im<e.im?-1:0},Te),{isClass:!0});typeof BigInt>"u"&&(BigInt=function(r){if(isNaN(r))throw new Error("");return r});var wt=BigInt(0),$t=BigInt(1),O0=BigInt(2),i2=BigInt(5),Oi=BigInt(10),moe=2e3,it={s:$t,n:wt,d:$t};function ts(r,e){try{r=BigInt(r)}catch{throw al()}return r*e}function Ua(r){return typeof r=="bigint"?r:Math.floor(r)}function Gr(r,e){if(e===wt)throw a2();let t=Object.create(Wi.prototype);t.s=r<wt?-$t:$t,r=r<wt?-r:r;let n=uu(r,e);return t.n=r/n,t.d=e/n,t}function $c(r){let e={},t=r,n=O0,i=i2-$t;for(;i<=t;){for(;t%n===wt;)t/=n,e[n]=(e[n]||wt)+$t;i+=$t+O0*n++}return t!==r?t>1&&(e[t]=(e[t]||wt)+$t):e[r]=(e[r]||wt)+$t,e}var Rn=function(r,e){let t=wt,n=$t,i=$t;if(r!=null)if(e!==void 0){if(typeof r=="bigint")t=r;else{if(isNaN(r))throw al();if(r%1!==0)throw wT();t=BigInt(r)}if(typeof e=="bigint")n=e;else{if(isNaN(e))throw al();if(e%1!==0)throw wT();n=BigInt(e)}i=t*n}else if(typeof r=="object"){if("d"in r&&"n"in r)t=BigInt(r.n),n=BigInt(r.d),"s"in r&&(t*=BigInt(r.s));else if(0 in r)t=BigInt(r[0]),1 in r&&(n=BigInt(r[1]));else if(typeof r=="bigint")t=r;else throw al();i=t*n}else if(typeof r=="number"){if(isNaN(r))throw al();if(r<0&&(i=-$t,r=-r),r%1===0)t=BigInt(r);else{let a=1,o=0,s=1,l=1,u=1,c=1e7;for(r>=1&&(a=10**Math.floor(1+Math.log10(r)),r/=a);s<=c&&u<=c;){let d=(o+l)/(s+u);if(r===d){s+u<=c?(t=o+l,n=s+u):u>s?(t=l,n=u):(t=o,n=s);break}else r>d?(o+=l,s+=u):(l+=o,u+=s),s>c?(t=l,n=u):(t=o,n=s)}t=BigInt(t)*BigInt(a),n=BigInt(n)}}else if(typeof r=="string"){let a=0,o=wt,s=wt,l=wt,u=$t,c=$t,d=r.replace(/_/g,"").match(/\d+|./g);if(d===null)throw al();if(d[a]==="-"?(i=-$t,a++):d[a]==="+"&&a++,d.length===a+1?s=ts(d[a++],i):d[a+1]==="."||d[a]==="."?(d[a]!=="."&&(o=ts(d[a++],i)),a++,(a+1===d.length||d[a+1]==="("&&d[a+3]===")"||d[a+1]==="'"&&d[a+3]==="'")&&(s=ts(d[a],i),u=Oi**BigInt(d[a].length),a++),(d[a]==="("&&d[a+2]===")"||d[a]==="'"&&d[a+2]==="'")&&(l=ts(d[a+1],i),c=Oi**BigInt(d[a+1].length)-$t,a+=3)):d[a+1]==="/"||d[a+1]===":"?(s=ts(d[a],i),u=ts(d[a+2],$t),a+=3):d[a+3]==="/"&&d[a+1]===" "&&(o=ts(d[a],i),s=ts(d[a+2],i),u=ts(d[a+4],$t),a+=5),d.length<=a)n=u*c,i=t=l+n*o+c*s;else throw al()}else if(typeof r=="bigint")t=r,i=r,n=$t;else throw al();if(n===wt)throw a2();it.s=i<wt?-$t:$t,it.n=t<wt?-t:t,it.d=n<wt?-n:n};function hoe(r,e,t){let n=$t;for(;e>wt;r=r*r%t,e>>=$t)e&$t&&(n=n*r%t);return n}function poe(r,e){for(;e%O0===wt;e/=O0);for(;e%i2===wt;e/=i2);if(e===$t)return wt;let t=Oi%e,n=1;for(;t!==$t;n++)if(t=t*Oi%e,n>moe)return wt;return BigInt(n)}function goe(r,e,t){let n=$t,i=hoe(Oi,t,e);for(let a=0;a<300;a++){if(n===i)return BigInt(a);n=n*Oi%e,i=i*Oi%e}return 0}function uu(r,e){if(!r)return e;if(!e)return r;for(;;){if(r%=e,!r)return e;if(e%=r,!e)return r}}function Wi(r,e){if(Rn(r,e),this instanceof Wi)r=uu(it.d,it.n),this.s=it.s,this.n=it.n/r,this.d=it.d/r;else return Gr(it.s*it.n,it.d)}var a2=function(){return new Error("Division by Zero")},al=function(){return new Error("Invalid argument")},wT=function(){return new Error("Parameters must be integer")};Wi.prototype={s:$t,n:wt,d:$t,abs:function(){return Gr(this.n,this.d)},neg:function(){return Gr(-this.s*this.n,this.d)},add:function(r,e){return Rn(r,e),Gr(this.s*this.n*it.d+it.s*this.d*it.n,this.d*it.d)},sub:function(r,e){return Rn(r,e),Gr(this.s*this.n*it.d-it.s*this.d*it.n,this.d*it.d)},mul:function(r,e){return Rn(r,e),Gr(this.s*it.s*this.n*it.n,this.d*it.d)},div:function(r,e){return Rn(r,e),Gr(this.s*it.s*this.n*it.d,this.d*it.n)},clone:function(){return Gr(this.s*this.n,this.d)},mod:function(r,e){if(r===void 0)return Gr(this.s*this.n%this.d,$t);if(Rn(r,e),wt===it.n*this.d)throw a2();return Gr(this.s*(it.d*this.n)%(it.n*this.d),it.d*this.d)},gcd:function(r,e){return Rn(r,e),Gr(uu(it.n,this.n)*uu(it.d,this.d),it.d*this.d)},lcm:function(r,e){return Rn(r,e),it.n===wt&&this.n===wt?Gr(wt,$t):Gr(it.n*this.n,uu(it.n,this.n)*uu(it.d,this.d))},inverse:function(){return Gr(this.s*this.d,this.n)},pow:function(r,e){if(Rn(r,e),it.d===$t)return it.s<wt?Gr((this.s*this.d)**it.n,this.n**it.n):Gr((this.s*this.n)**it.n,this.d**it.n);if(this.s<wt)return null;let t=$c(this.n),n=$c(this.d),i=$t,a=$t;for(let o in t)if(o!=="1"){if(o==="0"){i=wt;break}if(t[o]*=it.n,t[o]%it.d===wt)t[o]/=it.d;else return null;i*=BigInt(o)**t[o]}for(let o in n)if(o!=="1"){if(n[o]*=it.n,n[o]%it.d===wt)n[o]/=it.d;else return null;a*=BigInt(o)**n[o]}return it.s<wt?Gr(a,i):Gr(i,a)},log:function(r,e){if(Rn(r,e),this.s<=wt||it.s<=wt)return null;let t={},n=$c(it.n),i=$c(it.d),a=$c(this.n),o=$c(this.d);for(let u in i)n[u]=(n[u]||wt)-i[u];for(let u in o)a[u]=(a[u]||wt)-o[u];for(let u in n)u!=="1"&&(t[u]=!0);for(let u in a)u!=="1"&&(t[u]=!0);let s=null,l=null;for(let u in t){let c=n[u]||wt,d=a[u]||wt;if(c===wt){if(d!==wt)return null;continue}let f=d,m=c,p=uu(f,m);if(f/=p,m/=p,s===null&&l===null)s=f,l=m;else if(f*l!==s*m)return null}return s!==null&&l!==null?Gr(s,l):null},equals:function(r,e){return Rn(r,e),this.s*this.n*it.d===it.s*it.n*this.d},lt:function(r,e){return Rn(r,e),this.s*this.n*it.d<it.s*it.n*this.d},lte:function(r,e){return Rn(r,e),this.s*this.n*it.d<=it.s*it.n*this.d},gt:function(r,e){return Rn(r,e),this.s*this.n*it.d>it.s*it.n*this.d},gte:function(r,e){return Rn(r,e),this.s*this.n*it.d>=it.s*it.n*this.d},compare:function(r,e){Rn(r,e);let t=this.s*this.n*it.d-it.s*it.n*this.d;return(wt<t)-(t<wt)},ceil:function(r){return r=Oi**BigInt(r||0),Gr(Ua(this.s*r*this.n/this.d)+(r*this.n%this.d>wt&&this.s>=wt?$t:wt),r)},floor:function(r){return r=Oi**BigInt(r||0),Gr(Ua(this.s*r*this.n/this.d)-(r*this.n%this.d>wt&&this.s<wt?$t:wt),r)},round:function(r){return r=Oi**BigInt(r||0),Gr(Ua(this.s*r*this.n/this.d)+this.s*((this.s>=wt?$t:wt)+O0*(r*this.n%this.d)>this.d?$t:wt),r)},roundTo:function(r,e){Rn(r,e);let t=this.n*it.d,n=this.d*it.n,i=t%n,a=Ua(t/n);return i+i>=n&&a++,Gr(this.s*a*it.n,it.d)},divisible:function(r,e){return Rn(r,e),!(!(it.n*this.d)||this.n*it.d%(it.n*this.d))},valueOf:function(){return Number(this.s*this.n)/Number(this.d)},toString:function(r){let e=this.n,t=this.d;r=r||15;let n=poe(e,t),i=goe(e,t,n),a=this.s<wt?"-":"";if(a+=Ua(e/t),e%=t,e*=Oi,e&&(a+="."),n){for(let o=i;o--;)a+=Ua(e/t),e%=t,e*=Oi;a+="(";for(let o=n;o--;)a+=Ua(e/t),e%=t,e*=Oi;a+=")"}else for(let o=r;e&&o--;)a+=Ua(e/t),e%=t,e*=Oi;return a},toFraction:function(r){let e=this.n,t=this.d,n=this.s<wt?"-":"";if(t===$t)n+=e;else{let i=Ua(e/t);r&&i>wt&&(n+=i,n+=" ",e%=t),n+=e,n+="/",n+=t}return n},toLatex:function(r){let e=this.n,t=this.d,n=this.s<wt?"-":"";if(t===$t)n+=e;else{let i=Ua(e/t);r&&i>wt&&(n+=i,e%=t),n+="\\frac{",n+=e,n+="}{",n+=t,n+="}"}return n},toContinued:function(){let r=this.n,e=this.d,t=[];do{t.push(Ua(r/e));let n=r%e;r=e,e=n}while(r!==$t);return t},simplify:function(r){let e=BigInt(1/(r||.001)|0),t=this.abs(),n=t.toContinued();for(let i=1;i<n.length;i++){let a=Gr(n[i-1],$t);for(let s=i-2;s>=0;s--)a=a.inverse().add(n[s]);let o=a.sub(t);if(o.n*e<o.d)return a.mul(this.s)}return this}};var voe="Fraction",xoe=[],o2=A(voe,xoe,()=>(Object.defineProperty(Wi,"name",{value:"Fraction"}),Wi.prototype.constructor=Wi,Wi.prototype.type="Fraction",Wi.prototype.isFraction=!0,Wi.prototype.toJSON=function(){return{mathjs:"Fraction",n:String(this.s*this.n),d:String(this.d)}},Wi.fromJSON=function(r){return new Wi(r)},Wi),{isClass:!0});var yoe="Range",boe=[],s2=A(yoe,boe,()=>{function r(e,t,n){if(!(this instanceof r))throw new SyntaxError("Constructor must be called with the new operator");var i=e!=null,a=t!=null,o=n!=null;if(i){if(st(e))e=e.toNumber();else if(typeof e!="number"&&!Js(e))throw new TypeError("Parameter start must be a number or bigint")}if(a){if(st(t))t=t.toNumber();else if(typeof t!="number"&&!Js(t))throw new TypeError("Parameter end must be a number or bigint")}if(o){if(st(n))n=n.toNumber();else if(typeof n!="number"&&!Js(n))throw new TypeError("Parameter step must be a number or bigint")}this.start=i?parseFloat(e):0,this.end=a?parseFloat(t):0,this.step=o?parseFloat(n):1}return r.prototype.type="Range",r.prototype.isRange=!0,r.parse=function(e){if(typeof e!="string")return null;var t=e.split(":"),n=t.map(function(a){return parseFloat(a)}),i=n.some(function(a){return isNaN(a)});if(i)return null;switch(n.length){case 2:return new r(n[0],n[1]);case 3:return new r(n[0],n[2],n[1]);default:return null}},r.prototype.clone=function(){return new r(this.start,this.end,this.step)},r.prototype.size=function(){var e=0,t=this.start,n=this.step,i=this.end,a=i-t;return pa(n)===pa(a)?e=Math.ceil(a/n):a===0&&(e=0),isNaN(e)&&(e=0),[e]},r.prototype.min=function(){var e=this.size()[0];if(e>0)return this.step>0?this.start:this.start+(e-1)*this.step},r.prototype.max=function(){var e=this.size()[0];if(e>0)return this.step>0?this.start+(e-1)*this.step:this.start},r.prototype.forEach=function(e){var t=this.start,n=this.step,i=this.end,a=0;if(n>0)for(;t<i;)e(t,[a],this),t+=n,a++;else if(n<0)for(;t>i;)e(t,[a],this),t+=n,a++},r.prototype.map=function(e){var t=[];return this.forEach(function(n,i,a){t[i[0]]=e(n,i,a)}),t},r.prototype.toArray=function(){var e=[];return this.forEach(function(t,n){e[n[0]]=t}),e},r.prototype.valueOf=function(){return this.toArray()},r.prototype.format=function(e){var t=za(this.start,e);return this.step!==1&&(t+=":"+za(this.step,e)),t+=":"+za(this.end,e),t},r.prototype.toString=function(){return this.format()},r.prototype.toJSON=function(){return{mathjs:"Range",start:this.start,end:this.end,step:this.step}},r.fromJSON=function(e){return new r(e.start,e.end,e.step)},r},{isClass:!0});var woe="Matrix",_oe=[],l2=A(woe,_oe,()=>{function r(){if(!(this instanceof r))throw new SyntaxError("Constructor must be called with the new operator")}return r.prototype.type="Matrix",r.prototype.isMatrix=!0,r.prototype.storage=function(){throw new Error("Cannot invoke storage on a Matrix interface")},r.prototype.datatype=function(){throw new Error("Cannot invoke datatype on a Matrix interface")},r.prototype.create=function(e,t){throw new Error("Cannot invoke create on a Matrix interface")},r.prototype.subset=function(e,t,n){throw new Error("Cannot invoke subset on a Matrix interface")},r.prototype.get=function(e){throw new Error("Cannot invoke get on a Matrix interface")},r.prototype.set=function(e,t,n){throw new Error("Cannot invoke set on a Matrix interface")},r.prototype.resize=function(e,t){throw new Error("Cannot invoke resize on a Matrix interface")},r.prototype.reshape=function(e,t){throw new Error("Cannot invoke reshape on a Matrix interface")},r.prototype.clone=function(){throw new Error("Cannot invoke clone on a Matrix interface")},r.prototype.size=function(){throw new Error("Cannot invoke size on a Matrix interface")},r.prototype.map=function(e,t){throw new Error("Cannot invoke map on a Matrix interface")},r.prototype.forEach=function(e){throw new Error("Cannot invoke forEach on a Matrix interface")},r.prototype[Symbol.iterator]=function(){throw new Error("Cannot iterate a Matrix interface")},r.prototype.toArray=function(){throw new Error("Cannot invoke toArray on a Matrix interface")},r.prototype.valueOf=function(){throw new Error("Cannot invoke valueOf on a Matrix interface")},r.prototype.format=function(e){throw new Error("Cannot invoke format on a Matrix interface")},r.prototype.toString=function(){throw new Error("Cannot invoke toString on a Matrix interface")},r},{isClass:!0});function u2(r,e,t){var n=r.constructor,i=new n(2),a="";if(t){if(t<1)throw new Error("size must be in greater than 0");if(!Ye(t))throw new Error("size must be an integer");if(r.greaterThan(i.pow(t-1).sub(1))||r.lessThan(i.pow(t-1).mul(-1)))throw new Error("Value must be in range [-2^".concat(t-1,", 2^").concat(t-1,"-1]"));if(!r.isInteger())throw new Error("Value must be an integer");r.lessThan(0)&&(r=r.add(i.pow(t))),a="i".concat(t)}switch(e){case 2:return"".concat(r.toBinary()).concat(a);case 8:return"".concat(r.toOctal()).concat(a);case 16:return"".concat(r.toHexadecimal()).concat(a);default:throw new Error("Base ".concat(e," not supported "))}}function DT(r,e){if(typeof e=="function")return e(r);if(!r.isFinite())return r.isNaN()?"NaN":r.gt(0)?"Infinity":"-Infinity";var{notation:t,precision:n,wordSize:i}=$b(e);switch(t){case"fixed":return Doe(r,n);case"exponential":return _T(r,n);case"engineering":return Soe(r,n);case"bin":return u2(r,2,i);case"oct":return u2(r,8,i);case"hex":return u2(r,16,i);case"auto":{var a=ST(e==null?void 0:e.lowerExp,-3),o=ST(e==null?void 0:e.upperExp,5);if(r.isZero())return"0";var s,l=r.toSignificantDigits(n),u=l.e;return u>=a&&u<o?s=l.toFixed():s=_T(r,n),s.replace(/((\.\d*?)(0+))($|e)/,function(){var c=arguments[2],d=arguments[4];return c!=="."?c+d:d})}default:throw new Error('Unknown notation "'+t+'". Choose "auto", "exponential", "fixed", "bin", "oct", or "hex.')}}function Soe(r,e){var t=r.e,n=t%3===0?t:t<0?t-3-t%3:t-t%3,i=r.mul(Math.pow(10,-n)),a=i.toPrecision(e);if(a.includes("e")){var o=r.constructor;a=new o(a).toFixed()}return a+"e"+(t>=0?"+":"")+n.toString()}function _T(r,e){return e!==void 0?r.toExponential(e-1):r.toExponential()}function Doe(r,e){return r.toFixed(e)}function ST(r,e){return ft(r)?r:st(r)?r.toNumber():e}function ET(r,e){var t=r.length-e.length,n=r.length;return r.substring(t,n)===e}function pt(r,e){var t=Coe(r,e);return e&&typeof e=="object"&&"truncate"in e&&t.length>e.truncate?t.substring(0,e.truncate-3)+"...":t}function Coe(r,e){if(typeof r=="number")return za(r,e);if(st(r))return DT(r,e);if(Eoe(r))return!e||e.fraction!=="decimal"?"".concat(r.s*r.n,"/").concat(r.d):r.toString();if(Array.isArray(r))return AT(r,e);if(Wr(r))return cu(r);if(typeof r=="function")return r.syntax?String(r.syntax):"function";if(r&&typeof r=="object"){if(typeof r.format=="function")return r.format(e);if(r&&r.toString(e)!=={}.toString())return r.toString(e);var t=Object.keys(r).map(n=>cu(n)+": "+pt(r[n],e));return"{"+t.join(", ")+"}"}return String(r)}function cu(r){for(var e=String(r),t="",n=0;n<e.length;){var i=e.charAt(n);t+=i in CT?CT[i]:i,n++}return'"'+t+'"'}var CT={'"':'\\"',"\\":"\\\\","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","	":"\\t"};function An(r){var e=String(r);return e=e.replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;"),e}function AT(r,e){if(Array.isArray(r)){for(var t="[",n=r.length,i=0;i<n;i++)i!==0&&(t+=", "),t+=AT(r[i],e);return t+="]",t}else return pt(r,e)}function Eoe(r){return r&&typeof r=="object"&&typeof r.s=="bigint"&&typeof r.n=="bigint"&&typeof r.d=="bigint"||!1}function Sg(r,e){if(!Wr(r))throw new TypeError("Unexpected type of argument in function compareText (expected: string or Array or Matrix, actual: "+zt(r)+", index: 0)");if(!Wr(e))throw new TypeError("Unexpected type of argument in function compareText (expected: string or Array or Matrix, actual: "+zt(e)+", index: 1)");return r===e?0:r>e?1:-1}function yt(r,e,t){if(!(this instanceof yt))throw new SyntaxError("Constructor must be called with the new operator");this.actual=r,this.expected=e,this.relation=t,this.message="Dimension mismatch ("+(Array.isArray(r)?"["+r.join(", ")+"]":r)+" "+(this.relation||"!=")+" "+(Array.isArray(e)?"["+e.join(", ")+"]":e)+")",this.stack=new Error().stack}yt.prototype=new RangeError;yt.prototype.constructor=RangeError;yt.prototype.name="DimensionError";yt.prototype.isDimensionError=!0;function Wn(r,e,t){if(!(this instanceof Wn))throw new SyntaxError("Constructor must be called with the new operator");this.index=r,arguments.length<3?(this.min=0,this.max=e):(this.min=e,this.max=t),this.min!==void 0&&this.index<this.min?this.message="Index out of range ("+this.index+" < "+this.min+")":this.max!==void 0&&this.index>=this.max?this.message="Index out of range ("+this.index+" > "+(this.max-1)+")":this.message="Index out of range ("+this.index+")",this.stack=new Error().stack}Wn.prototype=new RangeError;Wn.prototype.constructor=RangeError;Wn.prototype.name="IndexError";Wn.prototype.isIndexError=!0;function ut(r){for(var e=[];Array.isArray(r);)e.push(r.length),r=r[0];return e}function MT(r,e,t){var n,i=r.length;if(i!==e[t])throw new yt(i,e[t]);if(t<e.length-1){var a=t+1;for(n=0;n<i;n++){var o=r[n];if(!Array.isArray(o))throw new yt(e.length-1,e.length,"<");MT(r[n],e,a)}}else for(n=0;n<i;n++)if(Array.isArray(r[n]))throw new yt(e.length+1,e.length,">")}function d2(r,e){var t=e.length===0;if(t){if(Array.isArray(r))throw new yt(r.length,0)}else MT(r,e,0)}function R0(r,e){var t=r.isMatrix?r._size:ut(r),n=e._sourceSize;n.forEach((i,a)=>{if(i!==null&&i!==t[a])throw new yt(i,t[a])})}function cr(r,e){if(r!==void 0){if(!ft(r)||!Ye(r))throw new TypeError("Index must be an integer (value: "+r+")");if(r<0||typeof e=="number"&&r>=e)throw new Wn(r,e)}}function du(r){for(var e=0;e<r._dimensions.length;++e){var t=r._dimensions[e];if(t._data&&Yt(t._data)){if(t._size[0]===0)return!0}else if(t.isRange){if(t.start===t.end)return!0}else if(Wr(t)&&t.length===0)return!0}return!1}function qa(r,e,t){if(!Array.isArray(e))throw new TypeError("Array expected");if(e.length===0)throw new Error("Resizing to scalar is not supported");e.forEach(function(i){if(!ft(i)||!Ye(i)||i<0)throw new TypeError("Invalid size, must contain positive integers (size: "+pt(e)+")")}),(ft(r)||st(r))&&(r=[r]);var n=t!==void 0?t:0;return c2(r,e,0,n),r}function c2(r,e,t,n){var i,a,o=r.length,s=e[t],l=Math.min(o,s);if(r.length=s,t<e.length-1){var u=t+1;for(i=0;i<l;i++)a=r[i],Array.isArray(a)||(a=[a],r[i]=a),c2(a,e,u,n);for(i=l;i<s;i++)a=[],r[i]=a,c2(a,e,u,n)}else{for(i=0;i<l;i++)for(;Array.isArray(r[i]);)r[i]=r[i][0];for(i=l;i<s;i++)r[i]=n}}function k0(r,e){var t=Dt(r,!0),n=t.length;if(!Array.isArray(r)||!Array.isArray(e))throw new TypeError("Array expected");if(e.length===0)throw new yt(0,n,"!=");e=P0(e,n);var i=NT(e);if(n!==i)throw new yt(i,n,"!=");try{return Aoe(t,e)}catch(a){throw a instanceof yt?new yt(i,n,"!="):a}}function P0(r,e){var t=NT(r),n=r.slice(),i=-1,a=r.indexOf(i),o=r.indexOf(i,a+1)>=0;if(o)throw new Error("More than one wildcard in sizes");var s=a>=0,l=e%t===0;if(s)if(l)n[a]=-e/t;else throw new Error("Could not replace wildcard, since "+e+" is no multiple of "+-t);return n}function NT(r){return r.reduce((e,t)=>e*t,1)}function Aoe(r,e){for(var t=r,n,i=e.length-1;i>0;i--){var a=e[i];n=[];for(var o=t.length/a,s=0;s<o;s++)n.push(t.slice(s*a,(s+1)*a));t=n}return t}function Hc(r,e){for(var t=e||ut(r);Array.isArray(r)&&r.length===1;)r=r[0],t.shift();for(var n=t.length;t[n-1]===1;)n--;return n<t.length&&(r=TT(r,n,0),t.length=n),r}function TT(r,e,t){var n,i;if(t<e){var a=t+1;for(n=0,i=r.length;n<i;n++)r[n]=TT(r[n],e,a)}else for(;Array.isArray(r);)r=r[0];return r}function Dg(r,e,t,n){var i=n||ut(r);if(t)for(var a=0;a<t;a++)r=[r],i.unshift(1);for(r=FT(r,e,0);i.length<e;)i.push(1);return r}function FT(r,e,t){var n,i;if(Array.isArray(r)){var a=t+1;for(n=0,i=r.length;n<i;n++)r[n]=FT(r[n],e,a)}else for(var o=t;o<e;o++)r=[r];return r}function Dt(r){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(!Array.isArray(r))return r;if(typeof e!="boolean")throw new TypeError("Boolean expected for second argument of flatten");var t=[];return e?i(r):n(r),t;function n(a){for(var o=0;o<a.length;o++){var s=a[o];Array.isArray(s)?n(s):t.push(s)}}function i(a){if(Array.isArray(a[0]))for(var o=0;o<a.length;o++)i(a[o]);else for(var s=0;s<a.length;s++)t.push(a[s])}}function va(r,e){return Array.prototype.map.call(r,e)}function Cg(r,e){Array.prototype.forEach.call(r,e)}function f2(r,e){if(ut(r).length!==1)throw new Error("Only one dimensional matrices supported");return Array.prototype.filter.call(r,e)}function m2(r,e){if(ut(r).length!==1)throw new Error("Only one dimensional matrices supported");return Array.prototype.filter.call(r,t=>e.test(t))}function h2(r,e){return Array.prototype.join.call(r,e)}function rs(r){if(!Array.isArray(r))throw new TypeError("Array input expected");if(r.length===0)return r;var e=[],t=0;e[0]={value:r[0],identifier:0};for(var n=1;n<r.length;n++)r[n]===r[n-1]?t++:t=0,e.push({value:r[n],identifier:t});return e}function Wc(r){if(!Array.isArray(r))throw new TypeError("Array input expected");if(r.length===0)return r;for(var e=[],t=0;t<r.length;t++)e.push(r[t].value);return e}function fu(r,e){for(var t,n=0,i=0;i<r.length;i++){var a=r[i],o=Array.isArray(a);if(i===0&&o&&(n=a.length),o&&a.length!==n)return;var s=o?fu(a,e):e(a);if(t===void 0)t=s;else if(t!==s)return"mixed"}return t}function IT(r,e,t,n){if(n<t){if(r.length!==e.length)throw new yt(r.length,e.length);for(var i=[],a=0;a<r.length;a++)i[a]=IT(r[a],e[a],t,n+1);return i}else return r.concat(e)}function p2(){var r=Array.prototype.slice.call(arguments,0,-1),e=Array.prototype.slice.call(arguments,-1);if(r.length===1)return r[0];if(r.length>1)return r.slice(1).reduce(function(t,n){return IT(t,n,e,0)},r[0]);throw new Error("Wrong number of arguments in function concat")}function B0(){for(var r=arguments.length,e=new Array(r),t=0;t<r;t++)e[t]=arguments[t];for(var n=e.map(f=>f.length),i=Math.max(...n),a=new Array(i).fill(null),o=0;o<e.length;o++)for(var s=e[o],l=n[o],u=0;u<l;u++){var c=i-l+u;s[u]>a[c]&&(a[c]=s[u])}for(var d=0;d<e.length;d++)OT(e[d],a);return a}function OT(r,e){for(var t=e.length,n=r.length,i=0;i<n;i++){var a=t-n+i;if(r[i]<e[a]&&r[i]>1||r[i]>e[a])throw new Error("shape mismatch: mismatch is found in arg with shape (".concat(r,") not possible to broadcast dimension ").concat(n," with size ").concat(r[i]," to size ").concat(e[a]))}}function wo(r,e){var t=ut(r);if(Fi(t,e))return r;OT(t,e);var n=B0(t,e),i=n.length,a=[...Array(i-t.length).fill(1),...t],o=Noe(r);t.length<i&&(o=k0(o,a),t=ut(o));for(var s=0;s<i;s++)t[s]<n[s]&&(o=Moe(o,n[s],s),t=ut(o));return o}function Moe(r,e,t){return p2(...Array(e).fill(r),t)}function Gc(r,e){if(!Array.isArray(r))throw new Error("Array expected");var t=ut(r);if(e.length!==t.length)throw new yt(e.length,t.length);for(var n=0;n<e.length;n++)cr(e[n],t[n]);return e.reduce((i,a)=>i[a],r)}function L0(r,e){var t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;if(r.length===0)return[];if(t)return a(r);var n=[];return i(r,0);function i(o,s){if(Array.isArray(o)){for(var l=o.length,u=Array(l),c=0;c<l;c++)n[s]=c,u[c]=i(o[c],s+1);return u}else return e(o,n.slice(0,s),r)}function a(o){if(Array.isArray(o)){for(var s=o.length,l=Array(s),u=0;u<s;u++)l[u]=a(o[u]);return l}else return e(o)}}function Eg(r,e){var t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;if(r.length===0)return;if(t){a(r);return}var n=[];i(r,0);function i(o,s){if(Array.isArray(o))for(var l=o.length,u=0;u<l;u++)n[s]=u,i(o[u],s+1);else e(o,n.slice(0,s),r)}function a(o){if(Array.isArray(o))for(var s=o.length,l=0;l<s;l++)a(o[l]);else e(o)}}function Noe(r){return kr([],r)}var g2=ef(qb(),1);function xa(r,e,t){var n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(g2.default.isTypedFunction(r)){var i;if(n)i=1;else{var a=(e.isMatrix?e.size():ut(e)).map(()=>0),o=e.isMatrix?e.get(a):Gc(e,a);i=Ioe(r,o,a,e)}var s;if(e.isMatrix&&e.dataType!=="mixed"&&e.dataType!==void 0){var l=Toe(r,i);s=l!==void 0?l:r}else s=r;return i>=1&&i<=3?{isUnary:i===1,fn:function(){for(var c=arguments.length,d=new Array(c),f=0;f<c;f++)d[f]=arguments[f];return RT(s,d.slice(0,i),t,r.name)}}:{isUnary:!1,fn:function(){for(var c=arguments.length,d=new Array(c),f=0;f<c;f++)d[f]=arguments[f];return RT(s,d,t,r.name)}}}return n===void 0?{isUnary:Foe(r),fn:r}:{isUnary:n,fn:r}}function Toe(r,e){var t=[];if(Object.entries(r.signatures).forEach(n=>{var[i,a]=n;i.split(",").length===e&&t.push(a)}),t.length===1)return t[0]}function Foe(r){if(r.length!==1)return!1;var e=r.toString();if(/arguments/.test(e))return!1;var t=e.match(/\(.*?\)/);return!/\.\.\./.test(t)}function Ioe(r,e,t,n){for(var i=[e,t,n],a=3;a>0;a--){var o=i.slice(0,a);if(g2.default.resolve(r,o)!==null)return a}}function RT(r,e,t,n){try{return r(...e)}catch(i){Ooe(i,e,t,n)}}function Ooe(r,e,t,n){var i;if(r instanceof TypeError&&((i=r.data)===null||i===void 0?void 0:i.category)==="wrongType"){var a=[];throw a.push("value: ".concat(zt(e[0]))),e.length>=2&&a.push("index: ".concat(zt(e[1]))),e.length>=3&&a.push("array: ".concat(zt(e[2]))),new TypeError("Function ".concat(t," cannot apply callback arguments ")+"".concat(n,"(").concat(a.join(", "),") at index ").concat(JSON.stringify(e[1])))}else throw new TypeError("Function ".concat(t," cannot apply callback arguments ")+"to function ".concat(n,": ").concat(r.message))}var Roe="DenseMatrix",koe=["Matrix"],v2=A(Roe,koe,r=>{var{Matrix:e}=r;function t(c,d){if(!(this instanceof t))throw new SyntaxError("Constructor must be called with the new operator");if(d&&!Wr(d))throw new Error("Invalid datatype: "+d);if(Je(c))c.type==="DenseMatrix"?(this._data=dt(c._data),this._size=dt(c._size),this._datatype=d||c._datatype):(this._data=c.toArray(),this._size=c.size(),this._datatype=d||c._datatype);else if(c&&Yt(c.data)&&Yt(c.size))this._data=c.data,this._size=c.size,d2(this._data,this._size),this._datatype=d||c.datatype;else if(Yt(c))this._data=u(c),this._size=ut(this._data),d2(this._data,this._size),this._datatype=d;else{if(c)throw new TypeError("Unsupported type of data ("+zt(c)+")");this._data=[],this._size=[0],this._datatype=d}}t.prototype=new e,t.prototype.createDenseMatrix=function(c,d){return new t(c,d)},Object.defineProperty(t,"name",{value:"DenseMatrix"}),t.prototype.constructor=t,t.prototype.type="DenseMatrix",t.prototype.isDenseMatrix=!0,t.prototype.getDataType=function(){return fu(this._data,zt)},t.prototype.storage=function(){return"dense"},t.prototype.datatype=function(){return this._datatype},t.prototype.create=function(c,d){return new t(c,d)},t.prototype.subset=function(c,d,f){switch(arguments.length){case 1:return n(this,c);case 2:case 3:return a(this,c,d,f);default:throw new SyntaxError("Wrong number of arguments")}},t.prototype.get=function(c){return Gc(this._data,c)},t.prototype.set=function(c,d,f){if(!Yt(c))throw new TypeError("Array expected");if(c.length<this._size.length)throw new yt(c.length,this._size.length,"<");var m,p,h,v=c.map(function(S){return S+1});l(this,v,f);var y=this._data;for(m=0,p=c.length-1;m<p;m++)h=c[m],cr(h,y.length),y=y[h];return h=c[c.length-1],cr(h,y.length),y[h]=d,this};function n(c,d){if(!Qs(d))throw new TypeError("Invalid index");var f=d.isScalar();if(f)return c.get(d.min());var m=d.size();if(m.length!==c._size.length)throw new yt(m.length,c._size.length);for(var p=d.min(),h=d.max(),v=0,y=c._size.length;v<y;v++)cr(p[v],c._size[v]),cr(h[v],c._size[v]);return new t(i(c._data,d,m.length,0),c._datatype)}function i(c,d,f,m){var p=m===f-1,h=d.dimension(m);return p?h.map(function(v){return cr(v,c.length),c[v]}).valueOf():h.map(function(v){cr(v,c.length);var y=c[v];return i(y,d,f,m+1)}).valueOf()}function a(c,d,f,m){if(!d||d.isIndex!==!0)throw new TypeError("Invalid index");var p=d.size(),h=d.isScalar(),v;if(Je(f)?(v=f.size(),f=f.valueOf()):v=ut(f),h){if(v.length!==0)throw new TypeError("Scalar expected");c.set(d.min(),f,m)}else{if(!Fi(v,p))try{v.length===0?f=wo([f],p):f=wo(f,p),v=ut(f)}catch{}if(p.length<c._size.length)throw new yt(p.length,c._size.length,"<");if(v.length<p.length){for(var y=0,S=0;p[y]===1&&v[y]===1;)y++;for(;p[y]===1;)S++,y++;f=Dg(f,p.length,S,v)}if(!Fi(p,v))throw new yt(p,v,">");var x=d.max().map(function(b){return b+1});l(c,x,m);var _=p.length,w=0;o(c._data,d,f,_,w)}return c}function o(c,d,f,m,p){var h=p===m-1,v=d.dimension(p);h?v.forEach(function(y,S){cr(y),c[y]=f[S[0]]}):v.forEach(function(y,S){cr(y),o(c[y],d,f[S[0]],m,p+1)})}t.prototype.resize=function(c,d,f){if(!Jr(c))throw new TypeError("Array or Matrix expected");var m=c.valueOf().map(h=>Array.isArray(h)&&h.length===1?h[0]:h),p=f?this.clone():this;return s(p,m,d)};function s(c,d,f){if(d.length===0){for(var m=c._data;Yt(m);)m=m[0];return m}return c._size=d.slice(0),c._data=qa(c._data,c._size,f),c}t.prototype.reshape=function(c,d){var f=d?this.clone():this;f._data=k0(f._data,c);var m=f._size.reduce((p,h)=>p*h);return f._size=P0(c,m),f};function l(c,d,f){for(var m=c._size.slice(0),p=!1;m.length<d.length;)m.push(0),p=!0;for(var h=0,v=d.length;h<v;h++)d[h]>m[h]&&(m[h]=d[h],p=!0);p&&s(c,m,f)}t.prototype.clone=function(){var c=new t({data:dt(this._data),size:dt(this._size),datatype:this._datatype});return c},t.prototype.size=function(){return this._size.slice(0)},t.prototype._forEach=function(c){var d=c.length===2,f=this._size.length-1;if(f<0)return;if(d){v(this._data);return}if(f===0){for(var m=0;m<this._data.length;m++)c(this._data,m,[m]);return}var p=new Array(f+1);h(this._data);function h(y){var S=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;if(S<f)for(var x=0;x<y.length;x++)p[S]=x,h(y[x],S+1);else for(var _=0;_<y.length;_++)p[S]=_,c(y,_,p.slice())}function v(y){var S=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;if(S<f)for(var x=0;x<y.length;x++)v(y[x],S+1);else for(var _=0;_<y.length;_++)c(y,_)}},t.prototype.map=function(c){var d=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,f=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,m=this,p=new t(m),h=xa(c,m._data,"map",f),v=f||h.isUnary?(y,S)=>{y[S]=h.fn(y[S])}:(y,S,x)=>{y[S]=h.fn(y[S],x,m)};return p._forEach(v),p},t.prototype.forEach=function(c){var d=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,f=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,m=this,p=xa(c,m._data,"map",f),h=f||p.isUnary?(v,y)=>{p.fn(v[y])}:(v,y,S)=>{p.fn(v[y],S,m)};m._forEach(h)},t.prototype[Symbol.iterator]=function*(){var c=this._size.length-1;if(!(c<0)){if(c===0){for(var d=0;d<this._data.length;d++)yield{value:this._data[d],index:[d]};return}var f=[],m=function*(h,v){if(v<c)for(var y=0;y<h.length;y++)f[v]=y,yield*C1(m(h[y],v+1));else for(var S=0;S<h.length;S++)f[v]=S,yield{value:h[S],index:f.slice()}};yield*C1(m(this._data,0))}},t.prototype.rows=function(){var c=[],d=this.size();if(d.length!==2)throw new TypeError("Rows can only be returned for a 2D matrix.");var f=this._data;for(var m of f)c.push(new t([m],this._datatype));return c},t.prototype.columns=function(){var c=this,d=[],f=this.size();if(f.length!==2)throw new TypeError("Rows can only be returned for a 2D matrix.");for(var m=this._data,p=function(y){var S=m.map(x=>[x[y]]);d.push(new t(S,c._datatype))},h=0;h<f[1];h++)p(h);return d},t.prototype.toArray=function(){return dt(this._data)},t.prototype.valueOf=function(){return this._data},t.prototype.format=function(c){return pt(this._data,c)},t.prototype.toString=function(){return pt(this._data)},t.prototype.toJSON=function(){return{mathjs:"DenseMatrix",data:this._data,size:this._size,datatype:this._datatype}},t.prototype.diagonal=function(c){if(c){if(st(c)&&(c=c.toNumber()),!ft(c)||!Ye(c))throw new TypeError("The parameter k must be an integer number")}else c=0;for(var d=c>0?c:0,f=c<0?-c:0,m=this._size[0],p=this._size[1],h=Math.min(m-f,p-d),v=[],y=0;y<h;y++)v[y]=this._data[y+f][y+d];return new t({data:v,size:[h],datatype:this._datatype})},t.diagonal=function(c,d,f,m){if(!Yt(c))throw new TypeError("Array expected, size parameter");if(c.length!==2)throw new Error("Only two dimensions matrix are supported");if(c=c.map(function(C){if(st(C)&&(C=C.toNumber()),!ft(C)||!Ye(C)||C<1)throw new Error("Size values must be positive integers");return C}),f){if(st(f)&&(f=f.toNumber()),!ft(f)||!Ye(f))throw new TypeError("The parameter k must be an integer number")}else f=0;var p=f>0?f:0,h=f<0?-f:0,v=c[0],y=c[1],S=Math.min(v-h,y-p),x;if(Yt(d)){if(d.length!==S)throw new Error("Invalid value array length");x=function(E){return d[E]}}else if(Je(d)){var _=d.size();if(_.length!==1||_[0]!==S)throw new Error("Invalid matrix length");x=function(E){return d.get([E])}}else x=function(){return d};m||(m=st(x(0))?x(0).mul(0):0);var w=[];if(c.length>0){w=qa(w,c,m);for(var b=0;b<S;b++)w[b+h][b+p]=x(b)}return new t({data:w,size:[v,y]})},t.fromJSON=function(c){return new t(c)},t.prototype.swapRows=function(c,d){if(!ft(c)||!Ye(c)||!ft(d)||!Ye(d))throw new Error("Row index must be positive integers");if(this._size.length!==2)throw new Error("Only two dimensional matrix is supported");return cr(c,this._size[0]),cr(d,this._size[0]),t._swapRows(c,d,this._data),this},t._swapRows=function(c,d,f){var m=f[c];f[c]=f[d],f[d]=m};function u(c){return Je(c)?u(c.valueOf()):Yt(c)?c.map(u):c}return t},{isClass:!0});var kT="clone",Poe=["typed"],x2=A(kT,Poe,r=>{var{typed:e}=r;return e(kT,{any:dt})});function Ag(r){var e=r.length,t=r[0].length,n,i,a=[];for(i=0;i<t;i++){var o=[];for(n=0;n<e;n++)o.push(r[n][i]);a.push(o)}return a}function ya(r){for(var e=0;e<r.length;e++)if(Jr(r[e]))return!0;return!1}function fi(r,e){Je(r)?r.forEach(t=>e(t),!1,!0):Eg(r,e,!0)}function et(r,e,t){if(!t)return Je(r)?r.map(i=>e(i),!1,!0):L0(r,e,!0);var n=i=>i===0?i:e(i);return Je(r)?r.map(i=>n(i),!1,!0):L0(r,n,!0)}function ol(r,e,t){var n=Array.isArray(r)?ut(r):r.size();if(e<0||e>=n.length)throw new Wn(e,n.length);return Je(r)?r.create(Mg(r.valueOf(),e,t),r.datatype()):Mg(r,e,t)}function Mg(r,e,t){var n,i,a,o;if(e<=0)if(Array.isArray(r[0])){for(o=Ag(r),i=[],n=0;n<o.length;n++)i[n]=Mg(o[n],e-1,t);return i}else{for(a=r[0],n=1;n<r.length;n++)a=t(a,r[n]);return a}else{for(i=[],n=0;n<r.length;n++)i[n]=Mg(r[n],e-1,t);return i}}function y2(r,e,t,n,i,a,o,s,l,u,c){var d=r._values,f=r._index,m=r._ptr,p,h,v,y;if(n)for(h=m[e],v=m[e+1],p=h;p<v;p++)y=f[p],t[y]!==a?(t[y]=a,o.push(y),u?(n[y]=l?s(d[p],c):s(c,d[p]),i[y]=a):n[y]=d[p]):(n[y]=l?s(d[p],n[y]):s(n[y],d[p]),i[y]=a);else for(h=m[e],v=m[e+1],p=h;p<v;p++)y=f[p],t[y]!==a?(t[y]=a,o.push(y)):i[y]=a}var PT="isInteger",Boe=["typed"],b2=A(PT,Boe,r=>{var{typed:e}=r;return e(PT,{number:Ye,BigNumber:function(n){return n.isInt()},bigint:function(n){return!0},Fraction:function(n){return n.d===BigInt(1)},"Array | Matrix":e.referToSelf(t=>n=>et(n,t))})});var Ri="number",ns="number, number";function w2(r){return Math.abs(r)}w2.signature=Ri;function _2(r,e){return r+e}_2.signature=ns;function S2(r,e){return r-e}S2.signature=ns;function D2(r,e){return r*e}D2.signature=ns;function Loe(r,e){return r/e}Loe.signature=ns;function C2(r){return-r}C2.signature=Ri;function E2(r){return r}E2.signature=Ri;function Yc(r){return KN(r)}Yc.signature=Ri;function A2(r){return r*r*r}A2.signature=Ri;function M2(r){return Math.exp(r)}M2.signature=Ri;function N2(r){return JN(r)}N2.signature=Ri;function zoe(r,e){if(!Ye(r)||!Ye(e))throw new Error("Parameters in function gcd must be integer numbers");for(var t;e!==0;)t=r%e,r=e,e=t;return r<0?-r:r}zoe.signature=ns;function T2(r,e){if(!Ye(r)||!Ye(e))throw new Error("Parameters in function lcm must be integer numbers");if(r===0||e===0)return 0;for(var t,n=r*e;e!==0;)t=e,e=r%t,r=t;return Math.abs(n/r)}T2.signature=ns;function F2(r,e){return e?Math.log(r)/Math.log(e):Math.log(r)}function z0(r){return XN(r)}z0.signature=Ri;function Ng(r){return ZN(r)}Ng.signature=Ri;function Voe(r){return lg(r)}Voe.signature=Ri;function Uoe(r,e){return e===0?r:r-e*Math.floor(r/e)}Uoe.signature=ns;function I2(r){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:2,t=e<0;if(t&&(e=-e),e===0)throw new Error("Root must be non-zero");if(r<0&&Math.abs(e)%2!==1)throw new Error("Root must be odd when a is negative.");if(r===0)return t?1/0:0;if(!isFinite(r))return t?0:r;var n=Math.pow(Math.abs(r),1/e);return n=r<0?-n:n,t?1/n:n}function Tg(r){return pa(r)}Tg.signature=Ri;function qoe(r){return Math.sqrt(r)}qoe.signature=Ri;function O2(r){return r*r}O2.signature=Ri;function R2(r,e){var t,n,i,a=0,o=1,s=1,l=0;if(!Ye(r)||!Ye(e))throw new Error("Parameters in function xgcd must be integer numbers");for(;e;)n=Math.floor(r/e),i=r-n*e,t=a,a=o-n*a,o=t,t=s,s=l-n*s,l=t,r=e,e=i;var u;return r<0?u=[-r,-o,-l]:u=[r,r?o:0,l],u}R2.signature=ns;function k2(r,e){return r*r<1&&e===1/0||r*r>1&&e===-1/0?0:Math.pow(r,e)}k2.signature=ns;function Zc(r){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;if(!Ye(e)||e<0||e>15)throw new Error("Number of decimals in function round must be an integer from 0 to 15 inclusive");return parseFloat(Hb(r,e))}function joe(r){return Math.abs(r)}joe.signature=Ri;var $oe="number",Xc="number, number";function P2(r,e){if(!Ye(r)||!Ye(e))throw new Error("Integers expected in function bitAnd");return r&e}P2.signature=Xc;function B2(r){if(!Ye(r))throw new Error("Integer expected in function bitNot");return~r}B2.signature=$oe;function L2(r,e){if(!Ye(r)||!Ye(e))throw new Error("Integers expected in function bitOr");return r|e}L2.signature=Xc;function z2(r,e){if(!Ye(r)||!Ye(e))throw new Error("Integers expected in function bitXor");return r^e}z2.signature=Xc;function V2(r,e){if(!Ye(r)||!Ye(e))throw new Error("Integers expected in function leftShift");return r<<e}V2.signature=Xc;function U2(r,e){if(!Ye(r)||!Ye(e))throw new Error("Integers expected in function rightArithShift");return r>>e}U2.signature=Xc;function q2(r,e){if(!Ye(r)||!Ye(e))throw new Error("Integers expected in function rightLogShift");return r>>>e}q2.signature=Xc;function Gi(r,e){if(e<r)return 1;if(e===r)return e;var t=e+r>>1;return Gi(r,t)*Gi(t+1,e)}function j2(r,e){if(!Ye(r)||r<0)throw new TypeError("Positive integer value expected in function combinations");if(!Ye(e)||e<0)throw new TypeError("Positive integer value expected in function combinations");if(e>r)throw new TypeError("k must be less than or equal to n");for(var t=r-e,n=1,i=e<t?t+1:e+1,a=2,o=e<t?e:t,s=i;s<=r;++s)for(n*=s;a<=o&&n%a===0;)n/=a,++a;return a<=o&&(n/=Gi(a,o)),n}j2.signature="number, number";var BT=Math.PI,LT=2*Math.PI,zT=Math.E,VT=1.618033988749895;var Hoe="number",$2="number, number";function H2(r){return!r}H2.signature=Hoe;function Fg(r,e){return!!(r||e)}Fg.signature=$2;function Ig(r,e){return!!r!=!!e}Ig.signature=$2;function Og(r,e){return!!(r&&e)}Og.signature=$2;function V0(r){var e;if(Ye(r))return r<=0?isFinite(r)?1/0:NaN:r>171?1/0:Gi(1,r-1);if(r<.5)return Math.PI/(Math.sin(Math.PI*r)*V0(1-r));if(r>=171.35)return 1/0;if(r>85){var t=r*r,n=t*r,i=n*r,a=i*r;return Math.sqrt(2*Math.PI/r)*Math.pow(r/Math.E,r)*(1+1/(12*r)+1/(288*t)-139/(51840*n)-571/(2488320*i)+163879/(209018880*a)+5246819/(75246796800*a*r))}--r,e=mu[0];for(var o=1;o<mu.length;++o)e+=mu[o]/(r+o);var s=r+W2+.5;return Math.sqrt(2*Math.PI)*Math.pow(s,r+.5)*Math.exp(-s)*e}V0.signature="number";var W2=4.7421875,mu=[.9999999999999971,57.15623566586292,-59.59796035547549,14.136097974741746,-.4919138160976202,3399464998481189e-20,4652362892704858e-20,-9837447530487956e-20,.0001580887032249125,-.00021026444172410488,.00021743961811521265,-.0001643181065367639,8441822398385275e-20,-26190838401581408e-21,36899182659531625e-22],G2=.9189385332046728,Woe=5,Goe=7,UT=[1.000000000190015,76.18009172947146,-86.50532032941678,24.01409824083091,-1.231739572450155,.001208650973866179,-5395239384953e-18];function U0(r){if(r<0)return NaN;if(r===0)return 1/0;if(!isFinite(r))return r;if(r<.5)return Math.log(Math.PI/Math.sin(Math.PI*r))-U0(1-r);r=r-1;for(var e=r+Woe+.5,t=UT[0],n=Goe-1;n>=1;n--)t+=UT[n]/(r+n);return G2+(r+.5)*Math.log(e)-e+Math.log(t)}U0.signature="number";var Yr="number",Yoe="number, number";function Zoe(r){return Math.acos(r)}Zoe.signature=Yr;function Y2(r){return tT(r)}Y2.signature=Yr;function Z2(r){return Math.atan(1/r)}Z2.signature=Yr;function X2(r){return isFinite(r)?(Math.log((r+1)/r)+Math.log(r/(r-1)))/2:0}X2.signature=Yr;function K2(r){return Math.asin(1/r)}K2.signature=Yr;function J2(r){var e=1/r;return Math.log(e+Math.sqrt(e*e+1))}J2.signature=Yr;function Q2(r){return Math.acos(1/r)}Q2.signature=Yr;function ew(r){var e=1/r,t=Math.sqrt(e*e-1);return Math.log(t+e)}ew.signature=Yr;function Xoe(r){return Math.asin(r)}Xoe.signature=Yr;function tw(r){return rT(r)}tw.signature=Yr;function Koe(r){return Math.atan(r)}Koe.signature=Yr;function Joe(r,e){return Math.atan2(r,e)}Joe.signature=Yoe;function rw(r){return nT(r)}rw.signature=Yr;function Qoe(r){return Math.cos(r)}Qoe.signature=Yr;function ese(r){return cg(r)}ese.signature=Yr;function nw(r){return 1/Math.tan(r)}nw.signature=Yr;function iw(r){var e=Math.exp(2*r);return(e+1)/(e-1)}iw.signature=Yr;function aw(r){return 1/Math.sin(r)}aw.signature=Yr;function ow(r){return r===0?Number.POSITIVE_INFINITY:Math.abs(2/(Math.exp(r)-Math.exp(-r)))*pa(r)}ow.signature=Yr;function sw(r){return 1/Math.cos(r)}sw.signature=Yr;function lw(r){return 2/(Math.exp(r)+Math.exp(-r))}lw.signature=Yr;function tse(r){return Math.sin(r)}tse.signature=Yr;function uw(r){return iT(r)}uw.signature=Yr;function rse(r){return Math.tan(r)}rse.signature=Yr;function nse(r){return dg(r)}nse.signature=Yr;var q0="number";function ise(r){return Ye(r)}ise.signature=q0;function cw(r){return r<0}cw.signature=q0;function dw(r){return r>0}dw.signature=q0;function ase(r){return r===0}ase.signature=q0;function fw(r){return Number.isNaN(r)}fw.signature=q0;function Qr(r,e){var t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1e-9,n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0;if(t<=0)throw new Error("Relative tolerance must be greater than 0");if(n<0)throw new Error("Absolute tolerance must be at least 0");return r.isNaN()||e.isNaN()?!1:!r.isFinite()||!e.isFinite()?r.eq(e):r.eq(e)?!0:r.minus(e).abs().lte(r.constructor.max(r.constructor.max(r.abs(),e.abs()).mul(t),n))}var qT="isNegative",ose=["typed","config"],mw=A(qT,ose,r=>{var{typed:e,config:t}=r;return e(qT,{number:n=>_r(n,0,t.relTol,t.absTol)?!1:cw(n),BigNumber:n=>Qr(n,new n.constructor(0),t.relTol,t.absTol)?!1:n.isNeg()&&!n.isZero()&&!n.isNaN(),bigint:n=>n<BigInt(0),Fraction:n=>n.s<BigInt(0),Unit:e.referToSelf(n=>i=>e.find(n,i.valueType())(i.value)),"Array | Matrix":e.referToSelf(n=>i=>et(i,n))})});var jT="isNumeric",sse=["typed"],hw=A(jT,sse,r=>{var{typed:e}=r;return e(jT,{"number | BigNumber | bigint | Fraction | boolean":()=>!0,"Complex | Unit | string | null | undefined | Node":()=>!1,"Array | Matrix":e.referToSelf(t=>n=>et(n,t))})});var $T="hasNumericValue",lse=["typed","isNumeric"],pw=A($T,lse,r=>{var{typed:e,isNumeric:t}=r;return e($T,{boolean:()=>!0,string:function(i){return i.trim().length>0&&!isNaN(Number(i))},any:function(i){return t(i)}})});var HT="isPositive",use=["typed","config"],gw=A(HT,use,r=>{var{typed:e,config:t}=r;return e(HT,{number:n=>_r(n,0,t.relTol,t.absTol)?!1:dw(n),BigNumber:n=>Qr(n,new n.constructor(0),t.relTol,t.absTol)?!1:!n.isNeg()&&!n.isZero()&&!n.isNaN(),bigint:n=>n>BigInt(0),Fraction:n=>n.s>BigInt(0)&&n.n>BigInt(0),Unit:e.referToSelf(n=>i=>e.find(n,i.valueType())(i.value)),"Array | Matrix":e.referToSelf(n=>i=>et(i,n))})});var WT="isZero",cse=["typed","equalScalar"],vw=A(WT,cse,r=>{var{typed:e,equalScalar:t}=r;return e(WT,{"number | BigNumber | Complex | Fraction":n=>t(n,0),bigint:n=>n===BigInt(0),Unit:e.referToSelf(n=>i=>e.find(n,i.valueType())(i.value)),"Array | Matrix":e.referToSelf(n=>i=>et(i,n))})});var GT="isNaN",dse=["typed"],xw=A(GT,dse,r=>{var{typed:e}=r;return e(GT,{number:fw,BigNumber:function(n){return n.isNaN()},bigint:function(n){return!1},Fraction:function(n){return!1},Complex:function(n){return n.isNaN()},Unit:function(n){return Number.isNaN(n.value)},"Array | Matrix":e.referToSelf(t=>n=>et(n,t))})});var YT="typeOf",fse=["typed"],yw=A(YT,fse,r=>{var{typed:e}=r;return e(YT,{any:zt})});function ZT(r,e,t,n){return _r(r.re,e.re,t,n)&&_r(r.im,e.im,t,n)}var ba=A("compareUnits",["typed"],r=>{var{typed:e}=r;return{"Unit, Unit":e.referToSelf(t=>(n,i)=>{if(!n.equalBase(i))throw new Error("Cannot compare units with different base");return e.find(t,[n.valueType(),i.valueType()])(n.value,i.value)})}});var Rg="equalScalar",mse=["typed","config"],bw=A(Rg,mse,r=>{var{typed:e,config:t}=r,n=ba({typed:e});return e(Rg,{"boolean, boolean":function(a,o){return a===o},"number, number":function(a,o){return _r(a,o,t.relTol,t.absTol)},"BigNumber, BigNumber":function(a,o){return a.eq(o)||Qr(a,o,t.relTol,t.absTol)},"bigint, bigint":function(a,o){return a===o},"Fraction, Fraction":function(a,o){return a.equals(o)},"Complex, Complex":function(a,o){return ZT(a,o,t.relTol,t.absTol)}},n)}),hEe=A(Rg,["typed","config"],r=>{var{typed:e,config:t}=r;return e(Rg,{"number, number":function(i,a){return _r(i,a,t.relTol,t.absTol)}})});var hse="SparseMatrix",pse=["typed","equalScalar","Matrix"],ww=A(hse,pse,r=>{var{typed:e,equalScalar:t,Matrix:n}=r;function i(h,v){if(!(this instanceof i))throw new SyntaxError("Constructor must be called with the new operator");if(v&&!Wr(v))throw new Error("Invalid datatype: "+v);if(Je(h))a(this,h,v);else if(h&&Yt(h.index)&&Yt(h.ptr)&&Yt(h.size))this._values=h.values,this._index=h.index,this._ptr=h.ptr,this._size=h.size,this._datatype=v||h.datatype;else if(Yt(h))o(this,h,v);else{if(h)throw new TypeError("Unsupported type of data ("+zt(h)+")");this._values=[],this._index=[],this._ptr=[0],this._size=[0,0],this._datatype=v}}function a(h,v,y){v.type==="SparseMatrix"?(h._values=v._values?dt(v._values):void 0,h._index=dt(v._index),h._ptr=dt(v._ptr),h._size=dt(v._size),h._datatype=y||v._datatype):o(h,v.valueOf(),y||v._datatype)}function o(h,v,y){h._values=[],h._index=[],h._ptr=[],h._datatype=y;var S=v.length,x=0,_=t,w=0;if(Wr(y)&&(_=e.find(t,[y,y])||t,w=e.convert(0,y)),S>0){var b=0;do{h._ptr.push(h._index.length);for(var C=0;C<S;C++){var E=v[C];if(Yt(E)){if(b===0&&x<E.length&&(x=E.length),b<E.length){var D=E[b];_(D,w)||(h._values.push(D),h._index.push(C))}}else b===0&&x<1&&(x=1),_(E,w)||(h._values.push(E),h._index.push(C))}b++}while(b<x)}h._ptr.push(h._index.length),h._size=[S,x]}i.prototype=new n,i.prototype.createSparseMatrix=function(h,v){return new i(h,v)},Object.defineProperty(i,"name",{value:"SparseMatrix"}),i.prototype.constructor=i,i.prototype.type="SparseMatrix",i.prototype.isSparseMatrix=!0,i.prototype.getDataType=function(){return fu(this._values,zt)},i.prototype.storage=function(){return"sparse"},i.prototype.datatype=function(){return this._datatype},i.prototype.create=function(h,v){return new i(h,v)},i.prototype.density=function(){var h=this._size[0],v=this._size[1];return h!==0&&v!==0?this._index.length/(h*v):0},i.prototype.subset=function(h,v,y){if(!this._values)throw new Error("Cannot invoke subset on a Pattern only matrix");switch(arguments.length){case 1:return s(this,h);case 2:case 3:return l(this,h,v,y);default:throw new SyntaxError("Wrong number of arguments")}};function s(h,v){if(!Qs(v))throw new TypeError("Invalid index");var y=v.isScalar();if(y)return h.get(v.min());var S=v.size();if(S.length!==h._size.length)throw new yt(S.length,h._size.length);var x,_,w,b,C=v.min(),E=v.max();for(x=0,_=h._size.length;x<_;x++)cr(C[x],h._size[x]),cr(E[x],h._size[x]);var D=h._values,M=h._index,T=h._ptr,I=v.dimension(0),B=v.dimension(1),V=[],L=[];I.forEach(function(P,ae){L[P]=ae[0],V[P]=!0});var k=D?[]:void 0,O=[],Y=[];return B.forEach(function(P){for(Y.push(O.length),w=T[P],b=T[P+1];w<b;w++)x=M[w],V[x]===!0&&(O.push(L[x]),k&&k.push(D[w]))}),Y.push(O.length),new i({values:k,index:O,ptr:Y,size:S,datatype:h._datatype})}function l(h,v,y,S){if(!v||v.isIndex!==!0)throw new TypeError("Invalid index");var x=v.size(),_=v.isScalar(),w;if(Je(y)?(w=y.size(),y=y.toArray()):w=ut(y),_){if(w.length!==0)throw new TypeError("Scalar expected");h.set(v.min(),y,S)}else{if(x.length!==1&&x.length!==2)throw new yt(x.length,h._size.length,"<");if(w.length<x.length){for(var b=0,C=0;x[b]===1&&w[b]===1;)b++;for(;x[b]===1;)C++,b++;y=Dg(y,x.length,C,w)}if(!Fi(x,w))throw new yt(x,w,">");if(x.length===1){var E=v.dimension(0);E.forEach(function(T,I){cr(T),h.set([T,0],y[I[0]],S)})}else{var D=v.dimension(0),M=v.dimension(1);D.forEach(function(T,I){cr(T),M.forEach(function(B,V){cr(B),h.set([T,B],y[I[0]][V[0]],S)})})}}return h}i.prototype.get=function(h){if(!Yt(h))throw new TypeError("Array expected");if(h.length!==this._size.length)throw new yt(h.length,this._size.length);if(!this._values)throw new Error("Cannot invoke get on a Pattern only matrix");var v=h[0],y=h[1];cr(v,this._size[0]),cr(y,this._size[1]);var S=u(v,this._ptr[y],this._ptr[y+1],this._index);return S<this._ptr[y+1]&&this._index[S]===v?this._values[S]:0},i.prototype.set=function(h,v,y){if(!Yt(h))throw new TypeError("Array expected");if(h.length!==this._size.length)throw new yt(h.length,this._size.length);if(!this._values)throw new Error("Cannot invoke set on a Pattern only matrix");var S=h[0],x=h[1],_=this._size[0],w=this._size[1],b=t,C=0;Wr(this._datatype)&&(b=e.find(t,[this._datatype,this._datatype])||t,C=e.convert(0,this._datatype)),(S>_-1||x>w-1)&&(f(this,Math.max(S+1,_),Math.max(x+1,w),y),_=this._size[0],w=this._size[1]),cr(S,_),cr(x,w);var E=u(S,this._ptr[x],this._ptr[x+1],this._index);return E<this._ptr[x+1]&&this._index[E]===S?b(v,C)?c(E,x,this._values,this._index,this._ptr):this._values[E]=v:b(v,C)||d(E,S,x,v,this._values,this._index,this._ptr),this};function u(h,v,y,S){if(y-v===0)return y;for(var x=v;x<y;x++)if(S[x]===h)return x;return v}function c(h,v,y,S,x){y.splice(h,1),S.splice(h,1);for(var _=v+1;_<x.length;_++)x[_]--}function d(h,v,y,S,x,_,w){x.splice(h,0,S),_.splice(h,0,v);for(var b=y+1;b<w.length;b++)w[b]++}i.prototype.resize=function(h,v,y){if(!Jr(h))throw new TypeError("Array or Matrix expected");var S=h.valueOf().map(_=>Array.isArray(_)&&_.length===1?_[0]:_);if(S.length!==2)throw new Error("Only two dimensions matrix are supported");S.forEach(function(_){if(!ft(_)||!Ye(_)||_<0)throw new TypeError("Invalid size, must contain positive integers (size: "+pt(S)+")")});var x=y?this.clone():this;return f(x,S[0],S[1],v)};function f(h,v,y,S){var x=S||0,_=t,w=0;Wr(h._datatype)&&(_=e.find(t,[h._datatype,h._datatype])||t,w=e.convert(0,h._datatype),x=e.convert(x,h._datatype));var b=!_(x,w),C=h._size[0],E=h._size[1],D,M,T;if(y>E){for(M=E;M<y;M++)if(h._ptr[M]=h._values.length,b)for(D=0;D<C;D++)h._values.push(x),h._index.push(D);h._ptr[y]=h._values.length}else y<E&&(h._ptr.splice(y+1,E-y),h._values.splice(h._ptr[y],h._values.length),h._index.splice(h._ptr[y],h._index.length));if(E=y,v>C){if(b){var I=0;for(M=0;M<E;M++){h._ptr[M]=h._ptr[M]+I,T=h._ptr[M+1]+I;var B=0;for(D=C;D<v;D++,B++)h._values.splice(T+B,0,x),h._index.splice(T+B,0,D),I++}h._ptr[E]=h._values.length}}else if(v<C){var V=0;for(M=0;M<E;M++){h._ptr[M]=h._ptr[M]-V;var L=h._ptr[M],k=h._ptr[M+1]-V;for(T=L;T<k;T++)D=h._index[T],D>v-1&&(h._values.splice(T,1),h._index.splice(T,1),V++)}h._ptr[M]=h._values.length}return h._size[0]=v,h._size[1]=y,h}i.prototype.reshape=function(h,v){if(!Yt(h))throw new TypeError("Array expected");if(h.length!==2)throw new Error("Sparse matrices can only be reshaped in two dimensions");h.forEach(function(P){if(!ft(P)||!Ye(P)||P<=-2||P===0)throw new TypeError("Invalid size, must contain positive integers or -1 (size: "+pt(h)+")")});var y=this._size[0]*this._size[1];h=P0(h,y);var S=h[0]*h[1];if(y!==S)throw new Error("Reshaping sparse matrix will result in the wrong number of elements");var x=v?this.clone():this;if(this._size[0]===h[0]&&this._size[1]===h[1])return x;for(var _=[],w=0;w<x._ptr.length;w++)for(var b=0;b<x._ptr[w+1]-x._ptr[w];b++)_.push(w);for(var C=x._values.slice(),E=x._index.slice(),D=0;D<x._index.length;D++){var M=E[D],T=_[D],I=M*x._size[1]+T;_[D]=I%h[1],E[D]=Math.floor(I/h[1])}x._values.length=0,x._index.length=0,x._ptr.length=h[1]+1,x._size=h.slice();for(var B=0;B<x._ptr.length;B++)x._ptr[B]=0;for(var V=0;V<C.length;V++){var L=E[V],k=_[V],O=C[V],Y=u(L,x._ptr[k],x._ptr[k+1],x._index);d(Y,L,k,O,x._values,x._index,x._ptr)}return x},i.prototype.clone=function(){var h=new i({values:this._values?dt(this._values):void 0,index:dt(this._index),ptr:dt(this._ptr),size:dt(this._size),datatype:this._datatype});return h},i.prototype.size=function(){return this._size.slice(0)},i.prototype.map=function(h,v){if(!this._values)throw new Error("Cannot invoke map on a Pattern only matrix");var y=this,S=this._size[0],x=this._size[1],_=xa(h,y,"map"),w=function(C,E,D){return _.fn(C,[E,D],y)};return m(this,0,S-1,0,x-1,w,v)};function m(h,v,y,S,x,_,w){var b=[],C=[],E=[],D=t,M=0;Wr(h._datatype)&&(D=e.find(t,[h._datatype,h._datatype])||t,M=e.convert(0,h._datatype));for(var T=function(W,ue,we){var le=_(W,ue,we);D(le,M)||(b.push(le),C.push(ue))},I=S;I<=x;I++){E.push(b.length);var B=h._ptr[I],V=h._ptr[I+1];if(w)for(var L=B;L<V;L++){var k=h._index[L];k>=v&&k<=y&&T(h._values[L],k-v,I-S)}else{for(var O={},Y=B;Y<V;Y++){var P=h._index[Y];O[P]=h._values[Y]}for(var ae=v;ae<=y;ae++){var se=ae in O?O[ae]:0;T(se,ae-v,I-S)}}}return E.push(b.length),new i({values:b,index:C,ptr:E,size:[y-v+1,x-S+1]})}i.prototype.forEach=function(h,v){if(!this._values)throw new Error("Cannot invoke forEach on a Pattern only matrix");for(var y=this,S=this._size[0],x=this._size[1],_=xa(h,y,"forEach"),w=0;w<x;w++){var b=this._ptr[w],C=this._ptr[w+1];if(v)for(var E=b;E<C;E++){var D=this._index[E];_.fn(this._values[E],[D,w],y)}else{for(var M={},T=b;T<C;T++){var I=this._index[T];M[I]=this._values[T]}for(var B=0;B<S;B++){var V=B in M?M[B]:0;_.fn(V,[B,w],y)}}}},i.prototype[Symbol.iterator]=function*(){if(!this._values)throw new Error("Cannot iterate a Pattern only matrix");for(var h=this._size[1],v=0;v<h;v++)for(var y=this._ptr[v],S=this._ptr[v+1],x=y;x<S;x++){var _=this._index[x];yield{value:this._values[x],index:[_,v]}}},i.prototype.toArray=function(){return p(this._values,this._index,this._ptr,this._size,!0)},i.prototype.valueOf=function(){return p(this._values,this._index,this._ptr,this._size,!1)};function p(h,v,y,S,x){var _=S[0],w=S[1],b=[],C,E;for(C=0;C<_;C++)for(b[C]=[],E=0;E<w;E++)b[C][E]=0;for(E=0;E<w;E++)for(var D=y[E],M=y[E+1],T=D;T<M;T++)C=v[T],b[C][E]=h?x?dt(h[T]):h[T]:1;return b}return i.prototype.format=function(h){for(var v=this._size[0],y=this._size[1],S=this.density(),x="Sparse Matrix ["+pt(v,h)+" x "+pt(y,h)+"] density: "+pt(S,h)+`
`,_=0;_<y;_++)for(var w=this._ptr[_],b=this._ptr[_+1],C=w;C<b;C++){var E=this._index[C];x+=`
    (`+pt(E,h)+", "+pt(_,h)+") ==> "+(this._values?pt(this._values[C],h):"X")}return x},i.prototype.toString=function(){return pt(this.toArray())},i.prototype.toJSON=function(){return{mathjs:"SparseMatrix",values:this._values,index:this._index,ptr:this._ptr,size:this._size,datatype:this._datatype}},i.prototype.diagonal=function(h){if(h){if(st(h)&&(h=h.toNumber()),!ft(h)||!Ye(h))throw new TypeError("The parameter k must be an integer number")}else h=0;var v=h>0?h:0,y=h<0?-h:0,S=this._size[0],x=this._size[1],_=Math.min(S-y,x-v),w=[],b=[],C=[];C[0]=0;for(var E=v;E<x&&w.length<_;E++)for(var D=this._ptr[E],M=this._ptr[E+1],T=D;T<M;T++){var I=this._index[T];if(I===E-v+y){w.push(this._values[T]),b[w.length-1]=I-y;break}}return C.push(w.length),new i({values:w,index:b,ptr:C,size:[_,1]})},i.fromJSON=function(h){return new i(h)},i.diagonal=function(h,v,y,S,x){if(!Yt(h))throw new TypeError("Array expected, size parameter");if(h.length!==2)throw new Error("Only two dimensions matrix are supported");if(h=h.map(function(P){if(st(P)&&(P=P.toNumber()),!ft(P)||!Ye(P)||P<1)throw new Error("Size values must be positive integers");return P}),y){if(st(y)&&(y=y.toNumber()),!ft(y)||!Ye(y))throw new TypeError("The parameter k must be an integer number")}else y=0;var _=t,w=0;Wr(x)&&(_=e.find(t,[x,x])||t,w=e.convert(0,x));var b=y>0?y:0,C=y<0?-y:0,E=h[0],D=h[1],M=Math.min(E-C,D-b),T;if(Yt(v)){if(v.length!==M)throw new Error("Invalid value array length");T=function(ae){return v[ae]}}else if(Je(v)){var I=v.size();if(I.length!==1||I[0]!==M)throw new Error("Invalid matrix length");T=function(ae){return v.get([ae])}}else T=function(){return v};for(var B=[],V=[],L=[],k=0;k<D;k++){L.push(B.length);var O=k-b;if(O>=0&&O<M){var Y=T(O);_(Y,w)||(V.push(O+C),B.push(Y))}}return L.push(B.length),new i({values:B,index:V,ptr:L,size:[E,D]})},i.prototype.swapRows=function(h,v){if(!ft(h)||!Ye(h)||!ft(v)||!Ye(v))throw new Error("Row index must be positive integers");if(this._size.length!==2)throw new Error("Only two dimensional matrix is supported");return cr(h,this._size[0]),cr(v,this._size[0]),i._swapRows(h,v,this._size[1],this._values,this._index,this._ptr),this},i._forEachRow=function(h,v,y,S,x){for(var _=S[h],w=S[h+1],b=_;b<w;b++)x(y[b],v[b])},i._swapRows=function(h,v,y,S,x,_){for(var w=0;w<y;w++){var b=_[w],C=_[w+1],E=u(h,b,C,x),D=u(v,b,C,x);if(E<C&&D<C&&x[E]===h&&x[D]===v){if(S){var M=S[E];S[E]=S[D],S[D]=M}continue}if(E<C&&x[E]===h&&(D>=C||x[D]!==v)){var T=S?S[E]:void 0;x.splice(D,0,v),S&&S.splice(D,0,T),x.splice(D<=E?E+1:E,1),S&&S.splice(D<=E?E+1:E,1);continue}if(D<C&&x[D]===v&&(E>=C||x[E]!==h)){var I=S?S[D]:void 0;x.splice(E,0,h),S&&S.splice(E,0,I),x.splice(E<=D?D+1:D,1),S&&S.splice(E<=D?D+1:D,1)}}},i},{isClass:!0});var gse="number",vse=["typed"];function xse(r){var e=r.match(/(0[box])([0-9a-fA-F]*)\.([0-9a-fA-F]*)/);if(e){var t={"0b":2,"0o":8,"0x":16}[e[1]],n=e[2],i=e[3];return{input:r,radix:t,integerPart:n,fractionalPart:i}}else return null}function yse(r){for(var e=parseInt(r.integerPart,r.radix),t=0,n=0;n<r.fractionalPart.length;n++){var i=parseInt(r.fractionalPart[n],r.radix);t+=i/Math.pow(r.radix,n+1)}var a=e+t;if(isNaN(a))throw new SyntaxError('String "'+r.input+'" is not a valid number');return a}var _w=A(gse,vse,r=>{var{typed:e}=r,t=e("number",{"":function(){return 0},number:function(i){return i},string:function(i){if(i==="NaN")return NaN;var a=xse(i);if(a)return yse(a);var o=0,s=i.match(/(0[box][0-9a-fA-F]*)i([0-9]*)/);s&&(o=Number(s[2]),i=s[1]);var l=Number(i);if(isNaN(l))throw new SyntaxError('String "'+i+'" is not a valid number');if(s){if(l>2**o-1)throw new SyntaxError('String "'.concat(i,'" is out of range'));l>=2**(o-1)&&(l=l-2**o)}return l},BigNumber:function(i){return i.toNumber()},bigint:function(i){return Number(i)},Fraction:function(i){return i.valueOf()},Unit:e.referToSelf(n=>i=>{var a=i.clone();return a.value=n(i.value),a}),null:function(i){return 0},"Unit, string | Unit":function(i,a){return i.toNumber(a)},"Array | Matrix":e.referToSelf(n=>i=>et(i,n))});return t.fromJSON=function(n){return parseFloat(n.value)},t});var bse="bigint",wse=["typed"],Sw=A(bse,wse,r=>{var{typed:e}=r,t=e("bigint",{"":function(){return BigInt(0)},bigint:function(i){return i},number:function(i){return BigInt(i.toFixed())},BigNumber:function(i){return BigInt(i.round().toString())},Fraction:function(i){return BigInt(i.valueOf().toFixed())},"string | boolean":function(i){return BigInt(i)},null:function(i){return BigInt(0)},"Array | Matrix":e.referToSelf(n=>i=>et(i,n))});return t.fromJSON=function(n){return BigInt(n.value)},t});var XT="string",_se=["typed"],Dw=A(XT,_se,r=>{var{typed:e}=r;return e(XT,{"":function(){return""},number:za,null:function(n){return"null"},boolean:function(n){return n+""},string:function(n){return n},"Array | Matrix":e.referToSelf(t=>n=>et(n,t)),any:function(n){return String(n)}})});var KT="boolean",Sse=["typed"],Cw=A(KT,Sse,r=>{var{typed:e}=r;return e(KT,{"":function(){return!1},boolean:function(n){return n},number:function(n){return!!n},null:function(n){return!1},BigNumber:function(n){return!n.isZero()},string:function(n){var i=n.toLowerCase();if(i==="true")return!0;if(i==="false")return!1;var a=Number(n);if(n!==""&&!isNaN(a))return!!a;throw new Error('Cannot convert "'+n+'" to a boolean')},"Array | Matrix":e.referToSelf(t=>n=>et(n,t))})});var Dse="bignumber",Cse=["typed","BigNumber"],Ew=A(Dse,Cse,r=>{var{typed:e,BigNumber:t}=r;return e("bignumber",{"":function(){return new t(0)},number:function(i){return new t(i+"")},string:function(i){var a=i.match(/(0[box][0-9a-fA-F]*)i([0-9]*)/);if(a){var o=a[2],s=t(a[1]),l=new t(2).pow(Number(o));if(s.gt(l.sub(1)))throw new SyntaxError('String "'.concat(i,'" is out of range'));var u=new t(2).pow(Number(o)-1);return s.gte(u)?s.sub(l):s}return new t(i)},BigNumber:function(i){return i},bigint:function(i){return new t(i.toString())},Unit:e.referToSelf(n=>i=>{var a=i.clone();return a.value=n(i.value),a}),Fraction:function(i){return new t(String(i.n)).div(String(i.d)).times(String(i.s))},null:function(i){return new t(0)},"Array | Matrix":e.referToSelf(n=>i=>et(i,n))})});var Ese="complex",Ase=["typed","Complex"],Aw=A(Ese,Ase,r=>{var{typed:e,Complex:t}=r;return e("complex",{"":function(){return t.ZERO},number:function(i){return new t(i,0)},"number, number":function(i,a){return new t(i,a)},"BigNumber, BigNumber":function(i,a){return new t(i.toNumber(),a.toNumber())},Fraction:function(i){return new t(i.valueOf(),0)},Complex:function(i){return i.clone()},string:function(i){return t(i)},null:function(i){return t(0)},Object:function(i){if("re"in i&&"im"in i)return new t(i.re,i.im);if("r"in i&&"phi"in i||"abs"in i&&"arg"in i)return new t(i);throw new Error("Expected object with properties (re and im) or (r and phi) or (abs and arg)")},"Array | Matrix":e.referToSelf(n=>i=>et(i,n))})});var Mse="fraction",Nse=["typed","Fraction"],Mw=A(Mse,Nse,r=>{var{typed:e,Fraction:t}=r;return e("fraction",{number:function(i){if(!isFinite(i)||isNaN(i))throw new Error(i+" cannot be represented as a fraction");return new t(i)},string:function(i){return new t(i)},"number, number":function(i,a){return new t(i,a)},"bigint, bigint":function(i,a){return new t(i,a)},null:function(i){return new t(0)},BigNumber:function(i){return new t(i.toString())},bigint:function(i){return new t(i.toString())},Fraction:function(i){return i},Unit:e.referToSelf(n=>i=>{var a=i.clone();return a.value=n(i.value),a}),Object:function(i){return new t(i)},"Array | Matrix":e.referToSelf(n=>i=>et(i,n))})});var JT="matrix",Tse=["typed","Matrix","DenseMatrix","SparseMatrix"],Nw=A(JT,Tse,r=>{var{typed:e,Matrix:t,DenseMatrix:n,SparseMatrix:i}=r;return e(JT,{"":function(){return a([])},string:function(s){return a([],s)},"string, string":function(s,l){return a([],s,l)},Array:function(s){return a(s)},Matrix:function(s){return a(s,s.storage())},"Array | Matrix, string":a,"Array | Matrix, string, string":a});function a(o,s,l){if(s==="dense"||s==="default"||s===void 0)return new n(o,l);if(s==="sparse")return new i(o,l);throw new TypeError("Unknown matrix type "+JSON.stringify(s)+".")}});var QT="matrixFromFunction",Fse=["typed","matrix","isZero"],Tw=A(QT,Fse,r=>{var{typed:e,matrix:t,isZero:n}=r;return e(QT,{"Array | Matrix, function, string, string":function(o,s,l,u){return i(o,s,l,u)},"Array | Matrix, function, string":function(o,s,l){return i(o,s,l)},"Matrix, function":function(o,s){return i(o,s,"dense")},"Array, function":function(o,s){return i(o,s,"dense").toArray()},"Array | Matrix, string, function":function(o,s,l){return i(o,l,s)},"Array | Matrix, string, string, function":function(o,s,l,u){return i(o,u,s,l)}});function i(a,o,s,l){var u;return l!==void 0?u=t(s,l):u=t(s),u.resize(a),u.forEach(function(c,d){var f=o(d);n(f)||u.set(d,f)}),u}});var eF="matrixFromRows",Ise=["typed","matrix","flatten","size"],Fw=A(eF,Ise,r=>{var{typed:e,matrix:t,flatten:n,size:i}=r;return e(eF,{"...Array":function(l){return a(l)},"...Matrix":function(l){return t(a(l.map(u=>u.toArray())))}});function a(s){if(s.length===0)throw new TypeError("At least one row is needed to construct a matrix.");var l=o(s[0]),u=[];for(var c of s){var d=o(c);if(d!==l)throw new TypeError("The vectors had different length: "+(l|0)+" \u2260 "+(d|0));u.push(n(c))}return u}function o(s){var l=i(s);if(l.length===1)return l[0];if(l.length===2){if(l[0]===1)return l[1];if(l[1]===1)return l[0];throw new TypeError("At least one of the arguments is not a vector.")}else throw new TypeError("Only one- or two-dimensional vectors are supported.")}});var tF="matrixFromColumns",Ose=["typed","matrix","flatten","size"],Iw=A(tF,Ose,r=>{var{typed:e,matrix:t,flatten:n,size:i}=r;return e(tF,{"...Array":function(l){return a(l)},"...Matrix":function(l){return t(a(l.map(u=>u.toArray())))}});function a(s){if(s.length===0)throw new TypeError("At least one column is needed to construct a matrix.");for(var l=o(s[0]),u=[],c=0;c<l;c++)u[c]=[];for(var d of s){var f=o(d);if(f!==l)throw new TypeError("The vectors had different length: "+(l|0)+" \u2260 "+(f|0));for(var m=n(d),p=0;p<l;p++)u[p].push(m[p])}return u}function o(s){var l=i(s);if(l.length===1)return l[0];if(l.length===2){if(l[0]===1)return l[1];if(l[1]===1)return l[0];throw new TypeError("At least one of the arguments is not a vector.")}else throw new TypeError("Only one- or two-dimensional vectors are supported.")}});var rF="splitUnit",Rse=["typed"],Ow=A(rF,Rse,r=>{var{typed:e}=r;return e(rF,{"Unit, Array":function(n,i){return n.splitUnit(i)}})});var nF="unaryMinus",kse=["typed"],Rw=A(nF,kse,r=>{var{typed:e}=r;return e(nF,{number:C2,"Complex | BigNumber | Fraction":t=>t.neg(),bigint:t=>-t,Unit:e.referToSelf(t=>n=>{var i=n.clone();return i.value=e.find(t,i.valueType())(n.value),i}),"Array | Matrix":e.referToSelf(t=>n=>et(n,t,!0))})});var iF="unaryPlus",Pse=["typed","config","numeric"],kw=A(iF,Pse,r=>{var{typed:e,config:t,numeric:n}=r;return e(iF,{number:E2,Complex:function(a){return a},BigNumber:function(a){return a},bigint:function(a){return a},Fraction:function(a){return a},Unit:function(a){return a.clone()},"Array | Matrix":e.referToSelf(i=>a=>et(a,i,!0)),boolean:function(a){return n(a?1:0,t.number)},string:function(a){return n(a,Jn(a,t))}})});var aF="abs",Bse=["typed"],Pw=A(aF,Bse,r=>{var{typed:e}=r;return e(aF,{number:w2,"Complex | BigNumber | Fraction | Unit":t=>t.abs(),bigint:t=>t<BigInt(0)?-t:t,"Array | Matrix":e.referToSelf(t=>n=>et(n,t,!0))})});var oF="mapSlices",Lse=["typed","isInteger"],Kc=A(oF,Lse,r=>{var{typed:e,isInteger:t}=r;return e(oF,{"Array | Matrix, number | BigNumber, function":function(i,a,o){if(!t(a))throw new TypeError("Integer number expected for dimension");var s=Array.isArray(i)?ut(i):i.size();if(a<0||a>=s.length)throw new Wn(a,s.length);return Je(i)?i.create(kg(i.valueOf(),a,o),i.datatype()):kg(i,a,o)}})},{formerly:"apply"});function kg(r,e,t){var n,i,a;if(e<=0)if(Array.isArray(r[0])){for(a=zse(r),i=[],n=0;n<a.length;n++)i[n]=kg(a[n],e-1,t);return i}else return t(r);else{for(i=[],n=0;n<r.length;n++)i[n]=kg(r[n],e-1,t);return i}}function zse(r){var e=r.length,t=r[0].length,n,i,a=[];for(i=0;i<t;i++){var o=[];for(n=0;n<e;n++)o.push(r[n][i]);a.push(o)}return a}var sF="addScalar",Vse=["typed"],Bw=A(sF,Vse,r=>{var{typed:e}=r;return e(sF,{"number, number":_2,"Complex, Complex":function(n,i){return n.add(i)},"BigNumber, BigNumber":function(n,i){return n.plus(i)},"bigint, bigint":function(n,i){return n+i},"Fraction, Fraction":function(n,i){return n.add(i)},"Unit, Unit":e.referToSelf(t=>(n,i)=>{if(n.value===null||n.value===void 0)throw new Error("Parameter x contains a unit with undefined value");if(i.value===null||i.value===void 0)throw new Error("Parameter y contains a unit with undefined value");if(!n.equalBase(i))throw new Error("Units do not match");var a=n.clone();return a.value=e.find(t,[a.valueType(),i.valueType()])(a.value,i.value),a.fixPrefix=!1,a})})});var lF="subtractScalar",Use=["typed"],Lw=A(lF,Use,r=>{var{typed:e}=r;return e(lF,{"number, number":S2,"Complex, Complex":function(n,i){return n.sub(i)},"BigNumber, BigNumber":function(n,i){return n.minus(i)},"bigint, bigint":function(n,i){return n-i},"Fraction, Fraction":function(n,i){return n.sub(i)},"Unit, Unit":e.referToSelf(t=>(n,i)=>{if(n.value===null||n.value===void 0)throw new Error("Parameter x contains a unit with undefined value");if(i.value===null||i.value===void 0)throw new Error("Parameter y contains a unit with undefined value");if(!n.equalBase(i))throw new Error("Units do not match");var a=n.clone();return a.value=e.find(t,[a.valueType(),i.valueType()])(a.value,i.value),a.fixPrefix=!1,a})})});var uF="cbrt",qse=["config","typed","isNegative","unaryMinus","matrix","Complex","BigNumber","Fraction"],zw=A(uF,qse,r=>{var{config:e,typed:t,isNegative:n,unaryMinus:i,matrix:a,Complex:o,BigNumber:s,Fraction:l}=r;return t(uF,{number:Yc,Complex:u,"Complex, boolean":u,BigNumber:function(f){return f.cbrt()},Unit:c});function u(d,f){var m=d.arg()/3,p=d.abs(),h=new o(Yc(p),0).mul(new o(0,m).exp());if(f){var v=[h,new o(Yc(p),0).mul(new o(0,m+Math.PI*2/3).exp()),new o(Yc(p),0).mul(new o(0,m-Math.PI*2/3).exp())];return e.matrix==="Array"?v:a(v)}else return h}function c(d){if(d.value&&ci(d.value)){var f=d.clone();return f.value=1,f=f.pow(1/3),f.value=u(d.value),f}else{var m=n(d.value);m&&(d.value=i(d.value));var p;st(d.value)?p=new s(1).div(3):Qo(d.value)?p=new l(1,3):p=1/3;var h=d.pow(p);return m&&(h.value=i(h.value)),h}}});var jse="matAlgo11xS0s",$se=["typed","equalScalar"],sr=A(jse,$se,r=>{var{typed:e,equalScalar:t}=r;return function(i,a,o,s){var l=i._values,u=i._index,c=i._ptr,d=i._size,f=i._datatype;if(!l)throw new Error("Cannot perform operation on Pattern Sparse Matrix and Scalar value");var m=d[0],p=d[1],h,v=t,y=0,S=o;typeof f=="string"&&(h=f,v=e.find(t,[h,h]),y=e.convert(0,h),a=e.convert(a,h),S=e.find(o,[h,h]));for(var x=[],_=[],w=[],b=0;b<p;b++){w[b]=_.length;for(var C=c[b],E=c[b+1],D=C;D<E;D++){var M=u[D],T=s?S(a,l[D]):S(l[D],a);v(T,y)||(_.push(M),x.push(T))}}return w[p]=_.length,i.createSparseMatrix({values:x,index:_,ptr:w,size:[m,p],datatype:h})}});var Hse="matAlgo12xSfs",Wse=["typed","DenseMatrix"],er=A(Hse,Wse,r=>{var{typed:e,DenseMatrix:t}=r;return function(i,a,o,s){var l=i._values,u=i._index,c=i._ptr,d=i._size,f=i._datatype;if(!l)throw new Error("Cannot perform operation on Pattern Sparse Matrix and Scalar value");var m=d[0],p=d[1],h,v=o;typeof f=="string"&&(h=f,a=e.convert(a,h),v=e.find(o,[h,h]));for(var y=[],S=[],x=[],_=0;_<p;_++){for(var w=_+1,b=c[_],C=c[_+1],E=b;E<C;E++){var D=u[E];S[D]=l[E],x[D]=w}for(var M=0;M<m;M++)_===0&&(y[M]=[]),x[M]===w?y[M][_]=s?v(a,S[M]):v(S[M],a):y[M][_]=s?v(a,0):v(0,a)}return new t({data:y,size:[m,p],datatype:h})}});var Gse="matAlgo14xDs",Yse=["typed"],sn=A(Gse,Yse,r=>{var{typed:e}=r;return function(i,a,o,s){var l=i._data,u=i._size,c=i._datatype,d,f=o;typeof c=="string"&&(d=c,a=e.convert(a,d),f=e.find(o,[d,d]));var m=u.length>0?t(f,0,u,u[0],l,a,s):[];return i.createDenseMatrix({data:m,size:dt(u),datatype:d})};function t(n,i,a,o,s,l,u){var c=[];if(i===a.length-1)for(var d=0;d<o;d++)c[d]=u?n(l,s[d]):n(s[d],l);else for(var f=0;f<o;f++)c[f]=t(n,i+1,a,a[i+1],s[f],l,u);return c}});var Vw="ceil",Zse=["typed","config","round","matrix","equalScalar","zeros","DenseMatrix"],Xse=new su(10),Kse=A(Vw,["typed","config","round"],r=>{var{typed:e,config:t,round:n}=r;function i(a){var o=Math.ceil(a),s=n(a);return o===s?o:_r(a,s,t.relTol,t.absTol)&&!_r(a,o,t.relTol,t.absTol)?s:o}return e(Vw,{number:i,"number, number":function(o,s){if(!Ye(s))throw new RangeError("number of decimals in function ceil must be an integer");if(s<0||s>15)throw new RangeError("number of decimals in ceil number must be in range 0-15");var l=10**s;return i(o*l)/l}})}),Uw=A(Vw,Zse,r=>{var{typed:e,config:t,round:n,matrix:i,equalScalar:a,zeros:o,DenseMatrix:s}=r,l=sr({typed:e,equalScalar:a}),u=er({typed:e,DenseMatrix:s}),c=sn({typed:e}),d=Kse({typed:e,config:t,round:n});function f(m){var p=(y,S)=>Qr(y,S,t.relTol,t.absTol),h=m.ceil(),v=n(m);return h.eq(v)?h:p(m,v)&&!p(m,h)?v:h}return e("ceil",{number:d.signatures.number,"number,number":d.signatures["number,number"],Complex:function(p){return p.ceil()},"Complex, number":function(p,h){return p.ceil(h)},"Complex, BigNumber":function(p,h){return p.ceil(h.toNumber())},BigNumber:f,"BigNumber, BigNumber":function(p,h){var v=Xse.pow(h);return f(p.mul(v)).div(v)},bigint:m=>m,"bigint, number":(m,p)=>m,"bigint, BigNumber":(m,p)=>m,Fraction:function(p){return p.ceil()},"Fraction, number":function(p,h){return p.ceil(h)},"Fraction, BigNumber":function(p,h){return p.ceil(h.toNumber())},"Unit, number, Unit":e.referToSelf(m=>function(p,h,v){var y=p.toNumeric(v);return v.multiply(m(y,h))}),"Unit, BigNumber, Unit":e.referToSelf(m=>(p,h,v)=>m(p,h.toNumber(),v)),"Array | Matrix, number | BigNumber, Unit":e.referToSelf(m=>(p,h,v)=>et(p,y=>m(y,h,v),!0)),"Array | Matrix | Unit, Unit":e.referToSelf(m=>(p,h)=>m(p,0,h)),"Array | Matrix":e.referToSelf(m=>p=>et(p,m,!0)),"Array, number | BigNumber":e.referToSelf(m=>(p,h)=>et(p,v=>m(v,h),!0)),"SparseMatrix, number | BigNumber":e.referToSelf(m=>(p,h)=>l(p,h,m,!1)),"DenseMatrix, number | BigNumber":e.referToSelf(m=>(p,h)=>c(p,h,m,!1)),"number | Complex | Fraction | BigNumber, Array":e.referToSelf(m=>(p,h)=>c(i(h),p,m,!0).valueOf()),"number | Complex | Fraction | BigNumber, Matrix":e.referToSelf(m=>(p,h)=>a(p,0)?o(h.size(),h.storage()):h.storage()==="dense"?c(h,p,m,!0):u(h,p,m,!0))})});var cF="cube",Jse=["typed"],qw=A(cF,Jse,r=>{var{typed:e}=r;return e(cF,{number:A2,Complex:function(n){return n.mul(n).mul(n)},BigNumber:function(n){return n.times(n).times(n)},bigint:function(n){return n*n*n},Fraction:function(n){return n.pow(3)},Unit:function(n){return n.pow(3)}})});var dF="exp",Qse=["typed"],jw=A(dF,Qse,r=>{var{typed:e}=r;return e(dF,{number:M2,Complex:function(n){return n.exp()},BigNumber:function(n){return n.exp()}})});var fF="expm1",ele=["typed","Complex"],$w=A(fF,ele,r=>{var{typed:e,Complex:t}=r;return e(fF,{number:N2,Complex:function(i){var a=Math.exp(i.re);return new t(a*Math.cos(i.im)-1,a*Math.sin(i.im))},BigNumber:function(i){return i.exp().minus(1)}})});var Hw="fix",tle=["typed","Complex","matrix","ceil","floor","equalScalar","zeros","DenseMatrix"],rle=A(Hw,["typed","ceil","floor"],r=>{var{typed:e,ceil:t,floor:n}=r;return e(Hw,{number:function(a){return a>0?n(a):t(a)},"number, number":function(a,o){return a>0?n(a,o):t(a,o)}})}),Ww=A(Hw,tle,r=>{var{typed:e,Complex:t,matrix:n,ceil:i,floor:a,equalScalar:o,zeros:s,DenseMatrix:l}=r,u=er({typed:e,DenseMatrix:l}),c=sn({typed:e}),d=rle({typed:e,ceil:i,floor:a});return e("fix",{number:d.signatures.number,"number, number | BigNumber":d.signatures["number,number"],Complex:function(m){return new t(m.re>0?Math.floor(m.re):Math.ceil(m.re),m.im>0?Math.floor(m.im):Math.ceil(m.im))},"Complex, number":function(m,p){return new t(m.re>0?a(m.re,p):i(m.re,p),m.im>0?a(m.im,p):i(m.im,p))},"Complex, BigNumber":function(m,p){var h=p.toNumber();return new t(m.re>0?a(m.re,h):i(m.re,h),m.im>0?a(m.im,h):i(m.im,h))},BigNumber:function(m){return m.isNegative()?i(m):a(m)},"BigNumber, number | BigNumber":function(m,p){return m.isNegative()?i(m,p):a(m,p)},bigint:f=>f,"bigint, number":(f,m)=>f,"bigint, BigNumber":(f,m)=>f,Fraction:function(m){return m.s<BigInt(0)?m.ceil():m.floor()},"Fraction, number | BigNumber":function(m,p){return m.s<BigInt(0)?i(m,p):a(m,p)},"Unit, number, Unit":e.referToSelf(f=>function(m,p,h){var v=m.toNumeric(h);return h.multiply(f(v,p))}),"Unit, BigNumber, Unit":e.referToSelf(f=>(m,p,h)=>f(m,p.toNumber(),h)),"Array | Matrix, number | BigNumber, Unit":e.referToSelf(f=>(m,p,h)=>et(m,v=>f(v,p,h),!0)),"Array | Matrix | Unit, Unit":e.referToSelf(f=>(m,p)=>f(m,0,p)),"Array | Matrix":e.referToSelf(f=>m=>et(m,f,!0)),"Array | Matrix, number | BigNumber":e.referToSelf(f=>(m,p)=>et(m,h=>f(h,p),!0)),"number | Complex | Fraction | BigNumber, Array":e.referToSelf(f=>(m,p)=>c(n(p),m,f,!0).valueOf()),"number | Complex | Fraction | BigNumber, Matrix":e.referToSelf(f=>(m,p)=>o(m,0)?s(p.size(),p.storage()):p.storage()==="dense"?c(p,m,f,!0):u(p,m,f,!0))})});var Gw="floor",nle=["typed","config","round","matrix","equalScalar","zeros","DenseMatrix"],ile=new su(10),ale=A(Gw,["typed","config","round"],r=>{var{typed:e,config:t,round:n}=r;function i(a){var o=Math.floor(a),s=n(a);return o===s?o:_r(a,s,t.relTol,t.absTol)&&!_r(a,o,t.relTol,t.absTol)?s:o}return e(Gw,{number:i,"number, number":function(o,s){if(!Ye(s))throw new RangeError("number of decimals in function floor must be an integer");if(s<0||s>15)throw new RangeError("number of decimals in floor number must be in range 0 - 15");var l=10**s;return i(o*l)/l}})}),j0=A(Gw,nle,r=>{var{typed:e,config:t,round:n,matrix:i,equalScalar:a,zeros:o,DenseMatrix:s}=r,l=sr({typed:e,equalScalar:a}),u=er({typed:e,DenseMatrix:s}),c=sn({typed:e}),d=ale({typed:e,config:t,round:n});function f(m){var p=(y,S)=>Qr(y,S,t.relTol,t.absTol),h=m.floor(),v=n(m);return h.eq(v)?h:p(m,v)&&!p(m,h)?v:h}return e("floor",{number:d.signatures.number,"number,number":d.signatures["number,number"],Complex:function(p){return p.floor()},"Complex, number":function(p,h){return p.floor(h)},"Complex, BigNumber":function(p,h){return p.floor(h.toNumber())},BigNumber:f,"BigNumber, BigNumber":function(p,h){var v=ile.pow(h);return f(p.mul(v)).div(v)},bigint:m=>m,"bigint, number":(m,p)=>m,"bigint, BigNumber":(m,p)=>m,Fraction:function(p){return p.floor()},"Fraction, number":function(p,h){return p.floor(h)},"Fraction, BigNumber":function(p,h){return p.floor(h.toNumber())},"Unit, number, Unit":e.referToSelf(m=>function(p,h,v){var y=p.toNumeric(v);return v.multiply(m(y,h))}),"Unit, BigNumber, Unit":e.referToSelf(m=>(p,h,v)=>m(p,h.toNumber(),v)),"Array | Matrix, number | BigNumber, Unit":e.referToSelf(m=>(p,h,v)=>et(p,y=>m(y,h,v),!0)),"Array | Matrix | Unit, Unit":e.referToSelf(m=>(p,h)=>m(p,0,h)),"Array | Matrix":e.referToSelf(m=>p=>et(p,m,!0)),"Array, number | BigNumber":e.referToSelf(m=>(p,h)=>et(p,v=>m(v,h),!0)),"SparseMatrix, number | BigNumber":e.referToSelf(m=>(p,h)=>l(p,h,m,!1)),"DenseMatrix, number | BigNumber":e.referToSelf(m=>(p,h)=>c(p,h,m,!1)),"number | Complex | Fraction | BigNumber, Array":e.referToSelf(m=>(p,h)=>c(i(h),p,m,!0).valueOf()),"number | Complex | Fraction | BigNumber, Matrix":e.referToSelf(m=>(p,h)=>a(p,0)?o(h.size(),h.storage()):h.storage()==="dense"?c(h,p,m,!0):u(h,p,m,!0))})});var ole="matAlgo02xDS0",sle=["typed","equalScalar"],ln=A(ole,sle,r=>{var{typed:e,equalScalar:t}=r;return function(i,a,o,s){var l=i._data,u=i._size,c=i._datatype||i.getDataType(),d=a._values,f=a._index,m=a._ptr,p=a._size,h=a._datatype||a._data===void 0?a._datatype:a.getDataType();if(u.length!==p.length)throw new yt(u.length,p.length);if(u[0]!==p[0]||u[1]!==p[1])throw new RangeError("Dimension mismatch. Matrix A ("+u+") must match Matrix B ("+p+")");if(!d)throw new Error("Cannot perform operation on Dense Matrix and Pattern Sparse Matrix");var v=u[0],y=u[1],S,x=t,_=0,w=o;typeof c=="string"&&c===h&&c!=="mixed"&&(S=c,x=e.find(t,[S,S]),_=e.convert(0,S),w=e.find(o,[S,S]));for(var b=[],C=[],E=[],D=0;D<y;D++){E[D]=C.length;for(var M=m[D],T=m[D+1],I=M;I<T;I++){var B=f[I],V=s?w(d[I],l[B][D]):w(l[B][D],d[I]);x(V,_)||(C.push(B),b.push(V))}}return E[y]=C.length,a.createSparseMatrix({values:b,index:C,ptr:E,size:[v,y],datatype:c===i._datatype&&h===a._datatype?S:void 0})}});var lle="matAlgo03xDSf",ule=["typed"],vr=A(lle,ule,r=>{var{typed:e}=r;return function(n,i,a,o){var s=n._data,l=n._size,u=n._datatype||n.getDataType(),c=i._values,d=i._index,f=i._ptr,m=i._size,p=i._datatype||i._data===void 0?i._datatype:i.getDataType();if(l.length!==m.length)throw new yt(l.length,m.length);if(l[0]!==m[0]||l[1]!==m[1])throw new RangeError("Dimension mismatch. Matrix A ("+l+") must match Matrix B ("+m+")");if(!c)throw new Error("Cannot perform operation on Dense Matrix and Pattern Sparse Matrix");var h=l[0],v=l[1],y,S=0,x=a;typeof u=="string"&&u===p&&u!=="mixed"&&(y=u,S=e.convert(0,y),x=e.find(a,[y,y]));for(var _=[],w=0;w<h;w++)_[w]=[];for(var b=[],C=[],E=0;E<v;E++){for(var D=E+1,M=f[E],T=f[E+1],I=M;I<T;I++){var B=d[I];b[B]=o?x(c[I],s[B][E]):x(s[B][E],c[I]),C[B]=D}for(var V=0;V<h;V++)C[V]===D?_[V][E]=b[V]:_[V][E]=o?x(S,s[V][E]):x(s[V][E],S)}return n.createDenseMatrix({data:_,size:[h,v],datatype:u===n._datatype&&p===i._datatype?y:void 0})}});var cle="matAlgo05xSfSf",dle=["typed","equalScalar"],sl=A(cle,dle,r=>{var{typed:e,equalScalar:t}=r;return function(i,a,o){var s=i._values,l=i._index,u=i._ptr,c=i._size,d=i._datatype||i._data===void 0?i._datatype:i.getDataType(),f=a._values,m=a._index,p=a._ptr,h=a._size,v=a._datatype||a._data===void 0?a._datatype:a.getDataType();if(c.length!==h.length)throw new yt(c.length,h.length);if(c[0]!==h[0]||c[1]!==h[1])throw new RangeError("Dimension mismatch. Matrix A ("+c+") must match Matrix B ("+h+")");var y=c[0],S=c[1],x,_=t,w=0,b=o;typeof d=="string"&&d===v&&d!=="mixed"&&(x=d,_=e.find(t,[x,x]),w=e.convert(0,x),b=e.find(o,[x,x]));var C=s&&f?[]:void 0,E=[],D=[],M=C?[]:void 0,T=C?[]:void 0,I=[],B=[],V,L,k,O;for(L=0;L<S;L++){D[L]=E.length;var Y=L+1;for(k=u[L],O=u[L+1];k<O;k++)V=l[k],E.push(V),I[V]=Y,M&&(M[V]=s[k]);for(k=p[L],O=p[L+1];k<O;k++)V=m[k],I[V]!==Y&&E.push(V),B[V]=Y,T&&(T[V]=f[k]);if(C)for(k=D[L];k<E.length;){V=E[k];var P=I[V],ae=B[V];if(P===Y||ae===Y){var se=P===Y?M[V]:w,te=ae===Y?T[V]:w,W=b(se,te);_(W,w)?E.splice(k,1):(C.push(W),k++)}}}return D[S]=E.length,i.createSparseMatrix({values:C,index:E,ptr:D,size:[y,S],datatype:d===i._datatype&&v===a._datatype?x:void 0})}});var fle="matAlgo13xDD",mle=["typed"],mF=A(fle,mle,r=>{var{typed:e}=r;return function(i,a,o){var s=i._data,l=i._size,u=i._datatype,c=a._data,d=a._size,f=a._datatype,m=[];if(l.length!==d.length)throw new yt(l.length,d.length);for(var p=0;p<l.length;p++){if(l[p]!==d[p])throw new RangeError("Dimension mismatch. Matrix A ("+l+") must match Matrix B ("+d+")");m[p]=l[p]}var h,v=o;typeof u=="string"&&u===f&&(h=u,v=e.find(o,[h,h]));var y=m.length>0?t(v,0,m,m[0],s,c):[];return i.createDenseMatrix({data:y,size:m,datatype:h})};function t(n,i,a,o,s,l){var u=[];if(i===a.length-1)for(var c=0;c<o;c++)u[c]=n(s[c],l[c]);else for(var d=0;d<o;d++)u[d]=t(n,i+1,a,a[i+1],s[d],l[d]);return u}});function Mn(r,e){if(Fi(r.size(),e.size()))return[r,e];var t=B0(r.size(),e.size());return[r,e].map(n=>hle(n,t))}function hle(r,e){return Fi(r.size(),e)?r:r.create(wo(r.valueOf(),e),r.datatype())}var ple="matrixAlgorithmSuite",gle=["typed","matrix"],_t=A(ple,gle,r=>{var{typed:e,matrix:t}=r,n=mF({typed:e}),i=sn({typed:e});return function(o){var s=o.elop,l=o.SD||o.DS,u;s?(u={"DenseMatrix, DenseMatrix":(m,p)=>n(...Mn(m,p),s),"Array, Array":(m,p)=>n(...Mn(t(m),t(p)),s).valueOf(),"Array, DenseMatrix":(m,p)=>n(...Mn(t(m),p),s),"DenseMatrix, Array":(m,p)=>n(...Mn(m,t(p)),s)},o.SS&&(u["SparseMatrix, SparseMatrix"]=(m,p)=>o.SS(...Mn(m,p),s,!1)),o.DS&&(u["DenseMatrix, SparseMatrix"]=(m,p)=>o.DS(...Mn(m,p),s,!1),u["Array, SparseMatrix"]=(m,p)=>o.DS(...Mn(t(m),p),s,!1)),l&&(u["SparseMatrix, DenseMatrix"]=(m,p)=>l(...Mn(p,m),s,!0),u["SparseMatrix, Array"]=(m,p)=>l(...Mn(t(p),m),s,!0))):(u={"DenseMatrix, DenseMatrix":e.referToSelf(m=>(p,h)=>n(...Mn(p,h),m)),"Array, Array":e.referToSelf(m=>(p,h)=>n(...Mn(t(p),t(h)),m).valueOf()),"Array, DenseMatrix":e.referToSelf(m=>(p,h)=>n(...Mn(t(p),h),m)),"DenseMatrix, Array":e.referToSelf(m=>(p,h)=>n(...Mn(p,t(h)),m))},o.SS&&(u["SparseMatrix, SparseMatrix"]=e.referToSelf(m=>(p,h)=>o.SS(...Mn(p,h),m,!1))),o.DS&&(u["DenseMatrix, SparseMatrix"]=e.referToSelf(m=>(p,h)=>o.DS(...Mn(p,h),m,!1)),u["Array, SparseMatrix"]=e.referToSelf(m=>(p,h)=>o.DS(...Mn(t(p),h),m,!1))),l&&(u["SparseMatrix, DenseMatrix"]=e.referToSelf(m=>(p,h)=>l(...Mn(h,p),m,!0)),u["SparseMatrix, Array"]=e.referToSelf(m=>(p,h)=>l(...Mn(t(h),p),m,!0))));var c=o.scalar||"any",d=o.Ds||o.Ss;d&&(s?(u["DenseMatrix,"+c]=(m,p)=>i(m,p,s,!1),u[c+", DenseMatrix"]=(m,p)=>i(p,m,s,!0),u["Array,"+c]=(m,p)=>i(t(m),p,s,!1).valueOf(),u[c+", Array"]=(m,p)=>i(t(p),m,s,!0).valueOf()):(u["DenseMatrix,"+c]=e.referToSelf(m=>(p,h)=>i(p,h,m,!1)),u[c+", DenseMatrix"]=e.referToSelf(m=>(p,h)=>i(h,p,m,!0)),u["Array,"+c]=e.referToSelf(m=>(p,h)=>i(t(p),h,m,!1).valueOf()),u[c+", Array"]=e.referToSelf(m=>(p,h)=>i(t(h),p,m,!0).valueOf())));var f=o.sS!==void 0?o.sS:o.Ss;return s?(o.Ss&&(u["SparseMatrix,"+c]=(m,p)=>o.Ss(m,p,s,!1)),f&&(u[c+", SparseMatrix"]=(m,p)=>f(p,m,s,!0))):(o.Ss&&(u["SparseMatrix,"+c]=e.referToSelf(m=>(p,h)=>o.Ss(p,h,m,!1))),f&&(u[c+", SparseMatrix"]=e.referToSelf(m=>(p,h)=>f(h,p,m,!0)))),s&&s.signatures&&sg(u,s.signatures),u}});var hF="mod",vle=["typed","config","round","matrix","equalScalar","zeros","DenseMatrix","concat"],$0=A(hF,vle,r=>{var{typed:e,config:t,round:n,matrix:i,equalScalar:a,zeros:o,DenseMatrix:s,concat:l}=r,u=j0({typed:e,config:t,round:n,matrix:i,equalScalar:a,zeros:o,DenseMatrix:s}),c=ln({typed:e,equalScalar:a}),d=vr({typed:e}),f=sl({typed:e,equalScalar:a}),m=sr({typed:e,equalScalar:a}),p=er({typed:e,DenseMatrix:s}),h=_t({typed:e,matrix:i,concat:l});return e(hF,{"number, number":v,"BigNumber, BigNumber":function(S,x){return x.isZero()?S:S.sub(x.mul(u(S.div(x))))},"bigint, bigint":function(S,x){if(x===BigInt(0))return S;if(S<0){var _=S%x;return _===BigInt(0)?_:_+x}return S%x},"Fraction, Fraction":function(S,x){return x.equals(0)?S:S.sub(x.mul(u(S.div(x))))}},h({SS:f,DS:d,SD:c,Ss:m,sS:p}));function v(y,S){return S===0?y:y-S*u(y/S)}});var xle="matAlgo01xDSid",yle=["typed"],ti=A(xle,yle,r=>{var{typed:e}=r;return function(n,i,a,o){var s=n._data,l=n._size,u=n._datatype||n.getDataType(),c=i._values,d=i._index,f=i._ptr,m=i._size,p=i._datatype||i._data===void 0?i._datatype:i.getDataType();if(l.length!==m.length)throw new yt(l.length,m.length);if(l[0]!==m[0]||l[1]!==m[1])throw new RangeError("Dimension mismatch. Matrix A ("+l+") must match Matrix B ("+m+")");if(!c)throw new Error("Cannot perform operation on Dense Matrix and Pattern Sparse Matrix");var h=l[0],v=l[1],y=typeof u=="string"&&u!=="mixed"&&u===p?u:void 0,S=y?e.find(a,[y,y]):a,x,_,w=[];for(x=0;x<h;x++)w[x]=[];var b=[],C=[];for(_=0;_<v;_++){for(var E=_+1,D=f[_],M=f[_+1],T=D;T<M;T++)x=d[T],b[x]=o?S(c[T],s[x][_]):S(s[x][_],c[T]),C[x]=E;for(x=0;x<h;x++)C[x]===E?w[x][_]=b[x]:w[x][_]=s[x][_]}return n.createDenseMatrix({data:w,size:[h,v],datatype:u===n._datatype&&p===i._datatype?y:void 0})}});var ble="matAlgo04xSidSid",wle=["typed","equalScalar"],Jc=A(ble,wle,r=>{var{typed:e,equalScalar:t}=r;return function(i,a,o){var s=i._values,l=i._index,u=i._ptr,c=i._size,d=i._datatype||i._data===void 0?i._datatype:i.getDataType(),f=a._values,m=a._index,p=a._ptr,h=a._size,v=a._datatype||a._data===void 0?a._datatype:a.getDataType();if(c.length!==h.length)throw new yt(c.length,h.length);if(c[0]!==h[0]||c[1]!==h[1])throw new RangeError("Dimension mismatch. Matrix A ("+c+") must match Matrix B ("+h+")");var y=c[0],S=c[1],x,_=t,w=0,b=o;typeof d=="string"&&d===v&&d!=="mixed"&&(x=d,_=e.find(t,[x,x]),w=e.convert(0,x),b=e.find(o,[x,x]));var C=s&&f?[]:void 0,E=[],D=[],M=s&&f?[]:void 0,T=s&&f?[]:void 0,I=[],B=[],V,L,k,O,Y;for(L=0;L<S;L++){D[L]=E.length;var P=L+1;for(O=u[L],Y=u[L+1],k=O;k<Y;k++)V=l[k],E.push(V),I[V]=P,M&&(M[V]=s[k]);for(O=p[L],Y=p[L+1],k=O;k<Y;k++)if(V=m[k],I[V]===P){if(M){var ae=b(M[V],f[k]);_(ae,w)?I[V]=null:M[V]=ae}}else E.push(V),B[V]=P,T&&(T[V]=f[k]);if(M&&T)for(k=D[L];k<E.length;)V=E[k],I[V]===P?(C[k]=M[V],k++):B[V]===P?(C[k]=T[V],k++):E.splice(k,1)}return D[S]=E.length,i.createSparseMatrix({values:C,index:E,ptr:D,size:[y,S],datatype:d===i._datatype&&v===a._datatype?x:void 0})}});var _le="matAlgo10xSids",Sle=["typed","DenseMatrix"],ki=A(_le,Sle,r=>{var{typed:e,DenseMatrix:t}=r;return function(i,a,o,s){var l=i._values,u=i._index,c=i._ptr,d=i._size,f=i._datatype;if(!l)throw new Error("Cannot perform operation on Pattern Sparse Matrix and Scalar value");var m=d[0],p=d[1],h,v=o;typeof f=="string"&&(h=f,a=e.convert(a,h),v=e.find(o,[h,h]));for(var y=[],S=[],x=[],_=0;_<p;_++){for(var w=_+1,b=c[_],C=c[_+1],E=b;E<C;E++){var D=u[E];S[D]=l[E],x[D]=w}for(var M=0;M<m;M++)_===0&&(y[M]=[]),x[M]===w?y[M][_]=s?v(a,S[M]):v(S[M],a):y[M][_]=a}return new t({data:y,size:[m,p],datatype:h})}});function is(r,e,t,n){if(!(this instanceof is))throw new SyntaxError("Constructor must be called with the new operator");this.fn=r,this.count=e,this.min=t,this.max=n,this.message="Wrong number of arguments in function "+r+" ("+e+" provided, "+t+(n!=null?"-"+n:"")+" expected)",this.stack=new Error().stack}is.prototype=new Error;is.prototype.constructor=Error;is.prototype.name="ArgumentsError";is.prototype.isArgumentsError=!0;var pF="gcd",Dle=["typed","config","round","matrix","equalScalar","zeros","BigNumber","DenseMatrix","concat"],Yw="number | BigNumber | Fraction | Matrix | Array",Cle="".concat(Yw,", ").concat(Yw,", ...").concat(Yw);function gF(r){return!r.some(e=>Array.isArray(e))}var Zw=A(pF,Dle,r=>{var{typed:e,matrix:t,config:n,round:i,equalScalar:a,zeros:o,BigNumber:s,DenseMatrix:l,concat:u}=r,c=$0({typed:e,config:n,round:i,matrix:t,equalScalar:a,zeros:o,DenseMatrix:l,concat:u}),d=ti({typed:e}),f=Jc({typed:e,equalScalar:a}),m=ki({typed:e,DenseMatrix:l}),p=_t({typed:e,matrix:t,concat:u});return e(pF,{"number, number":h,"BigNumber, BigNumber":v,"Fraction, Fraction":(y,S)=>y.gcd(S)},p({SS:f,DS:d,Ss:m}),{[Cle]:e.referToSelf(y=>(S,x,_)=>{for(var w=y(S,x),b=0;b<_.length;b++)w=y(w,_[b]);return w}),Array:e.referToSelf(y=>S=>{if(S.length===1&&Array.isArray(S[0])&&gF(S[0]))return y(...S[0]);if(gF(S))return y(...S);throw new is("gcd() supports only 1d matrices!")}),Matrix:e.referToSelf(y=>S=>y(S.toArray()))});function h(y,S){if(!Ye(y)||!Ye(S))throw new Error("Parameters in function gcd must be integer numbers");for(var x;S!==0;)x=c(y,S),y=S,S=x;return y<0?-y:y}function v(y,S){if(!y.isInt()||!S.isInt())throw new Error("Parameters in function gcd must be integer numbers");for(var x=new s(0);!S.isZero();){var _=c(y,S);y=S,S=_}return y.lt(x)?y.neg():y}});var Ele="matAlgo06xS0S0",Ale=["typed","equalScalar"],ll=A(Ele,Ale,r=>{var{typed:e,equalScalar:t}=r;return function(i,a,o){var s=i._values,l=i._size,u=i._datatype||i._data===void 0?i._datatype:i.getDataType(),c=a._values,d=a._size,f=a._datatype||a._data===void 0?a._datatype:a.getDataType();if(l.length!==d.length)throw new yt(l.length,d.length);if(l[0]!==d[0]||l[1]!==d[1])throw new RangeError("Dimension mismatch. Matrix A ("+l+") must match Matrix B ("+d+")");var m=l[0],p=l[1],h,v=t,y=0,S=o;typeof u=="string"&&u===f&&u!=="mixed"&&(h=u,v=e.find(t,[h,h]),y=e.convert(0,h),S=e.find(o,[h,h]));for(var x=s&&c?[]:void 0,_=[],w=[],b=x?[]:void 0,C=[],E=[],D=0;D<p;D++){w[D]=_.length;var M=D+1;if(y2(i,D,C,b,E,M,_,S),y2(a,D,C,b,E,M,_,S),b)for(var T=w[D];T<_.length;){var I=_[T];if(E[I]===M){var B=b[I];v(B,y)?_.splice(T,1):(x.push(B),T++)}else _.splice(T,1)}else for(var V=w[D];V<_.length;){var L=_[V];E[L]!==M?_.splice(V,1):V++}}return w[p]=_.length,i.createSparseMatrix({values:x,index:_,ptr:w,size:[m,p],datatype:u===i._datatype&&f===a._datatype?h:void 0})}});var vF="lcm",Mle=["typed","matrix","equalScalar","concat"],Xw=A(vF,Mle,r=>{var{typed:e,matrix:t,equalScalar:n,concat:i}=r,a=ln({typed:e,equalScalar:n}),o=ll({typed:e,equalScalar:n}),s=sr({typed:e,equalScalar:n}),l=_t({typed:e,matrix:t,concat:i}),u="number | BigNumber | Fraction | Matrix | Array",c={};return c["".concat(u,", ").concat(u,", ...").concat(u)]=e.referToSelf(f=>(m,p,h)=>{for(var v=f(m,p),y=0;y<h.length;y++)v=f(v,h[y]);return v}),e(vF,{"number, number":T2,"BigNumber, BigNumber":d,"Fraction, Fraction":(f,m)=>f.lcm(m)},l({SS:o,DS:a,Ss:s}),c);function d(f,m){if(!f.isInt()||!m.isInt())throw new Error("Parameters in function lcm must be integer numbers");if(f.isZero())return f;if(m.isZero())return m;for(var p=f.times(m);!m.isZero();){var h=m;m=f.mod(h),f=h}return p.div(f).abs()}});function Qc(r,e,t,n){return function(i){if(i>0||t.predictable){if(i<=0)return NaN;var a=i.toString(16),o=a.substring(0,15);return r*(a.length-o.length)+e(+("0x"+o))}return n(i.toNumber())}}var xF="log10",Nle=["typed","config","Complex"],Tle=z0(16),Kw=A(xF,Nle,r=>{var{typed:e,config:t,Complex:n}=r;function i(o){return o.log().div(Math.LN10)}function a(o){return i(new n(o,0))}return e(xF,{number:function(s){return s>=0||t.predictable?z0(s):a(s)},bigint:Qc(Tle,z0,t,a),Complex:i,BigNumber:function(s){return!s.isNegative()||t.predictable?s.log():a(s.toNumber())},"Array | Matrix":e.referToSelf(o=>s=>et(s,o))})});var yF="log2",Fle=["typed","config","Complex"],Jw=A(yF,Fle,r=>{var{typed:e,config:t,Complex:n}=r;function i(o){return a(new n(o,0))}return e(yF,{number:function(s){return s>=0||t.predictable?Ng(s):i(s)},bigint:Qc(4,Ng,t,i),Complex:a,BigNumber:function(s){return!s.isNegative()||t.predictable?s.log(2):i(s.toNumber())},"Array | Matrix":e.referToSelf(o=>s=>et(s,o))});function a(o){var s=Math.sqrt(o.re*o.re+o.im*o.im);return new n(Math.log2?Math.log2(s):Math.log(s)/Math.LN2,Math.atan2(o.im,o.re)/Math.LN2)}});var Ile="multiplyScalar",Ole=["typed"],Qw=A(Ile,Ole,r=>{var{typed:e}=r;return e("multiplyScalar",{"number, number":D2,"Complex, Complex":function(n,i){return n.mul(i)},"BigNumber, BigNumber":function(n,i){return n.times(i)},"bigint, bigint":function(n,i){return n*i},"Fraction, Fraction":function(n,i){return n.mul(i)},"number | Fraction | BigNumber | Complex, Unit":(t,n)=>n.multiply(t),"Unit, number | Fraction | BigNumber | Complex | Unit":(t,n)=>t.multiply(n)})});var bF="multiply",Rle=["typed","matrix","addScalar","multiplyScalar","equalScalar","dot"],e_=A(bF,Rle,r=>{var{typed:e,matrix:t,addScalar:n,multiplyScalar:i,equalScalar:a,dot:o}=r,s=sr({typed:e,equalScalar:a}),l=sn({typed:e});function u(w,b){switch(w.length){case 1:switch(b.length){case 1:if(w[0]!==b[0])throw new RangeError("Dimension mismatch in multiplication. Vectors must have the same length");break;case 2:if(w[0]!==b[0])throw new RangeError("Dimension mismatch in multiplication. Vector length ("+w[0]+") must match Matrix rows ("+b[0]+")");break;default:throw new Error("Can only multiply a 1 or 2 dimensional matrix (Matrix B has "+b.length+" dimensions)")}break;case 2:switch(b.length){case 1:if(w[1]!==b[0])throw new RangeError("Dimension mismatch in multiplication. Matrix columns ("+w[1]+") must match Vector length ("+b[0]+")");break;case 2:if(w[1]!==b[0])throw new RangeError("Dimension mismatch in multiplication. Matrix A columns ("+w[1]+") must match Matrix B rows ("+b[0]+")");break;default:throw new Error("Can only multiply a 1 or 2 dimensional matrix (Matrix B has "+b.length+" dimensions)")}break;default:throw new Error("Can only multiply a 1 or 2 dimensional matrix (Matrix A has "+w.length+" dimensions)")}}function c(w,b,C){if(C===0)throw new Error("Cannot multiply two empty vectors");return o(w,b)}function d(w,b){if(b.storage()!=="dense")throw new Error("Support for SparseMatrix not implemented");return f(w,b)}function f(w,b){var C=w._data,E=w._size,D=w._datatype||w.getDataType(),M=b._data,T=b._size,I=b._datatype||b.getDataType(),B=E[0],V=T[1],L,k=n,O=i;D&&I&&D===I&&typeof D=="string"&&D!=="mixed"&&(L=D,k=e.find(n,[L,L]),O=e.find(i,[L,L]));for(var Y=[],P=0;P<V;P++){for(var ae=O(C[0],M[0][P]),se=1;se<B;se++)ae=k(ae,O(C[se],M[se][P]));Y[P]=ae}return w.createDenseMatrix({data:Y,size:[V],datatype:D===w._datatype&&I===b._datatype?L:void 0})}var m=e("_multiplyMatrixVector",{"DenseMatrix, any":h,"SparseMatrix, any":S}),p=e("_multiplyMatrixMatrix",{"DenseMatrix, DenseMatrix":v,"DenseMatrix, SparseMatrix":y,"SparseMatrix, DenseMatrix":x,"SparseMatrix, SparseMatrix":_});function h(w,b){var C=w._data,E=w._size,D=w._datatype||w.getDataType(),M=b._data,T=b._datatype||b.getDataType(),I=E[0],B=E[1],V,L=n,k=i;D&&T&&D===T&&typeof D=="string"&&D!=="mixed"&&(V=D,L=e.find(n,[V,V]),k=e.find(i,[V,V]));for(var O=[],Y=0;Y<I;Y++){for(var P=C[Y],ae=k(P[0],M[0]),se=1;se<B;se++)ae=L(ae,k(P[se],M[se]));O[Y]=ae}return w.createDenseMatrix({data:O,size:[I],datatype:D===w._datatype&&T===b._datatype?V:void 0})}function v(w,b){var C=w._data,E=w._size,D=w._datatype||w.getDataType(),M=b._data,T=b._size,I=b._datatype||b.getDataType(),B=E[0],V=E[1],L=T[1],k,O=n,Y=i;D&&I&&D===I&&typeof D=="string"&&D!=="mixed"&&D!=="mixed"&&(k=D,O=e.find(n,[k,k]),Y=e.find(i,[k,k]));for(var P=[],ae=0;ae<B;ae++){var se=C[ae];P[ae]=[];for(var te=0;te<L;te++){for(var W=Y(se[0],M[0][te]),ue=1;ue<V;ue++)W=O(W,Y(se[ue],M[ue][te]));P[ae][te]=W}}return w.createDenseMatrix({data:P,size:[B,L],datatype:D===w._datatype&&I===b._datatype?k:void 0})}function y(w,b){var C=w._data,E=w._size,D=w._datatype||w.getDataType(),M=b._values,T=b._index,I=b._ptr,B=b._size,V=b._datatype||b._data===void 0?b._datatype:b.getDataType();if(!M)throw new Error("Cannot multiply Dense Matrix times Pattern only Matrix");var L=E[0],k=B[1],O,Y=n,P=i,ae=a,se=0;D&&V&&D===V&&typeof D=="string"&&D!=="mixed"&&(O=D,Y=e.find(n,[O,O]),P=e.find(i,[O,O]),ae=e.find(a,[O,O]),se=e.convert(0,O));for(var te=[],W=[],ue=[],we=b.createSparseMatrix({values:te,index:W,ptr:ue,size:[L,k],datatype:D===w._datatype&&V===b._datatype?O:void 0}),le=0;le<k;le++){ue[le]=W.length;var ge=I[le],J=I[le+1];if(J>ge)for(var X=0,ne=0;ne<L;ne++){for(var he=ne+1,de=void 0,_e=ge;_e<J;_e++){var be=T[_e];X!==he?(de=P(C[ne][be],M[_e]),X=he):de=Y(de,P(C[ne][be],M[_e]))}X===he&&!ae(de,se)&&(W.push(ne),te.push(de))}}return ue[k]=W.length,we}function S(w,b){var C=w._values,E=w._index,D=w._ptr,M=w._datatype||w._data===void 0?w._datatype:w.getDataType();if(!C)throw new Error("Cannot multiply Pattern only Matrix times Dense Matrix");var T=b._data,I=b._datatype||b.getDataType(),B=w._size[0],V=b._size[0],L=[],k=[],O=[],Y,P=n,ae=i,se=a,te=0;M&&I&&M===I&&typeof M=="string"&&M!=="mixed"&&(Y=M,P=e.find(n,[Y,Y]),ae=e.find(i,[Y,Y]),se=e.find(a,[Y,Y]),te=e.convert(0,Y));var W=[],ue=[];O[0]=0;for(var we=0;we<V;we++){var le=T[we];if(!se(le,te))for(var ge=D[we],J=D[we+1],X=ge;X<J;X++){var ne=E[X];ue[ne]?W[ne]=P(W[ne],ae(le,C[X])):(ue[ne]=!0,k.push(ne),W[ne]=ae(le,C[X]))}}for(var he=k.length,de=0;de<he;de++){var _e=k[de];L[de]=W[_e]}return O[1]=k.length,w.createSparseMatrix({values:L,index:k,ptr:O,size:[B,1],datatype:M===w._datatype&&I===b._datatype?Y:void 0})}function x(w,b){var C=w._values,E=w._index,D=w._ptr,M=w._datatype||w._data===void 0?w._datatype:w.getDataType();if(!C)throw new Error("Cannot multiply Pattern only Matrix times Dense Matrix");var T=b._data,I=b._datatype||b.getDataType(),B=w._size[0],V=b._size[0],L=b._size[1],k,O=n,Y=i,P=a,ae=0;M&&I&&M===I&&typeof M=="string"&&M!=="mixed"&&(k=M,O=e.find(n,[k,k]),Y=e.find(i,[k,k]),P=e.find(a,[k,k]),ae=e.convert(0,k));for(var se=[],te=[],W=[],ue=w.createSparseMatrix({values:se,index:te,ptr:W,size:[B,L],datatype:M===w._datatype&&I===b._datatype?k:void 0}),we=[],le=[],ge=0;ge<L;ge++){W[ge]=te.length;for(var J=ge+1,X=0;X<V;X++){var ne=T[X][ge];if(!P(ne,ae))for(var he=D[X],de=D[X+1],_e=he;_e<de;_e++){var be=E[_e];le[be]!==J?(le[be]=J,te.push(be),we[be]=Y(ne,C[_e])):we[be]=O(we[be],Y(ne,C[_e]))}}for(var H=W[ge],K=te.length,fe=H;fe<K;fe++){var pe=te[fe];se[fe]=we[pe]}}return W[L]=te.length,ue}function _(w,b){var C=w._values,E=w._index,D=w._ptr,M=w._datatype||w._data===void 0?w._datatype:w.getDataType(),T=b._values,I=b._index,B=b._ptr,V=b._datatype||b._data===void 0?b._datatype:b.getDataType(),L=w._size[0],k=b._size[1],O=C&&T,Y,P=n,ae=i;M&&V&&M===V&&typeof M=="string"&&M!=="mixed"&&(Y=M,P=e.find(n,[Y,Y]),ae=e.find(i,[Y,Y]));for(var se=O?[]:void 0,te=[],W=[],ue=w.createSparseMatrix({values:se,index:te,ptr:W,size:[L,k],datatype:M===w._datatype&&V===b._datatype?Y:void 0}),we=O?[]:void 0,le=[],ge,J,X,ne,he,de,_e,be,H=0;H<k;H++){W[H]=te.length;var K=H+1;for(he=B[H],de=B[H+1],ne=he;ne<de;ne++)if(be=I[ne],O)for(J=D[be],X=D[be+1],ge=J;ge<X;ge++)_e=E[ge],le[_e]!==K?(le[_e]=K,te.push(_e),we[_e]=ae(T[ne],C[ge])):we[_e]=P(we[_e],ae(T[ne],C[ge]));else for(J=D[be],X=D[be+1],ge=J;ge<X;ge++)_e=E[ge],le[_e]!==K&&(le[_e]=K,te.push(_e));if(O)for(var fe=W[H],pe=te.length,Ce=fe;Ce<pe;Ce++){var ke=te[Ce];se[Ce]=we[ke]}}return W[k]=te.length,ue}return e(bF,i,{"Array, Array":e.referTo("Matrix, Matrix",w=>(b,C)=>{u(ut(b),ut(C));var E=w(t(b),t(C));return Je(E)?E.valueOf():E}),"Matrix, Matrix":function(b,C){var E=b.size(),D=C.size();return u(E,D),E.length===1?D.length===1?c(b,C,E[0]):d(b,C):D.length===1?m(b,C):p(b,C)},"Matrix, Array":e.referTo("Matrix,Matrix",w=>(b,C)=>w(b,t(C))),"Array, Matrix":e.referToSelf(w=>(b,C)=>w(t(b,C.storage()),C)),"SparseMatrix, any":function(b,C){return s(b,C,i,!1)},"DenseMatrix, any":function(b,C){return l(b,C,i,!1)},"any, SparseMatrix":function(b,C){return s(C,b,i,!0)},"any, DenseMatrix":function(b,C){return l(C,b,i,!0)},"Array, any":function(b,C){return l(t(b),C,i,!1).valueOf()},"any, Array":function(b,C){return l(t(C),b,i,!0).valueOf()},"any, any":i,"any, any, ...any":e.referToSelf(w=>(b,C,E)=>{for(var D=w(b,C),M=0;M<E.length;M++)D=w(D,E[M]);return D})})});var wF="nthRoot",kle=["typed","matrix","equalScalar","BigNumber","concat"],t_=A(wF,kle,r=>{var{typed:e,matrix:t,equalScalar:n,BigNumber:i,concat:a}=r,o=ti({typed:e}),s=ln({typed:e,equalScalar:n}),l=ll({typed:e,equalScalar:n}),u=sr({typed:e,equalScalar:n}),c=_t({typed:e,matrix:t,concat:a});function d(){throw new Error("Complex number not supported in function nthRoot. Use nthRoots instead.")}return e(wF,{number:I2,"number, number":I2,BigNumber:m=>f(m,new i(2)),"BigNumber, BigNumber":f,Complex:d,"Complex, number":d,Array:e.referTo("DenseMatrix,number",m=>p=>m(t(p),2).valueOf()),DenseMatrix:e.referTo("DenseMatrix,number",m=>p=>m(p,2)),SparseMatrix:e.referTo("SparseMatrix,number",m=>p=>m(p,2)),"SparseMatrix, SparseMatrix":e.referToSelf(m=>(p,h)=>{if(h.density()===1)return l(p,h,m);throw new Error("Root must be non-zero")}),"DenseMatrix, SparseMatrix":e.referToSelf(m=>(p,h)=>{if(h.density()===1)return o(p,h,m,!1);throw new Error("Root must be non-zero")}),"Array, SparseMatrix":e.referTo("DenseMatrix,SparseMatrix",m=>(p,h)=>m(t(p),h)),"number | BigNumber, SparseMatrix":e.referToSelf(m=>(p,h)=>{if(h.density()===1)return u(h,p,m,!0);throw new Error("Root must be non-zero")})},c({scalar:"number | BigNumber",SD:s,Ss:u,sS:!1}));function f(m,p){var h=i.precision,v=i.clone({precision:h+2}),y=new i(0),S=new v(1),x=p.isNegative();if(x&&(p=p.neg()),p.isZero())throw new Error("Root must be non-zero");if(m.isNegative()&&!p.abs().mod(2).equals(1))throw new Error("Root must be odd when a is negative.");if(m.isZero())return x?new v(1/0):0;if(!m.isFinite())return x?y:m;var _=m.abs().pow(S.div(p));return _=m.isNeg()?_.neg():_,new i((x?S.div(_):_).toPrecision(h))}});var _F="sign",Ple=["typed","BigNumber","Fraction","complex"],r_=A(_F,Ple,r=>{var{typed:e,BigNumber:t,complex:n,Fraction:i}=r;return e(_F,{number:Tg,Complex:function(o){return o.im===0?n(Tg(o.re)):o.sign()},BigNumber:function(o){return new t(o.cmp(0))},bigint:function(o){return o>BigInt(0)?BigInt(1):o<BigInt(0)?-BigInt(1):BigInt(0)},Fraction:function(o){return new i(o.s)},"Array | Matrix":e.referToSelf(a=>o=>et(o,a,!0)),Unit:e.referToSelf(a=>o=>{if(!o._isDerived()&&o.units[0].unit.offset!==0)throw new TypeError("sign is ambiguous for units with offset");return e.find(a,o.valueType())(o.value)})})});var Ble="sqrt",Lle=["config","typed","Complex"],n_=A(Ble,Lle,r=>{var{config:e,typed:t,Complex:n}=r;return t("sqrt",{number:i,Complex:function(o){return o.sqrt()},BigNumber:function(o){return!o.isNegative()||e.predictable?o.sqrt():i(o.toNumber())},Unit:function(o){return o.pow(.5)}});function i(a){return isNaN(a)?NaN:a>=0||e.predictable?Math.sqrt(a):new n(a,0).sqrt()}});var SF="square",zle=["typed"],i_=A(SF,zle,r=>{var{typed:e}=r;return e(SF,{number:O2,Complex:function(n){return n.mul(n)},BigNumber:function(n){return n.times(n)},bigint:function(n){return n*n},Fraction:function(n){return n.mul(n)},Unit:function(n){return n.pow(2)}})});var DF="subtract",Vle=["typed","matrix","equalScalar","subtractScalar","unaryMinus","DenseMatrix","concat"],a_=A(DF,Vle,r=>{var{typed:e,matrix:t,equalScalar:n,subtractScalar:i,unaryMinus:a,DenseMatrix:o,concat:s}=r,l=ti({typed:e}),u=vr({typed:e}),c=sl({typed:e,equalScalar:n}),d=ki({typed:e,DenseMatrix:o}),f=er({typed:e,DenseMatrix:o}),m=_t({typed:e,matrix:t,concat:s});return e(DF,{"any, any":i},m({elop:i,SS:c,DS:l,SD:u,Ss:f,sS:d}))});var CF="xgcd",Ule=["typed","config","matrix","BigNumber"],o_=A(CF,Ule,r=>{var{typed:e,config:t,matrix:n,BigNumber:i}=r;return e(CF,{"number, number":function(s,l){var u=R2(s,l);return t.matrix==="Array"?u:n(u)},"BigNumber, BigNumber":a});function a(o,s){var l,u,c,d=new i(0),f=new i(1),m=d,p=f,h=f,v=d;if(!o.isInt()||!s.isInt())throw new Error("Parameters in function xgcd must be integer numbers");for(;!s.isZero();)u=o.div(s).floor(),c=o.mod(s),l=m,m=p.minus(u.times(m)),p=l,l=h,h=v.minus(u.times(h)),v=l,o=s,s=c;var y;return o.lt(d)?y=[o.neg(),p.neg(),v.neg()]:y=[o,o.isZero()?0:p,v],t.matrix==="Array"?y:n(y)}});var EF="invmod",qle=["typed","config","BigNumber","xgcd","equal","smaller","mod","add","isInteger"],s_=A(EF,qle,r=>{var{typed:e,config:t,BigNumber:n,xgcd:i,equal:a,smaller:o,mod:s,add:l,isInteger:u}=r;return e(EF,{"number, number":c,"BigNumber, BigNumber":c});function c(d,f){if(!u(d)||!u(f))throw new Error("Parameters in function invmod must be integer numbers");if(d=s(d,f),a(f,0))throw new Error("Divisor must be non zero");var m=i(d,f);m=m.valueOf();var[p,h]=m;return a(p,n(1))?(h=s(h,f),o(h,n(0))&&(h=l(h,f)),h):NaN}});var jle="matAlgo09xS0Sf",$le=["typed","equalScalar"],Pg=A(jle,$le,r=>{var{typed:e,equalScalar:t}=r;return function(i,a,o){var s=i._values,l=i._index,u=i._ptr,c=i._size,d=i._datatype||i._data===void 0?i._datatype:i.getDataType(),f=a._values,m=a._index,p=a._ptr,h=a._size,v=a._datatype||a._data===void 0?a._datatype:a.getDataType();if(c.length!==h.length)throw new yt(c.length,h.length);if(c[0]!==h[0]||c[1]!==h[1])throw new RangeError("Dimension mismatch. Matrix A ("+c+") must match Matrix B ("+h+")");var y=c[0],S=c[1],x,_=t,w=0,b=o;typeof d=="string"&&d===v&&d!=="mixed"&&(x=d,_=e.find(t,[x,x]),w=e.convert(0,x),b=e.find(o,[x,x]));var C=s&&f?[]:void 0,E=[],D=[],M=C?[]:void 0,T=[],I,B,V,L,k;for(B=0;B<S;B++){D[B]=E.length;var O=B+1;if(M)for(L=p[B],k=p[B+1],V=L;V<k;V++)I=m[V],T[I]=O,M[I]=f[V];for(L=u[B],k=u[B+1],V=L;V<k;V++)if(I=l[V],M){var Y=T[I]===O?M[I]:w,P=b(s[V],Y);_(P,w)||(E.push(I),C.push(P))}else E.push(I)}return D[S]=E.length,i.createSparseMatrix({values:C,index:E,ptr:D,size:[y,S],datatype:d===i._datatype&&v===a._datatype?x:void 0})}});var AF="dotMultiply",Hle=["typed","matrix","equalScalar","multiplyScalar","concat"],l_=A(AF,Hle,r=>{var{typed:e,matrix:t,equalScalar:n,multiplyScalar:i,concat:a}=r,o=ln({typed:e,equalScalar:n}),s=Pg({typed:e,equalScalar:n}),l=sr({typed:e,equalScalar:n}),u=_t({typed:e,matrix:t,concat:a});return e(AF,u({elop:i,SS:s,DS:o,Ss:l}))});function MF(r,e){if(r.isFinite()&&!r.isInteger()||e.isFinite()&&!e.isInteger())throw new Error("Integers expected in function bitAnd");var t=r.constructor;if(r.isNaN()||e.isNaN())return new t(NaN);if(r.isZero()||e.eq(-1)||r.eq(e))return r;if(e.isZero()||r.eq(-1))return e;if(!r.isFinite()||!e.isFinite()){if(!r.isFinite()&&!e.isFinite())return r.isNegative()===e.isNegative()?r:new t(0);if(!r.isFinite())return e.isNegative()?r:r.isNegative()?new t(0):e;if(!e.isFinite())return r.isNegative()?e:e.isNegative()?new t(0):r}return u_(r,e,function(n,i){return n&i})}function ed(r){if(r.isFinite()&&!r.isInteger())throw new Error("Integer expected in function bitNot");var e=r.constructor,t=e.precision;e.config({precision:1e9});var n=r.plus(new e(1));return n.s=-n.s||null,e.config({precision:t}),n}function NF(r,e){if(r.isFinite()&&!r.isInteger()||e.isFinite()&&!e.isInteger())throw new Error("Integers expected in function bitOr");var t=r.constructor;if(r.isNaN()||e.isNaN())return new t(NaN);var n=new t(-1);return r.isZero()||e.eq(n)||r.eq(e)?e:e.isZero()||r.eq(n)?r:!r.isFinite()||!e.isFinite()?!r.isFinite()&&!r.isNegative()&&e.isNegative()||r.isNegative()&&!e.isNegative()&&!e.isFinite()?n:r.isNegative()&&e.isNegative()?r.isFinite()?r:e:r.isFinite()?e:r:u_(r,e,function(i,a){return i|a})}function u_(r,e,t){var n=r.constructor,i,a,o=+(r.s<0),s=+(e.s<0);if(o){i=Bg(ed(r));for(var l=0;l<i.length;++l)i[l]^=1}else i=Bg(r);if(s){a=Bg(ed(e));for(var u=0;u<a.length;++u)a[u]^=1}else a=Bg(e);var c,d,f;i.length<=a.length?(c=i,d=a,f=o):(c=a,d=i,f=s);var m=c.length,p=d.length,h=t(o,s)^1,v=new n(h^1),y=new n(1),S=new n(2),x=n.precision;for(n.config({precision:1e9});m>0;)t(c[--m],d[--p])===h&&(v=v.plus(y)),y=y.times(S);for(;p>0;)t(f,d[--p])===h&&(v=v.plus(y)),y=y.times(S);return n.config({precision:x}),h===0&&(v.s=-v.s),v}function Bg(r){for(var e=r.d,t=e[0]+"",n=1;n<e.length;++n){for(var i=e[n]+"",a=7-i.length;a--;)i="0"+i;t+=i}for(var o=t.length;t.charAt(o)==="0";)o--;var s=r.e,l=t.slice(0,o+1||1),u=l.length;if(s>0)if(++s>u)for(s-=u;s--;)l+="0";else s<u&&(l=l.slice(0,s)+"."+l.slice(s));for(var c=[0],d=0;d<l.length;){for(var f=c.length;f--;)c[f]*=10;c[0]+=parseInt(l.charAt(d++));for(var m=0;m<c.length;++m)c[m]>1&&((c[m+1]===null||c[m+1]===void 0)&&(c[m+1]=0),c[m+1]+=c[m]>>1,c[m]&=1)}return c.reverse()}function TF(r,e){if(r.isFinite()&&!r.isInteger()||e.isFinite()&&!e.isInteger())throw new Error("Integers expected in function bitXor");var t=r.constructor;if(r.isNaN()||e.isNaN())return new t(NaN);if(r.isZero())return e;if(e.isZero())return r;if(r.eq(e))return new t(0);var n=new t(-1);return r.eq(n)?ed(e):e.eq(n)?ed(r):!r.isFinite()||!e.isFinite()?!r.isFinite()&&!e.isFinite()?n:new t(r.isNegative()===e.isNegative()?1/0:-1/0):u_(r,e,function(i,a){return i^a})}function FF(r,e){if(r.isFinite()&&!r.isInteger()||e.isFinite()&&!e.isInteger())throw new Error("Integers expected in function leftShift");var t=r.constructor;return r.isNaN()||e.isNaN()||e.isNegative()&&!e.isZero()?new t(NaN):r.isZero()||e.isZero()?r:!r.isFinite()&&!e.isFinite()?new t(NaN):e.lt(55)?r.times(Math.pow(2,e.toNumber())+""):r.times(new t(2).pow(e))}function IF(r,e){if(r.isFinite()&&!r.isInteger()||e.isFinite()&&!e.isInteger())throw new Error("Integers expected in function rightArithShift");var t=r.constructor;return r.isNaN()||e.isNaN()||e.isNegative()&&!e.isZero()?new t(NaN):r.isZero()||e.isZero()?r:e.isFinite()?e.lt(55)?r.div(Math.pow(2,e.toNumber())+"").floor():r.div(new t(2).pow(e)).floor():r.isNegative()?new t(-1):r.isFinite()?new t(0):new t(NaN)}var OF="bitAnd",Wle=["typed","matrix","equalScalar","concat"],H0=A(OF,Wle,r=>{var{typed:e,matrix:t,equalScalar:n,concat:i}=r,a=ln({typed:e,equalScalar:n}),o=ll({typed:e,equalScalar:n}),s=sr({typed:e,equalScalar:n}),l=_t({typed:e,matrix:t,concat:i});return e(OF,{"number, number":P2,"BigNumber, BigNumber":MF,"bigint, bigint":(u,c)=>u&c},l({SS:o,DS:a,Ss:s}))});var RF="bitNot",Gle=["typed"],c_=A(RF,Gle,r=>{var{typed:e}=r;return e(RF,{number:B2,BigNumber:ed,bigint:t=>~t,"Array | Matrix":e.referToSelf(t=>n=>et(n,t))})});var kF="bitOr",Yle=["typed","matrix","equalScalar","DenseMatrix","concat"],W0=A(kF,Yle,r=>{var{typed:e,matrix:t,equalScalar:n,DenseMatrix:i,concat:a}=r,o=ti({typed:e}),s=Jc({typed:e,equalScalar:n}),l=ki({typed:e,DenseMatrix:i}),u=_t({typed:e,matrix:t,concat:a});return e(kF,{"number, number":L2,"BigNumber, BigNumber":NF,"bigint, bigint":(c,d)=>c|d},u({SS:s,DS:o,Ss:l}))});var Zle="matAlgo07xSSf",Xle=["typed","SparseMatrix"],vn=A(Zle,Xle,r=>{var{typed:e,SparseMatrix:t}=r;return function(a,o,s){var l=a._size,u=a._datatype||a._data===void 0?a._datatype:a.getDataType(),c=o._size,d=o._datatype||o._data===void 0?o._datatype:o.getDataType();if(l.length!==c.length)throw new yt(l.length,c.length);if(l[0]!==c[0]||l[1]!==c[1])throw new RangeError("Dimension mismatch. Matrix A ("+l+") must match Matrix B ("+c+")");var f=l[0],m=l[1],p,h=0,v=s;typeof u=="string"&&u===d&&u!=="mixed"&&(p=u,h=e.convert(0,p),v=e.find(s,[p,p]));for(var y=[],S=[],x=new Array(m+1).fill(0),_=[],w=[],b=[],C=[],E=0;E<m;E++){var D=E+1,M=0;n(a,E,b,_,D),n(o,E,C,w,D);for(var T=0;T<f;T++){var I=b[T]===D?_[T]:h,B=C[T]===D?w[T]:h,V=v(I,B);V!==0&&V!==!1&&(S.push(T),y.push(V),M++)}x[E+1]=x[E]+M}return new t({values:y,index:S,ptr:x,size:[f,m],datatype:u===a._datatype&&d===o._datatype?p:void 0})};function n(i,a,o,s,l){for(var u=i._values,c=i._index,d=i._ptr,f=d[a],m=d[a+1];f<m;f++){var p=c[f];o[p]=l,s[p]=u[f]}}});var PF="bitXor",Kle=["typed","matrix","DenseMatrix","concat","SparseMatrix"],d_=A(PF,Kle,r=>{var{typed:e,matrix:t,DenseMatrix:n,concat:i,SparseMatrix:a}=r,o=vr({typed:e}),s=vn({typed:e,SparseMatrix:a}),l=er({typed:e,DenseMatrix:n}),u=_t({typed:e,matrix:t,concat:i});return e(PF,{"number, number":z2,"BigNumber, BigNumber":TF,"bigint, bigint":(c,d)=>c^d},u({SS:s,DS:o,Ss:l}))});var BF="arg",Jle=["typed"],f_=A(BF,Jle,r=>{var{typed:e}=r;return e(BF,{number:function(n){return Math.atan2(0,n)},BigNumber:function(n){return n.constructor.atan2(0,n)},Complex:function(n){return n.arg()},"Array | Matrix":e.referToSelf(t=>n=>et(n,t))})});var LF="conj",Qle=["typed"],m_=A(LF,Qle,r=>{var{typed:e}=r;return e(LF,{"number | BigNumber | Fraction":t=>t,Complex:t=>t.conjugate(),"Array | Matrix":e.referToSelf(t=>n=>et(n,t))})});var zF="im",eue=["typed"],h_=A(zF,eue,r=>{var{typed:e}=r;return e(zF,{number:()=>0,"BigNumber | Fraction":t=>t.mul(0),Complex:t=>t.im,"Array | Matrix":e.referToSelf(t=>n=>et(n,t))})});var VF="re",tue=["typed"],p_=A(VF,tue,r=>{var{typed:e}=r;return e(VF,{"number | BigNumber | Fraction":t=>t,Complex:t=>t.re,"Array | Matrix":e.referToSelf(t=>n=>et(n,t))})});var UF="not",rue=["typed"],g_=A(UF,rue,r=>{var{typed:e}=r;return e(UF,{"null | undefined":()=>!0,number:H2,Complex:function(n){return n.re===0&&n.im===0},BigNumber:function(n){return n.isZero()||n.isNaN()},bigint:t=>!t,Unit:e.referToSelf(t=>n=>e.find(t,n.valueType())(n.value)),"Array | Matrix":e.referToSelf(t=>n=>et(n,t))})});var qF="or",nue=["typed","matrix","equalScalar","DenseMatrix","concat"],G0=A(qF,nue,r=>{var{typed:e,matrix:t,equalScalar:n,DenseMatrix:i,concat:a}=r,o=vr({typed:e}),s=sl({typed:e,equalScalar:n}),l=er({typed:e,DenseMatrix:i}),u=_t({typed:e,matrix:t,concat:a});return e(qF,{"number, number":Fg,"Complex, Complex":function(d,f){return d.re!==0||d.im!==0||f.re!==0||f.im!==0},"BigNumber, BigNumber":function(d,f){return!d.isZero()&&!d.isNaN()||!f.isZero()&&!f.isNaN()},"bigint, bigint":Fg,"Unit, Unit":e.referToSelf(c=>(d,f)=>c(d.value||0,f.value||0))},u({SS:s,DS:o,Ss:l}))});var jF="xor",iue=["typed","matrix","DenseMatrix","concat","SparseMatrix"],v_=A(jF,iue,r=>{var{typed:e,matrix:t,DenseMatrix:n,concat:i,SparseMatrix:a}=r,o=vr({typed:e}),s=vn({typed:e,SparseMatrix:a}),l=er({typed:e,DenseMatrix:n}),u=_t({typed:e,matrix:t,concat:i});return e(jF,{"number, number":Ig,"Complex, Complex":function(d,f){return(d.re!==0||d.im!==0)!=(f.re!==0||f.im!==0)},"bigint, bigint":Ig,"BigNumber, BigNumber":function(d,f){return(!d.isZero()&&!d.isNaN())!=(!f.isZero()&&!f.isNaN())},"Unit, Unit":e.referToSelf(c=>(d,f)=>c(d.value||0,f.value||0))},u({SS:s,DS:o,Ss:l}))});var $F="concat",aue=["typed","matrix","isInteger"],Y0=A($F,aue,r=>{var{typed:e,matrix:t,isInteger:n}=r;return e($F,{"...Array | Matrix | number | BigNumber":function(a){var o,s=a.length,l=-1,u,c=!1,d=[];for(o=0;o<s;o++){var f=a[o];if(Je(f)&&(c=!0),ft(f)||st(f)){if(o!==s-1)throw new Error("Dimension must be specified as last argument");if(u=l,l=f.valueOf(),!n(l))throw new TypeError("Integer number expected for dimension");if(l<0||o>0&&l>u)throw new Wn(l,u+1)}else{var m=dt(f).valueOf(),p=ut(m);if(d[o]=m,u=l,l=p.length-1,o>0&&l!==u)throw new yt(u+1,l+1)}}if(d.length===0)throw new SyntaxError("At least one matrix expected");for(var h=d.shift();d.length;)h=p2(h,d.shift(),l);return c?t(h):h},"...string":function(a){return a.join("")}})});var HF="column",oue=["typed","Index","matrix","range"],Z0=A(HF,oue,r=>{var{typed:e,Index:t,matrix:n,range:i}=r;return e(HF,{"Matrix, number":a,"Array, number":function(s,l){return a(n(dt(s)),l).valueOf()}});function a(o,s){if(o.size().length!==2)throw new Error("Only two dimensional matrix is supported");cr(s,o.size()[1]);var l=i(0,o.size()[0]),u=new t(l,s),c=o.subset(u);return Je(c)?c:n([[c]])}});var WF="count",sue=["typed","size","prod"],x_=A(WF,sue,r=>{var{typed:e,size:t,prod:n}=r;return e(WF,{string:function(a){return a.length},"Matrix | Array":function(a){return n(t(a))}})});var GF="cross",lue=["typed","matrix","subtract","multiply"],y_=A(GF,lue,r=>{var{typed:e,matrix:t,subtract:n,multiply:i}=r;return e(GF,{"Matrix, Matrix":function(s,l){return t(a(s.toArray(),l.toArray()))},"Matrix, Array":function(s,l){return t(a(s.toArray(),l))},"Array, Matrix":function(s,l){return t(a(s,l.toArray()))},"Array, Array":a});function a(o,s){var l=Math.max(ut(o).length,ut(s).length);o=Hc(o),s=Hc(s);var u=ut(o),c=ut(s);if(u.length!==1||c.length!==1||u[0]!==3||c[0]!==3)throw new RangeError("Vectors with length 3 expected (Size A = ["+u.join(", ")+"], B = ["+c.join(", ")+"])");var d=[n(i(o[1],s[2]),i(o[2],s[1])),n(i(o[2],s[0]),i(o[0],s[2])),n(i(o[0],s[1]),i(o[1],s[0]))];return l>1?[d]:d}});var YF="diag",uue=["typed","matrix","DenseMatrix","SparseMatrix"],b_=A(YF,uue,r=>{var{typed:e,matrix:t,DenseMatrix:n,SparseMatrix:i}=r;return e(YF,{Array:function(u){return a(u,0,ut(u),null)},"Array, number":function(u,c){return a(u,c,ut(u),null)},"Array, BigNumber":function(u,c){return a(u,c.toNumber(),ut(u),null)},"Array, string":function(u,c){return a(u,0,ut(u),c)},"Array, number, string":function(u,c,d){return a(u,c,ut(u),d)},"Array, BigNumber, string":function(u,c,d){return a(u,c.toNumber(),ut(u),d)},Matrix:function(u){return a(u,0,u.size(),u.storage())},"Matrix, number":function(u,c){return a(u,c,u.size(),u.storage())},"Matrix, BigNumber":function(u,c){return a(u,c.toNumber(),u.size(),u.storage())},"Matrix, string":function(u,c){return a(u,0,u.size(),c)},"Matrix, number, string":function(u,c,d){return a(u,c,u.size(),d)},"Matrix, BigNumber, string":function(u,c,d){return a(u,c.toNumber(),u.size(),d)}});function a(l,u,c,d){if(!Ye(u))throw new TypeError("Second parameter in function diag must be an integer");var f=u>0?u:0,m=u<0?-u:0;switch(c.length){case 1:return o(l,u,d,c[0],m,f);case 2:return s(l,u,d,c,m,f)}throw new RangeError("Matrix for function diag must be 2 dimensional")}function o(l,u,c,d,f,m){var p=[d+f,d+m];if(c&&c!=="sparse"&&c!=="dense")throw new TypeError("Unknown matrix type ".concat(c,'"'));var h=c==="sparse"?i.diagonal(p,l,u):n.diagonal(p,l,u);return c!==null?h:h.valueOf()}function s(l,u,c,d,f,m){if(Je(l)){var p=l.diagonal(u);return c!==null?c!==p.storage()?t(p,c):p:p.valueOf()}for(var h=Math.min(d[0]-f,d[1]-m),v=[],y=0;y<h;y++)v[y]=l[y+f][y+m];return c!==null?t(v):v}});var cue="filter",due=["typed"],X0=A(cue,due,r=>{var{typed:e}=r;return e("filter",{"Array, function":ZF,"Matrix, function":function(n,i){return n.create(ZF(n.valueOf(),i),n.datatype())},"Array, RegExp":m2,"Matrix, RegExp":function(n,i){return n.create(m2(n.valueOf(),i),n.datatype())}})});function ZF(r,e){var t=xa(e,r,"filter");return t.isUnary?f2(r,t.fn):f2(r,function(n,i,a){return t.fn(n,[i],a)})}var XF="flatten",fue=["typed"],w_=A(XF,fue,r=>{var{typed:e}=r;return e(XF,{Array:function(n){return Dt(n)},Matrix:function(n){return n.create(Dt(n.valueOf(),!0),n.datatype())}})});var __="forEach",mue=["typed"],K0=A(__,mue,r=>{var{typed:e}=r;return e(__,{"Array, function":hue,"Matrix, function":function(n,i){n.forEach(i)}})});function hue(r,e){var t=xa(e,r,__);Eg(r,t.fn,t.isUnary)}var KF="getMatrixDataType",pue=["typed"],S_=A(KF,pue,r=>{var{typed:e}=r;return e(KF,{Array:function(n){return fu(n,zt)},Matrix:function(n){return n.getDataType()}})});var JF="identity",gue=["typed","config","matrix","BigNumber","DenseMatrix","SparseMatrix"],D_=A(JF,gue,r=>{var{typed:e,config:t,matrix:n,BigNumber:i,DenseMatrix:a,SparseMatrix:o}=r;return e(JF,{"":function(){return t.matrix==="Matrix"?n([]):[]},string:function(c){return n(c)},"number | BigNumber":function(c){return l(c,c,t.matrix==="Matrix"?"dense":void 0)},"number | BigNumber, string":function(c,d){return l(c,c,d)},"number | BigNumber, number | BigNumber":function(c,d){return l(c,d,t.matrix==="Matrix"?"dense":void 0)},"number | BigNumber, number | BigNumber, string":function(c,d,f){return l(c,d,f)},Array:function(c){return s(c)},"Array, string":function(c,d){return s(c,d)},Matrix:function(c){return s(c.valueOf(),c.storage())},"Matrix, string":function(c,d){return s(c.valueOf(),d)}});function s(u,c){switch(u.length){case 0:return c?n(c):[];case 1:return l(u[0],u[0],c);case 2:return l(u[0],u[1],c);default:throw new Error("Vector containing two values expected")}}function l(u,c,d){var f=st(u)||st(c)?i:null;if(st(u)&&(u=u.toNumber()),st(c)&&(c=c.toNumber()),!Ye(u)||u<1)throw new Error("Parameters in function identity must be positive integers");if(!Ye(c)||c<1)throw new Error("Parameters in function identity must be positive integers");var m=f?new i(1):1,p=f?new f(0):0,h=[u,c];if(d){if(d==="sparse")return o.diagonal(h,m,0,p);if(d==="dense")return a.diagonal(h,m,0,p);throw new TypeError('Unknown matrix type "'.concat(d,'"'))}for(var v=qa([],h,p),y=u<c?u:c,S=0;S<y;S++)v[S][S]=m;return v}});var QF="kron",vue=["typed","matrix","multiplyScalar"],C_=A(QF,vue,r=>{var{typed:e,matrix:t,multiplyScalar:n}=r;return e(QF,{"Matrix, Matrix":function(o,s){return t(i(o.toArray(),s.toArray()))},"Matrix, Array":function(o,s){return t(i(o.toArray(),s))},"Array, Matrix":function(o,s){return t(i(o,s.toArray()))},"Array, Array":i});function i(a,o){if(ut(a).length===1&&(a=[a]),ut(o).length===1&&(o=[o]),ut(a).length>2||ut(o).length>2)throw new RangeError("Vectors with dimensions greater then 2 are not supported expected (Size x = "+JSON.stringify(a.length)+", y = "+JSON.stringify(o.length)+")");var s=[],l=[];return a.map(function(u){return o.map(function(c){return l=[],s.push(l),u.map(function(d){return c.map(function(f){return l.push(n(d,f))})})})})&&s}});var E_="map",xue=["typed"],J0=A(E_,xue,r=>{var{typed:e}=r;return e(E_,{"Array, function":n,"Matrix, function":function(a,o){return a.map(o)},"Array|Matrix, Array|Matrix, ...Array|Matrix|function":(i,a,o)=>t([i,a,...o.slice(0,o.length-1)],o[o.length-1])});function t(i,a){if(typeof a!="function")throw new Error("Last argument must be a callback function");var o=i[0].isMatrix,s=B0(...i.map(_=>_.isMatrix?_.size():ut(_))),l=o?(_,w)=>_.get(w):Gc,u=o?i.map(_=>_.isMatrix?_.create(wo(_.toArray(),s),_.datatype()):i[0].create(wo(_.valueOf(),s))):i.map(_=>_.isMatrix?wo(_.toArray(),s):wo(_,s)),c;if(e.isTypedFunction(a)){var d=s.map(()=>0),f=u.map(_=>l(_,d)),m=x(a,f,d,u);c=y(m)}else{var p=i.length,h=S(a,p);c=y(h)}var v=(_,w)=>c([_,...u.slice(1).map(b=>l(b,w))],w);if(o)return u[0].map(v);return n(u[0],v);function y(_){switch(_){case 0:return w=>a(...w);case 1:return(w,b)=>a(...w,b);case 2:return(w,b)=>a(...w,b,...u)}}function S(_,w){return _.length>w+1?2:_.length===w+1?1:0}function x(_,w,b,C){return e.resolve(_,[...w,b,...C])!==null?2:e.resolve(_,[...w,b])!==null?1:(e.resolve(_,w)!==null,0)}}function n(i,a){var o=xa(a,i,E_);return L0(i,o.fn,o.isUnary)}});var eI="diff",yue=["typed","matrix","subtract","number"],Q0=A(eI,yue,r=>{var{typed:e,matrix:t,subtract:n,number:i}=r;return e(eI,{"Array | Matrix":function(c){return Je(c)?t(o(c.toArray())):o(c)},"Array | Matrix, number":function(c,d){if(!Ye(d))throw new RangeError("Dimension must be a whole number");return Je(c)?t(a(c.toArray(),d)):a(c,d)},"Array, BigNumber":e.referTo("Array,number",u=>(c,d)=>u(c,i(d))),"Matrix, BigNumber":e.referTo("Matrix,number",u=>(c,d)=>u(c,i(d)))});function a(u,c){if(Je(u)&&(u=u.toArray()),!Array.isArray(u))throw RangeError("Array/Matrix does not have that many dimensions");if(c>0){var d=[];return u.forEach(f=>{d.push(a(f,c-1))}),d}else{if(c===0)return o(u);throw RangeError("Cannot have negative dimension")}}function o(u){for(var c=[],d=u.length,f=1;f<d;f++)c.push(s(u[f-1],u[f]));return c}function s(u,c){Je(u)&&(u=u.toArray()),Je(c)&&(c=c.toArray());var d=Array.isArray(u),f=Array.isArray(c);if(d&&f)return l(u,c);if(!d&&!f)return n(c,u);throw TypeError("Cannot calculate difference between 1 array and 1 non-array")}function l(u,c){if(u.length!==c.length)throw RangeError("Not all sub-arrays have the same length");for(var d=[],f=u.length,m=0;m<f;m++)d.push(s(u[m],c[m]));return d}});var bue="ones",wue=["typed","config","matrix","BigNumber"],A_=A(bue,wue,r=>{var{typed:e,config:t,matrix:n,BigNumber:i}=r;return e("ones",{"":function(){return t.matrix==="Array"?a([]):a([],"default")},"...number | BigNumber | string":function(u){var c=u[u.length-1];if(typeof c=="string"){var d=u.pop();return a(u,d)}else return t.matrix==="Array"?a(u):a(u,"default")},Array:a,Matrix:function(u){var c=u.storage();return a(u.valueOf(),c)},"Array | Matrix, string":function(u,c){return a(u.valueOf(),c)}});function a(l,u){var c=o(l),d=c?new i(1):1;if(s(l),u){var f=n(u);return l.length>0?f.resize(l,d):f}else{var m=[];return l.length>0?qa(m,l,d):m}}function o(l){var u=!1;return l.forEach(function(c,d,f){st(c)&&(u=!0,f[d]=c.toNumber())}),u}function s(l){l.forEach(function(u){if(typeof u!="number"||!Ye(u)||u<0)throw new Error("Parameters in function ones must be positive integers")})}});function td(){throw new Error('No "bignumber" implementation available')}function Lg(){throw new Error('No "fraction" implementation available')}function zg(){throw new Error('No "matrix" implementation available')}var tI="range",_ue=["typed","config","?matrix","?bignumber","smaller","smallerEq","larger","largerEq","add","isPositive"],em=A(tI,_ue,r=>{var{typed:e,config:t,matrix:n,bignumber:i,smaller:a,smallerEq:o,larger:s,largerEq:l,add:u,isPositive:c}=r;return e(tI,{string:f,"string, boolean":f,number:function(v){throw new TypeError("Too few arguments to function range(): ".concat(v))},boolean:function(v){throw new TypeError("Unexpected type of argument 1 to function range(): ".concat(v,", number|bigint|BigNumber|Fraction"))},"number, number":function(v,y){return d(m(v,y,1,!1))},"number, number, number":function(v,y,S){return d(m(v,y,S,!1))},"number, number, boolean":function(v,y,S){return d(m(v,y,1,S))},"number, number, number, boolean":function(v,y,S,x){return d(m(v,y,S,x))},"bigint, bigint|number":function(v,y){return d(m(v,y,BigInt(1),!1))},"number, bigint":function(v,y){return d(m(BigInt(v),y,BigInt(1),!1))},"bigint, bigint|number, bigint|number":function(v,y,S){return d(m(v,y,BigInt(S),!1))},"number, bigint, bigint|number":function(v,y,S){return d(m(BigInt(v),y,BigInt(S),!1))},"bigint, bigint|number, boolean":function(v,y,S){return d(m(v,y,BigInt(1),S))},"number, bigint, boolean":function(v,y,S){return d(m(BigInt(v),y,BigInt(1),S))},"bigint, bigint|number, bigint|number, boolean":function(v,y,S,x){return d(m(v,y,BigInt(S),x))},"number, bigint, bigint|number, boolean":function(v,y,S,x){return d(m(BigInt(v),y,BigInt(S),x))},"BigNumber, BigNumber":function(v,y){var S=v.constructor;return d(m(v,y,new S(1),!1))},"BigNumber, BigNumber, BigNumber":function(v,y,S){return d(m(v,y,S,!1))},"BigNumber, BigNumber, boolean":function(v,y,S){var x=v.constructor;return d(m(v,y,new x(1),S))},"BigNumber, BigNumber, BigNumber, boolean":function(v,y,S,x){return d(m(v,y,S,x))},"Fraction, Fraction":function(v,y){return d(m(v,y,1,!1))},"Fraction, Fraction, Fraction":function(v,y,S){return d(m(v,y,S,!1))},"Fraction, Fraction, boolean":function(v,y,S){return d(m(v,y,1,S))},"Fraction, Fraction, Fraction, boolean":function(v,y,S,x){return d(m(v,y,S,x))},"Unit, Unit, Unit":function(v,y,S){return d(m(v,y,S,!1))},"Unit, Unit, Unit, boolean":function(v,y,S,x){return d(m(v,y,S,x))}});function d(h){return t.matrix==="Matrix"?n?n(h):zg():h}function f(h,v){var y=p(h);if(!y)throw new SyntaxError('String "'+h+'" is no valid range');return t.number==="BigNumber"?(i===void 0&&td(),d(m(i(y.start),i(y.end),i(y.step)),v)):d(m(y.start,y.end,y.step,v))}function m(h,v,y,S){for(var x=[],_=c(y)?S?o:a:S?l:s,w=h;_(w,v);)x.push(w),w=u(w,y);return x}function p(h){var v=h.split(":"),y=v.map(function(x){return Number(x)}),S=y.some(function(x){return isNaN(x)});if(S)return null;switch(y.length){case 2:return{start:y[0],end:y[1],step:1};case 3:return{start:y[0],end:y[2],step:y[1]};default:return null}}});var rI="reshape",Sue=["typed","isInteger","matrix"],M_=A(rI,Sue,r=>{var{typed:e,isInteger:t}=r;return e(rI,{"Matrix, Array":function(i,a){return i.reshape(a,!0)},"Array, Array":function(i,a){return a.forEach(function(o){if(!t(o))throw new TypeError("Invalid size for dimension: "+o)}),k0(i,a)}})});var Due="resize",Cue=["config","matrix"],N_=A(Due,Cue,r=>{var{config:e,matrix:t}=r;return function(a,o,s){if(arguments.length!==2&&arguments.length!==3)throw new is("resize",arguments.length,2,3);if(Je(o)&&(o=o.valueOf()),st(o[0])&&(o=o.map(function(c){return st(c)?c.toNumber():c})),Je(a))return a.resize(o,s,!0);if(typeof a=="string")return n(a,o,s);var l=Array.isArray(a)?!1:e.matrix!=="Array";if(o.length===0){for(;Array.isArray(a);)a=a[0];return dt(a)}else{Array.isArray(a)||(a=[a]),a=dt(a);var u=qa(a,o,s);return l?t(u):u}};function n(i,a,o){if(o!==void 0){if(typeof o!="string"||o.length!==1)throw new TypeError("Single character expected as defaultValue")}else o=" ";if(a.length!==1)throw new yt(a.length,1);var s=a[0];if(typeof s!="number"||!Ye(s))throw new TypeError("Invalid size, must contain positive integers (size: "+pt(a)+")");if(i.length>s)return i.substring(0,s);if(i.length<s){for(var l=i,u=0,c=s-i.length;u<c;u++)l+=o;return l}else return i}});var nI="rotate",Eue=["typed","multiply","rotationMatrix"],T_=A(nI,Eue,r=>{var{typed:e,multiply:t,rotationMatrix:n}=r;return e(nI,{"Array , number | BigNumber | Complex | Unit":function(o,s){i(o,2);var l=t(n(s),o);return l.toArray()},"Matrix , number | BigNumber | Complex | Unit":function(o,s){return i(o,2),t(n(s),o)},"Array, number | BigNumber | Complex | Unit, Array | Matrix":function(o,s,l){i(o,3);var u=t(n(s,l),o);return u},"Matrix, number | BigNumber | Complex | Unit, Array | Matrix":function(o,s,l){return i(o,3),t(n(s,l),o)}});function i(a,o){var s=Array.isArray(a)?ut(a):a.size();if(s.length>2)throw new RangeError("Vector must be of dimensions 1x".concat(o));if(s.length===2&&s[1]!==1)throw new RangeError("Vector must be of dimensions 1x".concat(o));if(s[0]!==o)throw new RangeError("Vector must be of dimensions 1x".concat(o))}});var iI="rotationMatrix",Aue=["typed","config","multiplyScalar","addScalar","unaryMinus","norm","matrix","BigNumber","DenseMatrix","SparseMatrix","cos","sin"],F_=A(iI,Aue,r=>{var{typed:e,config:t,multiplyScalar:n,addScalar:i,unaryMinus:a,norm:o,BigNumber:s,matrix:l,DenseMatrix:u,SparseMatrix:c,cos:d,sin:f}=r;return e(iI,{"":function(){return t.matrix==="Matrix"?l([]):[]},string:function(x){return l(x)},"number | BigNumber | Complex | Unit":function(x){return m(x,t.matrix==="Matrix"?"dense":void 0)},"number | BigNumber | Complex | Unit, string":function(x,_){return m(x,_)},"number | BigNumber | Complex | Unit, Array":function(x,_){var w=l(_);return p(w),y(x,w,void 0)},"number | BigNumber | Complex | Unit, Matrix":function(x,_){p(_);var w=_.storage()||(t.matrix==="Matrix"?"dense":void 0);return y(x,_,w)},"number | BigNumber | Complex | Unit, Array, string":function(x,_,w){var b=l(_);return p(b),y(x,b,w)},"number | BigNumber | Complex | Unit, Matrix, string":function(x,_,w){return p(_),y(x,_,w)}});function m(S,x){var _=st(S),w=_?new s(-1):-1,b=d(S),C=f(S),E=[[b,n(w,C)],[C,b]];return v(E,x)}function p(S){var x=S.size();if(x.length<1||x[0]!==3)throw new RangeError("Vector must be of dimensions 1x3")}function h(S){return S.reduce((x,_)=>n(x,_))}function v(S,x){if(x){if(x==="sparse")return new c(S);if(x==="dense")return new u(S);throw new TypeError('Unknown matrix type "'.concat(x,'"'))}return S}function y(S,x,_){var w=o(x);if(w===0)throw new RangeError("Rotation around zero vector");var b=st(S)?s:null,C=b?new b(1):1,E=b?new b(-1):-1,D=b?new b(x.get([0])/w):x.get([0])/w,M=b?new b(x.get([1])/w):x.get([1])/w,T=b?new b(x.get([2])/w):x.get([2])/w,I=d(S),B=i(C,a(I)),V=f(S),L=i(I,h([D,D,B])),k=i(h([D,M,B]),h([E,T,V])),O=i(h([D,T,B]),h([M,V])),Y=i(h([D,M,B]),h([T,V])),P=i(I,h([M,M,B])),ae=i(h([M,T,B]),h([E,D,V])),se=i(h([D,T,B]),h([E,M,V])),te=i(h([M,T,B]),h([D,V])),W=i(I,h([T,T,B])),ue=[[L,k,O],[Y,P,ae],[se,te,W]];return v(ue,_)}});var aI="row",Mue=["typed","Index","matrix","range"],tm=A(aI,Mue,r=>{var{typed:e,Index:t,matrix:n,range:i}=r;return e(aI,{"Matrix, number":a,"Array, number":function(s,l){return a(n(dt(s)),l).valueOf()}});function a(o,s){if(o.size().length!==2)throw new Error("Only two dimensional matrix is supported");cr(s,o.size()[0]);var l=i(0,o.size()[1]),u=new t(s,l),c=o.subset(u);return Je(c)?c:n([[c]])}});var oI="size",Nue=["typed","config","?matrix"],I_=A(oI,Nue,r=>{var{typed:e,config:t,matrix:n}=r;return e(oI,{Matrix:function(a){return a.create(a.size(),"number")},Array:ut,string:function(a){return t.matrix==="Array"?[a.length]:n([a.length],"dense","number")},"number | Complex | BigNumber | Unit | boolean | null":function(a){return t.matrix==="Array"?[]:n?n([],"dense","number"):zg()}})});var sI="squeeze",Tue=["typed"],O_=A(sI,Tue,r=>{var{typed:e}=r;return e(sI,{Array:function(n){return Hc(dt(n))},Matrix:function(n){var i=Hc(n.toArray());return Array.isArray(i)?n.create(i,n.datatype()):i},any:function(n){return dt(n)}})});var lI="subset",Fue=["typed","matrix","zeros","add"],rm=A(lI,Fue,r=>{var{typed:e,matrix:t,zeros:n,add:i}=r;return e(lI,{"Matrix, Index":function(s,l){return du(l)?t():(R0(s,l),s.subset(l))},"Array, Index":e.referTo("Matrix, Index",function(o){return function(s,l){var u=o(t(s),l);return l.isScalar()?u:u.valueOf()}}),"Object, Index":Oue,"string, Index":Iue,"Matrix, Index, any, any":function(s,l,u,c){return du(l)?s:(R0(s,l),s.clone().subset(l,a(u,l),c))},"Array, Index, any, any":e.referTo("Matrix, Index, any, any",function(o){return function(s,l,u,c){var d=o(t(s),l,u,c);return d.isMatrix?d.valueOf():d}}),"Array, Index, any":e.referTo("Matrix, Index, any, any",function(o){return function(s,l,u){return o(t(s),l,u,void 0).valueOf()}}),"Matrix, Index, any":e.referTo("Matrix, Index, any, any",function(o){return function(s,l,u){return o(s,l,u,void 0)}}),"string, Index, string":uI,"string, Index, string, string":uI,"Object, Index, any":Rue});function a(o,s){if(typeof o=="string")throw new Error("can't boradcast a string");if(s._isScalar)return o;var l=s.size();if(l.every(u=>u>0))try{return i(o,n(l))}catch{return o}else return o}});function Iue(r,e){if(!Qs(e))throw new TypeError("Index expected");if(du(e))return"";if(R0(Array.from(r),e),e.size().length!==1)throw new yt(e.size().length,1);var t=r.length;cr(e.min()[0],t),cr(e.max()[0],t);var n=e.dimension(0),i="";return n.forEach(function(a){i+=r.charAt(a)}),i}function uI(r,e,t,n){if(!e||e.isIndex!==!0)throw new TypeError("Index expected");if(du(e))return r;if(R0(Array.from(r),e),e.size().length!==1)throw new yt(e.size().length,1);if(n!==void 0){if(typeof n!="string"||n.length!==1)throw new TypeError("Single character expected as defaultValue")}else n=" ";var i=e.dimension(0),a=i.size()[0];if(a!==t.length)throw new yt(i.size()[0],t.length);var o=r.length;cr(e.min()[0]),cr(e.max()[0]);for(var s=[],l=0;l<o;l++)s[l]=r.charAt(l);if(i.forEach(function(d,f){s[d]=t.charAt(f[0])}),s.length>o)for(var u=o-1,c=s.length;u<c;u++)s[u]||(s[u]=n);return s.join("")}function Oue(r,e){if(!du(e)){if(e.size().length!==1)throw new yt(e.size(),1);var t=e.dimension(0);if(typeof t!="string")throw new TypeError("String expected as index to retrieve an object property");return Ar(r,t)}}function Rue(r,e,t){if(du(e))return r;if(e.size().length!==1)throw new yt(e.size(),1);var n=e.dimension(0);if(typeof n!="string")throw new TypeError("String expected as index to retrieve an object property");var i=dt(r);return vo(i,n,t),i}var cI="transpose",kue=["typed","matrix"],R_=A(cI,kue,r=>{var{typed:e,matrix:t}=r;return e(cI,{Array:o=>n(t(o)).valueOf(),Matrix:n,any:dt});function n(o){var s=o.size(),l;switch(s.length){case 1:l=o.clone();break;case 2:{var u=s[0],c=s[1];if(c===0)throw new RangeError("Cannot transpose a 2D matrix with no columns (size: "+pt(s)+")");switch(o.storage()){case"dense":l=i(o,u,c);break;case"sparse":l=a(o,u,c);break}}break;default:throw new RangeError("Matrix must be a vector or two dimensional (size: "+pt(s)+")")}return l}function i(o,s,l){for(var u=o._data,c=[],d,f=0;f<l;f++){d=c[f]=[];for(var m=0;m<s;m++)d[m]=dt(u[m][f])}return o.createDenseMatrix({data:c,size:[l,s],datatype:o._datatype})}function a(o,s,l){for(var u=o._values,c=o._index,d=o._ptr,f=u?[]:void 0,m=[],p=[],h=[],v=0;v<s;v++)h[v]=0;var y,S,x;for(y=0,S=c.length;y<S;y++)h[c[y]]++;for(var _=0,w=0;w<s;w++)p.push(_),_+=h[w],h[w]=p[w];for(p.push(_),x=0;x<l;x++)for(var b=d[x],C=d[x+1],E=b;E<C;E++){var D=h[c[E]]++;m[D]=x,u&&(f[D]=dt(u[E]))}return o.createSparseMatrix({values:f,index:m,ptr:p,size:[l,s],datatype:o._datatype})}});var dI="ctranspose",Pue=["typed","transpose","conj"],k_=A(dI,Pue,r=>{var{typed:e,transpose:t,conj:n}=r;return e(dI,{any:function(a){return n(t(a))}})});var fI="zeros",Bue=["typed","config","matrix","BigNumber"],P_=A(fI,Bue,r=>{var{typed:e,config:t,matrix:n,BigNumber:i}=r;return e(fI,{"":function(){return t.matrix==="Array"?a([]):a([],"default")},"...number | BigNumber | string":function(u){var c=u[u.length-1];if(typeof c=="string"){var d=u.pop();return a(u,d)}else return t.matrix==="Array"?a(u):a(u,"default")},Array:a,Matrix:function(u){var c=u.storage();return a(u.valueOf(),c)},"Array | Matrix, string":function(u,c){return a(u.valueOf(),c)}});function a(l,u){var c=o(l),d=c?new i(0):0;if(s(l),u){var f=n(u);return l.length>0?f.resize(l,d):f}else{var m=[];return l.length>0?qa(m,l,d):m}}function o(l){var u=!1;return l.forEach(function(c,d,f){st(c)&&(u=!0,f[d]=c.toNumber())}),u}function s(l){l.forEach(function(u){if(typeof u!="number"||!Ye(u)||u<0)throw new Error("Parameters in function zeros must be positive integers")})}});var mI="fft",Lue=["typed","matrix","addScalar","multiplyScalar","divideScalar","exp","tau","i","dotDivide","conj","pow","ceil","log2"],B_=A(mI,Lue,r=>{var{typed:e,matrix:t,addScalar:n,multiplyScalar:i,divideScalar:a,exp:o,tau:s,i:l,dotDivide:u,conj:c,pow:d,ceil:f,log2:m}=r;return e(mI,{Array:p,Matrix:function(x){return x.create(p(x.valueOf()),x.datatype())}});function p(S){var x=ut(S);return x.length===1?y(S,x[0]):h(S.map(_=>p(_,x.slice(1))),0)}function h(S,x){var _=ut(S);if(x!==0)return new Array(_[0]).fill(0).map((b,C)=>h(S[C],x-1));if(_.length===1)return y(S);function w(b){var C=ut(b);return new Array(C[1]).fill(0).map((E,D)=>new Array(C[0]).fill(0).map((M,T)=>b[T][D]))}return w(h(w(S),1))}function v(S){for(var x=S.length,_=o(a(i(-1,i(l,s)),x)),w=[],b=1-x;b<x;b++)w.push(d(_,a(d(b,2),2)));for(var C=d(2,f(m(x+x-1))),E=[...new Array(x).fill(0).map((k,O)=>i(S[O],w[x-1+O])),...new Array(C-x).fill(0)],D=[...new Array(x+x-1).fill(0).map((k,O)=>a(1,w[O])),...new Array(C-(x+x-1)).fill(0)],M=y(E),T=y(D),I=new Array(C).fill(0).map((k,O)=>i(M[O],T[O])),B=u(c(p(c(I))),C),V=[],L=x-1;L<x+x-1;L++)V.push(i(B[L],w[L]));return V}function y(S){var x=S.length;if(x===1)return[S[0]];if(x%2===0){for(var _=[...y(S.filter((E,D)=>D%2===0),x/2),...y(S.filter((E,D)=>D%2===1),x/2)],w=0;w<x/2;w++){var b=_[w],C=i(_[w+x/2],o(i(i(s,l),a(-w,x))));_[w]=n(b,C),_[w+x/2]=n(b,i(-1,C))}return _}else return v(S)}});var hI="ifft",zue=["typed","fft","dotDivide","conj"],L_=A(hI,zue,r=>{var{typed:e,fft:t,dotDivide:n,conj:i}=r;return e(hI,{"Array | Matrix":function(o){var s=Je(o)?o.size():ut(o);return n(i(t(i(o))),s.reduce((l,u)=>l*u,1))}})});In();function pI(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(r,i).enumerable})),t.push.apply(t,n)}return t}function Vue(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?pI(Object(t),!0).forEach(function(n){Jt(r,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):pI(Object(t)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(t,n))})}return r}var Uue="solveODE",que=["typed","add","subtract","multiply","divide","max","map","abs","isPositive","isNegative","larger","smaller","matrix","bignumber","unaryMinus"],z_=A(Uue,que,r=>{var{typed:e,add:t,subtract:n,multiply:i,divide:a,max:o,map:s,abs:l,isPositive:u,isNegative:c,larger:d,smaller:f,matrix:m,bignumber:p,unaryMinus:h}=r;function v(E){return function(D,M,T,I){var B=!(M.length===2&&(M.every(b)||M.every(qn)));if(B)throw new Error('"tspan" must be an Array of two numeric values or two units [tStart, tEnd]');var V=M[0],L=M[1],k=d(L,V),O=I.firstStep;if(O!==void 0&&!u(O))throw new Error('"firstStep" must be positive');var Y=I.maxStep;if(Y!==void 0&&!u(Y))throw new Error('"maxStep" must be positive');var P=I.minStep;if(P&&c(P))throw new Error('"minStep" must be positive or zero');var ae=[V,L,O,P,Y].filter(Tt=>Tt!==void 0);if(!(ae.every(b)||ae.every(qn)))throw new Error('Inconsistent type of "t" dependant variables');for(var se=1,te=I.tol?I.tol:1e-4,W=I.minDelta?I.minDelta:.2,ue=I.maxDelta?I.maxDelta:5,we=I.maxIter?I.maxIter:1e4,le=[V,L,...T,Y,P].some(st),[ge,J,X,ne]=le?[p(E.a),p(E.c),p(E.b),p(E.bp)]:[E.a,E.c,E.b,E.bp],he=O?k?O:h(O):a(n(L,V),se),de=[V],_e=[T],be=n(X,ne),H=0,K=0,fe=_(k),pe=w(k);fe(de[H],L);){var Ce=[];he=pe(de[H],L,he),Ce.push(D(de[H],_e[H]));for(var ke=1;ke<J.length;++ke)Ce.push(D(t(de[H],i(J[ke],he)),t(_e[H],i(he,ge[ke],Ce))));var Ze=o(l(s(i(be,Ce),Tt=>qn(Tt)?Tt.value:Tt)));Ze<te&&te/Ze>1/4&&(de.push(t(de[H],he)),_e.push(t(_e[H],i(he,X,Ce))),H++);var rt=.84*(te/Ze)**(1/5);if(f(rt,W)?rt=W:d(rt,ue)&&(rt=ue),rt=le?p(rt):rt,he=i(he,rt),Y&&d(l(he),Y)?he=k?Y:h(Y):P&&f(l(he),P)&&(he=k?P:h(P)),K++,K>we)throw new Error("Maximum number of iterations reached, try changing options")}return{t:de,y:_e}}}function y(E,D,M,T){var I=[[],[.5],[0,.75],[.2222222222222222,.3333333333333333,.4444444444444444]],B=[null,1/2,3/4,1],V=[2/9,1/3,4/9,0],L=[7/24,1/4,1/3,1/8],k={a:I,c:B,b:V,bp:L};return v(k)(E,D,M,T)}function S(E,D,M,T){var I=[[],[.2],[.075,.225],[.9777777777777777,-3.7333333333333334,3.5555555555555554],[2.9525986892242035,-11.595793324188385,9.822892851699436,-.2908093278463649],[2.8462752525252526,-10.757575757575758,8.906422717743473,.2784090909090909,-.2735313036020583],[.09114583333333333,0,.44923629829290207,.6510416666666666,-.322376179245283,.13095238095238096]],B=[null,1/5,3/10,4/5,8/9,1,1],V=[35/384,0,500/1113,125/192,-2187/6784,11/84,0],L=[5179/57600,0,7571/16695,393/640,-92097/339200,187/2100,1/40],k={a:I,c:B,b:V,bp:L};return v(k)(E,D,M,T)}function x(E,D,M,T){var I=T.method?T.method:"RK45",B={RK23:y,RK45:S};if(I.toUpperCase()in B){var V=Vue({},T);return delete V.method,B[I.toUpperCase()](E,D,M,V)}else{var L=Object.keys(B).map(O=>'"'.concat(O,'"')),k="".concat(L.slice(0,-1).join(", ")," and ").concat(L.slice(-1));throw new Error('Unavailable method "'.concat(I,'". Available methods are ').concat(k))}}function _(E){return E?f:d}function w(E){var D=E?d:f;return function(M,T,I){var B=t(M,I);return D(B,T)?n(T,M):I}}function b(E){return st(E)||ft(E)}function C(E,D,M,T){var I=x(E,D.toArray(),M.toArray(),T);return{t:m(I.t),y:m(I.y)}}return e("solveODE",{"function, Array, Array, Object":x,"function, Matrix, Matrix, Object":C,"function, Array, Array":(E,D,M)=>x(E,D,M,{}),"function, Matrix, Matrix":(E,D,M)=>C(E,D,M,{}),"function, Array, number | BigNumber | Unit":(E,D,M)=>{var T=x(E,D,[M],{});return{t:T.t,y:T.y.map(I=>I[0])}},"function, Matrix, number | BigNumber | Unit":(E,D,M)=>{var T=x(E,D.toArray(),[M],{});return{t:m(T.t),y:m(T.y.map(I=>I[0]))}},"function, Array, number | BigNumber | Unit, Object":(E,D,M,T)=>{var I=x(E,D,[M],T);return{t:I.t,y:I.y.map(B=>B[0])}},"function, Matrix, number | BigNumber | Unit, Object":(E,D,M,T)=>{var I=x(E,D.toArray(),[M],T);return{t:m(I.t),y:m(I.y.map(B=>B[0]))}}})});var jue="erf",$ue=["typed"],V_=A(jue,$ue,r=>{var{typed:e}=r;return e("name",{number:function(o){var s=Math.abs(o);return s>=Gue?pa(o):s<=Hue?pa(o)*t(s):s<=4?pa(o)*(1-n(s)):pa(o)*(1-i(s))},"Array | Matrix":e.referToSelf(a=>o=>et(o,a))});function t(a){var o=a*a,s=as[0][4]*o,l=o,u;for(u=0;u<3;u+=1)s=(s+as[0][u])*o,l=(l+rd[0][u])*o;return a*(s+as[0][3])/(l+rd[0][3])}function n(a){var o=as[1][8]*a,s=a,l;for(l=0;l<7;l+=1)o=(o+as[1][l])*a,s=(s+rd[1][l])*a;var u=(o+as[1][7])/(s+rd[1][7]),c=parseInt(a*16)/16,d=(a-c)*(a+c);return Math.exp(-c*c)*Math.exp(-d)*u}function i(a){var o=1/(a*a),s=as[2][5]*o,l=o,u;for(u=0;u<4;u+=1)s=(s+as[2][u])*o,l=(l+rd[2][u])*o;var c=o*(s+as[2][4])/(l+rd[2][4]);c=(Wue-c)/a,o=parseInt(a*16)/16;var d=(a-o)*(a+o);return Math.exp(-o*o)*Math.exp(-d)*c}}),Hue=.46875,Wue=.5641895835477563,as=[[3.1611237438705655,113.86415415105016,377.485237685302,3209.3775891384694,.18577770618460315],[.5641884969886701,8.883149794388377,66.11919063714163,298.6351381974001,881.952221241769,1712.0476126340707,2051.0783778260716,1230.3393547979972,21531153547440383e-24],[.30532663496123236,.36034489994980445,.12578172611122926,.016083785148742275,.0006587491615298378,.016315387137302097]],rd=[[23.601290952344122,244.02463793444417,1282.6165260773723,2844.236833439171],[15.744926110709835,117.6939508913125,537.1811018620099,1621.3895745666903,3290.7992357334597,4362.619090143247,3439.3676741437216,1230.3393548037495],[2.568520192289822,1.8729528499234604,.5279051029514285,.06051834131244132,.0023352049762686918]],Gue=Math.pow(2,53);var gI="zeta",Yue=["typed","config","multiply","pow","divide","factorial","equal","smallerEq","isNegative","gamma","sin","subtract","add","?Complex","?BigNumber","pi"],U_=A(gI,Yue,r=>{var{typed:e,config:t,multiply:n,pow:i,divide:a,factorial:o,equal:s,smallerEq:l,isNegative:u,gamma:c,sin:d,subtract:f,add:m,Complex:p,BigNumber:h,pi:v}=r;return e(gI,{number:b=>y(b,C=>C,()=>20),BigNumber:b=>y(b,C=>new h(C),()=>Math.abs(Math.log10(t.relTol))),Complex:S});function y(b,C,E){return s(b,0)?C(-.5):s(b,1)?C(NaN):isFinite(b)?x(b,C,E,D=>D):u(b)?C(NaN):C(1)}function S(b){return b.re===0&&b.im===0?new p(-.5):b.re===1?new p(NaN,NaN):b.re===1/0&&b.im===0?new p(1):b.im===1/0||b.re===-1/0?new p(NaN,NaN):x(b,C=>C,C=>Math.round(1.3*15+.9*Math.abs(C.im)),C=>C.re)}function x(b,C,E,D){var M=E(b);if(D(b)>-(M-1)/2)return w(b,C(M),C);var T=n(i(2,b),i(C(v),f(b,1)));return T=n(T,d(n(a(C(v),2),b))),T=n(T,c(f(1,b))),n(T,x(f(1,b),C,E,D))}function _(b,C){for(var E=b,D=b;l(D,C);D=m(D,1)){var M=a(n(o(m(C,f(D,1))),i(4,D)),n(o(f(C,D)),o(n(2,D))));E=m(E,M)}return n(C,E)}function w(b,C,E){for(var D=a(1,n(_(E(0),C),f(1,i(2,f(1,b))))),M=E(0),T=E(1);l(T,C);T=m(T,1))M=m(M,a(n((-1)**(T-1),_(T,C)),i(T,b)));return n(D,M)}});var vI="mode",Zue=["typed","isNaN","isNumeric"],q_=A(vI,Zue,r=>{var{typed:e,isNaN:t,isNumeric:n}=r;return e(vI,{"Array | Matrix":i,"...":function(o){return i(o)}});function i(a){a=Dt(a.valueOf());var o=a.length;if(o===0)throw new Error("Cannot calculate mode of an empty array");for(var s={},l=[],u=0,c=0;c<a.length;c++){var d=a[c];if(n(d)&&t(d))throw new Error("Cannot calculate mode of an array containing NaN values");d in s||(s[d]=0),s[d]++,s[d]===u?l.push(d):s[d]>u&&(u=s[d],l=[d])}return l}});function Zr(r,e,t){var n;return String(r).includes("Unexpected type")?(n=arguments.length>2?" (type: "+zt(t)+", value: "+JSON.stringify(t)+")":" (type: "+r.data.actual+")",new TypeError("Cannot calculate "+e+", unexpected type of argument"+n)):String(r).includes("complex numbers")?(n=arguments.length>2?" (type: "+zt(t)+", value: "+JSON.stringify(t)+")":"",new TypeError("Cannot calculate "+e+", no ordering relation is defined for complex numbers"+n)):r}var xI="prod",Xue=["typed","config","multiplyScalar","numeric"],j_=A(xI,Xue,r=>{var{typed:e,config:t,multiplyScalar:n,numeric:i}=r;return e(xI,{"Array | Matrix":a,"Array | Matrix, number | BigNumber":function(s,l){throw new Error("prod(A, dim) is not yet supported")},"...":function(s){return a(s)}});function a(o){var s;if(fi(o,function(l){try{s=s===void 0?l:n(s,l)}catch(u){throw Zr(u,"prod",l)}}),typeof s=="string"&&(s=i(s,Jn(s,t))),s===void 0)throw new Error("Cannot calculate prod of an empty array");return s}});var yI="format",Kue=["typed"],$_=A(yI,Kue,r=>{var{typed:e}=r;return e(yI,{any:pt,"any, Object | function | number | BigNumber":pt})});var bI="bin",Jue=["typed","format"],H_=A(bI,Jue,r=>{var{typed:e,format:t}=r;return e(bI,{"number | BigNumber":function(i){return t(i,{notation:"bin"})},"number | BigNumber, number | BigNumber":function(i,a){return t(i,{notation:"bin",wordSize:a})}})});var wI="oct",Que=["typed","format"],W_=A(wI,Que,r=>{var{typed:e,format:t}=r;return e(wI,{"number | BigNumber":function(i){return t(i,{notation:"oct"})},"number | BigNumber, number | BigNumber":function(i,a){return t(i,{notation:"oct",wordSize:a})}})});var _I="hex",ece=["typed","format"],G_=A(_I,ece,r=>{var{typed:e,format:t}=r;return e(_I,{"number | BigNumber":function(i){return t(i,{notation:"hex"})},"number | BigNumber, number | BigNumber":function(i,a){return t(i,{notation:"hex",wordSize:a})}})});var Vg=/\$([\w.]+)/g;var SI="print",tce=["typed"],nm=A(SI,tce,r=>{var{typed:e}=r;return e(SI,{"string, Object | Array":DI,"string, Object | Array, number | Object":DI})});function DI(r,e,t){return r.replace(Vg,function(n,i){var a=i.split("."),o=e[a.shift()];for(o!==void 0&&o.isMatrix&&(o=o.toArray());a.length&&o!==void 0;){var s=a.shift();o=s?o[s]:o+"."}return o!==void 0?Wr(o)?o:pt(o,t):n})}var CI="to",rce=["typed","matrix","concat"],Y_=A(CI,rce,r=>{var{typed:e,matrix:t,concat:n}=r,i=_t({typed:e,matrix:t,concat:n});return e(CI,{"Unit, Unit | string":(a,o)=>a.to(o)},i({Ds:!0}))});var EI="isPrime",nce=["typed"],Z_=A(EI,nce,r=>{var{typed:e}=r;return e(EI,{number:function(n){if(n<=3)return n>1;if(n%2===0||n%3===0)return!1;for(var i=5;i*i<=n;i+=6)if(n%i===0||n%(i+2)===0)return!1;return!0},bigint:function(n){if(n<=BigInt(3))return n>BigInt(1);if(n%BigInt(2)===BigInt(0)||n%BigInt(3)===BigInt(0))return!1;for(var i=BigInt(5);i*i<=n;i+=BigInt(6))if(n%i===BigInt(0)||n%(i+BigInt(2))===BigInt(0))return!1;return!0},BigNumber:function(n){if(n.lte(3))return n.gt(1);if(n.mod(2).eq(0)||n.mod(3).eq(0))return!1;if(n.lt(Math.pow(2,32))){for(var i=n.toNumber(),a=5;a*a<=i;a+=6)if(i%a===0||i%(a+2)===0)return!1;return!0}function o(S,x,_){for(var w=1;!x.eq(0);)x.mod(2).eq(0)?(x=x.div(2),S=S.mul(S).mod(_)):(x=x.sub(1),w=S.mul(w).mod(_));return w}var s=n.constructor.clone({precision:n.toFixed(0).length*2});n=new s(n);for(var l=0,u=n.sub(1);u.mod(2).eq(0);)u=u.div(2),l+=1;var c=null;if(n.lt("3317044064679887385961981"))c=[2,3,5,7,11,13,17,19,23,29,31,37,41].filter(S=>S<n);else{var d=Math.min(n.toNumber()-2,Math.floor(2*Math.pow(n.toFixed(0).length*Math.log(10),2)));c=[];for(var f=2;f<=d;f+=1)c.push(d)}for(var m=0;m<c.length;m+=1){var p=c[m],h=o(n.sub(n).add(p),u,n);if(!h.eq(1)){for(var v=0,y=h;!y.eq(n.sub(1));v+=1,y=y.mul(y).mod(n))if(v===l-1)return!1}}return!0},"Array | Matrix":e.referToSelf(t=>n=>et(n,t))})});var ice="numeric",ace=["number","?bignumber","?fraction"],X_=A(ice,ace,r=>{var{number:e,bignumber:t,fraction:n}=r,i={string:!0,number:!0,BigNumber:!0,Fraction:!0},a={number:o=>e(o),BigNumber:t?o=>t(o):td,bigint:o=>BigInt(o),Fraction:n?o=>n(o):Lg};return function(s){var l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"number",u=arguments.length>2?arguments[2]:void 0;if(u!==void 0)throw new SyntaxError("numeric() takes one or two arguments");var c=zt(s);if(!(c in i))throw new TypeError("Cannot convert "+s+' of type "'+c+'"; valid input types are '+Object.keys(i).join(", "));if(!(l in a))throw new TypeError("Cannot convert "+s+' to type "'+l+'"; valid output types are '+Object.keys(a).join(", "));return l===c?s:a[l](s)}});var AI="divideScalar",oce=["typed","numeric"],K_=A(AI,oce,r=>{var{typed:e,numeric:t}=r;return e(AI,{"number, number":function(i,a){return i/a},"Complex, Complex":function(i,a){return i.div(a)},"BigNumber, BigNumber":function(i,a){return i.div(a)},"bigint, bigint":function(i,a){return i/a},"Fraction, Fraction":function(i,a){return i.div(a)},"Unit, number | Complex | Fraction | BigNumber | Unit":(n,i)=>n.divide(i),"number | Fraction | Complex | BigNumber, Unit":(n,i)=>i.divideInto(n)})});var MI="pow",sce=["typed","config","identity","multiply","matrix","inv","fraction","number","Complex"],J_=A(MI,sce,r=>{var{typed:e,config:t,identity:n,multiply:i,matrix:a,inv:o,number:s,fraction:l,Complex:u}=r;return e(MI,{"number, number":c,"Complex, Complex":function(p,h){return p.pow(h)},"BigNumber, BigNumber":function(p,h){return h.isInteger()||p>=0||t.predictable?p.pow(h):new u(p.toNumber(),0).pow(h.toNumber(),0)},"bigint, bigint":(m,p)=>m**p,"Fraction, Fraction":function(p,h){var v=p.pow(h);if(v!=null)return v;if(t.predictable)throw new Error("Result of pow is non-rational and cannot be expressed as a fraction");return c(p.valueOf(),h.valueOf())},"Array, number":d,"Array, BigNumber":function(p,h){return d(p,h.toNumber())},"Matrix, number":f,"Matrix, BigNumber":function(p,h){return f(p,h.toNumber())},"Unit, number | BigNumber":function(p,h){return p.pow(h)}});function c(m,p){if(t.predictable&&!Ye(p)&&m<0)try{var h=l(p),v=s(h);if((p===v||Math.abs((p-v)/p)<1e-14)&&h.d%BigInt(2)===BigInt(1))return(h.n%BigInt(2)===BigInt(0)?1:-1)*Math.pow(-m,p)}catch{}return t.predictable&&(m<-1&&p===1/0||m>-1&&m<0&&p===-1/0)?NaN:Ye(p)||m>=0||t.predictable?k2(m,p):m*m<1&&p===1/0||m*m>1&&p===-1/0?0:new u(m,0).pow(p,0)}function d(m,p){if(!Ye(p))throw new TypeError("For A^b, b must be an integer (value is "+p+")");var h=ut(m);if(h.length!==2)throw new Error("For A^b, A must be 2 dimensional (A has "+h.length+" dimensions)");if(h[0]!==h[1])throw new Error("For A^b, A must be square (size is "+h[0]+"x"+h[1]+")");if(p<0)try{return d(o(m),-p)}catch(S){throw S.message==="Cannot calculate inverse, determinant is zero"?new TypeError("For A^b, when A is not invertible, b must be a positive integer (value is "+p+")"):S}for(var v=n(h[0]).valueOf(),y=m;p>=1;)(p&1)===1&&(v=i(y,v)),p>>=1,y=i(y,y);return v}function f(m,p){return a(d(m.valueOf(),p))}});var nd="Number of decimals in function round must be an integer",NI="round",lce=["typed","config","matrix","equalScalar","zeros","BigNumber","DenseMatrix"],Q_=A(NI,lce,r=>{var{typed:e,config:t,matrix:n,equalScalar:i,zeros:a,BigNumber:o,DenseMatrix:s}=r,l=sr({typed:e,equalScalar:i}),u=er({typed:e,DenseMatrix:s}),c=sn({typed:e});function d(f){return Math.abs(Vc(f).exponent)}return e(NI,{number:function(m){var p=Zc(m,d(t.relTol)),h=_r(m,p,t.relTol,t.absTol)?p:m;return Zc(h)},"number, number":function(m,p){var h=d(t.relTol);if(p>=h)return Zc(m,p);var v=Zc(m,h),y=_r(m,v,t.relTol,t.absTol)?v:m;return Zc(y,p)},"number, BigNumber":function(m,p){if(!p.isInteger())throw new TypeError(nd);return new o(m).toDecimalPlaces(p.toNumber())},Complex:function(m){return m.round()},"Complex, number":function(m,p){if(p%1)throw new TypeError(nd);return m.round(p)},"Complex, BigNumber":function(m,p){if(!p.isInteger())throw new TypeError(nd);var h=p.toNumber();return m.round(h)},BigNumber:function(m){var p=new o(m).toDecimalPlaces(d(t.relTol)),h=Qr(m,p,t.relTol,t.absTol)?p:m;return h.toDecimalPlaces(0)},"BigNumber, BigNumber":function(m,p){if(!p.isInteger())throw new TypeError(nd);var h=d(t.relTol);if(p>=h)return m.toDecimalPlaces(p.toNumber());var v=m.toDecimalPlaces(h),y=Qr(m,v,t.relTol,t.absTol)?v:m;return y.toDecimalPlaces(p.toNumber())},bigint:f=>f,"bigint, number":(f,m)=>f,"bigint, BigNumber":(f,m)=>f,Fraction:function(m){return m.round()},"Fraction, number":function(m,p){if(p%1)throw new TypeError(nd);return m.round(p)},"Fraction, BigNumber":function(m,p){if(!p.isInteger())throw new TypeError(nd);return m.round(p.toNumber())},"Unit, number, Unit":e.referToSelf(f=>function(m,p,h){var v=m.toNumeric(h);return h.multiply(f(v,p))}),"Unit, BigNumber, Unit":e.referToSelf(f=>(m,p,h)=>f(m,p.toNumber(),h)),"Array | Matrix, number | BigNumber, Unit":e.referToSelf(f=>(m,p,h)=>et(m,v=>f(v,p,h),!0)),"Array | Matrix | Unit, Unit":e.referToSelf(f=>(m,p)=>f(m,0,p)),"Array | Matrix":e.referToSelf(f=>m=>et(m,f,!0)),"SparseMatrix, number | BigNumber":e.referToSelf(f=>(m,p)=>l(m,p,f,!1)),"DenseMatrix, number | BigNumber":e.referToSelf(f=>(m,p)=>c(m,p,f,!1)),"Array, number | BigNumber":e.referToSelf(f=>(m,p)=>c(n(m),p,f,!1).valueOf()),"number | Complex | BigNumber | Fraction, SparseMatrix":e.referToSelf(f=>(m,p)=>i(m,0)?a(p.size(),p.storage()):u(p,m,f,!0)),"number | Complex | BigNumber | Fraction, DenseMatrix":e.referToSelf(f=>(m,p)=>i(m,0)?a(p.size(),p.storage()):c(p,m,f,!0)),"number | Complex | BigNumber | Fraction, Array":e.referToSelf(f=>(m,p)=>c(n(p),m,f,!0).valueOf())})});var TI="log",uce=["config","typed","typeOf","divideScalar","Complex"],cce=Math.log(16),e4=A(TI,uce,r=>{var{typed:e,typeOf:t,config:n,divideScalar:i,Complex:a}=r;function o(l){return l.log()}function s(l){return o(new a(l,0))}return e(TI,{number:function(u){return u>=0||n.predictable?F2(u):s(u)},bigint:Qc(cce,F2,n,s),Complex:o,BigNumber:function(u){return!u.isNegative()||n.predictable?u.ln():s(u.toNumber())},"any, any":e.referToSelf(l=>(u,c)=>{if(t(u)==="Fraction"&&t(c)==="Fraction"){var d=u.log(c);if(d!==null)return d}return i(l(u),l(c))})})});var FI="log1p",dce=["typed","config","divideScalar","log","Complex"],t4=A(FI,dce,r=>{var{typed:e,config:t,divideScalar:n,log:i,Complex:a}=r;return e(FI,{number:function(l){return l>=-1||t.predictable?lg(l):o(new a(l,0))},Complex:o,BigNumber:function(l){var u=l.plus(1);return!u.isNegative()||t.predictable?u.ln():o(new a(l.toNumber(),0))},"Array | Matrix":e.referToSelf(s=>l=>et(l,s)),"any, any":e.referToSelf(s=>(l,u)=>n(s(l),i(u)))});function o(s){var l=s.re+1;return new a(Math.log(Math.sqrt(l*l+s.im*s.im)),Math.atan2(s.im,l))}});var II="nthRoots",fce=["config","typed","divideScalar","Complex"],r4=A(II,fce,r=>{var{typed:e,config:t,divideScalar:n,Complex:i}=r,a=[function(l){return new i(l,0)},function(l){return new i(0,l)},function(l){return new i(-l,0)},function(l){return new i(0,-l)}];function o(s,l){if(l<0)throw new Error("Root must be greater than zero");if(l===0)throw new Error("Root must be non-zero");if(l%1!==0)throw new Error("Root must be an integer");if(s===0||s.abs()===0)return[new i(0,0)];var u=typeof s=="number",c;(u||s.re===0||s.im===0)&&(u?c=2*+(s<0):s.im===0?c=2*+(s.re<0):c=2*+(s.im<0)+1);for(var d=s.arg(),f=s.abs(),m=[],p=Math.pow(f,1/l),h=0;h<l;h++){var v=(c+4*h)/l;if(v===Math.round(v)){m.push(a[v%4](p));continue}m.push(new i({r:p,phi:(d+2*Math.PI*h)/l}))}return m}return e(II,{Complex:function(l){return o(l,2)},"Complex, number":o})});var OI="dotPow",mce=["typed","equalScalar","matrix","pow","DenseMatrix","concat","SparseMatrix"],n4=A(OI,mce,r=>{var{typed:e,equalScalar:t,matrix:n,pow:i,DenseMatrix:a,concat:o,SparseMatrix:s}=r,l=vr({typed:e}),u=vn({typed:e,SparseMatrix:s}),c=sr({typed:e,equalScalar:t}),d=er({typed:e,DenseMatrix:a}),f=_t({typed:e,matrix:n,concat:o}),m={};for(var p in i.signatures)Object.prototype.hasOwnProperty.call(i.signatures,p)&&!p.includes("Matrix")&&!p.includes("Array")&&(m[p]=i.signatures[p]);var h=e(m);return e(OI,f({elop:h,SS:u,DS:l,Ss:c,sS:d}))});var RI="dotDivide",hce=["typed","matrix","equalScalar","divideScalar","DenseMatrix","concat","SparseMatrix"],i4=A(RI,hce,r=>{var{typed:e,matrix:t,equalScalar:n,divideScalar:i,DenseMatrix:a,concat:o,SparseMatrix:s}=r,l=ln({typed:e,equalScalar:n}),u=vr({typed:e}),c=vn({typed:e,SparseMatrix:s}),d=sr({typed:e,equalScalar:n}),f=er({typed:e,DenseMatrix:a}),m=_t({typed:e,matrix:t,concat:o});return e(RI,m({elop:i,SS:c,DS:u,SD:l,Ss:d,sS:f}))});function _o(r){var{DenseMatrix:e}=r;return function(n,i,a){var o=n.size();if(o.length!==2)throw new RangeError("Matrix must be two dimensional (size: "+pt(o)+")");var s=o[0],l=o[1];if(s!==l)throw new RangeError("Matrix must be square (size: "+pt(o)+")");var u=[];if(Je(i)){var c=i.size(),d=i._data;if(c.length===1){if(c[0]!==s)throw new RangeError("Dimension mismatch. Matrix columns must match vector length.");for(var f=0;f<s;f++)u[f]=[d[f]];return new e({data:u,size:[s,1],datatype:i._datatype})}if(c.length===2){if(c[0]!==s||c[1]!==1)throw new RangeError("Dimension mismatch. Matrix columns must match vector length.");if(ou(i)){if(a){u=[];for(var m=0;m<s;m++)u[m]=[d[m][0]];return new e({data:u,size:[s,1],datatype:i._datatype})}return i}if(La(i)){for(var p=0;p<s;p++)u[p]=[0];for(var h=i._values,v=i._index,y=i._ptr,S=y[1],x=y[0];x<S;x++){var _=v[x];u[_][0]=h[x]}return new e({data:u,size:[s,1],datatype:i._datatype})}}throw new RangeError("Dimension mismatch. The right side has to be either 1- or 2-dimensional vector.")}if(Yt(i)){var w=ut(i);if(w.length===1){if(w[0]!==s)throw new RangeError("Dimension mismatch. Matrix columns must match vector length.");for(var b=0;b<s;b++)u[b]=[i[b]];return new e({data:u,size:[s,1]})}if(w.length===2){if(w[0]!==s||w[1]!==1)throw new RangeError("Dimension mismatch. Matrix columns must match vector length.");for(var C=0;C<s;C++)u[C]=[i[C][0]];return new e({data:u,size:[s,1]})}throw new RangeError("Dimension mismatch. The right side has to be either 1- or 2-dimensional vector.")}}}var kI="lsolve",pce=["typed","matrix","divideScalar","multiplyScalar","subtractScalar","equalScalar","DenseMatrix"],a4=A(kI,pce,r=>{var{typed:e,matrix:t,divideScalar:n,multiplyScalar:i,subtractScalar:a,equalScalar:o,DenseMatrix:s}=r,l=_o({DenseMatrix:s});return e(kI,{"SparseMatrix, Array | Matrix":function(f,m){return c(f,m)},"DenseMatrix, Array | Matrix":function(f,m){return u(f,m)},"Array, Array | Matrix":function(f,m){var p=t(f),h=u(p,m);return h.valueOf()}});function u(d,f){f=l(d,f,!0);for(var m=f._data,p=d._size[0],h=d._size[1],v=[],y=d._data,S=0;S<h;S++){var x=m[S][0]||0,_=void 0;if(o(x,0))_=0;else{var w=y[S][S];if(o(w,0))throw new Error("Linear system cannot be solved since matrix is singular");_=n(x,w);for(var b=S+1;b<p;b++)m[b]=[a(m[b][0]||0,i(_,y[b][S]))]}v[S]=[_]}return new s({data:v,size:[p,1]})}function c(d,f){f=l(d,f,!0);for(var m=f._data,p=d._size[0],h=d._size[1],v=d._values,y=d._index,S=d._ptr,x=[],_=0;_<h;_++){var w=m[_][0]||0;if(o(w,0))x[_]=[0];else{for(var b=0,C=[],E=[],D=S[_],M=S[_+1],T=D;T<M;T++){var I=y[T];I===_?b=v[T]:I>_&&(C.push(v[T]),E.push(I))}if(o(b,0))throw new Error("Linear system cannot be solved since matrix is singular");for(var B=n(w,b),V=0,L=E.length;V<L;V++){var k=E[V];m[k]=[a(m[k][0]||0,i(B,C[V]))]}x[_]=[B]}}return new s({data:x,size:[p,1]})}});var PI="usolve",gce=["typed","matrix","divideScalar","multiplyScalar","subtractScalar","equalScalar","DenseMatrix"],o4=A(PI,gce,r=>{var{typed:e,matrix:t,divideScalar:n,multiplyScalar:i,subtractScalar:a,equalScalar:o,DenseMatrix:s}=r,l=_o({DenseMatrix:s});return e(PI,{"SparseMatrix, Array | Matrix":function(f,m){return c(f,m)},"DenseMatrix, Array | Matrix":function(f,m){return u(f,m)},"Array, Array | Matrix":function(f,m){var p=t(f),h=u(p,m);return h.valueOf()}});function u(d,f){f=l(d,f,!0);for(var m=f._data,p=d._size[0],h=d._size[1],v=[],y=d._data,S=h-1;S>=0;S--){var x=m[S][0]||0,_=void 0;if(o(x,0))_=0;else{var w=y[S][S];if(o(w,0))throw new Error("Linear system cannot be solved since matrix is singular");_=n(x,w);for(var b=S-1;b>=0;b--)m[b]=[a(m[b][0]||0,i(_,y[b][S]))]}v[S]=[_]}return new s({data:v,size:[p,1]})}function c(d,f){f=l(d,f,!0);for(var m=f._data,p=d._size[0],h=d._size[1],v=d._values,y=d._index,S=d._ptr,x=[],_=h-1;_>=0;_--){var w=m[_][0]||0;if(o(w,0))x[_]=[0];else{for(var b=0,C=[],E=[],D=S[_],M=S[_+1],T=M-1;T>=D;T--){var I=y[T];I===_?b=v[T]:I<_&&(C.push(v[T]),E.push(I))}if(o(b,0))throw new Error("Linear system cannot be solved since matrix is singular");for(var B=n(w,b),V=0,L=E.length;V<L;V++){var k=E[V];m[k]=[a(m[k][0],i(B,C[V]))]}x[_]=[B]}}return new s({data:x,size:[p,1]})}});var BI="lsolveAll",vce=["typed","matrix","divideScalar","multiplyScalar","subtractScalar","equalScalar","DenseMatrix"],s4=A(BI,vce,r=>{var{typed:e,matrix:t,divideScalar:n,multiplyScalar:i,subtractScalar:a,equalScalar:o,DenseMatrix:s}=r,l=_o({DenseMatrix:s});return e(BI,{"SparseMatrix, Array | Matrix":function(f,m){return c(f,m)},"DenseMatrix, Array | Matrix":function(f,m){return u(f,m)},"Array, Array | Matrix":function(f,m){var p=t(f),h=u(p,m);return h.map(v=>v.valueOf())}});function u(d,f){for(var m=[l(d,f,!0)._data.map(E=>E[0])],p=d._data,h=d._size[0],v=d._size[1],y=0;y<v;y++)for(var S=m.length,x=0;x<S;x++){var _=m[x];if(o(p[y][y],0))if(o(_[y],0)){if(x===0){var b=[..._];b[y]=1;for(var C=y+1;C<v;C++)b[C]=a(b[C],p[C][y]);m.push(b)}}else{if(x===0)return[];m.splice(x,1),x-=1,S-=1}else{_[y]=n(_[y],p[y][y]);for(var w=y+1;w<v;w++)_[w]=a(_[w],i(_[y],p[w][y]))}}return m.map(E=>new s({data:E.map(D=>[D]),size:[h,1]}))}function c(d,f){for(var m=[l(d,f,!0)._data.map(se=>se[0])],p=d._size[0],h=d._size[1],v=d._values,y=d._index,S=d._ptr,x=0;x<h;x++)for(var _=m.length,w=0;w<_;w++){for(var b=m[w],C=[],E=[],D=S[x],M=S[x+1],T=0,I=D;I<M;I++){var B=y[I];B===x?T=v[I]:B>x&&(C.push(v[I]),E.push(B))}if(o(T,0))if(o(b[x],0)){if(w===0){var O=[...b];O[x]=1;for(var Y=0,P=E.length;Y<P;Y++){var ae=E[Y];O[ae]=a(O[ae],C[Y])}m.push(O)}}else{if(w===0)return[];m.splice(w,1),w-=1,_-=1}else{b[x]=n(b[x],T);for(var V=0,L=E.length;V<L;V++){var k=E[V];b[k]=a(b[k],i(b[x],C[V]))}}}return m.map(se=>new s({data:se.map(te=>[te]),size:[p,1]}))}});var LI="usolveAll",xce=["typed","matrix","divideScalar","multiplyScalar","subtractScalar","equalScalar","DenseMatrix"],l4=A(LI,xce,r=>{var{typed:e,matrix:t,divideScalar:n,multiplyScalar:i,subtractScalar:a,equalScalar:o,DenseMatrix:s}=r,l=_o({DenseMatrix:s});return e(LI,{"SparseMatrix, Array | Matrix":function(f,m){return c(f,m)},"DenseMatrix, Array | Matrix":function(f,m){return u(f,m)},"Array, Array | Matrix":function(f,m){var p=t(f),h=u(p,m);return h.map(v=>v.valueOf())}});function u(d,f){for(var m=[l(d,f,!0)._data.map(E=>E[0])],p=d._data,h=d._size[0],v=d._size[1],y=v-1;y>=0;y--)for(var S=m.length,x=0;x<S;x++){var _=m[x];if(o(p[y][y],0))if(o(_[y],0)){if(x===0){var b=[..._];b[y]=1;for(var C=y-1;C>=0;C--)b[C]=a(b[C],p[C][y]);m.push(b)}}else{if(x===0)return[];m.splice(x,1),x-=1,S-=1}else{_[y]=n(_[y],p[y][y]);for(var w=y-1;w>=0;w--)_[w]=a(_[w],i(_[y],p[w][y]))}}return m.map(E=>new s({data:E.map(D=>[D]),size:[h,1]}))}function c(d,f){for(var m=[l(d,f,!0)._data.map(se=>se[0])],p=d._size[0],h=d._size[1],v=d._values,y=d._index,S=d._ptr,x=h-1;x>=0;x--)for(var _=m.length,w=0;w<_;w++){for(var b=m[w],C=[],E=[],D=S[x],M=S[x+1],T=0,I=M-1;I>=D;I--){var B=y[I];B===x?T=v[I]:B<x&&(C.push(v[I]),E.push(B))}if(o(T,0))if(o(b[x],0)){if(w===0){var O=[...b];O[x]=1;for(var Y=0,P=E.length;Y<P;Y++){var ae=E[Y];O[ae]=a(O[ae],C[Y])}m.push(O)}}else{if(w===0)return[];m.splice(w,1),w-=1,_-=1}else{b[x]=n(b[x],T);for(var V=0,L=E.length;V<L;V++){var k=E[V];b[k]=a(b[k],i(b[x],C[V]))}}}return m.map(se=>new s({data:se.map(te=>[te]),size:[p,1]}))}});var yce="matAlgo08xS0Sid",bce=["typed","equalScalar"],id=A(yce,bce,r=>{var{typed:e,equalScalar:t}=r;return function(i,a,o){var s=i._values,l=i._index,u=i._ptr,c=i._size,d=i._datatype||i._data===void 0?i._datatype:i.getDataType(),f=a._values,m=a._index,p=a._ptr,h=a._size,v=a._datatype||a._data===void 0?a._datatype:a.getDataType();if(c.length!==h.length)throw new yt(c.length,h.length);if(c[0]!==h[0]||c[1]!==h[1])throw new RangeError("Dimension mismatch. Matrix A ("+c+") must match Matrix B ("+h+")");if(!s||!f)throw new Error("Cannot perform operation on Pattern Sparse Matrices");var y=c[0],S=c[1],x,_=t,w=0,b=o;typeof d=="string"&&d===v&&d!=="mixed"&&(x=d,_=e.find(t,[x,x]),w=e.convert(0,x),b=e.find(o,[x,x]));for(var C=[],E=[],D=[],M=[],T=[],I,B,V,L,k=0;k<S;k++){D[k]=E.length;var O=k+1;for(B=u[k],V=u[k+1],I=B;I<V;I++)L=l[I],T[L]=O,M[L]=s[I],E.push(L);for(B=p[k],V=p[k+1],I=B;I<V;I++)L=m[I],T[L]===O&&(M[L]=b(M[L],f[I]));for(I=D[k];I<E.length;){L=E[I];var Y=M[L];_(Y,w)?E.splice(I,1):(C.push(Y),I++)}}return D[S]=E.length,i.createSparseMatrix({values:C,index:E,ptr:D,size:[y,S],datatype:d===i._datatype&&v===a._datatype?x:void 0})}});var ad=A("useMatrixForArrayScalar",["typed","matrix"],r=>{var{typed:e,matrix:t}=r;return{"Array, number":e.referTo("DenseMatrix, number",n=>(i,a)=>n(t(i),a).valueOf()),"Array, BigNumber":e.referTo("DenseMatrix, BigNumber",n=>(i,a)=>n(t(i),a).valueOf()),"number, Array":e.referTo("number, DenseMatrix",n=>(i,a)=>n(i,t(a)).valueOf()),"BigNumber, Array":e.referTo("BigNumber, DenseMatrix",n=>(i,a)=>n(i,t(a)).valueOf())}});var zI="leftShift",wce=["typed","matrix","equalScalar","zeros","DenseMatrix","concat"],u4=A(zI,wce,r=>{var{typed:e,matrix:t,equalScalar:n,zeros:i,DenseMatrix:a,concat:o}=r,s=ti({typed:e}),l=ln({typed:e,equalScalar:n}),u=id({typed:e,equalScalar:n}),c=ki({typed:e,DenseMatrix:a}),d=sr({typed:e,equalScalar:n}),f=sn({typed:e}),m=_t({typed:e,matrix:t,concat:o}),p=ad({typed:e,matrix:t});return e(zI,{"number, number":V2,"BigNumber, BigNumber":FF,"bigint, bigint":(h,v)=>h<<v,"SparseMatrix, number | BigNumber":e.referToSelf(h=>(v,y)=>n(y,0)?v.clone():d(v,y,h,!1)),"DenseMatrix, number | BigNumber":e.referToSelf(h=>(v,y)=>n(y,0)?v.clone():f(v,y,h,!1)),"number | BigNumber, SparseMatrix":e.referToSelf(h=>(v,y)=>n(v,0)?i(y.size(),y.storage()):c(y,v,h,!0)),"number | BigNumber, DenseMatrix":e.referToSelf(h=>(v,y)=>n(v,0)?i(y.size(),y.storage()):f(y,v,h,!0))},p,m({SS:u,DS:s,SD:l}))});var VI="rightArithShift",_ce=["typed","matrix","equalScalar","zeros","DenseMatrix","concat"],c4=A(VI,_ce,r=>{var{typed:e,matrix:t,equalScalar:n,zeros:i,DenseMatrix:a,concat:o}=r,s=ti({typed:e}),l=ln({typed:e,equalScalar:n}),u=id({typed:e,equalScalar:n}),c=ki({typed:e,DenseMatrix:a}),d=sr({typed:e,equalScalar:n}),f=sn({typed:e}),m=_t({typed:e,matrix:t,concat:o}),p=ad({typed:e,matrix:t});return e(VI,{"number, number":U2,"BigNumber, BigNumber":IF,"bigint, bigint":(h,v)=>h>>v,"SparseMatrix, number | BigNumber":e.referToSelf(h=>(v,y)=>n(y,0)?v.clone():d(v,y,h,!1)),"DenseMatrix, number | BigNumber":e.referToSelf(h=>(v,y)=>n(y,0)?v.clone():f(v,y,h,!1)),"number | BigNumber, SparseMatrix":e.referToSelf(h=>(v,y)=>n(v,0)?i(y.size(),y.storage()):c(y,v,h,!0)),"number | BigNumber, DenseMatrix":e.referToSelf(h=>(v,y)=>n(v,0)?i(y.size(),y.storage()):f(y,v,h,!0))},p,m({SS:u,DS:s,SD:l}))});var UI="rightLogShift",Sce=["typed","matrix","equalScalar","zeros","DenseMatrix","concat"],d4=A(UI,Sce,r=>{var{typed:e,matrix:t,equalScalar:n,zeros:i,DenseMatrix:a,concat:o}=r,s=ti({typed:e}),l=ln({typed:e,equalScalar:n}),u=id({typed:e,equalScalar:n}),c=ki({typed:e,DenseMatrix:a}),d=sr({typed:e,equalScalar:n}),f=sn({typed:e}),m=_t({typed:e,matrix:t,concat:o}),p=ad({typed:e,matrix:t});return e(UI,{"number, number":q2,"SparseMatrix, number | BigNumber":e.referToSelf(h=>(v,y)=>n(y,0)?v.clone():d(v,y,h,!1)),"DenseMatrix, number | BigNumber":e.referToSelf(h=>(v,y)=>n(y,0)?v.clone():f(v,y,h,!1)),"number | BigNumber, SparseMatrix":e.referToSelf(h=>(v,y)=>n(v,0)?i(y.size(),y.storage()):c(y,v,h,!0)),"number | BigNumber, DenseMatrix":e.referToSelf(h=>(v,y)=>n(v,0)?i(y.size(),y.storage()):f(y,v,h,!0))},p,m({SS:u,DS:s,SD:l}))});var qI="and",Dce=["typed","matrix","equalScalar","zeros","not","concat"],im=A(qI,Dce,r=>{var{typed:e,matrix:t,equalScalar:n,zeros:i,not:a,concat:o}=r,s=ln({typed:e,equalScalar:n}),l=ll({typed:e,equalScalar:n}),u=sr({typed:e,equalScalar:n}),c=sn({typed:e}),d=_t({typed:e,matrix:t,concat:o});return e(qI,{"number, number":Og,"Complex, Complex":function(m,p){return(m.re!==0||m.im!==0)&&(p.re!==0||p.im!==0)},"BigNumber, BigNumber":function(m,p){return!m.isZero()&&!p.isZero()&&!m.isNaN()&&!p.isNaN()},"bigint, bigint":Og,"Unit, Unit":e.referToSelf(f=>(m,p)=>f(m.value||0,p.value||0)),"SparseMatrix, any":e.referToSelf(f=>(m,p)=>a(p)?i(m.size(),m.storage()):u(m,p,f,!1)),"DenseMatrix, any":e.referToSelf(f=>(m,p)=>a(p)?i(m.size(),m.storage()):c(m,p,f,!1)),"any, SparseMatrix":e.referToSelf(f=>(m,p)=>a(m)?i(m.size(),m.storage()):u(p,m,f,!0)),"any, DenseMatrix":e.referToSelf(f=>(m,p)=>a(m)?i(m.size(),m.storage()):c(p,m,f,!0)),"Array, any":e.referToSelf(f=>(m,p)=>f(t(m),p).valueOf()),"any, Array":e.referToSelf(f=>(m,p)=>f(m,t(p)).valueOf())},d({SS:l,DS:s}))});var Ug="compare",Cce=["typed","config","matrix","equalScalar","BigNumber","Fraction","DenseMatrix","concat"],f4=A(Ug,Cce,r=>{var{typed:e,config:t,equalScalar:n,matrix:i,BigNumber:a,Fraction:o,DenseMatrix:s,concat:l}=r,u=vr({typed:e}),c=sl({typed:e,equalScalar:n}),d=er({typed:e,DenseMatrix:s}),f=_t({typed:e,matrix:i,concat:l}),m=ba({typed:e});return e(Ug,Ece({typed:e,config:t}),{"boolean, boolean":function(h,v){return h===v?0:h>v?1:-1},"BigNumber, BigNumber":function(h,v){return Qr(h,v,t.relTol,t.absTol)?new a(0):new a(h.cmp(v))},"bigint, bigint":function(h,v){return h===v?BigInt(0):h>v?BigInt(1):-BigInt(1)},"Fraction, Fraction":function(h,v){return new o(h.compare(v))},"Complex, Complex":function(){throw new TypeError("No ordering relation is defined for complex numbers")}},m,f({SS:c,DS:u,Ss:d}))}),Ece=A(Ug,["typed","config"],r=>{var{typed:e,config:t}=r;return e(Ug,{"number, number":function(i,a){return _r(i,a,t.relTol,t.absTol)?0:i>a?1:-1}})});var hu=ef($I(),1);var HI="compareNatural",Ace=["typed","compare"],m4=A(HI,Ace,r=>{var{typed:e,compare:t}=r,n=t.signatures["boolean,boolean"];return e(HI,{"any, any":i});function i(l,u){var c=zt(l),d=zt(u),f;if((c==="number"||c==="BigNumber"||c==="Fraction")&&(d==="number"||d==="BigNumber"||d==="Fraction"))return f=t(l,u),f.toString()!=="0"?f>0?1:-1:(0,hu.default)(c,d);var m=["Array","DenseMatrix","SparseMatrix"];if(m.includes(c)||m.includes(d))return f=a(i,l,u),f!==0?f:(0,hu.default)(c,d);if(c!==d)return(0,hu.default)(c,d);if(c==="Complex")return Mce(l,u);if(c==="Unit")return l.equalBase(u)?i(l.value,u.value):o(i,l.formatUnits(),u.formatUnits());if(c==="boolean")return n(l,u);if(c==="string")return(0,hu.default)(l,u);if(c==="Object")return s(i,l,u);if(c==="null"||c==="undefined")return 0;throw new TypeError('Unsupported type of value "'+c+'"')}function a(l,u,c){return La(u)&&La(c)?o(l,u.toJSON().values,c.toJSON().values):La(u)?a(l,u.toArray(),c):La(c)?a(l,u,c.toArray()):ou(u)?a(l,u.toJSON().data,c):ou(c)?a(l,u,c.toJSON().data):Array.isArray(u)?Array.isArray(c)?o(l,u,c):a(l,u,[c]):a(l,[u],c)}function o(l,u,c){for(var d=0,f=Math.min(u.length,c.length);d<f;d++){var m=l(u[d],c[d]);if(m!==0)return m}return u.length>c.length?1:u.length<c.length?-1:0}function s(l,u,c){var d=Object.keys(u),f=Object.keys(c);d.sort(hu.default),f.sort(hu.default);var m=o(l,d,f);if(m!==0)return m;for(var p=0;p<d.length;p++){var h=l(u[d[p]],c[f[p]]);if(h!==0)return h}return 0}});function Mce(r,e){return r.re>e.re?1:r.re<e.re?-1:r.im>e.im?1:r.im<e.im?-1:0}var WI="compareText",Nce=["typed","matrix","concat"];Sg.signature="any, any";var h4=A(WI,Nce,r=>{var{typed:e,matrix:t,concat:n}=r,i=_t({typed:e,matrix:t,concat:n});return e(WI,Sg,i({elop:Sg,Ds:!0}))});var qg="equal",Tce=["typed","matrix","equalScalar","DenseMatrix","concat","SparseMatrix"],p4=A(qg,Tce,r=>{var{typed:e,matrix:t,equalScalar:n,DenseMatrix:i,concat:a,SparseMatrix:o}=r,s=vr({typed:e}),l=vn({typed:e,SparseMatrix:o}),u=er({typed:e,DenseMatrix:i}),c=_t({typed:e,matrix:t,concat:a});return e(qg,Fce({typed:e,equalScalar:n}),c({elop:n,SS:l,DS:s,Ss:u}))}),Fce=A(qg,["typed","equalScalar"],r=>{var{typed:e,equalScalar:t}=r;return e(qg,{"any, any":function(i,a){return i===null?a===null:a===null?i===null:i===void 0?a===void 0:a===void 0?i===void 0:t(i,a)}})});var GI="equalText",Ice=["typed","compareText","isZero"],g4=A(GI,Ice,r=>{var{typed:e,compareText:t,isZero:n}=r;return e(GI,{"any, any":function(a,o){return n(t(a,o))}})});var jg="smaller",Oce=["typed","config","bignumber","matrix","DenseMatrix","concat","SparseMatrix"],v4=A(jg,Oce,r=>{var{typed:e,config:t,bignumber:n,matrix:i,DenseMatrix:a,concat:o,SparseMatrix:s}=r,l=vr({typed:e}),u=vn({typed:e,SparseMatrix:s}),c=er({typed:e,DenseMatrix:a}),d=_t({typed:e,matrix:i,concat:o}),f=ba({typed:e});function m(p,h){return p.lt(h)&&!Qr(p,h,t.relTol,t.absTol)}return e(jg,Rce({typed:e,config:t}),{"boolean, boolean":(p,h)=>p<h,"BigNumber, BigNumber":m,"bigint, bigint":(p,h)=>p<h,"Fraction, Fraction":(p,h)=>p.compare(h)===-1,"Fraction, BigNumber":function(h,v){return m(n(h),v)},"BigNumber, Fraction":function(h,v){return m(h,n(v))},"Complex, Complex":function(h,v){throw new TypeError("No ordering relation is defined for complex numbers")}},f,d({SS:u,DS:l,Ss:c}))}),Rce=A(jg,["typed","config"],r=>{var{typed:e,config:t}=r;return e(jg,{"number, number":function(i,a){return i<a&&!_r(i,a,t.relTol,t.absTol)}})});var $g="smallerEq",kce=["typed","config","matrix","DenseMatrix","concat","SparseMatrix"],x4=A($g,kce,r=>{var{typed:e,config:t,matrix:n,DenseMatrix:i,concat:a,SparseMatrix:o}=r,s=vr({typed:e}),l=vn({typed:e,SparseMatrix:o}),u=er({typed:e,DenseMatrix:i}),c=_t({typed:e,matrix:n,concat:a}),d=ba({typed:e});return e($g,Pce({typed:e,config:t}),{"boolean, boolean":(f,m)=>f<=m,"BigNumber, BigNumber":function(m,p){return m.lte(p)||Qr(m,p,t.relTol,t.absTol)},"bigint, bigint":(f,m)=>f<=m,"Fraction, Fraction":(f,m)=>f.compare(m)!==1,"Complex, Complex":function(){throw new TypeError("No ordering relation is defined for complex numbers")}},d,c({SS:l,DS:s,Ss:u}))}),Pce=A($g,["typed","config"],r=>{var{typed:e,config:t}=r;return e($g,{"number, number":function(i,a){return i<=a||_r(i,a,t.relTol,t.absTol)}})});var Hg="larger",Bce=["typed","config","bignumber","matrix","DenseMatrix","concat","SparseMatrix"],y4=A(Hg,Bce,r=>{var{typed:e,config:t,bignumber:n,matrix:i,DenseMatrix:a,concat:o,SparseMatrix:s}=r,l=vr({typed:e}),u=vn({typed:e,SparseMatrix:s}),c=er({typed:e,DenseMatrix:a}),d=_t({typed:e,matrix:i,concat:o}),f=ba({typed:e});function m(p,h){return p.gt(h)&&!Qr(p,h,t.relTol,t.absTol)}return e(Hg,Lce({typed:e,config:t}),{"boolean, boolean":(p,h)=>p>h,"BigNumber, BigNumber":m,"bigint, bigint":(p,h)=>p>h,"Fraction, Fraction":(p,h)=>p.compare(h)===1,"Fraction, BigNumber":function(h,v){return m(n(h),v)},"BigNumber, Fraction":function(h,v){return m(h,n(v))},"Complex, Complex":function(){throw new TypeError("No ordering relation is defined for complex numbers")}},f,d({SS:u,DS:l,Ss:c}))}),Lce=A(Hg,["typed","config"],r=>{var{typed:e,config:t}=r;return e(Hg,{"number, number":function(i,a){return i>a&&!_r(i,a,t.relTol,t.absTol)}})});var Wg="largerEq",zce=["typed","config","matrix","DenseMatrix","concat","SparseMatrix"],b4=A(Wg,zce,r=>{var{typed:e,config:t,matrix:n,DenseMatrix:i,concat:a,SparseMatrix:o}=r,s=vr({typed:e}),l=vn({typed:e,SparseMatrix:o}),u=er({typed:e,DenseMatrix:i}),c=_t({typed:e,matrix:n,concat:a}),d=ba({typed:e});return e(Wg,Vce({typed:e,config:t}),{"boolean, boolean":(f,m)=>f>=m,"BigNumber, BigNumber":function(m,p){return m.gte(p)||Qr(m,p,t.relTol,t.absTol)},"bigint, bigint":function(m,p){return m>=p},"Fraction, Fraction":(f,m)=>f.compare(m)!==-1,"Complex, Complex":function(){throw new TypeError("No ordering relation is defined for complex numbers")}},d,c({SS:l,DS:s,Ss:u}))}),Vce=A(Wg,["typed","config"],r=>{var{typed:e,config:t}=r;return e(Wg,{"number, number":function(i,a){return i>=a||_r(i,a,t.relTol,t.absTol)}})});var YI="deepEqual",Uce=["typed","equal"],w4=A(YI,Uce,r=>{var{typed:e,equal:t}=r;return e(YI,{"any, any":function(a,o){return n(a.valueOf(),o.valueOf())}});function n(i,a){if(Array.isArray(i))if(Array.isArray(a)){var o=i.length;if(o!==a.length)return!1;for(var s=0;s<o;s++)if(!n(i[s],a[s]))return!1;return!0}else return!1;else return Array.isArray(a)?!1:t(i,a)}});var Gg="unequal",qce=["typed","config","equalScalar","matrix","DenseMatrix","concat","SparseMatrix"],_4=A(Gg,qce,r=>{var{typed:e,config:t,equalScalar:n,matrix:i,DenseMatrix:a,concat:o,SparseMatrix:s}=r,l=vr({typed:e}),u=vn({typed:e,SparseMatrix:s}),c=er({typed:e,DenseMatrix:a}),d=_t({typed:e,matrix:i,concat:o});return e(Gg,jce({typed:e,equalScalar:n}),d({elop:f,SS:u,DS:l,Ss:c}));function f(m,p){return!n(m,p)}}),jce=A(Gg,["typed","equalScalar"],r=>{var{typed:e,equalScalar:t}=r;return e(Gg,{"any, any":function(i,a){return i===null?a!==null:a===null?i!==null:i===void 0?a!==void 0:a===void 0?i!==void 0:!t(i,a)}})});var ZI="partitionSelect",$ce=["typed","isNumeric","isNaN","compare"],S4=A(ZI,$ce,r=>{var{typed:e,isNumeric:t,isNaN:n,compare:i}=r,a=i,o=(u,c)=>-i(u,c);return e(ZI,{"Array | Matrix, number":function(c,d){return s(c,d,a)},"Array | Matrix, number, string":function(c,d,f){if(f==="asc")return s(c,d,a);if(f==="desc")return s(c,d,o);throw new Error('Compare string must be "asc" or "desc"')},"Array | Matrix, number, function":s});function s(u,c,d){if(!Ye(c)||c<0)throw new Error("k must be a non-negative integer");if(Je(u)){var f=u.size();if(f.length>1)throw new Error("Only one dimensional matrices supported");return l(u.valueOf(),c,d)}if(Array.isArray(u))return l(u,c,d)}function l(u,c,d){if(c>=u.length)throw new Error("k out of bounds");for(var f=0;f<u.length;f++)if(t(u[f])&&n(u[f]))return u[f];for(var m=0,p=u.length-1;m<p;){for(var h=m,v=p,y=u[Math.floor(Math.random()*(p-m+1))+m];h<v;)if(d(u[h],y)>=0){var S=u[v];u[v]=u[h],u[h]=S,--v}else++h;d(u[h],y)>0&&--h,c<=h?p=h:m=h+1}return u[c]}});var XI="sort",Hce=["typed","matrix","compare","compareNatural"],D4=A(XI,Hce,r=>{var{typed:e,matrix:t,compare:n,compareNatural:i}=r,a=n,o=(c,d)=>-n(c,d);return e(XI,{Array:function(d){return l(d),d.sort(a)},Matrix:function(d){return u(d),t(d.toArray().sort(a),d.storage())},"Array, function":function(d,f){return l(d),d.sort(f)},"Matrix, function":function(d,f){return u(d),t(d.toArray().sort(f),d.storage())},"Array, string":function(d,f){return l(d),d.sort(s(f))},"Matrix, string":function(d,f){return u(d),t(d.toArray().sort(s(f)),d.storage())}});function s(c){if(c==="asc")return a;if(c==="desc")return o;if(c==="natural")return i;throw new Error('String "asc", "desc", or "natural" expected')}function l(c){if(ut(c).length!==1)throw new Error("One dimensional array expected")}function u(c){if(c.size().length!==1)throw new Error("One dimensional matrix expected")}});var KI="max",Wce=["typed","config","numeric","larger","isNaN"],am=A(KI,Wce,r=>{var{typed:e,config:t,numeric:n,larger:i,isNaN:a}=r;return e(KI,{"Array | Matrix":s,"Array | Matrix, number | BigNumber":function(u,c){return ol(u,c.valueOf(),o)},"...":function(u){if(ya(u))throw new TypeError("Scalar values expected in function max");return s(u)}});function o(l,u){try{return i(l,u)?l:u}catch(c){throw Zr(c,"max",u)}}function s(l){var u;if(fi(l,function(c){try{(a(c)||u===void 0||i(c,u))&&(u=c)}catch(d){throw Zr(d,"max",c)}}),u===void 0)throw new Error("Cannot calculate max of an empty array");return typeof u=="string"&&(u=n(u,Jn(u,t))),u}});var JI="min",Gce=["typed","config","numeric","smaller","isNaN"],om=A(JI,Gce,r=>{var{typed:e,config:t,numeric:n,smaller:i,isNaN:a}=r;return e(JI,{"Array | Matrix":s,"Array | Matrix, number | BigNumber":function(u,c){return ol(u,c.valueOf(),o)},"...":function(u){if(ya(u))throw new TypeError("Scalar values expected in function min");return s(u)}});function o(l,u){try{return i(l,u)?l:u}catch(c){throw Zr(c,"min",u)}}function s(l){var u;if(fi(l,function(c){try{(a(c)||u===void 0||i(c,u))&&(u=c)}catch(d){throw Zr(d,"min",c)}}),u===void 0)throw new Error("Cannot calculate min of an empty array");return typeof u=="string"&&(u=n(u,Jn(u,t))),u}});var Yce="ImmutableDenseMatrix",Zce=["smaller","DenseMatrix"],C4=A(Yce,Zce,r=>{var{smaller:e,DenseMatrix:t}=r;function n(i,a){if(!(this instanceof n))throw new SyntaxError("Constructor must be called with the new operator");if(a&&!Wr(a))throw new Error("Invalid datatype: "+a);if(Je(i)||Yt(i)){var o=new t(i,a);this._data=o._data,this._size=o._size,this._datatype=o._datatype,this._min=null,this._max=null}else if(i&&Yt(i.data)&&Yt(i.size))this._data=i.data,this._size=i.size,this._datatype=i.datatype,this._min=typeof i.min<"u"?i.min:null,this._max=typeof i.max<"u"?i.max:null;else{if(i)throw new TypeError("Unsupported type of data ("+zt(i)+")");this._data=[],this._size=[0],this._datatype=a,this._min=null,this._max=null}}return n.prototype=new t,n.prototype.type="ImmutableDenseMatrix",n.prototype.isImmutableDenseMatrix=!0,n.prototype.subset=function(i){switch(arguments.length){case 1:{var a=t.prototype.subset.call(this,i);return Je(a)?new n({data:a._data,size:a._size,datatype:a._datatype}):a}case 2:case 3:throw new Error("Cannot invoke set subset on an Immutable Matrix instance");default:throw new SyntaxError("Wrong number of arguments")}},n.prototype.set=function(){throw new Error("Cannot invoke set on an Immutable Matrix instance")},n.prototype.resize=function(){throw new Error("Cannot invoke resize on an Immutable Matrix instance")},n.prototype.reshape=function(){throw new Error("Cannot invoke reshape on an Immutable Matrix instance")},n.prototype.clone=function(){return new n({data:dt(this._data),size:dt(this._size),datatype:this._datatype})},n.prototype.toJSON=function(){return{mathjs:"ImmutableDenseMatrix",data:this._data,size:this._size,datatype:this._datatype}},n.fromJSON=function(i){return new n(i)},n.prototype.swapRows=function(){throw new Error("Cannot invoke swapRows on an Immutable Matrix instance")},n.prototype.min=function(){if(this._min===null){var i=null;this.forEach(function(a){(i===null||e(a,i))&&(i=a)}),this._min=i!==null?i:void 0}return this._min},n.prototype.max=function(){if(this._max===null){var i=null;this.forEach(function(a){(i===null||e(i,a))&&(i=a)}),this._max=i!==null?i:void 0}return this._max},n},{isClass:!0});var Xce="Index",Kce=["ImmutableDenseMatrix","getMatrixDataType"],E4=A(Xce,Kce,r=>{var{ImmutableDenseMatrix:e,getMatrixDataType:t}=r;function n(a){if(!(this instanceof n))throw new SyntaxError("Constructor must be called with the new operator");this._dimensions=[],this._sourceSize=[],this._isScalar=!0;for(var o=0,s=arguments.length;o<s;o++){var l=arguments[o],u=Yt(l),c=Je(l),d=typeof l,f=null;if(Lc(l))this._dimensions.push(l),this._isScalar=!1;else if(u||c){var m=void 0;t(l)==="boolean"?(u&&(m=i(QI(l).valueOf())),c&&(m=i(QI(l._data).valueOf())),f=l.valueOf().length):m=i(l.valueOf()),this._dimensions.push(m);var p=m.size();(p.length!==1||p[0]!==1||f!==null)&&(this._isScalar=!1)}else if(d==="number")this._dimensions.push(i([l]));else if(d==="bigint")this._dimensions.push(i([Number(l)]));else if(d==="string")this._dimensions.push(l);else throw new TypeError("Dimension must be an Array, Matrix, number, bigint, string, or Range");this._sourceSize.push(f)}}n.prototype.type="Index",n.prototype.isIndex=!0;function i(a){for(var o=0,s=a.length;o<s;o++)if(typeof a[o]!="number"||!Ye(a[o]))throw new TypeError("Index parameters must be positive integer numbers");return new e(a)}return n.prototype.clone=function(){var a=new n;return a._dimensions=dt(this._dimensions),a._isScalar=this._isScalar,a._sourceSize=this._sourceSize,a},n.create=function(a){var o=new n;return n.apply(o,a),o},n.prototype.size=function(){for(var a=[],o=0,s=this._dimensions.length;o<s;o++){var l=this._dimensions[o];a[o]=typeof l=="string"?1:l.size()[0]}return a},n.prototype.max=function(){for(var a=[],o=0,s=this._dimensions.length;o<s;o++){var l=this._dimensions[o];a[o]=typeof l=="string"?l:l.max()}return a},n.prototype.min=function(){for(var a=[],o=0,s=this._dimensions.length;o<s;o++){var l=this._dimensions[o];a[o]=typeof l=="string"?l:l.min()}return a},n.prototype.forEach=function(a){for(var o=0,s=this._dimensions.length;o<s;o++)a(this._dimensions[o],o,this)},n.prototype.dimension=function(a){return typeof a!="number"?null:this._dimensions[a]||null},n.prototype.isObjectProperty=function(){return this._dimensions.length===1&&typeof this._dimensions[0]=="string"},n.prototype.getObjectProperty=function(){return this.isObjectProperty()?this._dimensions[0]:null},n.prototype.isScalar=function(){return this._isScalar},n.prototype.toArray=function(){for(var a=[],o=0,s=this._dimensions.length;o<s;o++){var l=this._dimensions[o];a.push(typeof l=="string"?l:l.toArray())}return a},n.prototype.valueOf=n.prototype.toArray,n.prototype.toString=function(){for(var a=[],o=0,s=this._dimensions.length;o<s;o++){var l=this._dimensions[o];typeof l=="string"?a.push(JSON.stringify(l)):a.push(l.toString())}return"["+a.join(", ")+"]"},n.prototype.toJSON=function(){return{mathjs:"Index",dimensions:this._dimensions}},n.fromJSON=function(a){return n.create(a.dimensions)},n},{isClass:!0});function QI(r){var e=[];return r.forEach((t,n)=>{t&&e.push(n)}),e}var Jce="FibonacciHeap",Qce=["smaller","larger"],A4=A(Jce,Qce,r=>{var{smaller:e,larger:t}=r,n=1/Math.log((1+Math.sqrt(5))/2);function i(){if(!(this instanceof i))throw new SyntaxError("Constructor must be called with the new operator");this._minimum=null,this._size=0}i.prototype.type="FibonacciHeap",i.prototype.isFibonacciHeap=!0,i.prototype.insert=function(c,d){var f={key:c,value:d,degree:0};if(this._minimum){var m=this._minimum;f.left=m,f.right=m.right,m.right=f,f.right.left=f,e(c,m.key)&&(this._minimum=f)}else f.left=f,f.right=f,this._minimum=f;return this._size++,f},i.prototype.size=function(){return this._size},i.prototype.clear=function(){this._minimum=null,this._size=0},i.prototype.isEmpty=function(){return this._size===0},i.prototype.extractMinimum=function(){var c=this._minimum;if(c===null)return c;for(var d=this._minimum,f=c.degree,m=c.child;f>0;){var p=m.right;m.left.right=m.right,m.right.left=m.left,m.left=d,m.right=d.right,d.right=m,m.right.left=m,m.parent=null,m=p,f--}return c.left.right=c.right,c.right.left=c.left,c===c.right?d=null:(d=c.right,d=u(d,this._size)),this._size--,this._minimum=d,c},i.prototype.remove=function(c){this._minimum=a(this._minimum,c,-1),this.extractMinimum()};function a(c,d,f){d.key=f;var m=d.parent;return m&&e(d.key,m.key)&&(o(c,d,m),s(c,m)),e(d.key,c.key)&&(c=d),c}function o(c,d,f){d.left.right=d.right,d.right.left=d.left,f.degree--,f.child===d&&(f.child=d.right),f.degree===0&&(f.child=null),d.left=c,d.right=c.right,c.right=d,d.right.left=d,d.parent=null,d.mark=!1}function s(c,d){var f=d.parent;f&&(d.mark?(o(c,d,f),s(f)):d.mark=!0)}var l=function(d,f){d.left.right=d.right,d.right.left=d.left,d.parent=f,f.child?(d.left=f.child,d.right=f.child.right,f.child.right=d,d.right.left=d):(f.child=d,d.right=d,d.left=d),f.degree++,d.mark=!1};function u(c,d){var f=Math.floor(Math.log(d)*n)+1,m=new Array(f),p=0,h=c;if(h)for(p++,h=h.right;h!==c;)p++,h=h.right;for(var v;p>0;){for(var y=h.degree,S=h.right;v=m[y],!!v;){if(t(h.key,v.key)){var x=v;v=h,h=x}l(v,h),m[y]=null,y++}m[y]=h,h=S,p--}c=null;for(var _=0;_<f;_++)v=m[_],v&&(c?(v.left.right=v.right,v.right.left=v.left,v.left=c,v.right=c.right,c.right=v,v.right.left=v,e(v.key,c.key)&&(c=v)):c=v);return c}return i},{isClass:!0});var ede="Spa",tde=["addScalar","equalScalar","FibonacciHeap"],M4=A(ede,tde,r=>{var{addScalar:e,equalScalar:t,FibonacciHeap:n}=r;function i(){if(!(this instanceof i))throw new SyntaxError("Constructor must be called with the new operator");this._values=[],this._heap=new n}return i.prototype.type="Spa",i.prototype.isSpa=!0,i.prototype.set=function(a,o){if(this._values[a])this._values[a].value=o;else{var s=this._heap.insert(a,o);this._values[a]=s}},i.prototype.get=function(a){var o=this._values[a];return o?o.value:0},i.prototype.accumulate=function(a,o){var s=this._values[a];s?s.value=e(s.value,o):(s=this._heap.insert(a,o),this._values[a]=s)},i.prototype.forEach=function(a,o,s){var l=this._heap,u=this._values,c=[],d=l.extractMinimum();for(d&&c.push(d);d&&d.key<=o;)d.key>=a&&(t(d.value,0)||s(d.key,d.value,this)),d=l.extractMinimum(),d&&c.push(d);for(var f=0;f<c.length;f++){var m=c[f];d=l.insert(m.key,m.value),u[d.key]=d}},i.prototype.swap=function(a,o){var s=this._values[a],l=this._values[o];if(!s&&l)s=this._heap.insert(a,l.value),this._heap.remove(l),this._values[a]=s,this._values[o]=void 0;else if(s&&!l)l=this._heap.insert(o,s.value),this._heap.remove(s),this._values[o]=l,this._values[a]=void 0;else if(s&&l){var u=s.value;s.value=l.value,l.value=u}},i},{isClass:!0});In();function eO(r){var e=0,t=1,n=Object.create(null),i=Object.create(null),a=0,o=function(l){var u=i[l];if(u&&(delete n[u],delete i[l],--e,t===u)){if(!e){a=0,t=1;return}for(;!Object.prototype.hasOwnProperty.call(n,++t););}};return r=Math.abs(r),{hit:function(l){var u=i[l],c=++a;if(n[c]=l,i[l]=c,!u)return++e,e<=r?void 0:(l=n[t],o(l),l);if(delete n[u],t===u)for(;!Object.prototype.hasOwnProperty.call(n,++t););},delete:o,clear:function(){e=a=0,t=1,n=Object.create(null),i=Object.create(null)}}}function pu(r){var{hasher:e,limit:t}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return t=t==null?Number.POSITIVE_INFINITY:t,e=e==null?JSON.stringify:e,function n(){typeof n.cache!="object"&&(n.cache={values:new Map,lru:eO(t||Number.POSITIVE_INFINITY)});for(var i=[],a=0;a<arguments.length;a++)i[a]=arguments[a];var o=e(i);if(n.cache.values.has(o))return n.cache.lru.hit(o),n.cache.values.get(o);var s=r.apply(r,i);return n.cache.values.set(o,s),n.cache.values.delete(n.cache.lru.hit(o)),s}}var tO=pu(function(r){return new r(1).exp()},{hasher:Yg}),rO=pu(function(r){return new r(1).plus(new r(5).sqrt()).div(2)},{hasher:Yg}),sm=pu(function(r){return r.acos(-1)},{hasher:Yg}),nO=pu(function(r){return sm(r).times(2)},{hasher:Yg});function Yg(r){return r[0].precision}function iO(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(r,i).enumerable})),t.push.apply(t,n)}return t}function N4(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?iO(Object(t),!0).forEach(function(n){Jt(r,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):iO(Object(t)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(t,n))})}return r}var rde="Unit",nde=["?on","config","addScalar","subtractScalar","multiplyScalar","divideScalar","pow","abs","fix","round","equal","isNumeric","format","number","Complex","BigNumber","Fraction"],T4=A(rde,nde,r=>{var{on:e,config:t,addScalar:n,subtractScalar:i,multiplyScalar:a,divideScalar:o,pow:s,abs:l,fix:u,round:c,equal:d,isNumeric:f,format:m,number:p,Complex:h,BigNumber:v,Fraction:y}=r,S=p;function x(H,K){if(!(this instanceof x))throw new Error("Constructor must be called with the new operator");if(!(H==null||f(H)||ci(H)))throw new TypeError("First parameter in Unit constructor must be number, BigNumber, Fraction, Complex, or undefined");if(this.fixPrefix=!1,this.skipAutomaticSimplification=!0,K===void 0)this.units=[],this.dimensions=Y.map(pe=>0);else if(typeof K=="string"){var fe=x.parse(K);this.units=fe.units,this.dimensions=fe.dimensions}else if(qn(K)&&K.value===null)this.fixPrefix=K.fixPrefix,this.skipAutomaticSimplification=K.skipAutomaticSimplification,this.dimensions=K.dimensions.slice(0),this.units=K.units.map(pe=>kr({},pe));else throw new TypeError("Second parameter in Unit constructor must be a string or valueless Unit");this.value=this._normalize(H)}Object.defineProperty(x,"name",{value:"Unit"}),x.prototype.constructor=x,x.prototype.type="Unit",x.prototype.isUnit=!0;var _,w,b;function C(){for(;b===" "||b==="	";)M()}function E(H){return H>="0"&&H<="9"||H==="."}function D(H){return H>="0"&&H<="9"}function M(){w++,b=_.charAt(w)}function T(H){w=H,b=_.charAt(w)}function I(){var H="",K=w;if(b==="+"?M():b==="-"&&(H+=b,M()),!E(b))return T(K),null;if(b==="."){if(H+=b,M(),!D(b))return T(K),null}else{for(;D(b);)H+=b,M();b==="."&&(H+=b,M())}for(;D(b);)H+=b,M();if(b==="E"||b==="e"){var fe="",pe=w;if(fe+=b,M(),(b==="+"||b==="-")&&(fe+=b,M()),!D(b))return T(pe),H;for(H=H+fe;D(b);)H+=b,M()}return H}function B(){for(var H="";D(b)||x.isValidAlpha(b);)H+=b,M();var K=H.charAt(0);return x.isValidAlpha(K)?H:null}function V(H){return b===H?(M(),H):null}x.parse=function(H,K){if(K=K||{},_=H,w=-1,b="",typeof _!="string")throw new TypeError("Invalid argument in Unit.parse, string expected");var fe=new x;fe.units=[];var pe=1,Ce=!1;M(),C();var ke=I(),Ze=null;if(ke){if(t.number==="BigNumber")Ze=new v(ke);else if(t.number==="Fraction")try{Ze=new y(ke)}catch{Ze=parseFloat(ke)}else Ze=parseFloat(ke);C(),V("*")?(pe=1,Ce=!0):V("/")&&(pe=-1,Ce=!0)}for(var rt=[],Tt=1;;){for(C();b==="(";)rt.push(pe),Tt*=pe,pe=1,M(),C();var vt=void 0;if(b){var lr=b;if(vt=B(),vt===null)throw new SyntaxError('Unexpected "'+lr+'" in "'+_+'" at index '+w.toString())}else break;var ir=L(vt);if(ir===null)throw new SyntaxError('Unit "'+vt+'" not found.');var Br=pe*Tt;if(C(),V("^")){C();var cn=I();if(cn===null)throw new SyntaxError('In "'+H+'", "^" must be followed by a floating-point number');Br*=cn}fe.units.push({unit:ir.unit,prefix:ir.prefix,power:Br});for(var ee=0;ee<Y.length;ee++)fe.dimensions[ee]+=(ir.unit.dimensions[ee]||0)*Br;for(C();b===")";){if(rt.length===0)throw new SyntaxError('Unmatched ")" in "'+_+'" at index '+w.toString());Tt/=rt.pop(),M(),C()}if(Ce=!1,V("*")?(pe=1,Ce=!0):V("/")?(pe=-1,Ce=!0):pe=1,ir.unit.base){var me=ir.unit.base.key;le.auto[me]={unit:ir.unit,prefix:ir.prefix}}}if(C(),b)throw new SyntaxError('Could not parse: "'+H+'"');if(Ce)throw new SyntaxError('Trailing characters: "'+H+'"');if(rt.length!==0)throw new SyntaxError('Unmatched "(" in "'+_+'"');if(fe.units.length===0&&!K.allowNoUnits)throw new SyntaxError('"'+H+'" contains no units');return fe.value=Ze!==void 0?fe._normalize(Ze):null,fe},x.prototype.clone=function(){var H=new x;H.fixPrefix=this.fixPrefix,H.skipAutomaticSimplification=this.skipAutomaticSimplification,H.value=dt(this.value),H.dimensions=this.dimensions.slice(0),H.units=[];for(var K=0;K<this.units.length;K++){H.units[K]={};for(var fe in this.units[K])nt(this.units[K],fe)&&(H.units[K][fe]=this.units[K][fe])}return H},x.prototype.valueType=function(){return zt(this.value)},x.prototype._isDerived=function(){return this.units.length===0?!1:this.units.length>1||Math.abs(this.units[0].power-1)>1e-15},x.prototype._normalize=function(H){if(H==null||this.units.length===0)return H;for(var K=H,fe=x._getNumberConverter(zt(H)),pe=0;pe<this.units.length;pe++){var Ce=fe(this.units[pe].unit.value),ke=fe(this.units[pe].prefix.value),Ze=fe(this.units[pe].power);K=a(K,s(a(Ce,ke),Ze))}return K},x.prototype._denormalize=function(H,K){if(H==null||this.units.length===0)return H;for(var fe=H,pe=x._getNumberConverter(zt(H)),Ce=0;Ce<this.units.length;Ce++){var ke=pe(this.units[Ce].unit.value),Ze=pe(this.units[Ce].prefix.value),rt=pe(this.units[Ce].power);fe=o(fe,s(a(ke,Ze),rt))}return fe};var L=pu(H=>{if(nt(W,H)){var K=W[H],fe=K.prefixes[""];return{unit:K,prefix:fe}}for(var pe in W)if(nt(W,pe)&&ET(H,pe)){var Ce=W[pe],ke=H.length-pe.length,Ze=H.substring(0,ke),rt=nt(Ce.prefixes,Ze)?Ce.prefixes[Ze]:void 0;if(rt!==void 0)return{unit:Ce,prefix:rt}}return null},{hasher:H=>H[0],limit:100});x.isValuelessUnit=function(H){return L(H)!==null},x.prototype.hasBase=function(H){if(typeof H=="string"&&(H=P[H]),!H)return!1;for(var K=0;K<Y.length;K++)if(Math.abs((this.dimensions[K]||0)-(H.dimensions[K]||0))>1e-12)return!1;return!0},x.prototype.equalBase=function(H){for(var K=0;K<Y.length;K++)if(Math.abs((this.dimensions[K]||0)-(H.dimensions[K]||0))>1e-12)return!1;return!0},x.prototype.equals=function(H){return this.equalBase(H)&&d(this.value,H.value)},x.prototype.multiply=function(H){for(var K=this.clone(),fe=qn(H)?H:new x(H),pe=0;pe<Y.length;pe++)K.dimensions[pe]=(this.dimensions[pe]||0)+(fe.dimensions[pe]||0);for(var Ce=0;Ce<fe.units.length;Ce++){var ke=N4({},fe.units[Ce]);K.units.push(ke)}if(this.value!==null||fe.value!==null){var Ze=this.value===null?this._normalize(1):this.value,rt=fe.value===null?fe._normalize(1):fe.value;K.value=a(Ze,rt)}else K.value=null;return qn(H)&&(K.skipAutomaticSimplification=!1),k(K)},x.prototype.divideInto=function(H){return new x(H).divide(this)},x.prototype.divide=function(H){for(var K=this.clone(),fe=qn(H)?H:new x(H),pe=0;pe<Y.length;pe++)K.dimensions[pe]=(this.dimensions[pe]||0)-(fe.dimensions[pe]||0);for(var Ce=0;Ce<fe.units.length;Ce++){var ke=N4(N4({},fe.units[Ce]),{},{power:-fe.units[Ce].power});K.units.push(ke)}if(this.value!==null||fe.value!==null){var Ze=this.value===null?this._normalize(1):this.value,rt=fe.value===null?fe._normalize(1):fe.value;K.value=o(Ze,rt)}else K.value=null;return qn(H)&&(K.skipAutomaticSimplification=!1),k(K)},x.prototype.pow=function(H){for(var K=this.clone(),fe=0;fe<Y.length;fe++)K.dimensions[fe]=(this.dimensions[fe]||0)*H;for(var pe=0;pe<K.units.length;pe++)K.units[pe].power*=H;return K.value!==null?K.value=s(K.value,H):K.value=null,K.skipAutomaticSimplification=!1,k(K)};function k(H){return H.equalBase(P.NONE)&&H.value!==null&&!t.predictable?H.value:H}x.prototype.abs=function(){var H=this.clone();if(H.value!==null)if(H._isDerived()||H.units.length===0||H.units[0].unit.offset===0)H.value=l(H.value);else{var K=H._numberConverter(),fe=K(H.units[0].unit.value),pe=K(H.units[0].unit.offset),Ce=a(fe,pe);H.value=i(l(n(H.value,Ce)),Ce)}for(var ke in H.units)(H.units[ke].unit.name==="VA"||H.units[ke].unit.name==="VAR")&&(H.units[ke].unit=W.W);return H},x.prototype.to=function(H){var K=this.value===null?this._normalize(1):this.value,fe;if(typeof H=="string")fe=x.parse(H);else if(qn(H))fe=H.clone();else throw new Error("String or Unit expected as parameter");if(!this.equalBase(fe))throw new Error("Units do not match ('".concat(fe.toString(),"' != '").concat(this.toString(),"')"));if(fe.value!==null)throw new Error("Cannot convert to a unit with a value");if(this.value===null||this._isDerived()||this.units.length===0||fe.units.length===0||this.units[0].unit.offset===fe.units[0].unit.offset)fe.value=dt(K);else{var pe=x._getNumberConverter(zt(K)),Ce=this.units[0].unit.value,ke=this.units[0].unit.offset,Ze=a(Ce,ke),rt=fe.units[0].unit.value,Tt=fe.units[0].unit.offset,vt=a(rt,Tt);fe.value=n(K,pe(i(Ze,vt)))}return fe.fixPrefix=!0,fe.skipAutomaticSimplification=!0,fe},x.prototype.toNumber=function(H){return S(this.toNumeric(H))},x.prototype.toNumeric=function(H){var K;return H?K=this.to(H):K=this.clone(),K._isDerived()||K.units.length===0?K._denormalize(K.value):K._denormalize(K.value,K.units[0].prefix.value)},x.prototype.toString=function(){return this.format()},x.prototype.toJSON=function(){return{mathjs:"Unit",value:this._denormalize(this.value),unit:this.units.length>0?this.formatUnits():null,fixPrefix:this.fixPrefix}},x.fromJSON=function(H){var K,fe=new x(H.value,(K=H.unit)!==null&&K!==void 0?K:void 0);return fe.fixPrefix=H.fixPrefix||!1,fe},x.prototype.valueOf=x.prototype.toString,x.prototype.simplify=function(){var H=this.clone(),K=[],fe;for(var pe in ge)if(nt(ge,pe)&&H.hasBase(P[pe])){fe=pe;break}if(fe==="NONE")H.units=[];else{var Ce;if(fe&&nt(ge,fe)&&(Ce=ge[fe]),Ce)H.units=[{unit:Ce.unit,prefix:Ce.prefix,power:1}];else{for(var ke=!1,Ze=0;Ze<Y.length;Ze++){var rt=Y[Ze];Math.abs(H.dimensions[Ze]||0)>1e-12&&(nt(ge,rt)?K.push({unit:ge[rt].unit,prefix:ge[rt].prefix,power:H.dimensions[Ze]||0}):ke=!0)}K.length<H.units.length&&!ke&&(H.units=K)}}return H},x.prototype.toSI=function(){for(var H=this.clone(),K=[],fe=0;fe<Y.length;fe++){var pe=Y[fe];if(Math.abs(H.dimensions[fe]||0)>1e-12)if(nt(le.si,pe))K.push({unit:le.si[pe].unit,prefix:le.si[pe].prefix,power:H.dimensions[fe]||0});else throw new Error("Cannot express custom unit "+pe+" in SI units")}return H.units=K,H.fixPrefix=!0,H.skipAutomaticSimplification=!0,this.value!==null?(H.value=null,this.to(H)):H},x.prototype.formatUnits=function(){for(var H="",K="",fe=0,pe=0,Ce=0;Ce<this.units.length;Ce++)this.units[Ce].power>0?(fe++,H+=" "+this.units[Ce].prefix.name+this.units[Ce].unit.name,Math.abs(this.units[Ce].power-1)>1e-15&&(H+="^"+this.units[Ce].power)):this.units[Ce].power<0&&pe++;if(pe>0)for(var ke=0;ke<this.units.length;ke++)this.units[ke].power<0&&(fe>0?(K+=" "+this.units[ke].prefix.name+this.units[ke].unit.name,Math.abs(this.units[ke].power+1)>1e-15&&(K+="^"+-this.units[ke].power)):(K+=" "+this.units[ke].prefix.name+this.units[ke].unit.name,K+="^"+this.units[ke].power));H=H.substr(1),K=K.substr(1),fe>1&&pe>0&&(H="("+H+")"),pe>1&&fe>0&&(K="("+K+")");var Ze=H;return fe>0&&pe>0&&(Ze+=" / "),Ze+=K,Ze},x.prototype.format=function(H){var K=this.skipAutomaticSimplification||this.value===null?this.clone():this.simplify(),fe=!1;typeof K.value<"u"&&K.value!==null&&ci(K.value)&&(fe=Math.abs(K.value.re)<1e-14);for(var pe in K.units)nt(K.units,pe)&&K.units[pe].unit&&(K.units[pe].unit.name==="VA"&&fe?K.units[pe].unit=W.VAR:K.units[pe].unit.name==="VAR"&&!fe&&(K.units[pe].unit=W.VA));K.units.length===1&&!K.fixPrefix&&Math.abs(K.units[0].power-Math.round(K.units[0].power))<1e-14&&(K.units[0].prefix=K._bestPrefix());var Ce=K._denormalize(K.value),ke=K.value!==null?m(Ce,H||{}):"",Ze=K.formatUnits();return K.value&&ci(K.value)&&(ke="("+ke+")"),Ze.length>0&&ke.length>0&&(ke+=" "),ke+=Ze,ke},x.prototype._bestPrefix=function(){if(this.units.length!==1)throw new Error("Can only compute the best prefix for single units with integer powers, like kg, s^2, N^-1, and so forth!");if(Math.abs(this.units[0].power-Math.round(this.units[0].power))>=1e-14)throw new Error("Can only compute the best prefix for single units with integer powers, like kg, s^2, N^-1, and so forth!");var H=this.value!==null?l(this.value):0,K=l(this.units[0].unit.value),fe=this.units[0].prefix;if(H===0)return fe;var pe=this.units[0].power,Ce=Math.log(H/Math.pow(fe.value*K,pe))/Math.LN10-1.2;if(Ce>-2.200001&&Ce<1.800001)return fe;Ce=Math.abs(Ce);var ke=this.units[0].unit.prefixes;for(var Ze in ke)if(nt(ke,Ze)){var rt=ke[Ze];if(rt.scientific){var Tt=Math.abs(Math.log(H/Math.pow(rt.value*K,pe))/Math.LN10-1.2);(Tt<Ce||Tt===Ce&&rt.name.length<fe.name.length)&&(fe=rt,Ce=Tt)}}return fe},x.prototype.splitUnit=function(H){for(var K=this.clone(),fe=[],pe=0;pe<H.length&&(K=K.to(H[pe]),pe!==H.length-1);pe++){var Ce=K.toNumeric(),ke=c(Ce),Ze=void 0,rt=d(ke,Ce);rt?Ze=ke:Ze=u(K.toNumeric());var Tt=new x(Ze,H[pe].toString());fe.push(Tt),K=i(K,Tt)}for(var vt=0,lr=0;lr<fe.length;lr++)vt=n(vt,fe[lr].value);return d(vt,this.value)&&(K.value=0),fe.push(K),fe};var O={NONE:{"":{name:"",value:1,scientific:!0}},SHORT:{"":{name:"",value:1,scientific:!0},da:{name:"da",value:10,scientific:!1},h:{name:"h",value:100,scientific:!1},k:{name:"k",value:1e3,scientific:!0},M:{name:"M",value:1e6,scientific:!0},G:{name:"G",value:1e9,scientific:!0},T:{name:"T",value:1e12,scientific:!0},P:{name:"P",value:1e15,scientific:!0},E:{name:"E",value:1e18,scientific:!0},Z:{name:"Z",value:1e21,scientific:!0},Y:{name:"Y",value:1e24,scientific:!0},R:{name:"R",value:1e27,scientific:!0},Q:{name:"Q",value:1e30,scientific:!0},d:{name:"d",value:.1,scientific:!1},c:{name:"c",value:.01,scientific:!1},m:{name:"m",value:.001,scientific:!0},u:{name:"u",value:1e-6,scientific:!0},n:{name:"n",value:1e-9,scientific:!0},p:{name:"p",value:1e-12,scientific:!0},f:{name:"f",value:1e-15,scientific:!0},a:{name:"a",value:1e-18,scientific:!0},z:{name:"z",value:1e-21,scientific:!0},y:{name:"y",value:1e-24,scientific:!0},r:{name:"r",value:1e-27,scientific:!0},q:{name:"q",value:1e-30,scientific:!0}},LONG:{"":{name:"",value:1,scientific:!0},deca:{name:"deca",value:10,scientific:!1},hecto:{name:"hecto",value:100,scientific:!1},kilo:{name:"kilo",value:1e3,scientific:!0},mega:{name:"mega",value:1e6,scientific:!0},giga:{name:"giga",value:1e9,scientific:!0},tera:{name:"tera",value:1e12,scientific:!0},peta:{name:"peta",value:1e15,scientific:!0},exa:{name:"exa",value:1e18,scientific:!0},zetta:{name:"zetta",value:1e21,scientific:!0},yotta:{name:"yotta",value:1e24,scientific:!0},ronna:{name:"ronna",value:1e27,scientific:!0},quetta:{name:"quetta",value:1e30,scientific:!0},deci:{name:"deci",value:.1,scientific:!1},centi:{name:"centi",value:.01,scientific:!1},milli:{name:"milli",value:.001,scientific:!0},micro:{name:"micro",value:1e-6,scientific:!0},nano:{name:"nano",value:1e-9,scientific:!0},pico:{name:"pico",value:1e-12,scientific:!0},femto:{name:"femto",value:1e-15,scientific:!0},atto:{name:"atto",value:1e-18,scientific:!0},zepto:{name:"zepto",value:1e-21,scientific:!0},yocto:{name:"yocto",value:1e-24,scientific:!0},ronto:{name:"ronto",value:1e-27,scientific:!0},quecto:{name:"quecto",value:1e-30,scientific:!0}},SQUARED:{"":{name:"",value:1,scientific:!0},da:{name:"da",value:100,scientific:!1},h:{name:"h",value:1e4,scientific:!1},k:{name:"k",value:1e6,scientific:!0},M:{name:"M",value:1e12,scientific:!0},G:{name:"G",value:1e18,scientific:!0},T:{name:"T",value:1e24,scientific:!0},P:{name:"P",value:1e30,scientific:!0},E:{name:"E",value:1e36,scientific:!0},Z:{name:"Z",value:1e42,scientific:!0},Y:{name:"Y",value:1e48,scientific:!0},R:{name:"R",value:1e54,scientific:!0},Q:{name:"Q",value:1e60,scientific:!0},d:{name:"d",value:.01,scientific:!1},c:{name:"c",value:1e-4,scientific:!1},m:{name:"m",value:1e-6,scientific:!0},u:{name:"u",value:1e-12,scientific:!0},n:{name:"n",value:1e-18,scientific:!0},p:{name:"p",value:1e-24,scientific:!0},f:{name:"f",value:1e-30,scientific:!0},a:{name:"a",value:1e-36,scientific:!0},z:{name:"z",value:1e-42,scientific:!0},y:{name:"y",value:1e-48,scientific:!0},r:{name:"r",value:1e-54,scientific:!0},q:{name:"q",value:1e-60,scientific:!0}},CUBIC:{"":{name:"",value:1,scientific:!0},da:{name:"da",value:1e3,scientific:!1},h:{name:"h",value:1e6,scientific:!1},k:{name:"k",value:1e9,scientific:!0},M:{name:"M",value:1e18,scientific:!0},G:{name:"G",value:1e27,scientific:!0},T:{name:"T",value:1e36,scientific:!0},P:{name:"P",value:1e45,scientific:!0},E:{name:"E",value:1e54,scientific:!0},Z:{name:"Z",value:1e63,scientific:!0},Y:{name:"Y",value:1e72,scientific:!0},R:{name:"R",value:1e81,scientific:!0},Q:{name:"Q",value:1e90,scientific:!0},d:{name:"d",value:.001,scientific:!1},c:{name:"c",value:1e-6,scientific:!1},m:{name:"m",value:1e-9,scientific:!0},u:{name:"u",value:1e-18,scientific:!0},n:{name:"n",value:1e-27,scientific:!0},p:{name:"p",value:1e-36,scientific:!0},f:{name:"f",value:1e-45,scientific:!0},a:{name:"a",value:1e-54,scientific:!0},z:{name:"z",value:1e-63,scientific:!0},y:{name:"y",value:1e-72,scientific:!0},r:{name:"r",value:1e-81,scientific:!0},q:{name:"q",value:1e-90,scientific:!0}},BINARY_SHORT_SI:{"":{name:"",value:1,scientific:!0},k:{name:"k",value:1e3,scientific:!0},M:{name:"M",value:1e6,scientific:!0},G:{name:"G",value:1e9,scientific:!0},T:{name:"T",value:1e12,scientific:!0},P:{name:"P",value:1e15,scientific:!0},E:{name:"E",value:1e18,scientific:!0},Z:{name:"Z",value:1e21,scientific:!0},Y:{name:"Y",value:1e24,scientific:!0}},BINARY_SHORT_IEC:{"":{name:"",value:1,scientific:!0},Ki:{name:"Ki",value:1024,scientific:!0},Mi:{name:"Mi",value:Math.pow(1024,2),scientific:!0},Gi:{name:"Gi",value:Math.pow(1024,3),scientific:!0},Ti:{name:"Ti",value:Math.pow(1024,4),scientific:!0},Pi:{name:"Pi",value:Math.pow(1024,5),scientific:!0},Ei:{name:"Ei",value:Math.pow(1024,6),scientific:!0},Zi:{name:"Zi",value:Math.pow(1024,7),scientific:!0},Yi:{name:"Yi",value:Math.pow(1024,8),scientific:!0}},BINARY_LONG_SI:{"":{name:"",value:1,scientific:!0},kilo:{name:"kilo",value:1e3,scientific:!0},mega:{name:"mega",value:1e6,scientific:!0},giga:{name:"giga",value:1e9,scientific:!0},tera:{name:"tera",value:1e12,scientific:!0},peta:{name:"peta",value:1e15,scientific:!0},exa:{name:"exa",value:1e18,scientific:!0},zetta:{name:"zetta",value:1e21,scientific:!0},yotta:{name:"yotta",value:1e24,scientific:!0}},BINARY_LONG_IEC:{"":{name:"",value:1,scientific:!0},kibi:{name:"kibi",value:1024,scientific:!0},mebi:{name:"mebi",value:Math.pow(1024,2),scientific:!0},gibi:{name:"gibi",value:Math.pow(1024,3),scientific:!0},tebi:{name:"tebi",value:Math.pow(1024,4),scientific:!0},pebi:{name:"pebi",value:Math.pow(1024,5),scientific:!0},exi:{name:"exi",value:Math.pow(1024,6),scientific:!0},zebi:{name:"zebi",value:Math.pow(1024,7),scientific:!0},yobi:{name:"yobi",value:Math.pow(1024,8),scientific:!0}},BTU:{"":{name:"",value:1,scientific:!0},MM:{name:"MM",value:1e6,scientific:!0}}};O.SHORTLONG=kr({},O.SHORT,O.LONG),O.BINARY_SHORT=kr({},O.BINARY_SHORT_SI,O.BINARY_SHORT_IEC),O.BINARY_LONG=kr({},O.BINARY_LONG_SI,O.BINARY_LONG_IEC);var Y=["MASS","LENGTH","TIME","CURRENT","TEMPERATURE","LUMINOUS_INTENSITY","AMOUNT_OF_SUBSTANCE","ANGLE","BIT"],P={NONE:{dimensions:[0,0,0,0,0,0,0,0,0]},MASS:{dimensions:[1,0,0,0,0,0,0,0,0]},LENGTH:{dimensions:[0,1,0,0,0,0,0,0,0]},TIME:{dimensions:[0,0,1,0,0,0,0,0,0]},CURRENT:{dimensions:[0,0,0,1,0,0,0,0,0]},TEMPERATURE:{dimensions:[0,0,0,0,1,0,0,0,0]},LUMINOUS_INTENSITY:{dimensions:[0,0,0,0,0,1,0,0,0]},AMOUNT_OF_SUBSTANCE:{dimensions:[0,0,0,0,0,0,1,0,0]},FORCE:{dimensions:[1,1,-2,0,0,0,0,0,0]},SURFACE:{dimensions:[0,2,0,0,0,0,0,0,0]},VOLUME:{dimensions:[0,3,0,0,0,0,0,0,0]},ENERGY:{dimensions:[1,2,-2,0,0,0,0,0,0]},POWER:{dimensions:[1,2,-3,0,0,0,0,0,0]},PRESSURE:{dimensions:[1,-1,-2,0,0,0,0,0,0]},ELECTRIC_CHARGE:{dimensions:[0,0,1,1,0,0,0,0,0]},ELECTRIC_CAPACITANCE:{dimensions:[-1,-2,4,2,0,0,0,0,0]},ELECTRIC_POTENTIAL:{dimensions:[1,2,-3,-1,0,0,0,0,0]},ELECTRIC_RESISTANCE:{dimensions:[1,2,-3,-2,0,0,0,0,0]},ELECTRIC_INDUCTANCE:{dimensions:[1,2,-2,-2,0,0,0,0,0]},ELECTRIC_CONDUCTANCE:{dimensions:[-1,-2,3,2,0,0,0,0,0]},MAGNETIC_FLUX:{dimensions:[1,2,-2,-1,0,0,0,0,0]},MAGNETIC_FLUX_DENSITY:{dimensions:[1,0,-2,-1,0,0,0,0,0]},FREQUENCY:{dimensions:[0,0,-1,0,0,0,0,0,0]},ANGLE:{dimensions:[0,0,0,0,0,0,0,1,0]},BIT:{dimensions:[0,0,0,0,0,0,0,0,1]}};for(var ae in P)nt(P,ae)&&(P[ae].key=ae);var se={},te={name:"",base:se,value:1,offset:0,dimensions:Y.map(H=>0)},W={meter:{name:"meter",base:P.LENGTH,prefixes:O.LONG,value:1,offset:0},inch:{name:"inch",base:P.LENGTH,prefixes:O.NONE,value:.0254,offset:0},foot:{name:"foot",base:P.LENGTH,prefixes:O.NONE,value:.3048,offset:0},yard:{name:"yard",base:P.LENGTH,prefixes:O.NONE,value:.9144,offset:0},mile:{name:"mile",base:P.LENGTH,prefixes:O.NONE,value:1609.344,offset:0},link:{name:"link",base:P.LENGTH,prefixes:O.NONE,value:.201168,offset:0},rod:{name:"rod",base:P.LENGTH,prefixes:O.NONE,value:5.0292,offset:0},chain:{name:"chain",base:P.LENGTH,prefixes:O.NONE,value:20.1168,offset:0},angstrom:{name:"angstrom",base:P.LENGTH,prefixes:O.NONE,value:1e-10,offset:0},m:{name:"m",base:P.LENGTH,prefixes:O.SHORT,value:1,offset:0},in:{name:"in",base:P.LENGTH,prefixes:O.NONE,value:.0254,offset:0},ft:{name:"ft",base:P.LENGTH,prefixes:O.NONE,value:.3048,offset:0},yd:{name:"yd",base:P.LENGTH,prefixes:O.NONE,value:.9144,offset:0},mi:{name:"mi",base:P.LENGTH,prefixes:O.NONE,value:1609.344,offset:0},li:{name:"li",base:P.LENGTH,prefixes:O.NONE,value:.201168,offset:0},rd:{name:"rd",base:P.LENGTH,prefixes:O.NONE,value:5.02921,offset:0},ch:{name:"ch",base:P.LENGTH,prefixes:O.NONE,value:20.1168,offset:0},mil:{name:"mil",base:P.LENGTH,prefixes:O.NONE,value:254e-7,offset:0},m2:{name:"m2",base:P.SURFACE,prefixes:O.SQUARED,value:1,offset:0},sqin:{name:"sqin",base:P.SURFACE,prefixes:O.NONE,value:64516e-8,offset:0},sqft:{name:"sqft",base:P.SURFACE,prefixes:O.NONE,value:.09290304,offset:0},sqyd:{name:"sqyd",base:P.SURFACE,prefixes:O.NONE,value:.83612736,offset:0},sqmi:{name:"sqmi",base:P.SURFACE,prefixes:O.NONE,value:2589988110336e-6,offset:0},sqrd:{name:"sqrd",base:P.SURFACE,prefixes:O.NONE,value:25.29295,offset:0},sqch:{name:"sqch",base:P.SURFACE,prefixes:O.NONE,value:404.6873,offset:0},sqmil:{name:"sqmil",base:P.SURFACE,prefixes:O.NONE,value:64516e-14,offset:0},acre:{name:"acre",base:P.SURFACE,prefixes:O.NONE,value:4046.86,offset:0},hectare:{name:"hectare",base:P.SURFACE,prefixes:O.NONE,value:1e4,offset:0},m3:{name:"m3",base:P.VOLUME,prefixes:O.CUBIC,value:1,offset:0},L:{name:"L",base:P.VOLUME,prefixes:O.SHORT,value:.001,offset:0},l:{name:"l",base:P.VOLUME,prefixes:O.SHORT,value:.001,offset:0},litre:{name:"litre",base:P.VOLUME,prefixes:O.LONG,value:.001,offset:0},cuin:{name:"cuin",base:P.VOLUME,prefixes:O.NONE,value:16387064e-12,offset:0},cuft:{name:"cuft",base:P.VOLUME,prefixes:O.NONE,value:.028316846592,offset:0},cuyd:{name:"cuyd",base:P.VOLUME,prefixes:O.NONE,value:.764554857984,offset:0},teaspoon:{name:"teaspoon",base:P.VOLUME,prefixes:O.NONE,value:5e-6,offset:0},tablespoon:{name:"tablespoon",base:P.VOLUME,prefixes:O.NONE,value:15e-6,offset:0},drop:{name:"drop",base:P.VOLUME,prefixes:O.NONE,value:5e-8,offset:0},gtt:{name:"gtt",base:P.VOLUME,prefixes:O.NONE,value:5e-8,offset:0},minim:{name:"minim",base:P.VOLUME,prefixes:O.NONE,value:61611519921875e-21,offset:0},fluiddram:{name:"fluiddram",base:P.VOLUME,prefixes:O.NONE,value:36966911953125e-19,offset:0},fluidounce:{name:"fluidounce",base:P.VOLUME,prefixes:O.NONE,value:295735295625e-16,offset:0},gill:{name:"gill",base:P.VOLUME,prefixes:O.NONE,value:.00011829411825,offset:0},cc:{name:"cc",base:P.VOLUME,prefixes:O.NONE,value:1e-6,offset:0},cup:{name:"cup",base:P.VOLUME,prefixes:O.NONE,value:.0002365882365,offset:0},pint:{name:"pint",base:P.VOLUME,prefixes:O.NONE,value:.000473176473,offset:0},quart:{name:"quart",base:P.VOLUME,prefixes:O.NONE,value:.000946352946,offset:0},gallon:{name:"gallon",base:P.VOLUME,prefixes:O.NONE,value:.003785411784,offset:0},beerbarrel:{name:"beerbarrel",base:P.VOLUME,prefixes:O.NONE,value:.117347765304,offset:0},oilbarrel:{name:"oilbarrel",base:P.VOLUME,prefixes:O.NONE,value:.158987294928,offset:0},hogshead:{name:"hogshead",base:P.VOLUME,prefixes:O.NONE,value:.238480942392,offset:0},g:{name:"g",base:P.MASS,prefixes:O.SHORT,value:.001,offset:0},gram:{name:"gram",base:P.MASS,prefixes:O.LONG,value:.001,offset:0},ton:{name:"ton",base:P.MASS,prefixes:O.SHORT,value:907.18474,offset:0},t:{name:"t",base:P.MASS,prefixes:O.SHORT,value:1e3,offset:0},tonne:{name:"tonne",base:P.MASS,prefixes:O.LONG,value:1e3,offset:0},grain:{name:"grain",base:P.MASS,prefixes:O.NONE,value:6479891e-11,offset:0},dram:{name:"dram",base:P.MASS,prefixes:O.NONE,value:.0017718451953125,offset:0},ounce:{name:"ounce",base:P.MASS,prefixes:O.NONE,value:.028349523125,offset:0},poundmass:{name:"poundmass",base:P.MASS,prefixes:O.NONE,value:.45359237,offset:0},hundredweight:{name:"hundredweight",base:P.MASS,prefixes:O.NONE,value:45.359237,offset:0},stick:{name:"stick",base:P.MASS,prefixes:O.NONE,value:.115,offset:0},stone:{name:"stone",base:P.MASS,prefixes:O.NONE,value:6.35029318,offset:0},gr:{name:"gr",base:P.MASS,prefixes:O.NONE,value:6479891e-11,offset:0},dr:{name:"dr",base:P.MASS,prefixes:O.NONE,value:.0017718451953125,offset:0},oz:{name:"oz",base:P.MASS,prefixes:O.NONE,value:.028349523125,offset:0},lbm:{name:"lbm",base:P.MASS,prefixes:O.NONE,value:.45359237,offset:0},cwt:{name:"cwt",base:P.MASS,prefixes:O.NONE,value:45.359237,offset:0},s:{name:"s",base:P.TIME,prefixes:O.SHORT,value:1,offset:0},min:{name:"min",base:P.TIME,prefixes:O.NONE,value:60,offset:0},h:{name:"h",base:P.TIME,prefixes:O.NONE,value:3600,offset:0},second:{name:"second",base:P.TIME,prefixes:O.LONG,value:1,offset:0},sec:{name:"sec",base:P.TIME,prefixes:O.LONG,value:1,offset:0},minute:{name:"minute",base:P.TIME,prefixes:O.NONE,value:60,offset:0},hour:{name:"hour",base:P.TIME,prefixes:O.NONE,value:3600,offset:0},day:{name:"day",base:P.TIME,prefixes:O.NONE,value:86400,offset:0},week:{name:"week",base:P.TIME,prefixes:O.NONE,value:7*86400,offset:0},month:{name:"month",base:P.TIME,prefixes:O.NONE,value:2629800,offset:0},year:{name:"year",base:P.TIME,prefixes:O.NONE,value:31557600,offset:0},decade:{name:"decade",base:P.TIME,prefixes:O.NONE,value:315576e3,offset:0},century:{name:"century",base:P.TIME,prefixes:O.NONE,value:315576e4,offset:0},millennium:{name:"millennium",base:P.TIME,prefixes:O.NONE,value:315576e5,offset:0},hertz:{name:"Hertz",base:P.FREQUENCY,prefixes:O.LONG,value:1,offset:0,reciprocal:!0},Hz:{name:"Hz",base:P.FREQUENCY,prefixes:O.SHORT,value:1,offset:0,reciprocal:!0},rad:{name:"rad",base:P.ANGLE,prefixes:O.SHORT,value:1,offset:0},radian:{name:"radian",base:P.ANGLE,prefixes:O.LONG,value:1,offset:0},deg:{name:"deg",base:P.ANGLE,prefixes:O.SHORT,value:null,offset:0},degree:{name:"degree",base:P.ANGLE,prefixes:O.LONG,value:null,offset:0},grad:{name:"grad",base:P.ANGLE,prefixes:O.SHORT,value:null,offset:0},gradian:{name:"gradian",base:P.ANGLE,prefixes:O.LONG,value:null,offset:0},cycle:{name:"cycle",base:P.ANGLE,prefixes:O.NONE,value:null,offset:0},arcsec:{name:"arcsec",base:P.ANGLE,prefixes:O.NONE,value:null,offset:0},arcmin:{name:"arcmin",base:P.ANGLE,prefixes:O.NONE,value:null,offset:0},A:{name:"A",base:P.CURRENT,prefixes:O.SHORT,value:1,offset:0},ampere:{name:"ampere",base:P.CURRENT,prefixes:O.LONG,value:1,offset:0},K:{name:"K",base:P.TEMPERATURE,prefixes:O.SHORT,value:1,offset:0},degC:{name:"degC",base:P.TEMPERATURE,prefixes:O.SHORT,value:1,offset:273.15},degF:{name:"degF",base:P.TEMPERATURE,prefixes:O.SHORT,value:new y(5,9),offset:459.67},degR:{name:"degR",base:P.TEMPERATURE,prefixes:O.SHORT,value:new y(5,9),offset:0},kelvin:{name:"kelvin",base:P.TEMPERATURE,prefixes:O.LONG,value:1,offset:0},celsius:{name:"celsius",base:P.TEMPERATURE,prefixes:O.LONG,value:1,offset:273.15},fahrenheit:{name:"fahrenheit",base:P.TEMPERATURE,prefixes:O.LONG,value:new y(5,9),offset:459.67},rankine:{name:"rankine",base:P.TEMPERATURE,prefixes:O.LONG,value:new y(5,9),offset:0},mol:{name:"mol",base:P.AMOUNT_OF_SUBSTANCE,prefixes:O.SHORT,value:1,offset:0},mole:{name:"mole",base:P.AMOUNT_OF_SUBSTANCE,prefixes:O.LONG,value:1,offset:0},cd:{name:"cd",base:P.LUMINOUS_INTENSITY,prefixes:O.SHORT,value:1,offset:0},candela:{name:"candela",base:P.LUMINOUS_INTENSITY,prefixes:O.LONG,value:1,offset:0},N:{name:"N",base:P.FORCE,prefixes:O.SHORT,value:1,offset:0},newton:{name:"newton",base:P.FORCE,prefixes:O.LONG,value:1,offset:0},dyn:{name:"dyn",base:P.FORCE,prefixes:O.SHORT,value:1e-5,offset:0},dyne:{name:"dyne",base:P.FORCE,prefixes:O.LONG,value:1e-5,offset:0},lbf:{name:"lbf",base:P.FORCE,prefixes:O.NONE,value:4.4482216152605,offset:0},poundforce:{name:"poundforce",base:P.FORCE,prefixes:O.NONE,value:4.4482216152605,offset:0},kip:{name:"kip",base:P.FORCE,prefixes:O.LONG,value:4448.2216,offset:0},kilogramforce:{name:"kilogramforce",base:P.FORCE,prefixes:O.NONE,value:9.80665,offset:0},J:{name:"J",base:P.ENERGY,prefixes:O.SHORT,value:1,offset:0},joule:{name:"joule",base:P.ENERGY,prefixes:O.LONG,value:1,offset:0},erg:{name:"erg",base:P.ENERGY,prefixes:O.SHORTLONG,value:1e-7,offset:0},Wh:{name:"Wh",base:P.ENERGY,prefixes:O.SHORT,value:3600,offset:0},BTU:{name:"BTU",base:P.ENERGY,prefixes:O.BTU,value:1055.05585262,offset:0},eV:{name:"eV",base:P.ENERGY,prefixes:O.SHORT,value:1602176565e-28,offset:0},electronvolt:{name:"electronvolt",base:P.ENERGY,prefixes:O.LONG,value:1602176565e-28,offset:0},W:{name:"W",base:P.POWER,prefixes:O.SHORT,value:1,offset:0},watt:{name:"watt",base:P.POWER,prefixes:O.LONG,value:1,offset:0},hp:{name:"hp",base:P.POWER,prefixes:O.NONE,value:745.6998715386,offset:0},VAR:{name:"VAR",base:P.POWER,prefixes:O.SHORT,value:h.I,offset:0},VA:{name:"VA",base:P.POWER,prefixes:O.SHORT,value:1,offset:0},Pa:{name:"Pa",base:P.PRESSURE,prefixes:O.SHORT,value:1,offset:0},psi:{name:"psi",base:P.PRESSURE,prefixes:O.NONE,value:6894.75729276459,offset:0},atm:{name:"atm",base:P.PRESSURE,prefixes:O.NONE,value:101325,offset:0},bar:{name:"bar",base:P.PRESSURE,prefixes:O.SHORTLONG,value:1e5,offset:0},torr:{name:"torr",base:P.PRESSURE,prefixes:O.NONE,value:133.322,offset:0},mmHg:{name:"mmHg",base:P.PRESSURE,prefixes:O.NONE,value:133.322,offset:0},mmH2O:{name:"mmH2O",base:P.PRESSURE,prefixes:O.NONE,value:9.80665,offset:0},cmH2O:{name:"cmH2O",base:P.PRESSURE,prefixes:O.NONE,value:98.0665,offset:0},coulomb:{name:"coulomb",base:P.ELECTRIC_CHARGE,prefixes:O.LONG,value:1,offset:0},C:{name:"C",base:P.ELECTRIC_CHARGE,prefixes:O.SHORT,value:1,offset:0},farad:{name:"farad",base:P.ELECTRIC_CAPACITANCE,prefixes:O.LONG,value:1,offset:0},F:{name:"F",base:P.ELECTRIC_CAPACITANCE,prefixes:O.SHORT,value:1,offset:0},volt:{name:"volt",base:P.ELECTRIC_POTENTIAL,prefixes:O.LONG,value:1,offset:0},V:{name:"V",base:P.ELECTRIC_POTENTIAL,prefixes:O.SHORT,value:1,offset:0},ohm:{name:"ohm",base:P.ELECTRIC_RESISTANCE,prefixes:O.SHORTLONG,value:1,offset:0},henry:{name:"henry",base:P.ELECTRIC_INDUCTANCE,prefixes:O.LONG,value:1,offset:0},H:{name:"H",base:P.ELECTRIC_INDUCTANCE,prefixes:O.SHORT,value:1,offset:0},siemens:{name:"siemens",base:P.ELECTRIC_CONDUCTANCE,prefixes:O.LONG,value:1,offset:0},S:{name:"S",base:P.ELECTRIC_CONDUCTANCE,prefixes:O.SHORT,value:1,offset:0},weber:{name:"weber",base:P.MAGNETIC_FLUX,prefixes:O.LONG,value:1,offset:0},Wb:{name:"Wb",base:P.MAGNETIC_FLUX,prefixes:O.SHORT,value:1,offset:0},tesla:{name:"tesla",base:P.MAGNETIC_FLUX_DENSITY,prefixes:O.LONG,value:1,offset:0},T:{name:"T",base:P.MAGNETIC_FLUX_DENSITY,prefixes:O.SHORT,value:1,offset:0},b:{name:"b",base:P.BIT,prefixes:O.BINARY_SHORT,value:1,offset:0},bits:{name:"bits",base:P.BIT,prefixes:O.BINARY_LONG,value:1,offset:0},B:{name:"B",base:P.BIT,prefixes:O.BINARY_SHORT,value:8,offset:0},bytes:{name:"bytes",base:P.BIT,prefixes:O.BINARY_LONG,value:8,offset:0}},ue={meters:"meter",inches:"inch",feet:"foot",yards:"yard",miles:"mile",links:"link",rods:"rod",chains:"chain",angstroms:"angstrom",lt:"l",litres:"litre",liter:"litre",liters:"litre",teaspoons:"teaspoon",tablespoons:"tablespoon",minims:"minim",fldr:"fluiddram",fluiddrams:"fluiddram",floz:"fluidounce",fluidounces:"fluidounce",gi:"gill",gills:"gill",cp:"cup",cups:"cup",pt:"pint",pints:"pint",qt:"quart",quarts:"quart",gal:"gallon",gallons:"gallon",bbl:"beerbarrel",beerbarrels:"beerbarrel",obl:"oilbarrel",oilbarrels:"oilbarrel",hogsheads:"hogshead",gtts:"gtt",grams:"gram",tons:"ton",tonnes:"tonne",grains:"grain",drams:"dram",ounces:"ounce",poundmasses:"poundmass",hundredweights:"hundredweight",sticks:"stick",lb:"lbm",lbs:"lbm",kips:"kip",kgf:"kilogramforce",acres:"acre",hectares:"hectare",sqfeet:"sqft",sqyard:"sqyd",sqmile:"sqmi",sqmiles:"sqmi",mmhg:"mmHg",mmh2o:"mmH2O",cmh2o:"cmH2O",seconds:"second",secs:"second",minutes:"minute",mins:"minute",hours:"hour",hr:"hour",hrs:"hour",days:"day",weeks:"week",months:"month",years:"year",decades:"decade",centuries:"century",millennia:"millennium",hertz:"hertz",radians:"radian",degrees:"degree",gradians:"gradian",cycles:"cycle",arcsecond:"arcsec",arcseconds:"arcsec",arcminute:"arcmin",arcminutes:"arcmin",BTUs:"BTU",watts:"watt",joules:"joule",amperes:"ampere",amps:"ampere",amp:"ampere",coulombs:"coulomb",volts:"volt",ohms:"ohm",farads:"farad",webers:"weber",teslas:"tesla",electronvolts:"electronvolt",moles:"mole",bit:"bits",byte:"bytes"};function we(H){if(H.number==="BigNumber"){var K=sm(v);W.rad.value=new v(1),W.deg.value=K.div(180),W.grad.value=K.div(200),W.cycle.value=K.times(2),W.arcsec.value=K.div(648e3),W.arcmin.value=K.div(10800)}else W.rad.value=1,W.deg.value=Math.PI/180,W.grad.value=Math.PI/200,W.cycle.value=Math.PI*2,W.arcsec.value=Math.PI/648e3,W.arcmin.value=Math.PI/10800;W.radian.value=W.rad.value,W.degree.value=W.deg.value,W.gradian.value=W.grad.value}we(t),e&&e("config",function(H,K){H.number!==K.number&&we(H)});var le={si:{NONE:{unit:te,prefix:O.NONE[""]},LENGTH:{unit:W.m,prefix:O.SHORT[""]},MASS:{unit:W.g,prefix:O.SHORT.k},TIME:{unit:W.s,prefix:O.SHORT[""]},CURRENT:{unit:W.A,prefix:O.SHORT[""]},TEMPERATURE:{unit:W.K,prefix:O.SHORT[""]},LUMINOUS_INTENSITY:{unit:W.cd,prefix:O.SHORT[""]},AMOUNT_OF_SUBSTANCE:{unit:W.mol,prefix:O.SHORT[""]},ANGLE:{unit:W.rad,prefix:O.SHORT[""]},BIT:{unit:W.bits,prefix:O.SHORT[""]},FORCE:{unit:W.N,prefix:O.SHORT[""]},ENERGY:{unit:W.J,prefix:O.SHORT[""]},POWER:{unit:W.W,prefix:O.SHORT[""]},PRESSURE:{unit:W.Pa,prefix:O.SHORT[""]},ELECTRIC_CHARGE:{unit:W.C,prefix:O.SHORT[""]},ELECTRIC_CAPACITANCE:{unit:W.F,prefix:O.SHORT[""]},ELECTRIC_POTENTIAL:{unit:W.V,prefix:O.SHORT[""]},ELECTRIC_RESISTANCE:{unit:W.ohm,prefix:O.SHORT[""]},ELECTRIC_INDUCTANCE:{unit:W.H,prefix:O.SHORT[""]},ELECTRIC_CONDUCTANCE:{unit:W.S,prefix:O.SHORT[""]},MAGNETIC_FLUX:{unit:W.Wb,prefix:O.SHORT[""]},MAGNETIC_FLUX_DENSITY:{unit:W.T,prefix:O.SHORT[""]},FREQUENCY:{unit:W.Hz,prefix:O.SHORT[""]}}};le.cgs=JSON.parse(JSON.stringify(le.si)),le.cgs.LENGTH={unit:W.m,prefix:O.SHORT.c},le.cgs.MASS={unit:W.g,prefix:O.SHORT[""]},le.cgs.FORCE={unit:W.dyn,prefix:O.SHORT[""]},le.cgs.ENERGY={unit:W.erg,prefix:O.NONE[""]},le.us=JSON.parse(JSON.stringify(le.si)),le.us.LENGTH={unit:W.ft,prefix:O.NONE[""]},le.us.MASS={unit:W.lbm,prefix:O.NONE[""]},le.us.TEMPERATURE={unit:W.degF,prefix:O.NONE[""]},le.us.FORCE={unit:W.lbf,prefix:O.NONE[""]},le.us.ENERGY={unit:W.BTU,prefix:O.BTU[""]},le.us.POWER={unit:W.hp,prefix:O.NONE[""]},le.us.PRESSURE={unit:W.psi,prefix:O.NONE[""]},le.auto=JSON.parse(JSON.stringify(le.si));var ge=le.auto;x.setUnitSystem=function(H){if(nt(le,H))ge=le[H];else throw new Error("Unit system "+H+" does not exist. Choices are: "+Object.keys(le).join(", "))},x.getUnitSystem=function(){for(var H in le)if(nt(le,H)&&le[H]===ge)return H},x.typeConverters={BigNumber:function(K){return K!=null&&K.isFraction?new v(String(K.n)).div(String(K.d)).times(String(K.s)):new v(K+"")},Fraction:function(K){return new y(K)},Complex:function(K){return K},number:function(K){return K!=null&&K.isFraction?p(K):K}},x.prototype._numberConverter=function(){var H=x.typeConverters[this.valueType()];if(H)return H;throw new TypeError('Unsupported Unit value type "'+this.valueType()+'"')},x._getNumberConverter=function(H){if(!x.typeConverters[H])throw new TypeError('Unsupported type "'+H+'"');return x.typeConverters[H]};for(var J in W)if(nt(W,J)){var X=W[J];X.dimensions=X.base.dimensions}for(var ne in ue)if(nt(ue,ne)){var he=W[ue[ne]],de={};for(var _e in he)nt(he,_e)&&(de[_e]=he[_e]);de.name=ne,W[ne]=de}x.isValidAlpha=function(K){return/^[a-zA-Z]$/.test(K)};function be(H){for(var K=0;K<H.length;K++){if(b=H.charAt(K),K===0&&!x.isValidAlpha(b))throw new Error('Invalid unit name (must begin with alpha character): "'+H+'"');if(K>0&&!(x.isValidAlpha(b)||D(b)))throw new Error('Invalid unit name (only alphanumeric characters are allowed): "'+H+'"')}}return x.createUnit=function(H,K){if(typeof H!="object")throw new TypeError("createUnit expects first parameter to be of type 'Object'");if(K&&K.override){for(var fe in H)if(nt(H,fe)&&x.deleteUnit(fe),H[fe].aliases)for(var pe=0;pe<H[fe].aliases.length;pe++)x.deleteUnit(H[fe].aliases[pe])}var Ce;for(var ke in H)nt(H,ke)&&(Ce=x.createUnitSingle(ke,H[ke]));return Ce},x.createUnitSingle=function(H,K){if((typeof K>"u"||K===null)&&(K={}),typeof H!="string")throw new TypeError("createUnitSingle expects first parameter to be of type 'string'");if(nt(W,H))throw new Error('Cannot create unit "'+H+'": a unit with that name already exists');be(H);var fe=null,pe=[],Ce=0,ke,Ze,rt;if(K&&K.type==="Unit")fe=K.clone();else if(typeof K=="string")K!==""&&(ke=K);else if(typeof K=="object")ke=K.definition,Ze=K.prefixes,Ce=K.offset,rt=K.baseName,K.aliases&&(pe=K.aliases.valueOf());else throw new TypeError('Cannot create unit "'+H+'" from "'+K.toString()+'": expecting "string" or "Unit" or "Object"');if(pe){for(var Tt=0;Tt<pe.length;Tt++)if(nt(W,pe[Tt]))throw new Error('Cannot create alias "'+pe[Tt]+'": a unit with that name already exists')}if(ke&&typeof ke=="string"&&!fe)try{fe=x.parse(ke,{allowNoUnits:!0})}catch(Z){throw Z.message='Could not create unit "'+H+'" from "'+ke+'": '+Z.message,Z}else ke&&ke.type==="Unit"&&(fe=ke.clone());pe=pe||[],Ce=Ce||0,Ze&&Ze.toUpperCase?Ze=O[Ze.toUpperCase()]||O.NONE:Ze=O.NONE;var vt={};if(fe){vt={name:H,value:fe.value,dimensions:fe.dimensions.slice(0),prefixes:Ze,offset:Ce};var cn=!1;for(var ee in P)if(nt(P,ee)){for(var me=!0,ye=0;ye<Y.length;ye++)if(Math.abs((vt.dimensions[ye]||0)-(P[ee].dimensions[ye]||0))>1e-12){me=!1;break}if(me){cn=!0,vt.base=P[ee];break}}if(!cn){rt=rt||H+"_STUFF";var Oe={dimensions:fe.dimensions.slice(0)};Oe.key=rt,P[rt]=Oe,ge[rt]={unit:vt,prefix:O.NONE[""]},vt.base=P[rt]}}else{if(rt=rt||H+"_STUFF",Y.indexOf(rt)>=0)throw new Error('Cannot create new base unit "'+H+'": a base unit with that name already exists (and cannot be overridden)');Y.push(rt);for(var lr in P)nt(P,lr)&&(P[lr].dimensions[Y.length-1]=0);for(var ir={dimensions:[]},Br=0;Br<Y.length;Br++)ir.dimensions[Br]=0;ir.dimensions[Y.length-1]=1,ir.key=rt,P[rt]=ir,vt={name:H,value:1,dimensions:P[rt].dimensions.slice(0),prefixes:Ze,offset:Ce,base:P[rt]},ge[rt]={unit:vt,prefix:O.NONE[""]}}x.UNITS[H]=vt;for(var Be=0;Be<pe.length;Be++){var Ee=pe[Be],tt={};for(var F in vt)nt(vt,F)&&(tt[F]=vt[F]);tt.name=Ee,x.UNITS[Ee]=tt}return delete L.cache,new x(null,H)},x.deleteUnit=function(H){delete x.UNITS[H],delete L.cache},x.PREFIXES=O,x.BASE_DIMENSIONS=Y,x.BASE_UNITS=P,x.UNIT_SYSTEMS=le,x.UNITS=W,x},{isClass:!0});var aO="unit",ide=["typed","Unit"],F4=A(aO,ide,r=>{var{typed:e,Unit:t}=r;return e(aO,{Unit:function(i){return i.clone()},string:function(i){return t.isValuelessUnit(i)?new t(null,i):t.parse(i,{allowNoUnits:!0})},"number | BigNumber | Fraction | Complex, string | Unit":function(i,a){return new t(i,a)},"number | BigNumber | Fraction":function(i){return new t(i)},"Array | Matrix":e.referToSelf(n=>i=>et(i,n))})});var oO="sparse",ade=["typed","SparseMatrix"],I4=A(oO,ade,r=>{var{typed:e,SparseMatrix:t}=r;return e(oO,{"":function(){return new t([])},string:function(i){return new t([],i)},"Array | Matrix":function(i){return new t(i)},"Array | Matrix, string":function(i,a){return new t(i,a)}})});var sO="createUnit",ode=["typed","Unit"],O4=A(sO,ode,r=>{var{typed:e,Unit:t}=r;return e(sO,{"Object, Object":function(i,a){return t.createUnit(i,a)},Object:function(i){return t.createUnit(i,{})},"string, Unit | string | Object, Object":function(i,a,o){var s={};return s[i]=a,t.createUnit(s,o)},"string, Unit | string | Object":function(i,a){var o={};return o[i]=a,t.createUnit(o,{})},string:function(i){var a={};return a[i]={},t.createUnit(a,{})}})});var lO="acos",sde=["typed","config","Complex"],R4=A(lO,sde,r=>{var{typed:e,config:t,Complex:n}=r;return e(lO,{number:function(a){return a>=-1&&a<=1||t.predictable?Math.acos(a):new n(a,0).acos()},Complex:function(a){return a.acos()},BigNumber:function(a){return a.acos()}})});var uO="acosh",lde=["typed","config","Complex"],k4=A(uO,lde,r=>{var{typed:e,config:t,Complex:n}=r;return e(uO,{number:function(a){return a>=1||t.predictable?Y2(a):a<=-1?new n(Math.log(Math.sqrt(a*a-1)-a),Math.PI):new n(a,0).acosh()},Complex:function(a){return a.acosh()},BigNumber:function(a){return a.acosh()}})});var cO="acot",ude=["typed","BigNumber"],P4=A(cO,ude,r=>{var{typed:e,BigNumber:t}=r;return e(cO,{number:Z2,Complex:function(i){return i.acot()},BigNumber:function(i){return new t(1).div(i).atan()}})});var dO="acoth",cde=["typed","config","Complex","BigNumber"],B4=A(dO,cde,r=>{var{typed:e,config:t,Complex:n,BigNumber:i}=r;return e(dO,{number:function(o){return o>=1||o<=-1||t.predictable?X2(o):new n(o,0).acoth()},Complex:function(o){return o.acoth()},BigNumber:function(o){return new i(1).div(o).atanh()}})});var fO="acsc",dde=["typed","config","Complex","BigNumber"],L4=A(fO,dde,r=>{var{typed:e,config:t,Complex:n,BigNumber:i}=r;return e(fO,{number:function(o){return o<=-1||o>=1||t.predictable?K2(o):new n(o,0).acsc()},Complex:function(o){return o.acsc()},BigNumber:function(o){return new i(1).div(o).asin()}})});var mO="acsch",fde=["typed","BigNumber"],z4=A(mO,fde,r=>{var{typed:e,BigNumber:t}=r;return e(mO,{number:J2,Complex:function(i){return i.acsch()},BigNumber:function(i){return new t(1).div(i).asinh()}})});var hO="asec",mde=["typed","config","Complex","BigNumber"],V4=A(hO,mde,r=>{var{typed:e,config:t,Complex:n,BigNumber:i}=r;return e(hO,{number:function(o){return o<=-1||o>=1||t.predictable?Q2(o):new n(o,0).asec()},Complex:function(o){return o.asec()},BigNumber:function(o){return new i(1).div(o).acos()}})});var pO="asech",hde=["typed","config","Complex","BigNumber"],U4=A(pO,hde,r=>{var{typed:e,config:t,Complex:n,BigNumber:i}=r;return e(pO,{number:function(o){if(o<=1&&o>=-1||t.predictable){var s=1/o;if(s>0||t.predictable)return ew(o);var l=Math.sqrt(s*s-1);return new n(Math.log(l-s),Math.PI)}return new n(o,0).asech()},Complex:function(o){return o.asech()},BigNumber:function(o){return new i(1).div(o).acosh()}})});var gO="asin",pde=["typed","config","Complex"],q4=A(gO,pde,r=>{var{typed:e,config:t,Complex:n}=r;return e(gO,{number:function(a){return a>=-1&&a<=1||t.predictable?Math.asin(a):new n(a,0).asin()},Complex:function(a){return a.asin()},BigNumber:function(a){return a.asin()}})});var gde="asinh",vde=["typed"],j4=A(gde,vde,r=>{var{typed:e}=r;return e("asinh",{number:tw,Complex:function(n){return n.asinh()},BigNumber:function(n){return n.asinh()}})});var xde="atan",yde=["typed"],$4=A(xde,yde,r=>{var{typed:e}=r;return e("atan",{number:function(n){return Math.atan(n)},Complex:function(n){return n.atan()},BigNumber:function(n){return n.atan()}})});var vO="atan2",bde=["typed","matrix","equalScalar","BigNumber","DenseMatrix","concat"],H4=A(vO,bde,r=>{var{typed:e,matrix:t,equalScalar:n,BigNumber:i,DenseMatrix:a,concat:o}=r,s=ln({typed:e,equalScalar:n}),l=vr({typed:e}),u=Pg({typed:e,equalScalar:n}),c=sr({typed:e,equalScalar:n}),d=er({typed:e,DenseMatrix:a}),f=_t({typed:e,matrix:t,concat:o});return e(vO,{"number, number":Math.atan2,"BigNumber, BigNumber":(m,p)=>i.atan2(m,p)},f({scalar:"number | BigNumber",SS:u,DS:l,SD:s,Ss:c,sS:d}))});var xO="atanh",wde=["typed","config","Complex"],W4=A(xO,wde,r=>{var{typed:e,config:t,Complex:n}=r;return e(xO,{number:function(a){return a<=1&&a>=-1||t.predictable?rw(a):new n(a,0).atanh()},Complex:function(a){return a.atanh()},BigNumber:function(a){return a.atanh()}})});var wa=A("trigUnit",["typed"],r=>{var{typed:e}=r;return{Unit:e.referToSelf(t=>n=>{if(!n.hasBase(n.constructor.BASE_UNITS.ANGLE))throw new TypeError("Unit in function cot is no angle");return e.find(t,n.valueType())(n.value)})}});var yO="cos",_de=["typed"],G4=A(yO,_de,r=>{var{typed:e}=r,t=wa({typed:e});return e(yO,{number:Math.cos,"Complex | BigNumber":n=>n.cos()},t)});var bO="cosh",Sde=["typed"],Y4=A(bO,Sde,r=>{var{typed:e}=r;return e(bO,{number:cg,"Complex | BigNumber":t=>t.cosh()})});var wO="cot",Dde=["typed","BigNumber"],Z4=A(wO,Dde,r=>{var{typed:e,BigNumber:t}=r,n=wa({typed:e});return e(wO,{number:nw,Complex:i=>i.cot(),BigNumber:i=>new t(1).div(i.tan())},n)});var _O="coth",Cde=["typed","BigNumber"],X4=A(_O,Cde,r=>{var{typed:e,BigNumber:t}=r;return e(_O,{number:iw,Complex:n=>n.coth(),BigNumber:n=>new t(1).div(n.tanh())})});var SO="csc",Ede=["typed","BigNumber"],K4=A(SO,Ede,r=>{var{typed:e,BigNumber:t}=r,n=wa({typed:e});return e(SO,{number:aw,Complex:i=>i.csc(),BigNumber:i=>new t(1).div(i.sin())},n)});var DO="csch",Ade=["typed","BigNumber"],J4=A(DO,Ade,r=>{var{typed:e,BigNumber:t}=r;return e(DO,{number:ow,Complex:n=>n.csch(),BigNumber:n=>new t(1).div(n.sinh())})});var CO="sec",Mde=["typed","BigNumber"],Q4=A(CO,Mde,r=>{var{typed:e,BigNumber:t}=r,n=wa({typed:e});return e(CO,{number:sw,Complex:i=>i.sec(),BigNumber:i=>new t(1).div(i.cos())},n)});var EO="sech",Nde=["typed","BigNumber"],e3=A(EO,Nde,r=>{var{typed:e,BigNumber:t}=r;return e(EO,{number:lw,Complex:n=>n.sech(),BigNumber:n=>new t(1).div(n.cosh())})});var AO="sin",Tde=["typed"],t3=A(AO,Tde,r=>{var{typed:e}=r,t=wa({typed:e});return e(AO,{number:Math.sin,"Complex | BigNumber":n=>n.sin()},t)});var MO="sinh",Fde=["typed"],r3=A(MO,Fde,r=>{var{typed:e}=r;return e(MO,{number:uw,"Complex | BigNumber":t=>t.sinh()})});var NO="tan",Ide=["typed"],n3=A(NO,Ide,r=>{var{typed:e}=r,t=wa({typed:e});return e(NO,{number:Math.tan,"Complex | BigNumber":n=>n.tan()},t)});var Ode="tanh",Rde=["typed"],i3=A(Ode,Rde,r=>{var{typed:e}=r;return e("tanh",{number:dg,"Complex | BigNumber":t=>t.tanh()})});var TO="setCartesian",kde=["typed","size","subset","compareNatural","Index","DenseMatrix"],a3=A(TO,kde,r=>{var{typed:e,size:t,subset:n,compareNatural:i,Index:a,DenseMatrix:o}=r;return e(TO,{"Array | Matrix, Array | Matrix":function(l,u){var c=[];if(n(t(l),new a(0))!==0&&n(t(u),new a(0))!==0){var d=Dt(Array.isArray(l)?l:l.toArray()).sort(i),f=Dt(Array.isArray(u)?u:u.toArray()).sort(i);c=[];for(var m=0;m<d.length;m++)for(var p=0;p<f.length;p++)c.push([d[m],f[p]])}return Array.isArray(l)&&Array.isArray(u)?c:new o(c)}})});var FO="setDifference",Pde=["typed","size","subset","compareNatural","Index","DenseMatrix"],o3=A(FO,Pde,r=>{var{typed:e,size:t,subset:n,compareNatural:i,Index:a,DenseMatrix:o}=r;return e(FO,{"Array | Matrix, Array | Matrix":function(l,u){var c;if(n(t(l),new a(0))===0)c=[];else{if(n(t(u),new a(0))===0)return Dt(l.toArray());var d=rs(Dt(Array.isArray(l)?l:l.toArray()).sort(i)),f=rs(Dt(Array.isArray(u)?u:u.toArray()).sort(i));c=[];for(var m,p=0;p<d.length;p++){m=!1;for(var h=0;h<f.length;h++)if(i(d[p].value,f[h].value)===0&&d[p].identifier===f[h].identifier){m=!0;break}m||c.push(d[p])}}return Array.isArray(l)&&Array.isArray(u)?Wc(c):new o(Wc(c))}})});var IO="setDistinct",Bde=["typed","size","subset","compareNatural","Index","DenseMatrix"],s3=A(IO,Bde,r=>{var{typed:e,size:t,subset:n,compareNatural:i,Index:a,DenseMatrix:o}=r;return e(IO,{"Array | Matrix":function(l){var u;if(n(t(l),new a(0))===0)u=[];else{var c=Dt(Array.isArray(l)?l:l.toArray()).sort(i);u=[],u.push(c[0]);for(var d=1;d<c.length;d++)i(c[d],c[d-1])!==0&&u.push(c[d])}return Array.isArray(l)?u:new o(u)}})});var OO="setIntersect",Lde=["typed","size","subset","compareNatural","Index","DenseMatrix"],l3=A(OO,Lde,r=>{var{typed:e,size:t,subset:n,compareNatural:i,Index:a,DenseMatrix:o}=r;return e(OO,{"Array | Matrix, Array | Matrix":function(l,u){var c;if(n(t(l),new a(0))===0||n(t(u),new a(0))===0)c=[];else{var d=rs(Dt(Array.isArray(l)?l:l.toArray()).sort(i)),f=rs(Dt(Array.isArray(u)?u:u.toArray()).sort(i));c=[];for(var m=0;m<d.length;m++)for(var p=0;p<f.length;p++)if(i(d[m].value,f[p].value)===0&&d[m].identifier===f[p].identifier){c.push(d[m]);break}}return Array.isArray(l)&&Array.isArray(u)?Wc(c):new o(Wc(c))}})});var RO="setIsSubset",zde=["typed","size","subset","compareNatural","Index"],u3=A(RO,zde,r=>{var{typed:e,size:t,subset:n,compareNatural:i,Index:a}=r;return e(RO,{"Array | Matrix, Array | Matrix":function(s,l){if(n(t(s),new a(0))===0)return!0;if(n(t(l),new a(0))===0)return!1;for(var u=rs(Dt(Array.isArray(s)?s:s.toArray()).sort(i)),c=rs(Dt(Array.isArray(l)?l:l.toArray()).sort(i)),d,f=0;f<u.length;f++){d=!1;for(var m=0;m<c.length;m++)if(i(u[f].value,c[m].value)===0&&u[f].identifier===c[m].identifier){d=!0;break}if(d===!1)return!1}return!0}})});var kO="setMultiplicity",Vde=["typed","size","subset","compareNatural","Index"],c3=A(kO,Vde,r=>{var{typed:e,size:t,subset:n,compareNatural:i,Index:a}=r;return e(kO,{"number | BigNumber | Fraction | Complex, Array | Matrix":function(s,l){if(n(t(l),new a(0))===0)return 0;for(var u=Dt(Array.isArray(l)?l:l.toArray()),c=0,d=0;d<u.length;d++)i(u[d],s)===0&&c++;return c}})});var PO="setPowerset",Ude=["typed","size","subset","compareNatural","Index"],d3=A(PO,Ude,r=>{var{typed:e,size:t,subset:n,compareNatural:i,Index:a}=r;return e(PO,{"Array | Matrix":function(u){if(n(t(u),new a(0))===0)return[];for(var c=Dt(Array.isArray(u)?u:u.toArray()).sort(i),d=[],f=0;f.toString(2).length<=c.length;)d.push(o(c,f.toString(2).split("").reverse())),f++;return s(d)}});function o(l,u){for(var c=[],d=0;d<u.length;d++)u[d]==="1"&&c.push(l[d]);return c}function s(l){for(var u=[],c=l.length-1;c>0;c--)for(var d=0;d<c;d++)l[d].length>l[d+1].length&&(u=l[d],l[d]=l[d+1],l[d+1]=u);return l}});var BO="setSize",qde=["typed","compareNatural"],f3=A(BO,qde,r=>{var{typed:e,compareNatural:t}=r;return e(BO,{"Array | Matrix":function(i){return Array.isArray(i)?Dt(i).length:Dt(i.toArray()).length},"Array | Matrix, boolean":function(i,a){if(a===!1||i.length===0)return Array.isArray(i)?Dt(i).length:Dt(i.toArray()).length;for(var o=Dt(Array.isArray(i)?i:i.toArray()).sort(t),s=1,l=1;l<o.length;l++)t(o[l],o[l-1])!==0&&s++;return s}})});var LO="setSymDifference",jde=["typed","size","concat","subset","setDifference","Index"],m3=A(LO,jde,r=>{var{typed:e,size:t,concat:n,subset:i,setDifference:a,Index:o}=r;return e(LO,{"Array | Matrix, Array | Matrix":function(l,u){if(i(t(l),new o(0))===0)return Dt(u);if(i(t(u),new o(0))===0)return Dt(l);var c=Dt(l),d=Dt(u);return n(a(c,d),a(d,c))}})});var zO="setUnion",$de=["typed","size","concat","subset","setIntersect","setSymDifference","Index"],h3=A(zO,$de,r=>{var{typed:e,size:t,concat:n,subset:i,setIntersect:a,setSymDifference:o,Index:s}=r;return e(zO,{"Array | Matrix, Array | Matrix":function(u,c){if(i(t(u),new s(0))===0)return Dt(c);if(i(t(c),new s(0))===0)return Dt(u);var d=Dt(u),f=Dt(c);return n(o(d,f),a(d,f))}})});var VO="add",Hde=["typed","matrix","addScalar","equalScalar","DenseMatrix","SparseMatrix","concat"],p3=A(VO,Hde,r=>{var{typed:e,matrix:t,addScalar:n,equalScalar:i,DenseMatrix:a,SparseMatrix:o,concat:s}=r,l=ti({typed:e}),u=Jc({typed:e,equalScalar:i}),c=ki({typed:e,DenseMatrix:a}),d=_t({typed:e,matrix:t,concat:s});return e(VO,{"any, any":n,"any, any, ...any":e.referToSelf(f=>(m,p,h)=>{for(var v=f(m,p),y=0;y<h.length;y++)v=f(v,h[y]);return v})},d({elop:n,DS:l,SS:u,Ss:c}))});var UO="hypot",Wde=["typed","abs","addScalar","divideScalar","multiplyScalar","sqrt","smaller","isPositive"],g3=A(UO,Wde,r=>{var{typed:e,abs:t,addScalar:n,divideScalar:i,multiplyScalar:a,sqrt:o,smaller:s,isPositive:l}=r;return e(UO,{"... number | BigNumber":u,Array:u,Matrix:c=>u(Dt(c.toArray(),!0))});function u(c){for(var d=0,f=0,m=0;m<c.length;m++){if(ci(c[m]))throw new TypeError("Unexpected type of argument to hypot");var p=t(c[m]);s(f,p)?(d=a(d,a(i(f,p),i(f,p))),d=n(d,1),f=p):d=n(d,l(p)?a(i(p,f),i(p,f)):p)}return a(f,o(d))}});var qO="norm",Gde=["typed","abs","add","pow","conj","sqrt","multiply","equalScalar","larger","smaller","matrix","ctranspose","eigs"],v3=A(qO,Gde,r=>{var{typed:e,abs:t,add:n,pow:i,conj:a,sqrt:o,multiply:s,equalScalar:l,larger:u,smaller:c,matrix:d,ctranspose:f,eigs:m}=r;return e(qO,{number:Math.abs,Complex:function(E){return E.abs()},BigNumber:function(E){return E.abs()},boolean:function(E){return Math.abs(E)},Array:function(E){return b(d(E),2)},Matrix:function(E){return b(E,2)},"Array, number | BigNumber | string":function(E,D){return b(d(E),D)},"Matrix, number | BigNumber | string":function(E,D){return b(E,D)}});function p(C){var E=0;return C.forEach(function(D){var M=t(D);u(M,E)&&(E=M)},!0),E}function h(C){var E;return C.forEach(function(D){var M=t(D);(!E||c(M,E))&&(E=M)},!0),E||0}function v(C,E){if(E===Number.POSITIVE_INFINITY||E==="inf")return p(C);if(E===Number.NEGATIVE_INFINITY||E==="-inf")return h(C);if(E==="fro")return b(C,2);if(typeof E=="number"&&!isNaN(E)){if(!l(E,0)){var D=0;return C.forEach(function(M){D=n(i(t(M),E),D)},!0),i(D,1/E)}return Number.POSITIVE_INFINITY}throw new Error("Unsupported parameter value")}function y(C){var E=0;return C.forEach(function(D,M){E=n(E,s(D,a(D)))}),t(o(E))}function S(C){var E=[],D=0;return C.forEach(function(M,T){var I=T[1],B=n(E[I]||0,t(M));u(B,D)&&(D=B),E[I]=B},!0),D}function x(C){var E=C.size();if(E[0]!==E[1])throw new RangeError("Invalid matrix dimensions");var D=f(C),M=s(D,C),T=m(M).values.toArray(),I=T[T.length-1];return t(o(I))}function _(C){var E=[],D=0;return C.forEach(function(M,T){var I=T[0],B=n(E[I]||0,t(M));u(B,D)&&(D=B),E[I]=B},!0),D}function w(C,E){if(E===1)return S(C);if(E===Number.POSITIVE_INFINITY||E==="inf")return _(C);if(E==="fro")return y(C);if(E===2)return x(C);throw new Error("Unsupported parameter value "+E)}function b(C,E){var D=C.size();if(D.length===1)return v(C,E);if(D.length===2){if(D[0]&&D[1])return w(C,E);throw new RangeError("Invalid matrix dimensions")}}});var jO="dot",Yde=["typed","addScalar","multiplyScalar","conj","size"],x3=A(jO,Yde,r=>{var{typed:e,addScalar:t,multiplyScalar:n,conj:i,size:a}=r;return e(jO,{"Array | DenseMatrix, Array | DenseMatrix":s,"SparseMatrix, SparseMatrix":l});function o(c,d){var f=u(c),m=u(d),p,h;if(f.length===1)p=f[0];else if(f.length===2&&f[1]===1)p=f[0];else throw new RangeError("Expected a column vector, instead got a matrix of size ("+f.join(", ")+")");if(m.length===1)h=m[0];else if(m.length===2&&m[1]===1)h=m[0];else throw new RangeError("Expected a column vector, instead got a matrix of size ("+m.join(", ")+")");if(p!==h)throw new RangeError("Vectors must have equal length ("+p+" != "+h+")");if(p===0)throw new RangeError("Cannot calculate the dot product of empty vectors");return p}function s(c,d){var f=o(c,d),m=Je(c)?c._data:c,p=Je(c)?c._datatype||c.getDataType():void 0,h=Je(d)?d._data:d,v=Je(d)?d._datatype||d.getDataType():void 0,y=u(c).length===2,S=u(d).length===2,x=t,_=n;if(p&&v&&p===v&&typeof p=="string"&&p!=="mixed"){var w=p;x=e.find(t,[w,w]),_=e.find(n,[w,w])}if(!y&&!S){for(var b=_(i(m[0]),h[0]),C=1;C<f;C++)b=x(b,_(i(m[C]),h[C]));return b}if(!y&&S){for(var E=_(i(m[0]),h[0][0]),D=1;D<f;D++)E=x(E,_(i(m[D]),h[D][0]));return E}if(y&&!S){for(var M=_(i(m[0][0]),h[0]),T=1;T<f;T++)M=x(M,_(i(m[T][0]),h[T]));return M}if(y&&S){for(var I=_(i(m[0][0]),h[0][0]),B=1;B<f;B++)I=x(I,_(i(m[B][0]),h[B][0]));return I}}function l(c,d){o(c,d);for(var f=c._index,m=c._values,p=d._index,h=d._values,v=0,y=t,S=n,x=0,_=0;x<f.length&&_<p.length;){var w=f[x],b=p[_];if(w<b){x++;continue}if(w>b){_++;continue}w===b&&(v=y(v,S(m[x],h[_])),x++,_++)}return v}function u(c){return Je(c)?c.size():a(c)}});var Zde="trace",Xde=["typed","matrix","add"],y3=A(Zde,Xde,r=>{var{typed:e,matrix:t,add:n}=r;return e("trace",{Array:function(s){return i(t(s))},SparseMatrix:a,DenseMatrix:i,any:dt});function i(o){var s=o._size,l=o._data;switch(s.length){case 1:if(s[0]===1)return dt(l[0]);throw new RangeError("Matrix must be square (size: "+pt(s)+")");case 2:{var u=s[0],c=s[1];if(u===c){for(var d=0,f=0;f<u;f++)d=n(d,l[f][f]);return d}else throw new RangeError("Matrix must be square (size: "+pt(s)+")")}default:throw new RangeError("Matrix must be two dimensional (size: "+pt(s)+")")}}function a(o){var s=o._values,l=o._index,u=o._ptr,c=o._size,d=c[0],f=c[1];if(d===f){var m=0;if(s.length>0)for(var p=0;p<f;p++)for(var h=u[p],v=u[p+1],y=h;y<v;y++){var S=l[y];if(S===p){m=n(m,s[y]);break}if(S>p)break}return m}throw new RangeError("Matrix must be square (size: "+pt(c)+")")}});var $O="index",Kde=["typed","Index"],b3=A($O,Kde,r=>{var{typed:e,Index:t}=r;return e($O,{"...number | string | BigNumber | Range | Array | Matrix":function(i){var a=i.map(function(s){return st(s)?s.toNumber():Yt(s)||Je(s)?s.map(function(l){return st(l)?l.toNumber():l}):s}),o=new t;return t.apply(o,a),o}})});var Zg=new Set(["end"]);var Jde="Node",Qde=["mathWithTransform"],w3=A(Jde,Qde,r=>{var{mathWithTransform:e}=r;function t(i){for(var a of[...Zg])if(i.has(a))throw new Error('Scope contains an illegal symbol, "'+a+'" is a reserved keyword')}class n{get type(){return"Node"}get isNode(){return!0}evaluate(a){return this.compile().evaluate(a)}compile(){var a=this._compile(e,{}),o={},s=null;function l(u){var c=Jo(u);return t(c),a(c,o,s)}return{evaluate:l}}_compile(a,o){throw new Error("Method _compile must be implemented by type "+this.type)}forEach(a){throw new Error("Cannot run forEach on a Node interface")}map(a){throw new Error("Cannot run map on a Node interface")}_ifNode(a){if(!Rt(a))throw new TypeError("Callback function must return a Node");return a}traverse(a){a(this,null,null);function o(s,l){s.forEach(function(u,c,d){l(u,c,d),o(u,l)})}o(this,a)}transform(a){function o(s,l,u){var c=a(s,l,u);return c!==s?c:s.map(o)}return o(this,null,null)}filter(a){var o=[];return this.traverse(function(s,l,u){a(s,l,u)&&o.push(s)}),o}clone(){throw new Error("Cannot clone a Node interface")}cloneDeep(){return this.map(function(a){return a.cloneDeep()})}equals(a){return a?this.type===a.type&&Fi(this,a):!1}toString(a){var o=this._getCustomString(a);return typeof o<"u"?o:this._toString(a)}_toString(){throw new Error("_toString not implemented for "+this.type)}toJSON(){throw new Error("Cannot serialize object: toJSON not implemented by "+this.type)}toHTML(a){var o=this._getCustomString(a);return typeof o<"u"?o:this._toHTML(a)}_toHTML(){throw new Error("_toHTML not implemented for "+this.type)}toTex(a){var o=this._getCustomString(a);return typeof o<"u"?o:this._toTex(a)}_toTex(a){throw new Error("_toTex not implemented for "+this.type)}_getCustomString(a){if(a&&typeof a=="object")switch(typeof a.handler){case"object":case"undefined":return;case"function":return a.handler(this,a);default:throw new TypeError("Object or function expected as callback")}}getIdentifier(){return this.type}getContent(){return this}}return n},{isClass:!0,isNode:!0});In();function xr(r){return r&&r.isIndexError?new Wn(r.index+1,r.min+1,r.max!==void 0?r.max+1:void 0):r}function Xg(r){var{subset:e}=r;return function(n,i){try{if(Array.isArray(n))return e(n,i);if(n&&typeof n.subset=="function")return n.subset(i);if(typeof n=="string")return e(n,i);if(typeof n=="object"){if(!i.isObjectProperty())throw new TypeError("Cannot apply a numeric index as object property");return Ar(n,i.getObjectProperty())}else throw new TypeError("Cannot apply index: unsupported type of object")}catch(a){throw xr(a)}}}var Kg="AccessorNode",efe=["subset","Node"],_3=A(Kg,efe,r=>{var{subset:e,Node:t}=r,n=Xg({subset:e});function i(o){return!(Hi(o)||jn(o)||It(o)||di(o)||el(o)||$n(o)||pr(o))}class a extends t{constructor(s,l){if(super(),!Rt(s))throw new TypeError('Node expected for parameter "object"');if(!ha(l))throw new TypeError('IndexNode expected for parameter "index"');this.object=s,this.index=l}get name(){return this.index?this.index.isObjectProperty()?this.index.getObjectProperty():"":this.object.name||""}get type(){return Kg}get isAccessorNode(){return!0}_compile(s,l){var u=this.object._compile(s,l),c=this.index._compile(s,l);if(this.index.isObjectProperty()){var d=this.index.getObjectProperty();return function(m,p,h){return Ar(u(m,p,h),d)}}else return function(m,p,h){var v=u(m,p,h),y=c(m,p,v);return n(v,y)}}forEach(s){s(this.object,"object",this),s(this.index,"index",this)}map(s){return new a(this._ifNode(s(this.object,"object",this)),this._ifNode(s(this.index,"index",this)))}clone(){return new a(this.object,this.index)}_toString(s){var l=this.object.toString(s);return i(this.object)&&(l="("+l+")"),l+this.index.toString(s)}_toHTML(s){var l=this.object.toHTML(s);return i(this.object)&&(l='<span class="math-parenthesis math-round-parenthesis">(</span>'+l+'<span class="math-parenthesis math-round-parenthesis">)</span>'),l+this.index.toHTML(s)}_toTex(s){var l=this.object.toTex(s);return i(this.object)&&(l="\\left(' + object + '\\right)"),l+this.index.toTex(s)}toJSON(){return{mathjs:Kg,object:this.object,index:this.index}}static fromJSON(s){return new a(s.object,s.index)}}return Jt(a,"name",Kg),a},{isClass:!0,isNode:!0});In();var Jg="ArrayNode",tfe=["Node"],S3=A(Jg,tfe,r=>{var{Node:e}=r;class t extends e{constructor(i){if(super(),this.items=i||[],!Array.isArray(this.items)||!this.items.every(Rt))throw new TypeError("Array containing Nodes expected")}get type(){return Jg}get isArrayNode(){return!0}_compile(i,a){var o=va(this.items,function(u){return u._compile(i,a)}),s=i.config.matrix!=="Array";if(s){var l=i.matrix;return function(c,d,f){return l(va(o,function(m){return m(c,d,f)}))}}else return function(c,d,f){return va(o,function(m){return m(c,d,f)})}}forEach(i){for(var a=0;a<this.items.length;a++){var o=this.items[a];i(o,"items["+a+"]",this)}}map(i){for(var a=[],o=0;o<this.items.length;o++)a[o]=this._ifNode(i(this.items[o],"items["+o+"]",this));return new t(a)}clone(){return new t(this.items.slice(0))}_toString(i){var a=this.items.map(function(o){return o.toString(i)});return"["+a.join(", ")+"]"}toJSON(){return{mathjs:Jg,items:this.items}}static fromJSON(i){return new t(i.items)}_toHTML(i){var a=this.items.map(function(o){return o.toHTML(i)});return'<span class="math-parenthesis math-square-parenthesis">[</span>'+a.join('<span class="math-separator">,</span>')+'<span class="math-parenthesis math-square-parenthesis">]</span>'}_toTex(i){function a(o,s){var l=o.some(jn)&&!o.every(jn),u=s||l,c=u?"&":"\\\\",d=o.map(function(f){return f.items?a(f.items,!s):f.toTex(i)}).join(c);return l||!u||u&&!s?"\\begin{bmatrix}"+d+"\\end{bmatrix}":d}return a(this.items,!1)}}return Jt(t,"name",Jg),t},{isClass:!0,isNode:!0});In();function HO(r){var{subset:e,matrix:t}=r;return function(i,a,o){try{if(Array.isArray(i)){var s=t(i).subset(a,o).valueOf();return s.forEach((l,u)=>{i[u]=l}),i}else{if(i&&typeof i.subset=="function")return i.subset(a,o);if(typeof i=="string")return e(i,a,o);if(typeof i=="object"){if(!a.isObjectProperty())throw TypeError("Cannot apply a numeric index as object property");return vo(i,a.getObjectProperty(),o),i}else throw new TypeError("Cannot apply index: unsupported type of object")}}catch(l){throw xr(l)}}}var _a=[{AssignmentNode:{},FunctionAssignmentNode:{}},{ConditionalNode:{latexLeftParens:!1,latexRightParens:!1,latexParens:!1}},{"OperatorNode:or":{op:"or",associativity:"left",associativeWith:[]}},{"OperatorNode:xor":{op:"xor",associativity:"left",associativeWith:[]}},{"OperatorNode:and":{op:"and",associativity:"left",associativeWith:[]}},{"OperatorNode:bitOr":{op:"|",associativity:"left",associativeWith:[]}},{"OperatorNode:bitXor":{op:"^|",associativity:"left",associativeWith:[]}},{"OperatorNode:bitAnd":{op:"&",associativity:"left",associativeWith:[]}},{"OperatorNode:equal":{op:"==",associativity:"left",associativeWith:[]},"OperatorNode:unequal":{op:"!=",associativity:"left",associativeWith:[]},"OperatorNode:smaller":{op:"<",associativity:"left",associativeWith:[]},"OperatorNode:larger":{op:">",associativity:"left",associativeWith:[]},"OperatorNode:smallerEq":{op:"<=",associativity:"left",associativeWith:[]},"OperatorNode:largerEq":{op:">=",associativity:"left",associativeWith:[]},RelationalNode:{associativity:"left",associativeWith:[]}},{"OperatorNode:leftShift":{op:"<<",associativity:"left",associativeWith:[]},"OperatorNode:rightArithShift":{op:">>",associativity:"left",associativeWith:[]},"OperatorNode:rightLogShift":{op:">>>",associativity:"left",associativeWith:[]}},{"OperatorNode:to":{op:"to",associativity:"left",associativeWith:[]}},{RangeNode:{}},{"OperatorNode:add":{op:"+",associativity:"left",associativeWith:["OperatorNode:add","OperatorNode:subtract"]},"OperatorNode:subtract":{op:"-",associativity:"left",associativeWith:[]}},{"OperatorNode:multiply":{op:"*",associativity:"left",associativeWith:["OperatorNode:multiply","OperatorNode:divide","Operator:dotMultiply","Operator:dotDivide"]},"OperatorNode:divide":{op:"/",associativity:"left",associativeWith:[],latexLeftParens:!1,latexRightParens:!1,latexParens:!1},"OperatorNode:dotMultiply":{op:".*",associativity:"left",associativeWith:["OperatorNode:multiply","OperatorNode:divide","OperatorNode:dotMultiply","OperatorNode:doDivide"]},"OperatorNode:dotDivide":{op:"./",associativity:"left",associativeWith:[]},"OperatorNode:mod":{op:"mod",associativity:"left",associativeWith:[]}},{"OperatorNode:multiply":{associativity:"left",associativeWith:["OperatorNode:multiply","OperatorNode:divide","Operator:dotMultiply","Operator:dotDivide"]}},{"OperatorNode:unaryPlus":{op:"+",associativity:"right"},"OperatorNode:unaryMinus":{op:"-",associativity:"right"},"OperatorNode:bitNot":{op:"~",associativity:"right"},"OperatorNode:not":{op:"not",associativity:"right"}},{"OperatorNode:pow":{op:"^",associativity:"right",associativeWith:[],latexRightParens:!1},"OperatorNode:dotPow":{op:".^",associativity:"right",associativeWith:[]}},{"OperatorNode:factorial":{op:"!",associativity:"left"}},{"OperatorNode:ctranspose":{op:"'",associativity:"left"}}];function Qg(r,e){if(!e||e!=="auto")return r;for(var t=r;$n(t);)t=t.content;return t}function ar(r,e,t,n){var i=r;e!=="keep"&&(i=r.getContent());for(var a=i.getIdentifier(),o=null,s=0;s<_a.length;s++)if(a in _a[s]){o=s;break}if(a==="OperatorNode:multiply"&&i.implicit&&t!=="show"){var l=Qg(i.args[0],e);!(It(l)&&n&&n.getIdentifier()==="OperatorNode:divide"&&T0(Qg(n.args[0],e)))&&!(l.getIdentifier()==="OperatorNode:divide"&&T0(Qg(l.args[0],e))&&It(Qg(l.args[1])))&&(o+=1)}return o}function od(r,e){var t=r;e!=="keep"&&(t=r.getContent());var n=t.getIdentifier(),i=ar(t,e);if(i===null)return null;var a=_a[i][n];if(nt(a,"associativity")){if(a.associativity==="left")return"left";if(a.associativity==="right")return"right";throw Error("'"+n+"' has the invalid associativity '"+a.associativity+"'.")}return null}function ev(r,e,t){var n=t!=="keep"?r.getContent():r,i=t!=="keep"?r.getContent():e,a=n.getIdentifier(),o=i.getIdentifier(),s=ar(n,t);if(s===null)return null;var l=_a[s][a];if(nt(l,"associativeWith")&&l.associativeWith instanceof Array){for(var u=0;u<l.associativeWith.length;u++)if(l.associativeWith[u]===o)return!0;return!1}return null}function WO(r){var e="OperatorNode:"+r;for(var t of _a)if(e in t)return t[e].op;return null}var tv="AssignmentNode",rfe=["subset","?matrix","Node"],D3=A(tv,rfe,r=>{var{subset:e,matrix:t,Node:n}=r,i=Xg({subset:e}),a=HO({subset:e,matrix:t});function o(l,u,c){u||(u="keep");var d=ar(l,u,c),f=ar(l.value,u,c);return u==="all"||f!==null&&f<=d}class s extends n{constructor(u,c,d){if(super(),this.object=u,this.index=d?c:null,this.value=d||c,!pr(u)&&!Hi(u))throw new TypeError('SymbolNode or AccessorNode expected as "object"');if(pr(u)&&u.name==="end")throw new Error('Cannot assign to symbol "end"');if(this.index&&!ha(this.index))throw new TypeError('IndexNode expected as "index"');if(!Rt(this.value))throw new TypeError('Node expected as "value"')}get name(){return this.index?this.index.isObjectProperty()?this.index.getObjectProperty():"":this.object.name||""}get type(){return tv}get isAssignmentNode(){return!0}_compile(u,c){var d=this.object._compile(u,c),f=this.index?this.index._compile(u,c):null,m=this.value._compile(u,c),p=this.object.name;if(this.index)if(this.index.isObjectProperty()){var h=this.index.getObjectProperty();return function(_,w,b){var C=d(_,w,b),E=m(_,w,b);return vo(C,h,E),E}}else{if(pr(this.object))return function(_,w,b){var C=d(_,w,b),E=m(_,w,b),D=f(_,w,C);return _.set(p,a(C,D,E)),E};var v=this.object.object._compile(u,c);if(this.object.index.isObjectProperty()){var y=this.object.index.getObjectProperty();return function(_,w,b){var C=v(_,w,b),E=Ar(C,y),D=f(_,w,E),M=m(_,w,b);return vo(C,y,a(E,D,M)),M}}else{var S=this.object.index._compile(u,c);return function(_,w,b){var C=v(_,w,b),E=S(_,w,C),D=i(C,E),M=f(_,w,D),T=m(_,w,b);return a(C,E,a(D,M,T)),T}}}else{if(!pr(this.object))throw new TypeError("SymbolNode expected as object");return function(_,w,b){var C=m(_,w,b);return _.set(p,C),C}}}forEach(u){u(this.object,"object",this),this.index&&u(this.index,"index",this),u(this.value,"value",this)}map(u){var c=this._ifNode(u(this.object,"object",this)),d=this.index?this._ifNode(u(this.index,"index",this)):null,f=this._ifNode(u(this.value,"value",this));return new s(c,d,f)}clone(){return new s(this.object,this.index,this.value)}_toString(u){var c=this.object.toString(u),d=this.index?this.index.toString(u):"",f=this.value.toString(u);return o(this,u&&u.parenthesis,u&&u.implicit)&&(f="("+f+")"),c+d+" = "+f}toJSON(){return{mathjs:tv,object:this.object,index:this.index,value:this.value}}static fromJSON(u){return new s(u.object,u.index,u.value)}_toHTML(u){var c=this.object.toHTML(u),d=this.index?this.index.toHTML(u):"",f=this.value.toHTML(u);return o(this,u&&u.parenthesis,u&&u.implicit)&&(f='<span class="math-paranthesis math-round-parenthesis">(</span>'+f+'<span class="math-paranthesis math-round-parenthesis">)</span>'),c+d+'<span class="math-operator math-assignment-operator math-variable-assignment-operator math-binary-operator">=</span>'+f}_toTex(u){var c=this.object.toTex(u),d=this.index?this.index.toTex(u):"",f=this.value.toTex(u);return o(this,u&&u.parenthesis,u&&u.implicit)&&(f="\\left(".concat(f,"\\right)")),c+d+"="+f}}return Jt(s,"name",tv),s},{isClass:!0,isNode:!0});In();var rv="BlockNode",nfe=["ResultSet","Node"],C3=A(rv,nfe,r=>{var{ResultSet:e,Node:t}=r;class n extends t{constructor(a){if(super(),!Array.isArray(a))throw new Error("Array expected");this.blocks=a.map(function(o){var s=o&&o.node,l=o&&o.visible!==void 0?o.visible:!0;if(!Rt(s))throw new TypeError('Property "node" must be a Node');if(typeof l!="boolean")throw new TypeError('Property "visible" must be a boolean');return{node:s,visible:l}})}get type(){return rv}get isBlockNode(){return!0}_compile(a,o){var s=va(this.blocks,function(l){return{evaluate:l.node._compile(a,o),visible:l.visible}});return function(u,c,d){var f=[];return Cg(s,function(p){var h=p.evaluate(u,c,d);p.visible&&f.push(h)}),new e(f)}}forEach(a){for(var o=0;o<this.blocks.length;o++)a(this.blocks[o].node,"blocks["+o+"].node",this)}map(a){for(var o=[],s=0;s<this.blocks.length;s++){var l=this.blocks[s],u=this._ifNode(a(l.node,"blocks["+s+"].node",this));o[s]={node:u,visible:l.visible}}return new n(o)}clone(){var a=this.blocks.map(function(o){return{node:o.node,visible:o.visible}});return new n(a)}_toString(a){return this.blocks.map(function(o){return o.node.toString(a)+(o.visible?"":";")}).join(`
`)}toJSON(){return{mathjs:rv,blocks:this.blocks}}static fromJSON(a){return new n(a.blocks)}_toHTML(a){return this.blocks.map(function(o){return o.node.toHTML(a)+(o.visible?"":'<span class="math-separator">;</span>')}).join('<span class="math-separator"><br /></span>')}_toTex(a){return this.blocks.map(function(o){return o.node.toTex(a)+(o.visible?"":";")}).join(`\\;\\;
`)}}return Jt(n,"name",rv),n},{isClass:!0,isNode:!0});In();var nv="ConditionalNode",ife=["Node"],E3=A(nv,ife,r=>{var{Node:e}=r;function t(i){if(typeof i=="number"||typeof i=="boolean"||typeof i=="string")return!!i;if(i){if(st(i))return!i.isZero();if(ci(i))return!!(i.re||i.im);if(qn(i))return!!i.value}if(i==null)return!1;throw new TypeError('Unsupported type of condition "'+zt(i)+'"')}class n extends e{constructor(a,o,s){if(super(),!Rt(a))throw new TypeError("Parameter condition must be a Node");if(!Rt(o))throw new TypeError("Parameter trueExpr must be a Node");if(!Rt(s))throw new TypeError("Parameter falseExpr must be a Node");this.condition=a,this.trueExpr=o,this.falseExpr=s}get type(){return nv}get isConditionalNode(){return!0}_compile(a,o){var s=this.condition._compile(a,o),l=this.trueExpr._compile(a,o),u=this.falseExpr._compile(a,o);return function(d,f,m){return t(s(d,f,m))?l(d,f,m):u(d,f,m)}}forEach(a){a(this.condition,"condition",this),a(this.trueExpr,"trueExpr",this),a(this.falseExpr,"falseExpr",this)}map(a){return new n(this._ifNode(a(this.condition,"condition",this)),this._ifNode(a(this.trueExpr,"trueExpr",this)),this._ifNode(a(this.falseExpr,"falseExpr",this)))}clone(){return new n(this.condition,this.trueExpr,this.falseExpr)}_toString(a){var o=a&&a.parenthesis?a.parenthesis:"keep",s=ar(this,o,a&&a.implicit),l=this.condition.toString(a),u=ar(this.condition,o,a&&a.implicit);(o==="all"||this.condition.type==="OperatorNode"||u!==null&&u<=s)&&(l="("+l+")");var c=this.trueExpr.toString(a),d=ar(this.trueExpr,o,a&&a.implicit);(o==="all"||this.trueExpr.type==="OperatorNode"||d!==null&&d<=s)&&(c="("+c+")");var f=this.falseExpr.toString(a),m=ar(this.falseExpr,o,a&&a.implicit);return(o==="all"||this.falseExpr.type==="OperatorNode"||m!==null&&m<=s)&&(f="("+f+")"),l+" ? "+c+" : "+f}toJSON(){return{mathjs:nv,condition:this.condition,trueExpr:this.trueExpr,falseExpr:this.falseExpr}}static fromJSON(a){return new n(a.condition,a.trueExpr,a.falseExpr)}_toHTML(a){var o=a&&a.parenthesis?a.parenthesis:"keep",s=ar(this,o,a&&a.implicit),l=this.condition.toHTML(a),u=ar(this.condition,o,a&&a.implicit);(o==="all"||this.condition.type==="OperatorNode"||u!==null&&u<=s)&&(l='<span class="math-parenthesis math-round-parenthesis">(</span>'+l+'<span class="math-parenthesis math-round-parenthesis">)</span>');var c=this.trueExpr.toHTML(a),d=ar(this.trueExpr,o,a&&a.implicit);(o==="all"||this.trueExpr.type==="OperatorNode"||d!==null&&d<=s)&&(c='<span class="math-parenthesis math-round-parenthesis">(</span>'+c+'<span class="math-parenthesis math-round-parenthesis">)</span>');var f=this.falseExpr.toHTML(a),m=ar(this.falseExpr,o,a&&a.implicit);return(o==="all"||this.falseExpr.type==="OperatorNode"||m!==null&&m<=s)&&(f='<span class="math-parenthesis math-round-parenthesis">(</span>'+f+'<span class="math-parenthesis math-round-parenthesis">)</span>'),l+'<span class="math-operator math-conditional-operator">?</span>'+c+'<span class="math-operator math-conditional-operator">:</span>'+f}_toTex(a){return"\\begin{cases} {"+this.trueExpr.toTex(a)+"}, &\\quad{\\text{if }\\;"+this.condition.toTex(a)+"}\\\\{"+this.falseExpr.toTex(a)+"}, &\\quad{\\text{otherwise}}\\end{cases}"}}return Jt(n,"name",nv),n},{isClass:!0,isNode:!0});In();var XO=ef(YO(),1);var M3={Alpha:"A",alpha:"\\alpha",Beta:"B",beta:"\\beta",Gamma:"\\Gamma",gamma:"\\gamma",Delta:"\\Delta",delta:"\\delta",Epsilon:"E",epsilon:"\\epsilon",varepsilon:"\\varepsilon",Zeta:"Z",zeta:"\\zeta",Eta:"H",eta:"\\eta",Theta:"\\Theta",theta:"\\theta",vartheta:"\\vartheta",Iota:"I",iota:"\\iota",Kappa:"K",kappa:"\\kappa",varkappa:"\\varkappa",Lambda:"\\Lambda",lambda:"\\lambda",Mu:"M",mu:"\\mu",Nu:"N",nu:"\\nu",Xi:"\\Xi",xi:"\\xi",Omicron:"O",omicron:"o",Pi:"\\Pi",pi:"\\pi",varpi:"\\varpi",Rho:"P",rho:"\\rho",varrho:"\\varrho",Sigma:"\\Sigma",sigma:"\\sigma",varsigma:"\\varsigma",Tau:"T",tau:"\\tau",Upsilon:"\\Upsilon",upsilon:"\\upsilon",Phi:"\\Phi",phi:"\\phi",varphi:"\\varphi",Chi:"X",chi:"\\chi",Psi:"\\Psi",psi:"\\psi",Omega:"\\Omega",omega:"\\omega",true:"\\mathrm{True}",false:"\\mathrm{False}",i:"i",inf:"\\infty",Inf:"\\infty",infinity:"\\infty",Infinity:"\\infty",oo:"\\infty",lim:"\\lim",undefined:"\\mathbf{?}"},rr={transpose:"^\\top",ctranspose:"^H",factorial:"!",pow:"^",dotPow:".^\\wedge",unaryPlus:"+",unaryMinus:"-",bitNot:"\\~",not:"\\neg",multiply:"\\cdot",divide:"\\frac",dotMultiply:".\\cdot",dotDivide:".:",mod:"\\mod",add:"+",subtract:"-",to:"\\rightarrow",leftShift:"<<",rightArithShift:">>",rightLogShift:">>>",equal:"=",unequal:"\\neq",smaller:"<",larger:">",smallerEq:"\\leq",largerEq:"\\geq",bitAnd:"\\&",bitXor:"\\underline{|}",bitOr:"|",and:"\\wedge",xor:"\\veebar",or:"\\vee"},N3={abs:{1:"\\left|${args[0]}\\right|"},add:{2:"\\left(${args[0]}".concat(rr.add,"${args[1]}\\right)")},cbrt:{1:"\\sqrt[3]{${args[0]}}"},ceil:{1:"\\left\\lceil${args[0]}\\right\\rceil"},cube:{1:"\\left(${args[0]}\\right)^3"},divide:{2:"\\frac{${args[0]}}{${args[1]}}"},dotDivide:{2:"\\left(${args[0]}".concat(rr.dotDivide,"${args[1]}\\right)")},dotMultiply:{2:"\\left(${args[0]}".concat(rr.dotMultiply,"${args[1]}\\right)")},dotPow:{2:"\\left(${args[0]}".concat(rr.dotPow,"${args[1]}\\right)")},exp:{1:"\\exp\\left(${args[0]}\\right)"},expm1:"\\left(e".concat(rr.pow,"{${args[0]}}-1\\right)"),fix:{1:"\\mathrm{${name}}\\left(${args[0]}\\right)"},floor:{1:"\\left\\lfloor${args[0]}\\right\\rfloor"},fraction:{2:"\\frac{${args[0]}}{${args[1]}}"},gcd:"\\gcd\\left(${args}\\right)",hypot:"\\hypot\\left(${args}\\right)",log:{1:"\\ln\\left(${args[0]}\\right)",2:"\\log_{${args[1]}}\\left(${args[0]}\\right)"},log10:{1:"\\log_{10}\\left(${args[0]}\\right)"},log1p:{1:"\\ln\\left(${args[0]}+1\\right)",2:"\\log_{${args[1]}}\\left(${args[0]}+1\\right)"},log2:"\\log_{2}\\left(${args[0]}\\right)",mod:{2:"\\left(${args[0]}".concat(rr.mod,"${args[1]}\\right)")},multiply:{2:"\\left(${args[0]}".concat(rr.multiply,"${args[1]}\\right)")},norm:{1:"\\left\\|${args[0]}\\right\\|",2:void 0},nthRoot:{2:"\\sqrt[${args[1]}]{${args[0]}}"},nthRoots:{2:"\\{y : y^${args[1]} = {${args[0]}}\\}"},pow:{2:"\\left(${args[0]}\\right)".concat(rr.pow,"{${args[1]}}")},round:{1:"\\left\\lfloor${args[0]}\\right\\rceil",2:void 0},sign:{1:"\\mathrm{${name}}\\left(${args[0]}\\right)"},sqrt:{1:"\\sqrt{${args[0]}}"},square:{1:"\\left(${args[0]}\\right)^2"},subtract:{2:"\\left(${args[0]}".concat(rr.subtract,"${args[1]}\\right)")},unaryMinus:{1:"".concat(rr.unaryMinus,"\\left(${args[0]}\\right)")},unaryPlus:{1:"".concat(rr.unaryPlus,"\\left(${args[0]}\\right)")},bitAnd:{2:"\\left(${args[0]}".concat(rr.bitAnd,"${args[1]}\\right)")},bitNot:{1:rr.bitNot+"\\left(${args[0]}\\right)"},bitOr:{2:"\\left(${args[0]}".concat(rr.bitOr,"${args[1]}\\right)")},bitXor:{2:"\\left(${args[0]}".concat(rr.bitXor,"${args[1]}\\right)")},leftShift:{2:"\\left(${args[0]}".concat(rr.leftShift,"${args[1]}\\right)")},rightArithShift:{2:"\\left(${args[0]}".concat(rr.rightArithShift,"${args[1]}\\right)")},rightLogShift:{2:"\\left(${args[0]}".concat(rr.rightLogShift,"${args[1]}\\right)")},bellNumbers:{1:"\\mathrm{B}_{${args[0]}}"},catalan:{1:"\\mathrm{C}_{${args[0]}}"},stirlingS2:{2:"\\mathrm{S}\\left(${args}\\right)"},arg:{1:"\\arg\\left(${args[0]}\\right)"},conj:{1:"\\left(${args[0]}\\right)^*"},im:{1:"\\Im\\left\\lbrace${args[0]}\\right\\rbrace"},re:{1:"\\Re\\left\\lbrace${args[0]}\\right\\rbrace"},and:{2:"\\left(${args[0]}".concat(rr.and,"${args[1]}\\right)")},not:{1:rr.not+"\\left(${args[0]}\\right)"},or:{2:"\\left(${args[0]}".concat(rr.or,"${args[1]}\\right)")},xor:{2:"\\left(${args[0]}".concat(rr.xor,"${args[1]}\\right)")},cross:{2:"\\left(${args[0]}\\right)\\times\\left(${args[1]}\\right)"},ctranspose:{1:"\\left(${args[0]}\\right)".concat(rr.ctranspose)},det:{1:"\\det\\left(${args[0]}\\right)"},dot:{2:"\\left(${args[0]}\\cdot${args[1]}\\right)"},expm:{1:"\\exp\\left(${args[0]}\\right)"},inv:{1:"\\left(${args[0]}\\right)^{-1}"},pinv:{1:"\\left(${args[0]}\\right)^{+}"},sqrtm:{1:"{${args[0]}}".concat(rr.pow,"{\\frac{1}{2}}")},trace:{1:"\\mathrm{tr}\\left(${args[0]}\\right)"},transpose:{1:"\\left(${args[0]}\\right)".concat(rr.transpose)},combinations:{2:"\\binom{${args[0]}}{${args[1]}}"},combinationsWithRep:{2:"\\left(\\!\\!{\\binom{${args[0]}}{${args[1]}}}\\!\\!\\right)"},factorial:{1:"\\left(${args[0]}\\right)".concat(rr.factorial)},gamma:{1:"\\Gamma\\left(${args[0]}\\right)"},lgamma:{1:"\\ln\\Gamma\\left(${args[0]}\\right)"},equal:{2:"\\left(${args[0]}".concat(rr.equal,"${args[1]}\\right)")},larger:{2:"\\left(${args[0]}".concat(rr.larger,"${args[1]}\\right)")},largerEq:{2:"\\left(${args[0]}".concat(rr.largerEq,"${args[1]}\\right)")},smaller:{2:"\\left(${args[0]}".concat(rr.smaller,"${args[1]}\\right)")},smallerEq:{2:"\\left(${args[0]}".concat(rr.smallerEq,"${args[1]}\\right)")},unequal:{2:"\\left(${args[0]}".concat(rr.unequal,"${args[1]}\\right)")},erf:{1:"erf\\left(${args[0]}\\right)"},max:"\\max\\left(${args}\\right)",min:"\\min\\left(${args}\\right)",variance:"\\mathrm{Var}\\left(${args}\\right)",acos:{1:"\\cos^{-1}\\left(${args[0]}\\right)"},acosh:{1:"\\cosh^{-1}\\left(${args[0]}\\right)"},acot:{1:"\\cot^{-1}\\left(${args[0]}\\right)"},acoth:{1:"\\coth^{-1}\\left(${args[0]}\\right)"},acsc:{1:"\\csc^{-1}\\left(${args[0]}\\right)"},acsch:{1:"\\mathrm{csch}^{-1}\\left(${args[0]}\\right)"},asec:{1:"\\sec^{-1}\\left(${args[0]}\\right)"},asech:{1:"\\mathrm{sech}^{-1}\\left(${args[0]}\\right)"},asin:{1:"\\sin^{-1}\\left(${args[0]}\\right)"},asinh:{1:"\\sinh^{-1}\\left(${args[0]}\\right)"},atan:{1:"\\tan^{-1}\\left(${args[0]}\\right)"},atan2:{2:"\\mathrm{atan2}\\left(${args}\\right)"},atanh:{1:"\\tanh^{-1}\\left(${args[0]}\\right)"},cos:{1:"\\cos\\left(${args[0]}\\right)"},cosh:{1:"\\cosh\\left(${args[0]}\\right)"},cot:{1:"\\cot\\left(${args[0]}\\right)"},coth:{1:"\\coth\\left(${args[0]}\\right)"},csc:{1:"\\csc\\left(${args[0]}\\right)"},csch:{1:"\\mathrm{csch}\\left(${args[0]}\\right)"},sec:{1:"\\sec\\left(${args[0]}\\right)"},sech:{1:"\\mathrm{sech}\\left(${args[0]}\\right)"},sin:{1:"\\sin\\left(${args[0]}\\right)"},sinh:{1:"\\sinh\\left(${args[0]}\\right)"},tan:{1:"\\tan\\left(${args[0]}\\right)"},tanh:{1:"\\tanh\\left(${args[0]}\\right)"},to:{2:"\\left(${args[0]}".concat(rr.to,"${args[1]}\\right)")},numeric:function(e,t){return e.args[0].toTex()},number:{0:"0",1:"\\left(${args[0]}\\right)",2:"\\left(\\left(${args[0]}\\right)${args[1]}\\right)"},string:{0:'\\mathtt{""}',1:"\\mathrm{string}\\left(${args[0]}\\right)"},bignumber:{0:"0",1:"\\left(${args[0]}\\right)"},bigint:{0:"0",1:"\\left(${args[0]}\\right)"},complex:{0:"0",1:"\\left(${args[0]}\\right)",2:"\\left(\\left(${args[0]}\\right)+".concat(M3.i,"\\cdot\\left(${args[1]}\\right)\\right)")},matrix:{0:"\\begin{bmatrix}\\end{bmatrix}",1:"\\left(${args[0]}\\right)",2:"\\left(${args[0]}\\right)"},sparse:{0:"\\begin{bsparse}\\end{bsparse}",1:"\\left(${args[0]}\\right)"},unit:{1:"\\left(${args[0]}\\right)",2:"\\left(\\left(${args[0]}\\right)${args[1]}\\right)"}},KO="\\mathrm{${name}}\\left(${args}\\right)",ZO={deg:"^\\circ"};function iv(r){return(0,XO.default)(r,{preserveFormatting:!0})}function av(r,e){return e=typeof e>"u"?!1:e,e?nt(ZO,r)?ZO[r]:"\\mathrm{"+iv(r)+"}":nt(M3,r)?M3[r]:iv(r)}var ov="ConstantNode",lfe=["Node"],T3=A(ov,lfe,r=>{var{Node:e}=r;class t extends e{constructor(i){super(),this.value=i}get type(){return ov}get isConstantNode(){return!0}_compile(i,a){var o=this.value;return function(){return o}}forEach(i){}map(i){return this.clone()}clone(){return new t(this.value)}_toString(i){return pt(this.value,i)}_toHTML(i){var a=this._toString(i);switch(zt(this.value)){case"number":case"bigint":case"BigNumber":case"Fraction":return'<span class="math-number">'+a+"</span>";case"string":return'<span class="math-string">'+a+"</span>";case"boolean":return'<span class="math-boolean">'+a+"</span>";case"null":return'<span class="math-null-symbol">'+a+"</span>";case"undefined":return'<span class="math-undefined">'+a+"</span>";default:return'<span class="math-symbol">'+a+"</span>"}}toJSON(){return{mathjs:ov,value:this.value}}static fromJSON(i){return new t(i.value)}_toTex(i){var a=this._toString(i),o=zt(this.value);switch(o){case"string":return"\\mathtt{"+iv(a)+"}";case"number":case"BigNumber":{var s=o==="BigNumber"?this.value.isFinite():isFinite(this.value);if(!s)return this.value.valueOf()<0?"-\\infty":"\\infty";var l=a.toLowerCase().indexOf("e");return l!==-1?a.substring(0,l)+"\\cdot10^{"+a.substring(l+1)+"}":a}case"bigint":return a.toString();case"Fraction":return this.value.toLatex();default:return a}}}return Jt(t,"name",ov),t},{isClass:!0,isNode:!0});In();var sv="FunctionAssignmentNode",ufe=["typed","Node"],F3=A(sv,ufe,r=>{var{typed:e,Node:t}=r;function n(a,o,s){var l=ar(a,o,s),u=ar(a.expr,o,s);return o==="all"||u!==null&&u<=l}class i extends t{constructor(o,s,l){if(super(),typeof o!="string")throw new TypeError('String expected for parameter "name"');if(!Array.isArray(s))throw new TypeError('Array containing strings or objects expected for parameter "params"');if(!Rt(l))throw new TypeError('Node expected for parameter "expr"');if(Zg.has(o))throw new Error('Illegal function name, "'+o+'" is a reserved keyword');var u=new Set;for(var c of s){var d=typeof c=="string"?c:c.name;if(u.has(d))throw new Error('Duplicate parameter name "'.concat(d,'"'));u.add(d)}this.name=o,this.params=s.map(function(f){return f&&f.name||f}),this.types=s.map(function(f){return f&&f.type||"any"}),this.expr=l}get type(){return sv}get isFunctionAssignmentNode(){return!0}_compile(o,s){var l=Object.create(s);Cg(this.params,function(p){l[p]=!0});var u=this.expr._compile(o,l),c=this.name,d=this.params,f=h2(this.types,","),m=c+"("+h2(this.params,", ")+")";return function(h,v,y){var S={};S[f]=function(){for(var _=Object.create(v),w=0;w<d.length;w++)_[d[w]]=arguments[w];return u(h,_,y)};var x=e(c,S);return x.syntax=m,h.set(c,x),x}}forEach(o){o(this.expr,"expr",this)}map(o){var s=this._ifNode(o(this.expr,"expr",this));return new i(this.name,this.params.slice(0),s)}clone(){return new i(this.name,this.params.slice(0),this.expr)}_toString(o){var s=o&&o.parenthesis?o.parenthesis:"keep",l=this.expr.toString(o);return n(this,s,o&&o.implicit)&&(l="("+l+")"),this.name+"("+this.params.join(", ")+") = "+l}toJSON(){var o=this.types;return{mathjs:sv,name:this.name,params:this.params.map(function(s,l){return{name:s,type:o[l]}}),expr:this.expr}}static fromJSON(o){return new i(o.name,o.params,o.expr)}_toHTML(o){for(var s=o&&o.parenthesis?o.parenthesis:"keep",l=[],u=0;u<this.params.length;u++)l.push('<span class="math-symbol math-parameter">'+An(this.params[u])+"</span>");var c=this.expr.toHTML(o);return n(this,s,o&&o.implicit)&&(c='<span class="math-parenthesis math-round-parenthesis">(</span>'+c+'<span class="math-parenthesis math-round-parenthesis">)</span>'),'<span class="math-function">'+An(this.name)+'</span><span class="math-parenthesis math-round-parenthesis">(</span>'+l.join('<span class="math-separator">,</span>')+'<span class="math-parenthesis math-round-parenthesis">)</span><span class="math-operator math-assignment-operator math-variable-assignment-operator math-binary-operator">=</span>'+c}_toTex(o){var s=o&&o.parenthesis?o.parenthesis:"keep",l=this.expr.toTex(o);return n(this,s,o&&o.implicit)&&(l="\\left(".concat(l,"\\right)")),"\\mathrm{"+this.name+"}\\left("+this.params.map(av).join(",")+"\\right)="+l}}return Jt(i,"name",sv),i},{isClass:!0,isNode:!0});In();var lv="IndexNode",cfe=["Node","size"],I3=A(lv,cfe,r=>{var{Node:e,size:t}=r;class n extends e{constructor(a,o){if(super(),this.dimensions=a,this.dotNotation=o||!1,!Array.isArray(a)||!a.every(Rt))throw new TypeError('Array containing Nodes expected for parameter "dimensions"');if(this.dotNotation&&!this.isObjectProperty())throw new Error("dotNotation only applicable for object properties")}get type(){return lv}get isIndexNode(){return!0}_compile(a,o){var s=va(this.dimensions,function(u,c){var d=u.filter(p=>p.isSymbolNode&&p.name==="end").length>0;if(d){var f=Object.create(o);f.end=!0;var m=u._compile(a,f);return function(h,v,y){if(!Je(y)&&!Yt(y)&&!Wr(y))throw new TypeError('Cannot resolve "end": context must be a Matrix, Array, or string but is '+zt(y));var S=t(y).valueOf(),x=Object.create(v);return x.end=S[c],m(h,x,y)}}else return u._compile(a,o)}),l=Ar(a,"index");return function(c,d,f){var m=va(s,function(p){return p(c,d,f)});return l(...m)}}forEach(a){for(var o=0;o<this.dimensions.length;o++)a(this.dimensions[o],"dimensions["+o+"]",this)}map(a){for(var o=[],s=0;s<this.dimensions.length;s++)o[s]=this._ifNode(a(this.dimensions[s],"dimensions["+s+"]",this));return new n(o,this.dotNotation)}clone(){return new n(this.dimensions.slice(0),this.dotNotation)}isObjectProperty(){return this.dimensions.length===1&&It(this.dimensions[0])&&typeof this.dimensions[0].value=="string"}getObjectProperty(){return this.isObjectProperty()?this.dimensions[0].value:null}_toString(a){return this.dotNotation?"."+this.getObjectProperty():"["+this.dimensions.join(", ")+"]"}toJSON(){return{mathjs:lv,dimensions:this.dimensions,dotNotation:this.dotNotation}}static fromJSON(a){return new n(a.dimensions,a.dotNotation)}_toHTML(a){for(var o=[],s=0;s<this.dimensions.length;s++)o[s]=this.dimensions[s].toHTML();return this.dotNotation?'<span class="math-operator math-accessor-operator">.</span><span class="math-symbol math-property">'+An(this.getObjectProperty())+"</span>":'<span class="math-parenthesis math-square-parenthesis">[</span>'+o.join('<span class="math-separator">,</span>')+'<span class="math-parenthesis math-square-parenthesis">]</span>'}_toTex(a){var o=this.dimensions.map(function(s){return s.toTex(a)});return this.dotNotation?"."+this.getObjectProperty():"_{"+o.join(",")+"}"}}return Jt(n,"name",lv),n},{isClass:!0,isNode:!0});In();var uv="ObjectNode",dfe=["Node"],O3=A(uv,dfe,r=>{var{Node:e}=r;class t extends e{constructor(i){if(super(),this.properties=i||{},i&&(typeof i!="object"||!Object.keys(i).every(function(a){return Rt(i[a])})))throw new TypeError("Object containing Nodes expected")}get type(){return uv}get isObjectNode(){return!0}_compile(i,a){var o={};for(var s in this.properties)if(nt(this.properties,s)){var l=cu(s),u=JSON.parse(l),c=Ar(this.properties,s);o[u]=c._compile(i,a)}return function(f,m,p){var h={};for(var v in o)nt(o,v)&&(h[v]=o[v](f,m,p));return h}}forEach(i){for(var a in this.properties)nt(this.properties,a)&&i(this.properties[a],"properties["+cu(a)+"]",this)}map(i){var a={};for(var o in this.properties)nt(this.properties,o)&&(a[o]=this._ifNode(i(this.properties[o],"properties["+cu(o)+"]",this)));return new t(a)}clone(){var i={};for(var a in this.properties)nt(this.properties,a)&&(i[a]=this.properties[a]);return new t(i)}_toString(i){var a=[];for(var o in this.properties)nt(this.properties,o)&&a.push(cu(o)+": "+this.properties[o].toString(i));return"{"+a.join(", ")+"}"}toJSON(){return{mathjs:uv,properties:this.properties}}static fromJSON(i){return new t(i.properties)}_toHTML(i){var a=[];for(var o in this.properties)nt(this.properties,o)&&a.push('<span class="math-symbol math-property">'+An(o)+'</span><span class="math-operator math-assignment-operator math-property-assignment-operator math-binary-operator">:</span>'+this.properties[o].toHTML(i));return'<span class="math-parenthesis math-curly-parenthesis">{</span>'+a.join('<span class="math-separator">,</span>')+'<span class="math-parenthesis math-curly-parenthesis">}</span>'}_toTex(i){var a=[];for(var o in this.properties)nt(this.properties,o)&&a.push("\\mathbf{"+o+":} & "+this.properties[o].toTex(i)+"\\\\");var s="\\left\\{\\begin{array}{ll}"+a.join(`
`)+"\\end{array}\\right\\}";return s}}return Jt(t,"name",uv),t},{isClass:!0,isNode:!0});In();function gu(r,e){return new Bc(r,new Zs(e),new Set(Object.keys(e)))}var cv="OperatorNode",ffe=["Node"],R3=A(cv,ffe,r=>{var{Node:e}=r;function t(a,o){var s=a;if(o==="auto")for(;$n(s);)s=s.content;return It(s)?!0:wr(s)?t(s.args[0],o):!1}function n(a,o,s,l,u){var c=ar(a,o,s),d=od(a,o);if(o==="all"||l.length>2&&a.getIdentifier()!=="OperatorNode:add"&&a.getIdentifier()!=="OperatorNode:multiply")return l.map(function(M){switch(M.getContent().type){case"ArrayNode":case"ConstantNode":case"SymbolNode":case"ParenthesisNode":return!1;default:return!0}});var f;switch(l.length){case 0:f=[];break;case 1:{var m=ar(l[0],o,s,a);if(u&&m!==null){var p,h;if(o==="keep"?(p=l[0].getIdentifier(),h=a.getIdentifier()):(p=l[0].getContent().getIdentifier(),h=a.getContent().getIdentifier()),_a[c][h].latexLeftParens===!1){f=[!1];break}if(_a[m][p].latexParens===!1){f=[!1];break}}if(m===null){f=[!1];break}if(m<=c){f=[!0];break}f=[!1]}break;case 2:{var v,y=ar(l[0],o,s,a),S=ev(a,l[0],o);y===null?v=!1:y===c&&d==="right"&&!S||y<c?v=!0:v=!1;var x,_=ar(l[1],o,s,a),w=ev(a,l[1],o);if(_===null?x=!1:_===c&&d==="left"&&!w||_<c?x=!0:x=!1,u){var b,C,E;o==="keep"?(b=a.getIdentifier(),C=a.args[0].getIdentifier(),E=a.args[1].getIdentifier()):(b=a.getContent().getIdentifier(),C=a.args[0].getContent().getIdentifier(),E=a.args[1].getContent().getIdentifier()),y!==null&&(_a[c][b].latexLeftParens===!1&&(v=!1),_a[y][C].latexParens===!1&&(v=!1)),_!==null&&(_a[c][b].latexRightParens===!1&&(x=!1),_a[_][E].latexParens===!1&&(x=!1))}f=[v,x]}break;default:(a.getIdentifier()==="OperatorNode:add"||a.getIdentifier()==="OperatorNode:multiply")&&(f=l.map(function(M){var T=ar(M,o,s,a),I=ev(a,M,o),B=od(M,o);return T===null?!1:c===T&&d===B&&!I?!0:T<c}));break}if(l.length>=2&&a.getIdentifier()==="OperatorNode:multiply"&&a.implicit&&o!=="all"&&s==="hide")for(var D=1;D<f.length;++D)t(l[D],o)&&!f[D-1]&&(o!=="keep"||!$n(l[D-1]))&&(f[D]=!0);return f}class i extends e{constructor(o,s,l,u,c){if(super(),typeof o!="string")throw new TypeError('string expected for parameter "op"');if(typeof s!="string")throw new TypeError('string expected for parameter "fn"');if(!Array.isArray(l)||!l.every(Rt))throw new TypeError('Array containing Nodes expected for parameter "args"');this.implicit=u===!0,this.isPercentage=c===!0,this.op=o,this.fn=s,this.args=l||[]}get type(){return cv}get isOperatorNode(){return!0}_compile(o,s){if(typeof this.fn!="string"||!ng(o,this.fn))throw o[this.fn]?new Error('No access to function "'+this.fn+'"'):new Error("Function "+this.fn+' missing in provided namespace "math"');var l=Ar(o,this.fn),u=va(this.args,function(p){return p._compile(o,s)});if(typeof l=="function"&&l.rawArgs===!0){var c=this.args;return function(h,v,y){return l(c,o,gu(h,v))}}else if(u.length===1){var d=u[0];return function(h,v,y){return l(d(h,v,y))}}else if(u.length===2){var f=u[0],m=u[1];return function(h,v,y){return l(f(h,v,y),m(h,v,y))}}else return function(h,v,y){return l.apply(null,va(u,function(S){return S(h,v,y)}))}}forEach(o){for(var s=0;s<this.args.length;s++)o(this.args[s],"args["+s+"]",this)}map(o){for(var s=[],l=0;l<this.args.length;l++)s[l]=this._ifNode(o(this.args[l],"args["+l+"]",this));return new i(this.op,this.fn,s,this.implicit,this.isPercentage)}clone(){return new i(this.op,this.fn,this.args.slice(0),this.implicit,this.isPercentage)}isUnary(){return this.args.length===1}isBinary(){return this.args.length===2}_toString(o){var s=o&&o.parenthesis?o.parenthesis:"keep",l=o&&o.implicit?o.implicit:"hide",u=this.args,c=n(this,s,l,u,!1);if(u.length===1){var d=od(this,s),f=u[0].toString(o);c[0]&&(f="("+f+")");var m=/[a-zA-Z]+/.test(this.op);return d==="right"?this.op+(m?" ":"")+f:d==="left"?f+(m?" ":"")+this.op:f+this.op}else if(u.length===2){var p=u[0].toString(o),h=u[1].toString(o);return c[0]&&(p="("+p+")"),c[1]&&(h="("+h+")"),this.implicit&&this.getIdentifier()==="OperatorNode:multiply"&&l==="hide"?p+" "+h:p+" "+this.op+" "+h}else if(u.length>2&&(this.getIdentifier()==="OperatorNode:add"||this.getIdentifier()==="OperatorNode:multiply")){var v=u.map(function(y,S){return y=y.toString(o),c[S]&&(y="("+y+")"),y});return this.implicit&&this.getIdentifier()==="OperatorNode:multiply"&&l==="hide"?v.join(" "):v.join(" "+this.op+" ")}else return this.fn+"("+this.args.join(", ")+")"}toJSON(){return{mathjs:cv,op:this.op,fn:this.fn,args:this.args,implicit:this.implicit,isPercentage:this.isPercentage}}static fromJSON(o){return new i(o.op,o.fn,o.args,o.implicit,o.isPercentage)}_toHTML(o){var s=o&&o.parenthesis?o.parenthesis:"keep",l=o&&o.implicit?o.implicit:"hide",u=this.args,c=n(this,s,l,u,!1);if(u.length===1){var d=od(this,s),f=u[0].toHTML(o);return c[0]&&(f='<span class="math-parenthesis math-round-parenthesis">(</span>'+f+'<span class="math-parenthesis math-round-parenthesis">)</span>'),d==="right"?'<span class="math-operator math-unary-operator math-lefthand-unary-operator">'+An(this.op)+"</span>"+f:f+'<span class="math-operator math-unary-operator math-righthand-unary-operator">'+An(this.op)+"</span>"}else if(u.length===2){var m=u[0].toHTML(o),p=u[1].toHTML(o);return c[0]&&(m='<span class="math-parenthesis math-round-parenthesis">(</span>'+m+'<span class="math-parenthesis math-round-parenthesis">)</span>'),c[1]&&(p='<span class="math-parenthesis math-round-parenthesis">(</span>'+p+'<span class="math-parenthesis math-round-parenthesis">)</span>'),this.implicit&&this.getIdentifier()==="OperatorNode:multiply"&&l==="hide"?m+'<span class="math-operator math-binary-operator math-implicit-binary-operator"></span>'+p:m+'<span class="math-operator math-binary-operator math-explicit-binary-operator">'+An(this.op)+"</span>"+p}else{var h=u.map(function(v,y){return v=v.toHTML(o),c[y]&&(v='<span class="math-parenthesis math-round-parenthesis">(</span>'+v+'<span class="math-parenthesis math-round-parenthesis">)</span>'),v});return u.length>2&&(this.getIdentifier()==="OperatorNode:add"||this.getIdentifier()==="OperatorNode:multiply")?this.implicit&&this.getIdentifier()==="OperatorNode:multiply"&&l==="hide"?h.join('<span class="math-operator math-binary-operator math-implicit-binary-operator"></span>'):h.join('<span class="math-operator math-binary-operator math-explicit-binary-operator">'+An(this.op)+"</span>"):'<span class="math-function">'+An(this.fn)+'</span><span class="math-paranthesis math-round-parenthesis">(</span>'+h.join('<span class="math-separator">,</span>')+'<span class="math-paranthesis math-round-parenthesis">)</span>'}}_toTex(o){var s=o&&o.parenthesis?o.parenthesis:"keep",l=o&&o.implicit?o.implicit:"hide",u=this.args,c=n(this,s,l,u,!0),d=rr[this.fn];if(d=typeof d>"u"?this.op:d,u.length===1){var f=od(this,s),m=u[0].toTex(o);return c[0]&&(m="\\left(".concat(m,"\\right)")),f==="right"?d+m:m+d}else if(u.length===2){var p=u[0],h=p.toTex(o);c[0]&&(h="\\left(".concat(h,"\\right)"));var v=u[1],y=v.toTex(o);c[1]&&(y="\\left(".concat(y,"\\right)"));var S;switch(s==="keep"?S=p.getIdentifier():S=p.getContent().getIdentifier(),this.getIdentifier()){case"OperatorNode:divide":return d+"{"+h+"}{"+y+"}";case"OperatorNode:pow":switch(h="{"+h+"}",y="{"+y+"}",S){case"ConditionalNode":case"OperatorNode:divide":h="\\left(".concat(h,"\\right)")}break;case"OperatorNode:multiply":if(this.implicit&&l==="hide")return h+"~"+y}return h+d+y}else if(u.length>2&&(this.getIdentifier()==="OperatorNode:add"||this.getIdentifier()==="OperatorNode:multiply")){var x=u.map(function(_,w){return _=_.toTex(o),c[w]&&(_="\\left(".concat(_,"\\right)")),_});return this.getIdentifier()==="OperatorNode:multiply"&&this.implicit&&l==="hide"?x.join("~"):x.join(d)}else return"\\mathrm{"+this.fn+"}\\left("+u.map(function(_){return _.toTex(o)}).join(",")+"\\right)"}getIdentifier(){return this.type+":"+this.fn}}return Jt(i,"name",cv),i},{isClass:!0,isNode:!0});In();var dv="ParenthesisNode",mfe=["Node"],k3=A(dv,mfe,r=>{var{Node:e}=r;class t extends e{constructor(i){if(super(),!Rt(i))throw new TypeError('Node expected for parameter "content"');this.content=i}get type(){return dv}get isParenthesisNode(){return!0}_compile(i,a){return this.content._compile(i,a)}getContent(){return this.content.getContent()}forEach(i){i(this.content,"content",this)}map(i){var a=i(this.content,"content",this);return new t(a)}clone(){return new t(this.content)}_toString(i){return!i||i&&!i.parenthesis||i&&i.parenthesis==="keep"?"("+this.content.toString(i)+")":this.content.toString(i)}toJSON(){return{mathjs:dv,content:this.content}}static fromJSON(i){return new t(i.content)}_toHTML(i){return!i||i&&!i.parenthesis||i&&i.parenthesis==="keep"?'<span class="math-parenthesis math-round-parenthesis">(</span>'+this.content.toHTML(i)+'<span class="math-parenthesis math-round-parenthesis">)</span>':this.content.toHTML(i)}_toTex(i){return!i||i&&!i.parenthesis||i&&i.parenthesis==="keep"?"\\left(".concat(this.content.toTex(i),"\\right)"):this.content.toTex(i)}}return Jt(t,"name",dv),t},{isClass:!0,isNode:!0});In();var fv="RangeNode",hfe=["Node"],P3=A(fv,hfe,r=>{var{Node:e}=r;function t(i,a,o){var s=ar(i,a,o),l={},u=ar(i.start,a,o);if(l.start=u!==null&&u<=s||a==="all",i.step){var c=ar(i.step,a,o);l.step=c!==null&&c<=s||a==="all"}var d=ar(i.end,a,o);return l.end=d!==null&&d<=s||a==="all",l}class n extends e{constructor(a,o,s){if(super(),!Rt(a))throw new TypeError("Node expected");if(!Rt(o))throw new TypeError("Node expected");if(s&&!Rt(s))throw new TypeError("Node expected");if(arguments.length>3)throw new Error("Too many arguments");this.start=a,this.end=o,this.step=s||null}get type(){return fv}get isRangeNode(){return!0}needsEnd(){var a=this.filter(function(o){return pr(o)&&o.name==="end"});return a.length>0}_compile(a,o){var s=a.range,l=this.start._compile(a,o),u=this.end._compile(a,o);if(this.step){var c=this.step._compile(a,o);return function(f,m,p){return s(l(f,m,p),u(f,m,p),c(f,m,p))}}else return function(f,m,p){return s(l(f,m,p),u(f,m,p))}}forEach(a){a(this.start,"start",this),a(this.end,"end",this),this.step&&a(this.step,"step",this)}map(a){return new n(this._ifNode(a(this.start,"start",this)),this._ifNode(a(this.end,"end",this)),this.step&&this._ifNode(a(this.step,"step",this)))}clone(){return new n(this.start,this.end,this.step&&this.step)}_toString(a){var o=a&&a.parenthesis?a.parenthesis:"keep",s=t(this,o,a&&a.implicit),l,u=this.start.toString(a);if(s.start&&(u="("+u+")"),l=u,this.step){var c=this.step.toString(a);s.step&&(c="("+c+")"),l+=":"+c}var d=this.end.toString(a);return s.end&&(d="("+d+")"),l+=":"+d,l}toJSON(){return{mathjs:fv,start:this.start,end:this.end,step:this.step}}static fromJSON(a){return new n(a.start,a.end,a.step)}_toHTML(a){var o=a&&a.parenthesis?a.parenthesis:"keep",s=t(this,o,a&&a.implicit),l,u=this.start.toHTML(a);if(s.start&&(u='<span class="math-parenthesis math-round-parenthesis">(</span>'+u+'<span class="math-parenthesis math-round-parenthesis">)</span>'),l=u,this.step){var c=this.step.toHTML(a);s.step&&(c='<span class="math-parenthesis math-round-parenthesis">(</span>'+c+'<span class="math-parenthesis math-round-parenthesis">)</span>'),l+='<span class="math-operator math-range-operator">:</span>'+c}var d=this.end.toHTML(a);return s.end&&(d='<span class="math-parenthesis math-round-parenthesis">(</span>'+d+'<span class="math-parenthesis math-round-parenthesis">)</span>'),l+='<span class="math-operator math-range-operator">:</span>'+d,l}_toTex(a){var o=a&&a.parenthesis?a.parenthesis:"keep",s=t(this,o,a&&a.implicit),l=this.start.toTex(a);if(s.start&&(l="\\left(".concat(l,"\\right)")),this.step){var u=this.step.toTex(a);s.step&&(u="\\left(".concat(u,"\\right)")),l+=":"+u}var c=this.end.toTex(a);return s.end&&(c="\\left(".concat(c,"\\right)")),l+=":"+c,l}}return Jt(n,"name",fv),n},{isClass:!0,isNode:!0});In();var mv="RelationalNode",pfe=["Node"],B3=A(mv,pfe,r=>{var{Node:e}=r,t={equal:"==",unequal:"!=",smaller:"<",larger:">",smallerEq:"<=",largerEq:">="};class n extends e{constructor(a,o){if(super(),!Array.isArray(a))throw new TypeError("Parameter conditionals must be an array");if(!Array.isArray(o))throw new TypeError("Parameter params must be an array");if(a.length!==o.length-1)throw new TypeError("Parameter params must contain exactly one more element than parameter conditionals");this.conditionals=a,this.params=o}get type(){return mv}get isRelationalNode(){return!0}_compile(a,o){var s=this,l=this.params.map(u=>u._compile(a,o));return function(c,d,f){for(var m,p=l[0](c,d,f),h=0;h<s.conditionals.length;h++){m=p,p=l[h+1](c,d,f);var v=Ar(a,s.conditionals[h]);if(!v(m,p))return!1}return!0}}forEach(a){this.params.forEach((o,s)=>a(o,"params["+s+"]",this),this)}map(a){return new n(this.conditionals.slice(),this.params.map((o,s)=>this._ifNode(a(o,"params["+s+"]",this)),this))}clone(){return new n(this.conditionals,this.params)}_toString(a){for(var o=a&&a.parenthesis?a.parenthesis:"keep",s=ar(this,o,a&&a.implicit),l=this.params.map(function(d,f){var m=ar(d,o,a&&a.implicit);return o==="all"||m!==null&&m<=s?"("+d.toString(a)+")":d.toString(a)}),u=l[0],c=0;c<this.conditionals.length;c++)u+=" "+t[this.conditionals[c]],u+=" "+l[c+1];return u}toJSON(){return{mathjs:mv,conditionals:this.conditionals,params:this.params}}static fromJSON(a){return new n(a.conditionals,a.params)}_toHTML(a){for(var o=a&&a.parenthesis?a.parenthesis:"keep",s=ar(this,o,a&&a.implicit),l=this.params.map(function(d,f){var m=ar(d,o,a&&a.implicit);return o==="all"||m!==null&&m<=s?'<span class="math-parenthesis math-round-parenthesis">(</span>'+d.toHTML(a)+'<span class="math-parenthesis math-round-parenthesis">)</span>':d.toHTML(a)}),u=l[0],c=0;c<this.conditionals.length;c++)u+='<span class="math-operator math-binary-operator math-explicit-binary-operator">'+An(t[this.conditionals[c]])+"</span>"+l[c+1];return u}_toTex(a){for(var o=a&&a.parenthesis?a.parenthesis:"keep",s=ar(this,o,a&&a.implicit),l=this.params.map(function(d,f){var m=ar(d,o,a&&a.implicit);return o==="all"||m!==null&&m<=s?"\\left("+d.toTex(a)+"\right)":d.toTex(a)}),u=l[0],c=0;c<this.conditionals.length;c++)u+=rr[this.conditionals[c]]+l[c+1];return u}}return Jt(n,"name",mv),n},{isClass:!0,isNode:!0});var gfe="SymbolNode",vfe=["math","?Unit","Node"],L3=A(gfe,vfe,r=>{var{math:e,Unit:t,Node:n}=r;function i(o){return t?t.isValuelessUnit(o):!1}class a extends n{constructor(s){if(super(),typeof s!="string")throw new TypeError('String expected for parameter "name"');this.name=s}get type(){return"SymbolNode"}get isSymbolNode(){return!0}_compile(s,l){var u=this.name;if(l[u]===!0)return function(d,f,m){return Ar(f,u)};if(u in s)return function(d,f,m){return d.has(u)?d.get(u):Ar(s,u)};var c=i(u);return function(d,f,m){return d.has(u)?d.get(u):c?new t(null,u):a.onUndefinedSymbol(u)}}forEach(s){}map(s){return this.clone()}static onUndefinedSymbol(s){throw new Error("Undefined symbol "+s)}clone(){return new a(this.name)}_toString(s){return this.name}_toHTML(s){var l=An(this.name);return l==="true"||l==="false"?'<span class="math-symbol math-boolean">'+l+"</span>":l==="i"?'<span class="math-symbol math-imaginary-symbol">'+l+"</span>":l==="Infinity"?'<span class="math-symbol math-infinity-symbol">'+l+"</span>":l==="NaN"?'<span class="math-symbol math-nan-symbol">'+l+"</span>":l==="null"?'<span class="math-symbol math-null-symbol">'+l+"</span>":l==="undefined"?'<span class="math-symbol math-undefined-symbol">'+l+"</span>":'<span class="math-symbol">'+l+"</span>"}toJSON(){return{mathjs:"SymbolNode",name:this.name}}static fromJSON(s){return new a(s.name)}_toTex(s){var l=!1;typeof e[this.name]>"u"&&i(this.name)&&(l=!0);var u=av(this.name,l);return u[0]==="\\"?u:" "+u}}return a},{isClass:!0,isNode:!0});In();var hv="FunctionNode",xfe=["math","Node","SymbolNode"],z3=A(hv,xfe,r=>{var e,{math:t,Node:n,SymbolNode:i}=r,a=l=>pt(l,{truncate:78});function o(l,u,c){for(var d="",f=/\$(?:\{([a-z_][a-z_0-9]*)(?:\[([0-9]+)\])?\}|\$)/gi,m=0,p;(p=f.exec(l))!==null;)if(d+=l.substring(m,p.index),m=p.index,p[0]==="$$")d+="$",m++;else{m+=p[0].length;var h=u[p[1]];if(!h)throw new ReferenceError("Template: Property "+p[1]+" does not exist.");if(p[2]===void 0)switch(typeof h){case"string":d+=h;break;case"object":if(Rt(h))d+=h.toTex(c);else if(Array.isArray(h))d+=h.map(function(v,y){if(Rt(v))return v.toTex(c);throw new TypeError("Template: "+p[1]+"["+y+"] is not a Node.")}).join(",");else throw new TypeError("Template: "+p[1]+" has to be a Node, String or array of Nodes");break;default:throw new TypeError("Template: "+p[1]+" has to be a Node, String or array of Nodes")}else if(Rt(h[p[2]]&&h[p[2]]))d+=h[p[2]].toTex(c);else throw new TypeError("Template: "+p[1]+"["+p[2]+"] is not a Node.")}return d+=l.slice(m),d}class s extends n{constructor(u,c){if(super(),typeof u=="string"&&(u=new i(u)),!Rt(u))throw new TypeError('Node expected as parameter "fn"');if(!Array.isArray(c)||!c.every(Rt))throw new TypeError('Array containing Nodes expected for parameter "args"');this.fn=u,this.args=c||[]}get name(){return this.fn.name||""}get type(){return hv}get isFunctionNode(){return!0}_compile(u,c){var d=this.args.map(E=>E._compile(u,c));if(pr(this.fn)){var f=this.fn.name;if(c[f]){var y=this.args;return function(D,M,T){var I=Ar(M,f);if(typeof I!="function")throw new TypeError("Argument '".concat(f,"' was not a function; received: ").concat(a(I)));if(I.rawArgs)return I(y,u,gu(D,M));var B=d.map(V=>V(D,M,T));return I.apply(I,B)}}else{var m=f in u?Ar(u,f):void 0,p=typeof m=="function"&&m.rawArgs===!0,h=E=>{var D;if(E.has(f))D=E.get(f);else if(f in u)D=Ar(u,f);else return s.onUndefinedFunction(f);if(typeof D=="function")return D;throw new TypeError("'".concat(f,`' is not a function; its value is:
  `).concat(a(D)))};if(p){var v=this.args;return function(D,M,T){var I=h(D);if(I.rawArgs===!0)return I(v,u,gu(D,M));var B=d.map(V=>V(D,M,T));return I(...B)}}else switch(d.length){case 0:return function(D,M,T){var I=h(D);return I()};case 1:return function(D,M,T){var I=h(D),B=d[0];return I(B(D,M,T))};case 2:return function(D,M,T){var I=h(D),B=d[0],V=d[1];return I(B(D,M,T),V(D,M,T))};default:return function(D,M,T){var I=h(D),B=d.map(V=>V(D,M,T));return I(...B)}}}}else if(Hi(this.fn)&&ha(this.fn.index)&&this.fn.index.isObjectProperty()){var S=this.fn.object._compile(u,c),x=this.fn.index.getObjectProperty(),_=this.args;return function(D,M,T){var I=S(D,M,T),B=MN(I,x);if(B!=null&&B.rawArgs)return B(_,u,gu(D,M));var V=d.map(L=>L(D,M,T));return B.apply(I,V)}}else{var w=this.fn.toString(),b=this.fn._compile(u,c),C=this.args;return function(D,M,T){var I=b(D,M,T);if(typeof I!="function")throw new TypeError("Expression '".concat(w,"' did not evaluate to a function; value is:")+`
  `.concat(a(I)));if(I.rawArgs)return I(C,u,gu(D,M));var B=d.map(V=>V(D,M,T));return I.apply(I,B)}}}forEach(u){u(this.fn,"fn",this);for(var c=0;c<this.args.length;c++)u(this.args[c],"args["+c+"]",this)}map(u){for(var c=this._ifNode(u(this.fn,"fn",this)),d=[],f=0;f<this.args.length;f++)d[f]=this._ifNode(u(this.args[f],"args["+f+"]",this));return new s(c,d)}clone(){return new s(this.fn,this.args.slice(0))}toString(u){var c,d=this.fn.toString(u);return u&&typeof u.handler=="object"&&nt(u.handler,d)&&(c=u.handler[d](this,u)),typeof c<"u"?c:super.toString(u)}_toString(u){var c=this.args.map(function(f){return f.toString(u)}),d=xo(this.fn)?"("+this.fn.toString(u)+")":this.fn.toString(u);return d+"("+c.join(", ")+")"}toJSON(){return{mathjs:hv,fn:this.fn,args:this.args}}_toHTML(u){var c=this.args.map(function(d){return d.toHTML(u)});return'<span class="math-function">'+An(this.fn)+'</span><span class="math-paranthesis math-round-parenthesis">(</span>'+c.join('<span class="math-separator">,</span>')+'<span class="math-paranthesis math-round-parenthesis">)</span>'}toTex(u){var c;return u&&typeof u.handler=="object"&&nt(u.handler,this.name)&&(c=u.handler[this.name](this,u)),typeof c<"u"?c:super.toTex(u)}_toTex(u){var c=this.args.map(function(m){return m.toTex(u)}),d;N3[this.name]&&(d=N3[this.name]),t[this.name]&&(typeof t[this.name].toTex=="function"||typeof t[this.name].toTex=="object"||typeof t[this.name].toTex=="string")&&(d=t[this.name].toTex);var f;switch(typeof d){case"function":f=d(this,u);break;case"string":f=o(d,this,u);break;case"object":switch(typeof d[c.length]){case"function":f=d[c.length](this,u);break;case"string":f=o(d[c.length],this,u);break}}return typeof f<"u"?f:o(KO,this,u)}getIdentifier(){return this.type+":"+this.name}}return e=s,Jt(s,"name",hv),Jt(s,"onUndefinedFunction",function(l){throw new Error("Undefined function "+l)}),Jt(s,"fromJSON",function(l){return new e(l.fn,l.args)}),s},{isClass:!0,isNode:!0});var JO="parse",yfe=["typed","numeric","config","AccessorNode","ArrayNode","AssignmentNode","BlockNode","ConditionalNode","ConstantNode","FunctionAssignmentNode","FunctionNode","IndexNode","ObjectNode","OperatorNode","ParenthesisNode","RangeNode","RelationalNode","SymbolNode"],V3=A(JO,yfe,r=>{var{typed:e,numeric:t,config:n,AccessorNode:i,ArrayNode:a,AssignmentNode:o,BlockNode:s,ConditionalNode:l,ConstantNode:u,FunctionAssignmentNode:c,FunctionNode:d,IndexNode:f,ObjectNode:m,OperatorNode:p,ParenthesisNode:h,RangeNode:v,RelationalNode:y,SymbolNode:S}=r,x=e(JO,{string:function(Z){return se(Z,{})},"Array | Matrix":function(Z){return _(Z,{})},"string, Object":function(Z,oe){var Ie=oe.nodes!==void 0?oe.nodes:{};return se(Z,Ie)},"Array | Matrix, Object":_});function _(F){var Z=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},oe=Z.nodes!==void 0?Z.nodes:{};return et(F,function(Ie){if(typeof Ie!="string")throw new TypeError("String expected");return se(Ie,oe)})}var w={NULL:0,DELIMITER:1,NUMBER:2,SYMBOL:3,UNKNOWN:4},b={",":!0,"(":!0,")":!0,"[":!0,"]":!0,"{":!0,"}":!0,'"':!0,"'":!0,";":!0,"+":!0,"-":!0,"*":!0,".*":!0,"/":!0,"./":!0,"%":!0,"^":!0,".^":!0,"~":!0,"!":!0,"&":!0,"|":!0,"^|":!0,"=":!0,":":!0,"?":!0,"==":!0,"!=":!0,"<":!0,">":!0,"<=":!0,">=":!0,"<<":!0,">>":!0,">>>":!0},C={mod:!0,to:!0,in:!0,and:!0,xor:!0,or:!0,not:!0},E={true:!0,false:!1,null:null,undefined:void 0},D=["NaN","Infinity"],M={'"':'"',"'":"'","\\":"\\","/":"/",b:"\b",f:"\f",n:`
`,r:"\r",t:"	"};function T(){return{extraNodes:{},expression:"",comment:"",index:0,token:"",tokenType:w.NULL,nestingLevel:0,conditionalLevel:null}}function I(F,Z){return F.expression.substr(F.index,Z)}function B(F){return I(F,1)}function V(F){F.index++}function L(F){return F.expression.charAt(F.index-1)}function k(F){return F.expression.charAt(F.index+1)}function O(F){for(F.tokenType=w.NULL,F.token="",F.comment="";;){if(B(F)==="#")for(;B(F)!==`
`&&B(F)!=="";)F.comment+=B(F),V(F);if(x.isWhitespace(B(F),F.nestingLevel))V(F);else break}if(B(F)===""){F.tokenType=w.DELIMITER;return}if(B(F)===`
`&&!F.nestingLevel){F.tokenType=w.DELIMITER,F.token=B(F),V(F);return}var Z=B(F),oe=I(F,2),Ie=I(F,3);if(Ie.length===3&&b[Ie]){F.tokenType=w.DELIMITER,F.token=Ie,V(F),V(F),V(F);return}if(oe.length===2&&b[oe]){F.tokenType=w.DELIMITER,F.token=oe,V(F),V(F);return}if(b[Z]){F.tokenType=w.DELIMITER,F.token=Z,V(F);return}if(x.isDigitDot(Z)){F.tokenType=w.NUMBER;var lt=I(F,2);if(lt==="0b"||lt==="0o"||lt==="0x"){for(F.token+=B(F),V(F),F.token+=B(F),V(F);x.isHexDigit(B(F));)F.token+=B(F),V(F);if(B(F)===".")for(F.token+=".",V(F);x.isHexDigit(B(F));)F.token+=B(F),V(F);else if(B(F)==="i")for(F.token+="i",V(F);x.isDigit(B(F));)F.token+=B(F),V(F);return}if(B(F)==="."){if(F.token+=B(F),V(F),!x.isDigit(B(F))){F.tokenType=w.DELIMITER;return}}else{for(;x.isDigit(B(F));)F.token+=B(F),V(F);x.isDecimalMark(B(F),k(F))&&(F.token+=B(F),V(F))}for(;x.isDigit(B(F));)F.token+=B(F),V(F);if(B(F)==="E"||B(F)==="e"){if(x.isDigit(k(F))||k(F)==="-"||k(F)==="+"){if(F.token+=B(F),V(F),(B(F)==="+"||B(F)==="-")&&(F.token+=B(F),V(F)),!x.isDigit(B(F)))throw Ee(F,'Digit expected, got "'+B(F)+'"');for(;x.isDigit(B(F));)F.token+=B(F),V(F);if(x.isDecimalMark(B(F),k(F)))throw Ee(F,'Digit expected, got "'+B(F)+'"')}else if(x.isDecimalMark(k(F),F.expression.charAt(F.index+2)))throw V(F),Ee(F,'Digit expected, got "'+B(F)+'"')}return}if(x.isAlpha(B(F),L(F),k(F))){for(;x.isAlpha(B(F),L(F),k(F))||x.isDigit(B(F));)F.token+=B(F),V(F);nt(C,F.token)?F.tokenType=w.DELIMITER:F.tokenType=w.SYMBOL;return}for(F.tokenType=w.UNKNOWN;B(F)!=="";)F.token+=B(F),V(F);throw Ee(F,'Syntax error in part "'+F.token+'"')}function Y(F){do O(F);while(F.token===`
`)}function P(F){F.nestingLevel++}function ae(F){F.nestingLevel--}x.isAlpha=function(Z,oe,Ie){return x.isValidLatinOrGreek(Z)||x.isValidMathSymbol(Z,Ie)||x.isValidMathSymbol(oe,Z)},x.isValidLatinOrGreek=function(Z){return/^[a-zA-Z_$\u00C0-\u02AF\u0370-\u03FF\u2100-\u214F]$/.test(Z)},x.isValidMathSymbol=function(Z,oe){return/^[\uD835]$/.test(Z)&&/^[\uDC00-\uDFFF]$/.test(oe)&&/^[^\uDC55\uDC9D\uDCA0\uDCA1\uDCA3\uDCA4\uDCA7\uDCA8\uDCAD\uDCBA\uDCBC\uDCC4\uDD06\uDD0B\uDD0C\uDD15\uDD1D\uDD3A\uDD3F\uDD45\uDD47-\uDD49\uDD51\uDEA6\uDEA7\uDFCC\uDFCD]$/.test(oe)},x.isWhitespace=function(Z,oe){return Z===" "||Z==="	"||Z===`
`&&oe>0},x.isDecimalMark=function(Z,oe){return Z==="."&&oe!=="/"&&oe!=="*"&&oe!=="^"},x.isDigitDot=function(Z){return Z>="0"&&Z<="9"||Z==="."},x.isDigit=function(Z){return Z>="0"&&Z<="9"},x.isHexDigit=function(Z){return Z>="0"&&Z<="9"||Z>="a"&&Z<="f"||Z>="A"&&Z<="F"};function se(F,Z){var oe=T();kr(oe,{expression:F,extraNodes:Z}),O(oe);var Ie=te(oe);if(oe.token!=="")throw oe.tokenType===w.DELIMITER?tt(oe,"Unexpected operator "+oe.token):Ee(oe,'Unexpected part "'+oe.token+'"');return Ie}function te(F){var Z,oe=[],Ie;for(F.token!==""&&F.token!==`
`&&F.token!==";"&&(Z=W(F),F.comment&&(Z.comment=F.comment));F.token===`
`||F.token===";";)oe.length===0&&Z&&(Ie=F.token!==";",oe.push({node:Z,visible:Ie})),O(F),F.token!==`
`&&F.token!==";"&&F.token!==""&&(Z=W(F),F.comment&&(Z.comment=F.comment),Ie=F.token!==";",oe.push({node:Z,visible:Ie}));return oe.length>0?new s(oe):(Z||(Z=new u(void 0),F.comment&&(Z.comment=F.comment)),Z)}function W(F){var Z,oe,Ie,lt,mt=ue(F);if(F.token==="="){if(pr(mt))return Z=mt.name,Y(F),Ie=W(F),new o(new S(Z),Ie);if(Hi(mt))return Y(F),Ie=W(F),new o(mt.object,mt.index,Ie);if(di(mt)&&pr(mt.fn)&&(lt=!0,oe=[],Z=mt.name,mt.args.forEach(function(Sr,Ln){pr(Sr)?oe[Ln]=Sr.name:lt=!1}),lt))return Y(F),Ie=W(F),new c(Z,oe,Ie);throw Ee(F,"Invalid left hand side of assignment operator =")}return mt}function ue(F){for(var Z=we(F);F.token==="?";){var oe=F.conditionalLevel;F.conditionalLevel=F.nestingLevel,Y(F);var Ie=Z,lt=W(F);if(F.token!==":")throw Ee(F,"False part of conditional expression expected");F.conditionalLevel=null,Y(F);var mt=W(F);Z=new l(Ie,lt,mt),F.conditionalLevel=oe}return Z}function we(F){for(var Z=le(F);F.token==="or";)Y(F),Z=new p("or","or",[Z,le(F)]);return Z}function le(F){for(var Z=ge(F);F.token==="xor";)Y(F),Z=new p("xor","xor",[Z,ge(F)]);return Z}function ge(F){for(var Z=J(F);F.token==="and";)Y(F),Z=new p("and","and",[Z,J(F)]);return Z}function J(F){for(var Z=X(F);F.token==="|";)Y(F),Z=new p("|","bitOr",[Z,X(F)]);return Z}function X(F){for(var Z=ne(F);F.token==="^|";)Y(F),Z=new p("^|","bitXor",[Z,ne(F)]);return Z}function ne(F){for(var Z=he(F);F.token==="&";)Y(F),Z=new p("&","bitAnd",[Z,he(F)]);return Z}function he(F){for(var Z=[de(F)],oe=[],Ie={"==":"equal","!=":"unequal","<":"smaller",">":"larger","<=":"smallerEq",">=":"largerEq"};nt(Ie,F.token);){var lt={name:F.token,fn:Ie[F.token]};oe.push(lt),Y(F),Z.push(de(F))}return Z.length===1?Z[0]:Z.length===2?new p(oe[0].name,oe[0].fn,Z):new y(oe.map(mt=>mt.fn),Z)}function de(F){var Z,oe,Ie,lt;Z=_e(F);for(var mt={"<<":"leftShift",">>":"rightArithShift",">>>":"rightLogShift"};nt(mt,F.token);)oe=F.token,Ie=mt[oe],Y(F),lt=[Z,_e(F)],Z=new p(oe,Ie,lt);return Z}function _e(F){var Z,oe,Ie,lt;Z=be(F);for(var mt={to:"to",in:"to"};nt(mt,F.token);)oe=F.token,Ie=mt[oe],Y(F),oe==="in"&&F.token===""?Z=new p("*","multiply",[Z,new S("in")],!0):(lt=[Z,be(F)],Z=new p(oe,Ie,lt));return Z}function be(F){var Z,oe=[];if(F.token===":"?Z=new u(1):Z=H(F),F.token===":"&&F.conditionalLevel!==F.nestingLevel){for(oe.push(Z);F.token===":"&&oe.length<3;)Y(F),F.token===")"||F.token==="]"||F.token===","||F.token===""?oe.push(new S("end")):oe.push(H(F));oe.length===3?Z=new v(oe[0],oe[2],oe[1]):Z=new v(oe[0],oe[1])}return Z}function H(F){var Z,oe,Ie,lt;Z=K(F);for(var mt={"+":"add","-":"subtract"};nt(mt,F.token);){oe=F.token,Ie=mt[oe],Y(F);var Sr=K(F);Sr.isPercentage?lt=[Z,new p("*","multiply",[Z,Sr])]:lt=[Z,Sr],Z=new p(oe,Ie,lt)}return Z}function K(F){var Z,oe,Ie,lt;Z=fe(F),oe=Z;for(var mt={"*":"multiply",".*":"dotMultiply","/":"divide","./":"dotDivide","%":"mod",mod:"mod"};nt(mt,F.token);)if(Ie=F.token,lt=mt[Ie],Y(F),Ie==="%"&&F.tokenType===w.DELIMITER&&F.token!=="(")if(F.token!==""&&mt[F.token]){var Sr=new p("/","divide",[Z,new u(100)],!1,!0);Ie=F.token,lt=mt[Ie],Y(F),oe=fe(F),Z=new p(Ie,lt,[Sr,oe])}else Z=new p("/","divide",[Z,new u(100)],!1,!0);else oe=fe(F),Z=new p(Ie,lt,[Z,oe]);return Z}function fe(F){var Z,oe;for(Z=pe(F),oe=Z;F.tokenType===w.SYMBOL||F.token==="in"&&It(Z)||F.token==="in"&&wr(Z)&&Z.fn==="unaryMinus"&&It(Z.args[0])||F.tokenType===w.NUMBER&&!It(oe)&&(!wr(oe)||oe.op==="!")||F.token==="(";)oe=pe(F),Z=new p("*","multiply",[Z,oe],!0);return Z}function pe(F){for(var Z=Ce(F),oe=Z,Ie=[];F.token==="/"&&T0(oe);)if(Ie.push(kr({},F)),Y(F),F.tokenType===w.NUMBER)if(Ie.push(kr({},F)),Y(F),F.tokenType===w.SYMBOL||F.token==="("||F.token==="in")kr(F,Ie.pop()),Ie.pop(),oe=Ce(F),Z=new p("/","divide",[Z,oe]);else{Ie.pop(),kr(F,Ie.pop());break}else{kr(F,Ie.pop());break}return Z}function Ce(F){var Z,oe,Ie,lt={"-":"unaryMinus","+":"unaryPlus","~":"bitNot",not:"not"};return nt(lt,F.token)?(Ie=lt[F.token],Z=F.token,Y(F),oe=[Ce(F)],new p(Z,Ie,oe)):ke(F)}function ke(F){var Z,oe,Ie,lt;return Z=Ze(F),(F.token==="^"||F.token===".^")&&(oe=F.token,Ie=oe==="^"?"pow":"dotPow",Y(F),lt=[Z,Ce(F)],Z=new p(oe,Ie,lt)),Z}function Ze(F){var Z,oe,Ie,lt;Z=rt(F);for(var mt={"!":"factorial","'":"ctranspose"};nt(mt,F.token);)oe=F.token,Ie=mt[oe],O(F),lt=[Z],Z=new p(oe,Ie,lt),Z=vt(F,Z);return Z}function rt(F){var Z=[];if(F.tokenType===w.SYMBOL&&nt(F.extraNodes,F.token)){var oe=F.extraNodes[F.token];if(O(F),F.token==="("){if(Z=[],P(F),O(F),F.token!==")")for(Z.push(W(F));F.token===",";)O(F),Z.push(W(F));if(F.token!==")")throw Ee(F,"Parenthesis ) expected");ae(F),O(F)}return new oe(Z)}return Tt(F)}function Tt(F){var Z,oe;return F.tokenType===w.SYMBOL||F.tokenType===w.DELIMITER&&F.token in C?(oe=F.token,O(F),nt(E,oe)?Z=new u(E[oe]):D.includes(oe)?Z=new u(t(oe,"number")):Z=new S(oe),Z=vt(F,Z),Z):lr(F)}function vt(F,Z,oe){for(var Ie;(F.token==="("||F.token==="["||F.token===".")&&(!oe||oe.includes(F.token));)if(Ie=[],F.token==="(")if(pr(Z)||Hi(Z)){if(P(F),O(F),F.token!==")")for(Ie.push(W(F));F.token===",";)O(F),Ie.push(W(F));if(F.token!==")")throw Ee(F,"Parenthesis ) expected");ae(F),O(F),Z=new d(Z,Ie)}else return Z;else if(F.token==="["){if(P(F),O(F),F.token!=="]")for(Ie.push(W(F));F.token===",";)O(F),Ie.push(W(F));if(F.token!=="]")throw Ee(F,"Parenthesis ] expected");ae(F),O(F),Z=new i(Z,new f(Ie))}else{O(F);var lt=F.tokenType===w.SYMBOL||F.tokenType===w.DELIMITER&&F.token in C;if(!lt)throw Ee(F,"Property name expected after dot");Ie.push(new u(F.token)),O(F);var mt=!0;Z=new i(Z,new f(Ie,mt))}return Z}function lr(F){var Z,oe;return F.token==='"'||F.token==="'"?(oe=ir(F,F.token),Z=new u(oe),Z=vt(F,Z),Z):Br(F)}function ir(F,Z){for(var oe="";B(F)!==""&&B(F)!==Z;)if(B(F)==="\\"){V(F);var Ie=B(F),lt=M[Ie];if(lt!==void 0)oe+=lt,F.index+=1;else if(Ie==="u"){var mt=F.expression.slice(F.index+1,F.index+5);if(/^[0-9A-Fa-f]{4}$/.test(mt))oe+=String.fromCharCode(parseInt(mt,16)),F.index+=5;else throw Ee(F,"Invalid unicode character \\u".concat(mt))}else throw Ee(F,"Bad escape character \\".concat(Ie))}else oe+=B(F),V(F);if(O(F),F.token!==Z)throw Ee(F,"End of string ".concat(Z," expected"));return O(F),oe}function Br(F){var Z,oe,Ie,lt;if(F.token==="["){if(P(F),O(F),F.token!=="]"){var mt=cn(F);if(F.token===";"){for(Ie=1,oe=[mt];F.token===";";)O(F),F.token!=="]"&&(oe[Ie]=cn(F),Ie++);if(F.token!=="]")throw Ee(F,"End of matrix ] expected");ae(F),O(F),lt=oe[0].items.length;for(var Sr=1;Sr<Ie;Sr++)if(oe[Sr].items.length!==lt)throw tt(F,"Column dimensions mismatch ("+oe[Sr].items.length+" !== "+lt+")");Z=new a(oe)}else{if(F.token!=="]")throw Ee(F,"End of matrix ] expected");ae(F),O(F),Z=mt}}else ae(F),O(F),Z=new a([]);return vt(F,Z)}return ee(F)}function cn(F){for(var Z=[W(F)],oe=1;F.token===",";)O(F),F.token!=="]"&&F.token!==";"&&(Z[oe]=W(F),oe++);return new a(Z)}function ee(F){if(F.token==="{"){P(F);var Z,oe={};do if(O(F),F.token!=="}"){if(F.token==='"'||F.token==="'")Z=ir(F,F.token);else if(F.tokenType===w.SYMBOL||F.tokenType===w.DELIMITER&&F.token in C)Z=F.token,O(F);else throw Ee(F,"Symbol or string expected as object key");if(F.token!==":")throw Ee(F,"Colon : expected after object key");O(F),oe[Z]=W(F)}while(F.token===",");if(F.token!=="}")throw Ee(F,"Comma , or bracket } expected after object value");ae(F),O(F);var Ie=new m(oe);return Ie=vt(F,Ie),Ie}return me(F)}function me(F){var Z;if(F.tokenType===w.NUMBER){Z=F.token,O(F);var oe=Jn(Z,n),Ie=t(Z,oe);return new u(Ie)}return ye(F)}function ye(F){var Z;if(F.token==="("){if(P(F),O(F),Z=W(F),F.token!==")")throw Ee(F,"Parenthesis ) expected");return ae(F),O(F),Z=new h(Z),Z=vt(F,Z),Z}return Oe(F)}function Oe(F){throw F.token===""?Ee(F,"Unexpected end of expression"):Ee(F,"Value expected")}function Be(F){return F.index-F.token.length+1}function Ee(F,Z){var oe=Be(F),Ie=new SyntaxError(Z+" (char "+oe+")");return Ie.char=oe,Ie}function tt(F,Z){var oe=Be(F),Ie=new SyntaxError(Z+" (char "+oe+")");return Ie.char=oe,Ie}return e.addConversion({from:"string",to:"Node",convert:x}),x});var QO="compile",bfe=["typed","parse"],U3=A(QO,bfe,r=>{var{typed:e,parse:t}=r;return e(QO,{string:function(i){return t(i).compile()},"Array | Matrix":function(i){return et(i,function(a){return t(a).compile()})}})});var eR="evaluate",wfe=["typed","parse"],q3=A(eR,wfe,r=>{var{typed:e,parse:t}=r;return e(eR,{string:function(i){var a=Xs();return t(i).compile().evaluate(a)},"string, Map | Object":function(i,a){return t(i).compile().evaluate(a)},"Array | Matrix":function(i){var a=Xs();return et(i,function(o){return t(o).compile().evaluate(a)})},"Array | Matrix, Map | Object":function(i,a){return et(i,function(o){return t(o).compile().evaluate(a)})}})});var _fe="Parser",Sfe=["evaluate","parse"],j3=A(_fe,Sfe,r=>{var{evaluate:e,parse:t}=r;function n(){if(!(this instanceof n))throw new SyntaxError("Constructor must be called with the new operator");Object.defineProperty(this,"scope",{value:Xs(),writable:!1})}n.prototype.type="Parser",n.prototype.isParser=!0,n.prototype.evaluate=function(a){return e(a,this.scope)},n.prototype.get=function(a){if(this.scope.has(a))return this.scope.get(a)},n.prototype.getAll=function(){return TN(this.scope)},n.prototype.getAllAsMap=function(){return this.scope};function i(a){if(a.length===0)return!1;for(var o=0;o<a.length;o++){var s=a.charAt(o-1),l=a.charAt(o),u=a.charAt(o+1),c=t.isAlpha(l,s,u)||o>0&&t.isDigit(l);if(!c)return!1}return!0}return n.prototype.set=function(a,o){if(!i(a))throw new Error("Invalid variable name: '".concat(a,"'. Variable names must follow the specified rules."));return this.scope.set(a,o),o},n.prototype.remove=function(a){this.scope.delete(a)},n.prototype.clear=function(){this.scope.clear()},n},{isClass:!0});var tR="parser",Dfe=["typed","Parser"],$3=A(tR,Dfe,r=>{var{typed:e,Parser:t}=r;return e(tR,{"":function(){return new t}})});var rR="lup",Cfe=["typed","matrix","abs","addScalar","divideScalar","multiplyScalar","subtractScalar","larger","equalScalar","unaryMinus","DenseMatrix","SparseMatrix","Spa"],H3=A(rR,Cfe,r=>{var{typed:e,matrix:t,abs:n,addScalar:i,divideScalar:a,multiplyScalar:o,subtractScalar:s,larger:l,equalScalar:u,unaryMinus:c,DenseMatrix:d,SparseMatrix:f,Spa:m}=r;return e(rR,{DenseMatrix:function(y){return p(y)},SparseMatrix:function(y){return h(y)},Array:function(y){var S=t(y),x=p(S);return{L:x.L.valueOf(),U:x.U.valueOf(),p:x.p}}});function p(v){var y=v._size[0],S=v._size[1],x=Math.min(y,S),_=dt(v._data),w=[],b=[y,x],C=[],E=[x,S],D,M,T,I=[];for(D=0;D<y;D++)I[D]=D;for(M=0;M<S;M++){if(M>0)for(D=0;D<y;D++){var B=Math.min(D,M),V=0;for(T=0;T<B;T++)V=i(V,o(_[D][T],_[T][M]));_[D][M]=s(_[D][M],V)}var L=M,k=0,O=0;for(D=M;D<y;D++){var Y=_[D][M],P=n(Y);l(P,k)&&(L=D,k=P,O=Y)}if(M!==L&&(I[M]=[I[L],I[L]=I[M]][0],d._swapRows(M,L,_)),M<y)for(D=M+1;D<y;D++){var ae=_[D][M];u(ae,0)||(_[D][M]=a(_[D][M],O))}}for(M=0;M<S;M++)for(D=0;D<y;D++){if(M===0&&(D<S&&(C[D]=[]),w[D]=[]),D<M){D<S&&(C[D][M]=_[D][M]),M<y&&(w[D][M]=0);continue}if(D===M){D<S&&(C[D][M]=_[D][M]),M<y&&(w[D][M]=1);continue}D<S&&(C[D][M]=0),M<y&&(w[D][M]=_[D][M])}var se=new d({data:w,size:b}),te=new d({data:C,size:E}),W=[];for(D=0,x=I.length;D<x;D++)W[I[D]]=D;return{L:se,U:te,p:W,toString:function(){return"L: "+this.L.toString()+`
U: `+this.U.toString()+`
P: `+this.p}}}function h(v){var y=v._size[0],S=v._size[1],x=Math.min(y,S),_=v._values,w=v._index,b=v._ptr,C=[],E=[],D=[],M=[y,x],T=[],I=[],B=[],V=[x,S],L,k,O,Y=[],P=[];for(L=0;L<y;L++)Y[L]=L,P[L]=L;var ae=function(W,ue){var we=P[W],le=P[ue];Y[we]=ue,Y[le]=W,P[W]=le,P[ue]=we},se=function(){var W=new m;k<y&&(D.push(C.length),C.push(1),E.push(k)),B.push(T.length);var ue=b[k],we=b[k+1];for(O=ue;O<we;O++)L=w[O],W.set(Y[L],_[O]);k>0&&W.forEach(0,k-1,function(X,ne){f._forEachRow(X,C,E,D,function(he,de){he>X&&W.accumulate(he,c(o(de,ne)))})});var le=k,ge=W.get(k),J=n(ge);W.forEach(k+1,y-1,function(X,ne){var he=n(ne);l(he,J)&&(le=X,J=he,ge=ne)}),k!==le&&(f._swapRows(k,le,M[1],C,E,D),f._swapRows(k,le,V[1],T,I,B),W.swap(k,le),ae(k,le)),W.forEach(0,y-1,function(X,ne){X<=k?(T.push(ne),I.push(X)):(ne=a(ne,ge),u(ne,0)||(C.push(ne),E.push(X)))})};for(k=0;k<S;k++)se();return B.push(T.length),D.push(C.length),{L:new f({values:C,index:E,ptr:D,size:M}),U:new f({values:T,index:I,ptr:B,size:V}),p:Y,toString:function(){return"L: "+this.L.toString()+`
U: `+this.U.toString()+`
P: `+this.p}}}});var nR="qr",Efe=["typed","matrix","zeros","identity","isZero","equal","sign","sqrt","conj","unaryMinus","addScalar","divideScalar","multiplyScalar","subtractScalar","complex"],W3=A(nR,Efe,r=>{var{typed:e,matrix:t,zeros:n,identity:i,isZero:a,equal:o,sign:s,sqrt:l,conj:u,unaryMinus:c,addScalar:d,divideScalar:f,multiplyScalar:m,subtractScalar:p,complex:h}=r;return kr(e(nR,{DenseMatrix:function(_){return y(_)},SparseMatrix:function(_){return S(_)},Array:function(_){var w=t(_),b=y(w);return{Q:b.Q.valueOf(),R:b.R.valueOf()}}}),{_denseQRimpl:v});function v(x){var _=x._size[0],w=x._size[1],b=i([_],"dense"),C=b._data,E=x.clone(),D=E._data,M,T,I,B=n([_],"");for(I=0;I<Math.min(w,_);++I){var V=D[I][I],L=c(o(V,0)?1:s(V)),k=u(L),O=0;for(M=I;M<_;M++)O=d(O,m(D[M][I],u(D[M][I])));var Y=m(L,l(O));if(!a(Y)){var P=p(V,Y);for(B[I]=1,M=I+1;M<_;M++)B[M]=f(D[M][I],P);var ae=c(u(f(P,Y))),se=void 0;for(T=I;T<w;T++){for(se=0,M=I;M<_;M++)se=d(se,m(u(B[M]),D[M][T]));for(se=m(se,ae),M=I;M<_;M++)D[M][T]=m(p(D[M][T],m(B[M],se)),k)}for(M=0;M<_;M++){for(se=0,T=I;T<_;T++)se=d(se,m(C[M][T],B[T]));for(se=m(se,ae),T=I;T<_;++T)C[M][T]=f(p(C[M][T],m(se,u(B[T]))),k)}}}return{Q:b,R:E,toString:function(){return"Q: "+this.Q.toString()+`
R: `+this.R.toString()}}}function y(x){var _=v(x),w=_.R._data;if(x._data.length>0)for(var b=w[0][0].type==="Complex"?h(0):0,C=0;C<w.length;++C)for(var E=0;E<C&&E<(w[0]||[]).length;++E)w[C][E]=b;return _}function S(x){throw new Error("qr not implemented for sparse matrices yet")}});function iR(r,e,t,n){for(var i=r._values,a=r._index,o=r._ptr,s=r._size,l=r._datatype,u=s[0],c=s[1],d=n&&r._values?[]:null,f=[],m=[],p=0,h=0;h<c;h++){m[h]=p;for(var v=t?t[h]:h,y=o[v],S=o[v+1],x=y;x<S;x++){var _=e?e[a[x]]:a[x];f[p]=_,d&&(d[p]=i[x]),p++}}return m[c]=p,r.createSparseMatrix({values:d,index:f,ptr:m,size:[u,c],datatype:l})}function pv(r,e,t,n,i,a,o){var s=0;for(t[o]=r;s>=0;){var l=t[o+s],u=t[n+l];u===-1?(s--,a[e++]=l):(t[n+l]=t[i+u],++s,t[o+s]=u)}return e}function aR(r,e){if(!r)return null;var t=0,n,i=[],a=[],o=0,s=e,l=2*e;for(n=0;n<e;n++)a[o+n]=-1;for(n=e-1;n>=0;n--)r[n]!==-1&&(a[s+n]=a[o+r[n]],a[o+r[n]]=n);for(n=0;n<e;n++)r[n]===-1&&(t=pv(n,t,a,o,s,i,l));return i}function oR(r,e){if(!r)return null;var t=r._index,n=r._ptr,i=r._size,a=i[0],o=i[1],s=[],l=[],u=0,c=o,d,f;if(e)for(d=0;d<a;d++)l[c+d]=-1;for(var m=0;m<o;m++){s[m]=-1,l[u+m]=-1;for(var p=n[m],h=n[m+1],v=p;v<h;v++){var y=t[v];for(d=e?l[c+y]:y;d!==-1&&d<m;d=f)f=l[u+d],l[u+d]=m,f===-1&&(s[d]=m);e&&(l[c+y]=m)}}return s}function sR(r,e,t){for(var n=r._values,i=r._index,a=r._ptr,o=r._size,s=o[1],l=0,u=0;u<s;u++){var c=a[u];for(a[u]=l;c<a[u+1];c++)e(i[c],u,n?n[c]:1,t)&&(i[l]=i[c],n&&(n[l]=n[c]),l++)}return a[s]=l,i.splice(l,i.length-l),n&&n.splice(l,n.length-l),l}function ja(r){return-r-2}var Afe="csAmd",Mfe=["add","multiply","transpose"],lR=A(Afe,Mfe,r=>{var{add:e,multiply:t,transpose:n}=r;return function(c,d){if(!d||c<=0||c>3)return null;var f=d._size,m=f[0],p=f[1],h=0,v=Math.max(16,10*Math.sqrt(p));v=Math.min(p-2,v);var y=i(c,d,m,p,v);sR(y,l,null);for(var S=y._index,x=y._ptr,_=x[p],w=[],b=[],C=0,E=p+1,D=2*(p+1),M=3*(p+1),T=4*(p+1),I=5*(p+1),B=6*(p+1),V=7*(p+1),L=w,k=a(p,x,b,C,M,L,D,V,E,B,T,I),O=o(p,x,b,I,T,B,v,E,M,L,D),Y=0,P,ae,se,te,W,ue,we,le,ge,J,X,ne,he,de,_e,be;O<p;){for(se=-1;Y<p&&(se=b[M+Y])===-1;Y++);b[D+se]!==-1&&(L[b[D+se]]=-1),b[M+Y]=b[D+se];var H=b[T+se],K=b[E+se];O+=K;var fe=0;b[E+se]=-K;var pe=x[se],Ce=H===0?pe:_,ke=Ce;for(te=1;te<=H+1;te++){for(te>H?(ue=se,we=pe,le=b[C+se]-H):(ue=S[pe++],we=x[ue],le=b[C+ue]),W=1;W<=le;W++)P=S[we++],!((ge=b[E+P])<=0)&&(fe+=ge,b[E+P]=-ge,S[ke++]=P,b[D+P]!==-1&&(L[b[D+P]]=L[P]),L[P]!==-1?b[D+L[P]]=b[D+P]:b[M+b[I+P]]=b[D+P]);ue!==se&&(x[ue]=ja(se),b[B+ue]=0)}for(H!==0&&(_=ke),b[I+se]=fe,x[se]=Ce,b[C+se]=ke-Ce,b[T+se]=-2,k=s(k,h,b,B,p),J=Ce;J<ke;J++)if(P=S[J],!((X=b[T+P])<=0)){ge=-b[E+P];var Ze=k-ge;for(pe=x[P],ne=x[P]+X-1;pe<=ne;pe++)ue=S[pe],b[B+ue]>=k?b[B+ue]-=ge:b[B+ue]!==0&&(b[B+ue]=b[I+ue]+Ze)}for(J=Ce;J<ke;J++){for(P=S[J],ne=x[P],he=ne+b[T+P]-1,de=ne,_e=0,be=0,pe=ne;pe<=he;pe++)if(ue=S[pe],b[B+ue]!==0){var rt=b[B+ue]-k;rt>0?(be+=rt,S[de++]=ue,_e+=ue):(x[ue]=ja(se),b[B+ue]=0)}b[T+P]=de-ne+1;var Tt=de,vt=ne+b[C+P];for(pe=he+1;pe<vt;pe++){ae=S[pe];var lr=b[E+ae];lr<=0||(be+=lr,S[de++]=ae,_e+=ae)}be===0?(x[P]=ja(se),ge=-b[E+P],fe-=ge,K+=ge,O+=ge,b[E+P]=0,b[T+P]=-1):(b[I+P]=Math.min(b[I+P],be),S[de]=S[Tt],S[Tt]=S[ne],S[ne]=se,b[C+P]=de-ne+1,_e=(_e<0?-_e:_e)%p,b[D+P]=b[V+_e],b[V+_e]=P,L[P]=_e)}for(b[I+se]=fe,h=Math.max(h,fe),k=s(k+h,h,b,B,p),J=Ce;J<ke;J++)if(P=S[J],!(b[E+P]>=0))for(_e=L[P],P=b[V+_e],b[V+_e]=-1;P!==-1&&b[D+P]!==-1;P=b[D+P],k++){for(le=b[C+P],X=b[T+P],pe=x[P]+1;pe<=x[P]+le-1;pe++)b[B+S[pe]]=k;var ir=P;for(ae=b[D+P];ae!==-1;){var Br=b[C+ae]===le&&b[T+ae]===X;for(pe=x[ae]+1;Br&&pe<=x[ae]+le-1;pe++)b[B+S[pe]]!==k&&(Br=0);Br?(x[ae]=ja(P),b[E+P]+=b[E+ae],b[E+ae]=0,b[T+ae]=-1,ae=b[D+ae],b[D+ir]=ae):(ir=ae,ae=b[D+ae])}}for(pe=Ce,J=Ce;J<ke;J++)P=S[J],!((ge=-b[E+P])<=0)&&(b[E+P]=ge,be=b[I+P]+fe-ge,be=Math.min(be,p-O-ge),b[M+be]!==-1&&(L[b[M+be]]=P),b[D+P]=b[M+be],L[P]=-1,b[M+be]=P,Y=Math.min(Y,be),b[I+P]=be,S[pe++]=P);b[E+se]=K,(b[C+se]=pe-Ce)===0&&(x[se]=-1,b[B+se]=0),H!==0&&(_=pe)}for(P=0;P<p;P++)x[P]=ja(x[P]);for(ae=0;ae<=p;ae++)b[M+ae]=-1;for(ae=p;ae>=0;ae--)b[E+ae]>0||(b[D+ae]=b[M+x[ae]],b[M+x[ae]]=ae);for(ue=p;ue>=0;ue--)b[E+ue]<=0||x[ue]!==-1&&(b[D+ue]=b[M+x[ue]],b[M+x[ue]]=ue);for(se=0,P=0;P<=p;P++)x[P]===-1&&(se=pv(P,se,b,M,D,w,B));return w.splice(w.length-1,1),w};function i(u,c,d,f,m){var p=n(c);if(u===1&&f===d)return e(c,p);if(u===2){for(var h=p._index,v=p._ptr,y=0,S=0;S<d;S++){var x=v[S];if(v[S]=y,!(v[S+1]-x>m))for(var _=v[S+1];x<_;x++)h[y++]=h[x]}return v[d]=y,c=n(p),t(p,c)}return t(p,c)}function a(u,c,d,f,m,p,h,v,y,S,x,_){for(var w=0;w<u;w++)d[f+w]=c[w+1]-c[w];d[f+u]=0;for(var b=0;b<=u;b++)d[m+b]=-1,p[b]=-1,d[h+b]=-1,d[v+b]=-1,d[y+b]=1,d[S+b]=1,d[x+b]=0,d[_+b]=d[f+b];var C=s(0,0,d,S,u);return d[x+u]=-2,c[u]=-1,d[S+u]=0,C}function o(u,c,d,f,m,p,h,v,y,S,x){for(var _=0,w=0;w<u;w++){var b=d[f+w];if(b===0)d[m+w]=-2,_++,c[w]=-1,d[p+w]=0;else if(b>h)d[v+w]=0,d[m+w]=-1,_++,c[w]=ja(u),d[v+u]++;else{var C=d[y+b];C!==-1&&(S[C]=w),d[x+w]=d[y+b],d[y+b]=w}}return _}function s(u,c,d,f,m){if(u<2||u+c<0){for(var p=0;p<m;p++)d[f+p]!==0&&(d[f+p]=1);u=2}return u}function l(u,c){return u!==c}});function uR(r,e,t,n,i,a,o){var s,l,u=0,c;if(r<=e||t[n+e]<=t[i+r])return-1;t[i+r]=t[n+e];var d=t[a+r];if(t[a+r]=e,d===-1)u=1,c=r;else{for(u=2,c=d;c!==t[o+c];c=t[o+c]);for(s=d;s!==c;s=l)l=t[o+s],t[o+s]=c}return{jleaf:u,q:c}}var Nfe="csCounts",Tfe=["transpose"],cR=A(Nfe,Tfe,r=>{var{transpose:e}=r;return function(t,n,i,a){if(!t||!n||!i)return null;var o=t._size,s=o[0],l=o[1],u,c,d,f,m,p,h,v=4*l+(a?l+s+1:0),y=[],S=0,x=l,_=2*l,w=3*l,b=4*l,C=5*l+1;for(d=0;d<v;d++)y[d]=-1;var E=[],D=e(t),M=D._index,T=D._ptr;for(d=0;d<l;d++)for(c=i[d],E[c]=y[w+c]===-1?1:0;c!==-1&&y[w+c]===-1;c=n[c])y[w+c]=d;if(a){for(d=0;d<l;d++)y[i[d]]=d;for(u=0;u<s;u++){for(d=l,p=T[u],h=T[u+1],m=p;m<h;m++)d=Math.min(d,y[M[m]]);y[C+u]=y[b+d],y[b+d]=u}}for(u=0;u<l;u++)y[S+u]=u;for(d=0;d<l;d++){for(c=i[d],n[c]!==-1&&E[n[c]]--,f=a?y[b+d]:c;f!==-1;f=a?y[C+f]:-1)for(m=T[f];m<T[f+1];m++){u=M[m];var I=uR(u,c,y,w,x,_,S);I.jleaf>=1&&E[c]++,I.jleaf===2&&E[I.q]--}n[c]!==-1&&(y[S+c]=n[c])}for(c=0;c<l;c++)n[c]!==-1&&(E[n[c]]+=E[c]);return E}});var Ffe="csSqr",Ife=["add","multiply","transpose"],dR=A(Ffe,Ife,r=>{var{add:e,multiply:t,transpose:n}=r,i=lR({add:e,multiply:t,transpose:n}),a=cR({transpose:n});return function(l,u,c){var d=u._ptr,f=u._size,m=f[1],p,h={};if(h.q=i(l,u),l&&!h.q)return null;if(c){var v=l?iR(u,null,h.q,0):u;h.parent=oR(v,1);var y=aR(h.parent,m);if(h.cp=a(v,h.parent,y,1),v&&h.parent&&h.cp&&o(v,h))for(h.unz=0,p=0;p<m;p++)h.unz+=h.cp[p]}else h.unz=4*d[m]+m,h.lnz=h.unz;return h};function o(s,l){var u=s._ptr,c=s._index,d=s._size,f=d[0],m=d[1];l.pinv=[],l.leftmost=[];var p=l.parent,h=l.pinv,v=l.leftmost,y=[],S=0,x=f,_=f+m,w=f+2*m,b,C,E,D,M;for(C=0;C<m;C++)y[x+C]=-1,y[_+C]=-1,y[w+C]=0;for(b=0;b<f;b++)v[b]=-1;for(C=m-1;C>=0;C--)for(D=u[C],M=u[C+1],E=D;E<M;E++)v[c[E]]=C;for(b=f-1;b>=0;b--)h[b]=-1,C=v[b],C!==-1&&(y[w+C]++===0&&(y[_+C]=b),y[S+b]=y[x+C],y[x+C]=b);for(l.lnz=0,l.m2=f,C=0;C<m;C++)if(b=y[x+C],l.lnz++,b<0&&(b=l.m2++),h[b]=C,!(--w[C]<=0)){l.lnz+=y[w+C];var T=p[C];T!==-1&&(y[w+T]===0&&(y[_+T]=y[_+C]),y[S+y[_+C]]=y[x+T],y[x+T]=y[S+b],y[w+T]+=y[w+C])}for(b=0;b<f;b++)h[b]<0&&(h[b]=C++);return!0}});function lm(r,e){return r[e]<0}function gv(r,e){r[e]=ja(r[e])}function G3(r){return r<0?ja(r):r}function fR(r,e,t,n,i){var a=e._index,o=e._ptr,s=e._size,l=s[1],u,c,d,f=0;for(n[0]=r;f>=0;){r=n[f];var m=i?i[r]:r;lm(o,r)||(gv(o,r),n[l+f]=m<0?0:G3(o[m]));var p=1;for(c=n[l+f],d=m<0?0:G3(o[m+1]);c<d;c++)if(u=a[c],!lm(o,u)){n[l+f]=c,n[++f]=u,p=0;break}p&&(f--,n[--t]=r)}return t}function mR(r,e,t,n,i){var a=r._ptr,o=r._size,s=e._index,l=e._ptr,u=o[1],c,d,f,m=u;for(d=l[t],f=l[t+1],c=d;c<f;c++){var p=s[c];lm(a,p)||(m=fR(p,r,m,n,i))}for(c=m;c<u;c++)gv(a,n[c]);return m}var Ofe="csSpsolve",Rfe=["divideScalar","multiply","subtract"],hR=A(Ofe,Rfe,r=>{var{divideScalar:e,multiply:t,subtract:n}=r;return function(a,o,s,l,u,c,d){var f=a._values,m=a._index,p=a._ptr,h=a._size,v=h[1],y=o._values,S=o._index,x=o._ptr,_,w,b,C,E=mR(a,o,s,l,c);for(_=E;_<v;_++)u[l[_]]=0;for(w=x[s],b=x[s+1],_=w;_<b;_++)u[S[_]]=y[_];for(var D=E;D<v;D++){var M=l[D],T=c?c[M]:M;if(!(T<0))for(w=p[T],b=p[T+1],u[M]=e(u[M],f[d?w:b-1]),_=d?w+1:w,C=d?b:b-1;_<C;_++){var I=m[_];u[I]=n(u[I],t(f[_],u[M]))}}return E}});var kfe="csLu",Pfe=["abs","divideScalar","multiply","subtract","larger","largerEq","SparseMatrix"],pR=A(kfe,Pfe,r=>{var{abs:e,divideScalar:t,multiply:n,subtract:i,larger:a,largerEq:o,SparseMatrix:s}=r,l=hR({divideScalar:t,multiply:n,subtract:i});return function(c,d,f){if(!c)return null;var m=c._size,p=m[1],h,v=100,y=100;d&&(h=d.q,v=d.lnz||v,y=d.unz||y);var S=[],x=[],_=[],w=new s({values:S,index:x,ptr:_,size:[p,p]}),b=[],C=[],E=[],D=new s({values:b,index:C,ptr:E,size:[p,p]}),M=[],T,I,B=[],V=[];for(T=0;T<p;T++)B[T]=0,M[T]=-1,_[T+1]=0;v=0,y=0;for(var L=0;L<p;L++){_[L]=v,E[L]=y;var k=h?h[L]:L,O=l(w,c,k,V,B,M,1),Y=-1,P=-1;for(I=O;I<p;I++)if(T=V[I],M[T]<0){var ae=e(B[T]);a(ae,P)&&(P=ae,Y=T)}else C[y]=M[T],b[y++]=B[T];if(Y===-1||P<=0)return null;M[k]<0&&o(e(B[k]),n(P,f))&&(Y=k);var se=B[Y];for(C[y]=L,b[y++]=se,M[Y]=L,x[v]=Y,S[v++]=1,I=O;I<p;I++)T=V[I],M[T]<0&&(x[v]=T,S[v++]=t(B[T],se)),B[T]=0}for(_[p]=v,E[p]=y,I=0;I<v;I++)x[I]=M[x[I]];return S.splice(v,S.length-v),x.splice(v,x.length-v),b.splice(y,b.length-y),C.splice(y,C.length-y),{L:w,U:D,pinv:M}}});var gR="slu",Bfe=["typed","abs","add","multiply","transpose","divideScalar","subtract","larger","largerEq","SparseMatrix"],Y3=A(gR,Bfe,r=>{var{typed:e,abs:t,add:n,multiply:i,transpose:a,divideScalar:o,subtract:s,larger:l,largerEq:u,SparseMatrix:c}=r,d=dR({add:n,multiply:i,transpose:a}),f=pR({abs:t,divideScalar:o,multiply:i,subtract:s,larger:l,largerEq:u,SparseMatrix:c});return e(gR,{"SparseMatrix, number, number":function(p,h,v){if(!Ye(h)||h<0||h>3)throw new Error("Symbolic Ordering and Analysis order must be an integer number in the interval [0, 3]");if(v<0||v>1)throw new Error("Partial pivoting threshold must be a number from 0 to 1");var y=d(h,p,!1),S=f(p,y,v);return{L:S.L,U:S.U,p:S.pinv,q:y.q,toString:function(){return"L: "+this.L.toString()+`
U: `+this.U.toString()+`
p: `+this.p.toString()+(this.q?`
q: `+this.q.toString():"")+`
`}}}})});function Z3(r,e){var t,n=e.length,i=[];if(r)for(t=0;t<n;t++)i[r[t]]=e[t];else for(t=0;t<n;t++)i[t]=e[t];return i}var vR="lusolve",Lfe=["typed","matrix","lup","slu","usolve","lsolve","DenseMatrix"],X3=A(vR,Lfe,r=>{var{typed:e,matrix:t,lup:n,slu:i,usolve:a,lsolve:o,DenseMatrix:s}=r,l=_o({DenseMatrix:s});return e(vR,{"Array, Array | Matrix":function(f,m){f=t(f);var p=n(f),h=c(p.L,p.U,p.p,null,m);return h.valueOf()},"DenseMatrix, Array | Matrix":function(f,m){var p=n(f);return c(p.L,p.U,p.p,null,m)},"SparseMatrix, Array | Matrix":function(f,m){var p=n(f);return c(p.L,p.U,p.p,null,m)},"SparseMatrix, Array | Matrix, number, number":function(f,m,p,h){var v=i(f,p,h);return c(v.L,v.U,v.p,v.q,m)},"Object, Array | Matrix":function(f,m){return c(f.L,f.U,f.p,f.q,m)}});function u(d){if(Je(d))return d;if(Yt(d))return t(d);throw new TypeError("Invalid Matrix LU decomposition")}function c(d,f,m,p,h){d=u(d),f=u(f),m&&(h=l(d,h,!0),h._data=Z3(m,h._data));var v=o(d,h),y=a(f,v);return p&&(y._data=Z3(p,y._data)),y}});var xR="polynomialRoot",zfe=["typed","isZero","equalScalar","add","subtract","multiply","divide","sqrt","unaryMinus","cbrt","typeOf","im","re"],K3=A(xR,zfe,r=>{var{typed:e,isZero:t,equalScalar:n,add:i,subtract:a,multiply:o,divide:s,sqrt:l,unaryMinus:u,cbrt:c,typeOf:d,im:f,re:m}=r;return e(xR,{"number|Complex, ...number|Complex":(p,h)=>{for(var v=[p,...h];v.length>0&&t(v[v.length-1]);)v.pop();if(v.length<2)throw new RangeError("Polynomial [".concat(p,", ").concat(h,"] must have a non-zero non-constant coefficient"));switch(v.length){case 2:return[u(s(v[0],v[1]))];case 3:{var[y,S,x]=v,_=o(2,x),w=o(S,S),b=o(4,x,y);if(n(w,b))return[s(u(S),_)];var C=l(a(w,b));return[s(a(C,S),_),s(a(u(C),S),_)]}case 4:{var[E,D,M,T]=v,I=u(o(3,T)),B=o(M,M),V=o(3,T,D),L=i(o(2,M,M,M),o(27,T,T,E)),k=o(9,T,M,D);if(n(B,V)&&n(L,k))return[s(M,I)];var O=a(B,V),Y=a(L,k),P=i(o(18,T,M,D,E),o(M,M,D,D)),ae=i(o(4,M,M,M,E),o(4,T,D,D,D),o(27,T,T,E,E));if(n(P,ae))return[s(a(o(4,T,M,D),i(o(9,T,T,E),o(M,M,M))),o(T,O)),s(a(o(9,T,E),o(M,D)),o(2,O))];var se;n(B,V)?se=Y:se=s(i(Y,l(a(o(Y,Y),o(4,O,O,O)))),2);var te=!0,W=c(se,te).toArray().map(ue=>s(i(M,ue,s(O,ue)),I));return W.map(ue=>d(ue)==="Complex"&&n(m(ue),m(ue)+f(ue))?m(ue):ue)}default:throw new RangeError("only implemented for cubic or lower-order polynomials, not ".concat(v))}}})});var Vfe="Help",Ufe=["evaluate"],J3=A(Vfe,Ufe,r=>{var{evaluate:e}=r;function t(n){if(!(this instanceof t))throw new SyntaxError("Constructor must be called with the new operator");if(!n)throw new Error('Argument "doc" missing');this.doc=n}return t.prototype.type="Help",t.prototype.isHelp=!0,t.prototype.toString=function(){var n=this.doc||{},i=`
`;if(n.name&&(i+="Name: "+n.name+`

`),n.category&&(i+="Category: "+n.category+`

`),n.description&&(i+=`Description:
    `+n.description+`

`),n.syntax&&(i+=`Syntax:
    `+n.syntax.join(`
    `)+`

`),n.examples){i+=`Examples:
`;for(var a=!1,o=e("config()"),s={config:d=>(a=!0,e("config(newConfig)",{newConfig:d}))},l=0;l<n.examples.length;l++){var u=n.examples[l];i+="    "+u+`
`;var c=void 0;try{c=e(u,s)}catch(d){c=d}c!==void 0&&!ag(c)&&(i+="        "+pt(c,{precision:14})+`
`)}i+=`
`,a&&e("config(originalConfig)",{originalConfig:o})}return n.mayThrow&&n.mayThrow.length&&(i+="Throws: "+n.mayThrow.join(", ")+`

`),n.seealso&&n.seealso.length&&(i+="See also: "+n.seealso.join(", ")+`
`),i},t.prototype.toJSON=function(){var n=dt(this.doc);return n.mathjs="Help",n},t.fromJSON=function(n){var i={};return Object.keys(n).filter(a=>a!=="mathjs").forEach(a=>{i[a]=n[a]}),new t(i)},t.prototype.valueOf=t.prototype.toString,t},{isClass:!0});var qfe="Chain",jfe=["?on","math","typed"],Q3=A(qfe,jfe,r=>{var{on:e,math:t,typed:n}=r;function i(u){if(!(this instanceof i))throw new SyntaxError("Constructor must be called with the new operator");og(u)?this.value=u.value:this.value=u}i.prototype.type="Chain",i.prototype.isChain=!0,i.prototype.done=function(){return this.value},i.prototype.valueOf=function(){return this.value},i.prototype.toString=function(){return pt(this.value)},i.prototype.toJSON=function(){return{mathjs:"Chain",value:this.value}},i.fromJSON=function(u){return new i(u.value)};function a(u,c){typeof c=="function"&&(i.prototype[u]=s(c))}function o(u,c){jN(i.prototype,u,function(){var f=c();if(typeof f=="function")return s(f)})}function s(u){return function(){if(arguments.length===0)return new i(u(this.value));for(var c=[this.value],d=0;d<arguments.length;d++)c[d+1]=arguments[d];if(n.isTypedFunction(u)){var f=n.resolve(u,c);if(f.params.length===1)throw new Error("chain function "+u.name+" cannot match rest parameter between chain value and additional arguments.");return new i(f.implementation.apply(u,c))}return new i(u.apply(u,c))}}i.createProxy=function(u,c){if(typeof u=="string")a(u,c);else{var d=function(p){nt(u,p)&&l[p]===void 0&&o(p,()=>u[p])};for(var f in u)d(f)}};var l={expression:!0,docs:!0,type:!0,classes:!0,json:!0,error:!0,isChain:!0};return i.createProxy(t),e&&e("import",function(u,c,d){d||o(u,c)}),i},{isClass:!0});var eS={name:"e",category:"Constants",syntax:["e"],description:"Euler's number, the base of the natural logarithm. Approximately equal to 2.71828",examples:["e","e ^ 2","exp(2)","log(e)"],seealso:["exp"]};var yR={name:"false",category:"Constants",syntax:["false"],description:"Boolean value false",examples:["false"],seealso:["true"]};var bR={name:"i",category:"Constants",syntax:["i"],description:"Imaginary unit, defined as i*i=-1. A complex number is described as a + b*i, where a is the real part, and b is the imaginary part.",examples:["i","i * i","sqrt(-1)"],seealso:[]};var wR={name:"Infinity",category:"Constants",syntax:["Infinity"],description:"Infinity, a number which is larger than the maximum number that can be handled by a floating point number.",examples:["Infinity","1 / 0"],seealso:[]};var _R={name:"LN10",category:"Constants",syntax:["LN10"],description:"Returns the natural logarithm of 10, approximately equal to 2.302",examples:["LN10","log(10)"],seealso:[]};var SR={name:"LN2",category:"Constants",syntax:["LN2"],description:"Returns the natural logarithm of 2, approximately equal to 0.693",examples:["LN2","log(2)"],seealso:[]};var DR={name:"LOG10E",category:"Constants",syntax:["LOG10E"],description:"Returns the base-10 logarithm of E, approximately equal to 0.434",examples:["LOG10E","log(e, 10)"],seealso:[]};var CR={name:"LOG2E",category:"Constants",syntax:["LOG2E"],description:"Returns the base-2 logarithm of E, approximately equal to 1.442",examples:["LOG2E","log(e, 2)"],seealso:[]};var ER={name:"NaN",category:"Constants",syntax:["NaN"],description:"Not a number",examples:["NaN","0 / 0"],seealso:[]};var AR={name:"null",category:"Constants",syntax:["null"],description:"Value null",examples:["null"],seealso:["true","false"]};var MR={name:"phi",category:"Constants",syntax:["phi"],description:"Phi is the golden ratio. Two quantities are in the golden ratio if their ratio is the same as the ratio of their sum to the larger of the two quantities. Phi is defined as `(1 + sqrt(5)) / 2` and is approximately 1.618034...",examples:["phi"],seealso:[]};var tS={name:"pi",category:"Constants",syntax:["pi"],description:"The number pi is a mathematical constant that is the ratio of a circle's circumference to its diameter, and is approximately equal to 3.14159",examples:["pi","sin(pi/2)"],seealso:["tau"]};var NR={name:"SQRT1_2",category:"Constants",syntax:["SQRT1_2"],description:"Returns the square root of 1/2, approximately equal to 0.707",examples:["SQRT1_2","sqrt(1/2)"],seealso:[]};var TR={name:"SQRT2",category:"Constants",syntax:["SQRT2"],description:"Returns the square root of 2, approximately equal to 1.414",examples:["SQRT2","sqrt(2)"],seealso:[]};var FR={name:"tau",category:"Constants",syntax:["tau"],description:"Tau is the ratio constant of a circle's circumference to radius, equal to 2 * pi, approximately 6.2832.",examples:["tau","2 * pi"],seealso:["pi"]};var IR={name:"true",category:"Constants",syntax:["true"],description:"Boolean value true",examples:["true"],seealso:["false"]};var OR={name:"version",category:"Constants",syntax:["version"],description:"A string with the version number of math.js",examples:["version"],seealso:[]};var RR={name:"bignumber",category:"Construction",syntax:["bignumber(x)"],description:"Create a big number from a number or string.",examples:["0.1 + 0.2","bignumber(0.1) + bignumber(0.2)",'bignumber("7.2")','bignumber("7.2e500")',"bignumber([0.1, 0.2, 0.3])"],seealso:["boolean","bigint","complex","fraction","index","matrix","string","unit"]};var kR={name:"bigint",category:"Construction",syntax:["bigint(x)"],description:"Create a bigint, an integer with an arbitrary number of digits, from a number or string.",examples:["123123123123123123 # a large number will lose digits",'bigint("123123123123123123")','bignumber(["1", "3", "5"])'],seealso:["boolean","bignumber","number","complex","fraction","index","matrix","string","unit"]};var PR={name:"boolean",category:"Construction",syntax:["x","boolean(x)"],description:"Convert a string or number into a boolean.",examples:["boolean(0)","boolean(1)","boolean(3)",'boolean("true")','boolean("false")',"boolean([1, 0, 1, 1])"],seealso:["bignumber","complex","index","matrix","number","string","unit"]};var BR={name:"complex",category:"Construction",syntax:["complex()","complex(re, im)","complex(string)"],description:"Create a complex number.",examples:["complex()","complex(2, 3)",'complex("7 - 2i")'],seealso:["bignumber","boolean","index","matrix","number","string","unit"]};var LR={name:"createUnit",category:"Construction",syntax:["createUnit(definitions)","createUnit(name, definition)"],description:"Create a user-defined unit and register it with the Unit type.",examples:['createUnit("foo")','createUnit("knot", {definition: "0.514444444 m/s", aliases: ["knots", "kt", "kts"]})','createUnit("mph", "1 mile/hour")'],seealso:["unit","splitUnit"]};var zR={name:"fraction",category:"Construction",syntax:["fraction(num)","fraction(matrix)","fraction(num,den)","fraction({n: num, d: den})"],description:"Create a fraction from a number or from integer numerator and denominator.",examples:["fraction(0.125)","fraction(1, 3) + fraction(2, 5)","fraction({n: 333, d: 53})","fraction([sqrt(9), sqrt(10), sqrt(11)])"],seealso:["bignumber","boolean","complex","index","matrix","string","unit"]};var VR={name:"index",category:"Construction",syntax:["[start]","[start:end]","[start:step:end]","[start1, start 2, ...]","[start1:end1, start2:end2, ...]","[start1:step1:end1, start2:step2:end2, ...]"],description:"Create an index to get or replace a subset of a matrix",examples:["A = [1, 2, 3; 4, 5, 6]","A[1, :]","A[1, 2] = 50","A[1:2, 1:2] = 1","B = [1, 2, 3]","B[B>1 and B<3]"],seealso:["bignumber","boolean","complex","matrix,","number","range","string","unit"]};var UR={name:"matrix",category:"Construction",syntax:["[]","[a1, b1, ...; a2, b2, ...]","matrix()",'matrix("dense")',"matrix([...])"],description:"Create a matrix.",examples:["[]","[1, 2, 3]","[1, 2, 3; 4, 5, 6]","matrix()","matrix([3, 4])",'matrix([3, 4; 5, 6], "sparse")','matrix([3, 4; 5, 6], "sparse", "number")'],seealso:["bignumber","boolean","complex","index","number","string","unit","sparse"]};var qR={name:"number",category:"Construction",syntax:["x","number(x)","number(unit, valuelessUnit)"],description:"Create a number or convert a string or boolean into a number.",examples:["2","2e3","4.05","number(2)",'number("7.2")',"number(true)","number([true, false, true, true])",'number(unit("52cm"), "m")'],seealso:["bignumber","bigint","boolean","complex","fraction","index","matrix","string","unit"]};var jR={name:"sparse",category:"Construction",syntax:["sparse()","sparse([a1, b1, ...; a1, b2, ...])",'sparse([a1, b1, ...; a1, b2, ...], "number")'],description:"Create a sparse matrix.",examples:["sparse()","sparse([3, 4; 5, 6])",'sparse([3, 0; 5, 0], "number")'],seealso:["bignumber","boolean","complex","index","number","string","unit","matrix"]};var $R={name:"splitUnit",category:"Construction",syntax:["splitUnit(unit: Unit, parts: Unit[])"],description:"Split a unit in an array of units whose sum is equal to the original unit.",examples:['splitUnit(1 m, ["feet", "inch"])'],seealso:["unit","createUnit"]};var HR={name:"string",category:"Construction",syntax:['"text"',"string(x)"],description:"Create a string or convert a value to a string",examples:['"Hello World!"',"string(4.2)","string(3 + 2i)"],seealso:["bignumber","boolean","complex","index","matrix","number","unit"]};var WR={name:"unit",category:"Construction",syntax:["value unit","unit(value, unit)","unit(string)"],description:"Create a unit.",examples:["5.5 mm","3 inch",'unit(7.1, "kilogram")','unit("23 deg")'],seealso:["bignumber","boolean","complex","index","matrix","number","string"]};var GR={name:"config",category:"Core",syntax:["config()","config(options)"],description:"Get configuration or change configuration.",examples:["config()","1/3 + 1/4",'config({number: "Fraction"})',"1/3 + 1/4"],seealso:[]};var YR={name:"import",category:"Core",syntax:["import(functions)","import(functions, options)"],description:"Import functions or constants from an object.",examples:["import({myFn: f(x)=x^2, myConstant: 32 })","myFn(2)","myConstant"],seealso:[]};var ZR={name:"typed",category:"Core",syntax:["typed(signatures)","typed(name, signatures)"],description:"Create a typed function.",examples:['double = typed({ "number": f(x)=x+x, "string": f(x)=concat(x,x) })',"double(2)",'double("hello")'],seealso:[]};var XR={name:"derivative",category:"Algebra",syntax:["derivative(expr, variable)","derivative(expr, variable, {simplify: boolean})"],description:"Takes the derivative of an expression expressed in parser Nodes. The derivative will be taken over the supplied variable in the second parameter. If there are multiple variables in the expression, it will return a partial derivative.",examples:['derivative("2x^3", "x")','derivative("2x^3", "x", {simplify: false})','derivative("2x^2 + 3x + 4", "x")','derivative("sin(2x)", "x")','f = parse("x^2 + x")','x = parse("x")',"df = derivative(f, x)","df.evaluate({x: 3})"],seealso:["simplify","parse","evaluate"]};var KR={name:"leafCount",category:"Algebra",syntax:["leafCount(expr)"],description:"Computes the number of leaves in the parse tree of the given expression",examples:['leafCount("e^(i*pi)-1")','leafCount(parse("{a: 22/7, b: 10^(1/2)}"))'],seealso:["simplify"]};var JR={name:"lsolve",category:"Algebra",syntax:["x=lsolve(L, b)"],description:"Finds one solution of the linear system L * x = b where L is an [n x n] lower triangular matrix and b is a [n] column vector.",examples:["a = [-2, 3; 2, 1]","b = [11, 9]","x = lsolve(a, b)"],seealso:["lsolveAll","lup","lusolve","usolve","matrix","sparse"]};var QR={name:"lsolveAll",category:"Algebra",syntax:["x=lsolveAll(L, b)"],description:"Finds all solutions of the linear system L * x = b where L is an [n x n] lower triangular matrix and b is a [n] column vector.",examples:["a = [-2, 3; 2, 1]","b = [11, 9]","x = lsolve(a, b)"],seealso:["lsolve","lup","lusolve","usolve","matrix","sparse"]};var ek={name:"lup",category:"Algebra",syntax:["lup(m)"],description:"Calculate the Matrix LU decomposition with partial pivoting. Matrix A is decomposed in three matrices (L, U, P) where P * A = L * U",examples:["lup([[2, 1], [1, 4]])","lup(matrix([[2, 1], [1, 4]]))","lup(sparse([[2, 1], [1, 4]]))"],seealso:["lusolve","lsolve","usolve","matrix","sparse","slu","qr"]};var tk={name:"lusolve",category:"Algebra",syntax:["x=lusolve(A, b)","x=lusolve(lu, b)"],description:"Solves the linear system A * x = b where A is an [n x n] matrix and b is a [n] column vector.",examples:["a = [-2, 3; 2, 1]","b = [11, 9]","x = lusolve(a, b)"],seealso:["lup","slu","lsolve","usolve","matrix","sparse"]};var rk={name:"polynomialRoot",category:"Algebra",syntax:["x=polynomialRoot(-6, 3)","x=polynomialRoot(4, -4, 1)","x=polynomialRoot(-8, 12, -6, 1)"],description:"Finds the roots of a univariate polynomial given by its coefficients starting from constant, linear, and so on, increasing in degree.",examples:["a = polynomialRoot(-6, 11, -6, 1)"],seealso:["cbrt","sqrt"]};var nk={name:"qr",category:"Algebra",syntax:["qr(A)"],description:"Calculates the Matrix QR decomposition. Matrix `A` is decomposed in two matrices (`Q`, `R`) where `Q` is an orthogonal matrix and `R` is an upper triangular matrix.",examples:["qr([[1, -1,  4], [1,  4, -2], [1,  4,  2], [1,  -1, 0]])"],seealso:["lup","slu","matrix"]};var ik={name:"rationalize",category:"Algebra",syntax:["rationalize(expr)","rationalize(expr, scope)","rationalize(expr, scope, detailed)"],description:"Transform a rationalizable expression in a rational fraction. If rational fraction is one variable polynomial then converts the numerator and denominator in canonical form, with decreasing exponents, returning the coefficients of numerator.",examples:['rationalize("2x/y - y/(x+1)")','rationalize("2x/y - y/(x+1)", true)'],seealso:["simplify"]};var ak={name:"resolve",category:"Algebra",syntax:["resolve(node, scope)"],description:"Recursively substitute variables in an expression tree.",examples:['resolve(parse("1 + x"), { x: 7 })','resolve(parse("size(text)"), { text: "Hello World" })','resolve(parse("x + y"), { x: parse("3z") })','resolve(parse("3x"), { x: parse("y+z"), z: parse("w^y") })'],seealso:["simplify","evaluate"],mayThrow:["ReferenceError"]};var ok={name:"simplify",category:"Algebra",syntax:["simplify(expr)","simplify(expr, rules)"],description:"Simplify an expression tree.",examples:['simplify("3 + 2 / 4")','simplify("2x + x")','f = parse("x * (x + 2 + x)")',"simplified = simplify(f)","simplified.evaluate({x: 2})"],seealso:["simplifyCore","derivative","evaluate","parse","rationalize","resolve"]};var sk={name:"simplifyConstant",category:"Algebra",syntax:["simplifyConstant(expr)","simplifyConstant(expr, options)"],description:"Replace constant subexpressions of node with their values.",examples:['simplifyConstant("(3-3)*x")','simplifyConstant(parse("z-cos(tau/8)"))'],seealso:["simplify","simplifyCore","evaluate"]};var lk={name:"simplifyCore",category:"Algebra",syntax:["simplifyCore(node)"],description:"Perform simple one-pass simplifications on an expression tree.",examples:['simplifyCore(parse("0*x"))','simplifyCore(parse("(x+0)*2"))'],seealso:["simplify","simplifyConstant","evaluate"]};var uk={name:"slu",category:"Algebra",syntax:["slu(A, order, threshold)"],description:"Calculate the Matrix LU decomposition with full pivoting. Matrix A is decomposed in two matrices (L, U) and two permutation vectors (pinv, q) where P * A * Q = L * U",examples:["slu(sparse([4.5, 0, 3.2, 0; 3.1, 2.9, 0, 0.9; 0, 1.7, 3, 0; 3.5, 0.4, 0, 1]), 1, 0.001)"],seealso:["lusolve","lsolve","usolve","matrix","sparse","lup","qr"]};var ck={name:"symbolicEqual",category:"Algebra",syntax:["symbolicEqual(expr1, expr2)","symbolicEqual(expr1, expr2, options)"],description:"Returns true if the difference of the expressions simplifies to 0",examples:['symbolicEqual("x*y","y*x")','symbolicEqual("abs(x^2)", "x^2")','symbolicEqual("abs(x)", "x", {context: {abs: {trivial: true}}})'],seealso:["simplify","evaluate"]};var dk={name:"usolve",category:"Algebra",syntax:["x=usolve(U, b)"],description:"Finds one solution of the linear system U * x = b where U is an [n x n] upper triangular matrix and b is a [n] column vector.",examples:["x=usolve(sparse([1, 1, 1, 1; 0, 1, 1, 1; 0, 0, 1, 1; 0, 0, 0, 1]), [1; 2; 3; 4])"],seealso:["usolveAll","lup","lusolve","lsolve","matrix","sparse"]};var fk={name:"usolveAll",category:"Algebra",syntax:["x=usolve(U, b)"],description:"Finds all solutions of the linear system U * x = b where U is an [n x n] upper triangular matrix and b is a [n] column vector.",examples:["x=usolve(sparse([1, 1, 1, 1; 0, 1, 1, 1; 0, 0, 1, 1; 0, 0, 0, 1]), [1; 2; 3; 4])"],seealso:["usolve","lup","lusolve","lsolve","matrix","sparse"]};var mk={name:"abs",category:"Arithmetic",syntax:["abs(x)"],description:"Compute the absolute value.",examples:["abs(3.5)","abs(-4.2)"],seealso:["sign"]};var hk={name:"add",category:"Operators",syntax:["x + y","add(x, y)"],description:"Add two values.",examples:["a = 2.1 + 3.6","a - 3.6","3 + 2i","3 cm + 2 inch",'"2.3" + "4"'],seealso:["subtract"]};var pk={name:"cbrt",category:"Arithmetic",syntax:["cbrt(x)","cbrt(x, allRoots)"],description:"Compute the cubic root value. If x = y * y * y, then y is the cubic root of x. When `x` is a number or complex number, an optional second argument `allRoots` can be provided to return all three cubic roots. If not provided, the principal root is returned",examples:["cbrt(64)","cube(4)","cbrt(-8)","cbrt(2 + 3i)","cbrt(8i)","cbrt(8i, true)","cbrt(27 m^3)"],seealso:["square","sqrt","cube","multiply"]};var gk={name:"ceil",category:"Arithmetic",syntax:["ceil(x)","ceil(x, n)","ceil(unit, valuelessUnit)","ceil(unit, n, valuelessUnit)"],description:"Round a value towards plus infinity. If x is complex, both real and imaginary part are rounded towards plus infinity.",examples:["ceil(3.2)","ceil(3.8)","ceil(-4.2)","ceil(3.241cm, cm)","ceil(3.241cm, 2, cm)"],seealso:["floor","fix","round"]};var vk={name:"cube",category:"Arithmetic",syntax:["cube(x)"],description:"Compute the cube of a value. The cube of x is x * x * x.",examples:["cube(2)","2^3","2 * 2 * 2"],seealso:["multiply","square","pow"]};var xk={name:"divide",category:"Operators",syntax:["x / y","divide(x, y)"],description:"Divide two values.",examples:["a = 2 / 3","a * 3","4.5 / 2","3 + 4 / 2","(3 + 4) / 2","18 km / 4.5"],seealso:["multiply"]};var yk={name:"dotDivide",category:"Operators",syntax:["x ./ y","dotDivide(x, y)"],description:"Divide two values element wise.",examples:["a = [1, 2, 3; 4, 5, 6]","b = [2, 1, 1; 3, 2, 5]","a ./ b"],seealso:["multiply","dotMultiply","divide"]};var bk={name:"dotMultiply",category:"Operators",syntax:["x .* y","dotMultiply(x, y)"],description:"Multiply two values element wise.",examples:["a = [1, 2, 3; 4, 5, 6]","b = [2, 1, 1; 3, 2, 5]","a .* b"],seealso:["multiply","divide","dotDivide"]};var wk={name:"dotPow",category:"Operators",syntax:["x .^ y","dotPow(x, y)"],description:"Calculates the power of x to y element wise.",examples:["a = [1, 2, 3; 4, 5, 6]","a .^ 2"],seealso:["pow"]};var _k={name:"exp",category:"Arithmetic",syntax:["exp(x)"],description:"Calculate the exponent of a value.",examples:["exp(1.3)","e ^ 1.3","log(exp(1.3))","x = 2.4","(exp(i*x) == cos(x) + i*sin(x))   # Euler's formula"],seealso:["expm","expm1","pow","log"]};var Sk={name:"expm",category:"Arithmetic",syntax:["exp(x)"],description:"Compute the matrix exponential, expm(A) = e^A. The matrix must be square. Not to be confused with exp(a), which performs element-wise exponentiation.",examples:["expm([[0,2],[0,0]])"],seealso:["exp"]};var Dk={name:"expm1",category:"Arithmetic",syntax:["expm1(x)"],description:"Calculate the value of subtracting 1 from the exponential value.",examples:["expm1(2)","pow(e, 2) - 1","log(expm1(2) + 1)"],seealso:["exp","pow","log"]};var Ck={name:"fix",category:"Arithmetic",syntax:["fix(x)","fix(x, n)","fix(unit, valuelessUnit)","fix(unit, n, valuelessUnit)"],description:"Round a value towards zero. If x is complex, both real and imaginary part are rounded towards zero.",examples:["fix(3.2)","fix(3.8)","fix(-4.2)","fix(-4.8)","fix(3.241cm, cm)","fix(3.241cm, 2, cm)"],seealso:["ceil","floor","round"]};var Ek={name:"floor",category:"Arithmetic",syntax:["floor(x)","floor(x, n)","floor(unit, valuelessUnit)","floor(unit, n, valuelessUnit)"],description:"Round a value towards minus infinity.If x is complex, both real and imaginary part are rounded towards minus infinity.",examples:["floor(3.2)","floor(3.8)","floor(-4.2)","floor(3.241cm, cm)","floor(3.241cm, 2, cm)"],seealso:["ceil","fix","round"]};var Ak={name:"gcd",category:"Arithmetic",syntax:["gcd(a, b)","gcd(a, b, c, ...)"],description:"Compute the greatest common divisor.",examples:["gcd(8, 12)","gcd(-4, 6)","gcd(25, 15, -10)"],seealso:["lcm","xgcd"]};var Mk={name:"hypot",category:"Arithmetic",syntax:["hypot(a, b, c, ...)","hypot([a, b, c, ...])"],description:"Calculate the hypotenuse of a list with values.",examples:["hypot(3, 4)","sqrt(3^2 + 4^2)","hypot(-2)","hypot([3, 4, 5])"],seealso:["abs","norm"]};var Nk={name:"invmod",category:"Arithmetic",syntax:["invmod(a, b)"],description:"Calculate the (modular) multiplicative inverse of a modulo b. Solution to the equation ax \u2263 1 (mod b)",examples:["invmod(8, 12)","invmod(7, 13)","invmod(15151, 15122)"],seealso:["gcd","xgcd"]};var Tk={name:"lcm",category:"Arithmetic",syntax:["lcm(x, y)"],description:"Compute the least common multiple.",examples:["lcm(4, 6)","lcm(6, 21)","lcm(6, 21, 5)"],seealso:["gcd"]};var Fk={name:"log",category:"Arithmetic",syntax:["log(x)","log(x, base)"],description:"Compute the logarithm of a value. If no base is provided, the natural logarithm of x is calculated. If base if provided, the logarithm is calculated for the specified base. log(x, base) is defined as log(x) / log(base).",examples:["log(3.5)","a = log(2.4)","exp(a)","10 ^ 4","log(10000, 10)","log(10000) / log(10)","b = log(1024, 2)","2 ^ b"],seealso:["exp","log1p","log2","log10"]};var Ik={name:"log10",category:"Arithmetic",syntax:["log10(x)"],description:"Compute the 10-base logarithm of a value.",examples:["log10(0.00001)","log10(10000)","10 ^ 4","log(10000) / log(10)","log(10000, 10)"],seealso:["exp","log"]};var Ok={name:"log1p",category:"Arithmetic",syntax:["log1p(x)","log1p(x, base)"],description:"Calculate the logarithm of a `value+1`",examples:["log1p(2.5)","exp(log1p(1.4))","pow(10, 4)","log1p(9999, 10)","log1p(9999) / log(10)"],seealso:["exp","log","log2","log10"]};var Rk={name:"log2",category:"Arithmetic",syntax:["log2(x)"],description:"Calculate the 2-base of a value. This is the same as calculating `log(x, 2)`.",examples:["log2(0.03125)","log2(16)","log2(16) / log2(2)","pow(2, 4)"],seealso:["exp","log1p","log","log10"]};var kk={name:"mod",category:"Operators",syntax:["x % y","x mod y","mod(x, y)"],description:"Calculates the modulus, the remainder of an integer division.",examples:["7 % 3","11 % 2","10 mod 4","isOdd(x) = x % 2","isOdd(2)","isOdd(3)"],seealso:["divide"]};var Pk={name:"multiply",category:"Operators",syntax:["x * y","multiply(x, y)"],description:"multiply two values.",examples:["a = 2.1 * 3.4","a / 3.4","2 * 3 + 4","2 * (3 + 4)","3 * 2.1 km"],seealso:["divide"]};var Bk={name:"norm",category:"Arithmetic",syntax:["norm(x)","norm(x, p)"],description:"Calculate the norm of a number, vector or matrix.",examples:["abs(-3.5)","norm(-3.5)","norm(3 - 4i)","norm([1, 2, -3], Infinity)","norm([1, 2, -3], -Infinity)","norm([3, 4], 2)","norm([[1, 2], [3, 4]], 1)",'norm([[1, 2], [3, 4]], "inf")','norm([[1, 2], [3, 4]], "fro")']};var Lk={name:"nthRoot",category:"Arithmetic",syntax:["nthRoot(a)","nthRoot(a, root)"],description:'Calculate the nth root of a value. The principal nth root of a positive real number A, is the positive real solution of the equation "x^root = A".',examples:["4 ^ 3","nthRoot(64, 3)","nthRoot(9, 2)","sqrt(9)"],seealso:["nthRoots","pow","sqrt"]};var zk={name:"nthRoots",category:"Arithmetic",syntax:["nthRoots(A)","nthRoots(A, root)"],description:'Calculate the nth roots of a value. An nth root of a positive real number A, is a positive real solution of the equation "x^root = A". This function returns an array of complex values.',examples:["nthRoots(1)","nthRoots(1, 3)"],seealso:["sqrt","pow","nthRoot"]};var Vk={name:"pow",category:"Operators",syntax:["x ^ y","pow(x, y)"],description:"Calculates the power of x to y, x^y.",examples:["2^3","2*2*2","1 + e ^ (pi * i)","pow([[1, 2], [4, 3]], 2)","pow([[1, 2], [4, 3]], -1)"],seealso:["multiply","nthRoot","nthRoots","sqrt"]};var Uk={name:"round",category:"Arithmetic",syntax:["round(x)","round(x, n)","round(unit, valuelessUnit)","round(unit, n, valuelessUnit)"],description:"round a value towards the nearest integer.If x is complex, both real and imaginary part are rounded towards the nearest integer. When n is specified, the value is rounded to n decimals.",examples:["round(3.2)","round(3.8)","round(-4.2)","round(-4.8)","round(pi, 3)","round(123.45678, 2)","round(3.241cm, 2, cm)","round([3.2, 3.8, -4.7])"],seealso:["ceil","floor","fix"]};var qk={name:"sign",category:"Arithmetic",syntax:["sign(x)"],description:"Compute the sign of a value. The sign of a value x is 1 when x>0, -1 when x<0, and 0 when x=0.",examples:["sign(3.5)","sign(-4.2)","sign(0)"],seealso:["abs"]};var jk={name:"sqrt",category:"Arithmetic",syntax:["sqrt(x)"],description:"Compute the square root value. If x = y * y, then y is the square root of x.",examples:["sqrt(25)","5 * 5","sqrt(-1)"],seealso:["square","sqrtm","multiply","nthRoot","nthRoots","pow"]};var $k={name:"sqrtm",category:"Arithmetic",syntax:["sqrtm(x)"],description:"Calculate the principal square root of a square matrix. The principal square root matrix `X` of another matrix `A` is such that `X * X = A`.",examples:["sqrtm([[33, 24], [48, 57]])"],seealso:["sqrt","abs","square","multiply"]};var Hk={name:"sylvester",category:"Algebra",syntax:["sylvester(A,B,C)"],description:"Solves the real-valued Sylvester equation AX+XB=C for X",examples:["sylvester([[-1, -2], [1, 1]], [[-2, 1], [-1, 2]], [[-3, 2], [3, 0]])","A = [[-1, -2], [1, 1]]; B = [[2, -1], [1, -2]]; C = [[-3, 2], [3, 0]]","sylvester(A, B, C)"],seealso:["schur","lyap"]};var Wk={name:"schur",category:"Algebra",syntax:["schur(A)"],description:"Performs a real Schur decomposition of the real matrix A = UTU'",examples:["schur([[1, 0], [-4, 3]])","A = [[1, 0], [-4, 3]]","schur(A)"],seealso:["lyap","sylvester"]};var Gk={name:"lyap",category:"Algebra",syntax:["lyap(A,Q)"],description:"Solves the Continuous-time Lyapunov equation AP+PA'+Q=0 for P",examples:["lyap([[-2, 0], [1, -4]], [[3, 1], [1, 3]])","A = [[-2, 0], [1, -4]]","Q = [[3, 1], [1, 3]]","lyap(A,Q)"],seealso:["schur","sylvester"]};var Yk={name:"square",category:"Arithmetic",syntax:["square(x)"],description:"Compute the square of a value. The square of x is x * x.",examples:["square(3)","sqrt(9)","3^2","3 * 3"],seealso:["multiply","pow","sqrt","cube"]};var Zk={name:"subtract",category:"Operators",syntax:["x - y","subtract(x, y)"],description:"subtract two values.",examples:["a = 5.3 - 2","a + 2","2/3 - 1/6","2 * 3 - 3","2.1 km - 500m"],seealso:["add"]};var Xk={name:"unaryMinus",category:"Operators",syntax:["-x","unaryMinus(x)"],description:"Inverse the sign of a value. Converts booleans and strings to numbers.",examples:["-4.5","-(-5.6)",'-"22"'],seealso:["add","subtract","unaryPlus"]};var Kk={name:"unaryPlus",category:"Operators",syntax:["+x","unaryPlus(x)"],description:"Converts booleans and strings to numbers.",examples:["+true",'+"2"'],seealso:["add","subtract","unaryMinus"]};var Jk={name:"xgcd",category:"Arithmetic",syntax:["xgcd(a, b)"],description:"Calculate the extended greatest common divisor for two values. The result is an array [d, x, y] with 3 entries, where d is the greatest common divisor, and d = x * a + y * b.",examples:["xgcd(8, 12)","gcd(8, 12)","xgcd(36163, 21199)"],seealso:["gcd","lcm"]};var Qk={name:"bitAnd",category:"Bitwise",syntax:["x & y","bitAnd(x, y)"],description:"Bitwise AND operation. Performs the logical AND operation on each pair of the corresponding bits of the two given values by multiplying them. If both bits in the compared position are 1, the bit in the resulting binary representation is 1, otherwise, the result is 0",examples:["5 & 3","bitAnd(53, 131)","[1, 12, 31] & 42"],seealso:["bitNot","bitOr","bitXor","leftShift","rightArithShift","rightLogShift"]};var eP={name:"bitNot",category:"Bitwise",syntax:["~x","bitNot(x)"],description:"Bitwise NOT operation. Performs a logical negation on each bit of the given value. Bits that are 0 become 1, and those that are 1 become 0.",examples:["~1","~2","bitNot([2, -3, 4])"],seealso:["bitAnd","bitOr","bitXor","leftShift","rightArithShift","rightLogShift"]};var tP={name:"bitOr",category:"Bitwise",syntax:["x | y","bitOr(x, y)"],description:"Bitwise OR operation. Performs the logical inclusive OR operation on each pair of corresponding bits of the two given values. The result in each position is 1 if the first bit is 1 or the second bit is 1 or both bits are 1, otherwise, the result is 0.",examples:["5 | 3","bitOr([1, 2, 3], 4)"],seealso:["bitAnd","bitNot","bitXor","leftShift","rightArithShift","rightLogShift"]};var rP={name:"bitXor",category:"Bitwise",syntax:["bitXor(x, y)"],description:"Bitwise XOR operation, exclusive OR. Performs the logical exclusive OR operation on each pair of corresponding bits of the two given values. The result in each position is 1 if only the first bit is 1 or only the second bit is 1, but will be 0 if both are 0 or both are 1.",examples:["bitOr(1, 2)","bitXor([2, 3, 4], 4)"],seealso:["bitAnd","bitNot","bitOr","leftShift","rightArithShift","rightLogShift"]};var nP={name:"leftShift",category:"Bitwise",syntax:["x << y","leftShift(x, y)"],description:"Bitwise left logical shift of a value x by y number of bits.",examples:["4 << 1","8 >> 1"],seealso:["bitAnd","bitNot","bitOr","bitXor","rightArithShift","rightLogShift"]};var iP={name:"rightArithShift",category:"Bitwise",syntax:["x >> y","rightArithShift(x, y)"],description:"Bitwise right arithmetic shift of a value x by y number of bits.",examples:["8 >> 1","4 << 1","-12 >> 2"],seealso:["bitAnd","bitNot","bitOr","bitXor","leftShift","rightLogShift"]};var aP={name:"rightLogShift",category:"Bitwise",syntax:["x >>> y","rightLogShift(x, y)"],description:"Bitwise right logical shift of a value x by y number of bits.",examples:["8 >>> 1","4 << 1","-12 >>> 2"],seealso:["bitAnd","bitNot","bitOr","bitXor","leftShift","rightArithShift"]};var oP={name:"bellNumbers",category:"Combinatorics",syntax:["bellNumbers(n)"],description:"The Bell Numbers count the number of partitions of a set. A partition is a pairwise disjoint subset of S whose union is S. `bellNumbers` only takes integer arguments. The following condition must be enforced: n >= 0.",examples:["bellNumbers(3)","bellNumbers(8)"],seealso:["stirlingS2"]};var sP={name:"catalan",category:"Combinatorics",syntax:["catalan(n)"],description:"The Catalan Numbers enumerate combinatorial structures of many different types. catalan only takes integer arguments. The following condition must be enforced: n >= 0.",examples:["catalan(3)","catalan(8)"],seealso:["bellNumbers"]};var lP={name:"composition",category:"Combinatorics",syntax:["composition(n, k)"],description:"The composition counts of n into k parts. composition only takes integer arguments. The following condition must be enforced: k <= n.",examples:["composition(5, 3)"],seealso:["combinations"]};var uP={name:"stirlingS2",category:"Combinatorics",syntax:["stirlingS2(n, k)"],description:"he Stirling numbers of the second kind, counts the number of ways to partition a set of n labelled objects into k nonempty unlabelled subsets. `stirlingS2` only takes integer arguments. The following condition must be enforced: k <= n. If n = k or k = 1, then s(n,k) = 1.",examples:["stirlingS2(5, 3)"],seealso:["bellNumbers"]};var cP={name:"arg",category:"Complex",syntax:["arg(x)"],description:"Compute the argument of a complex value. If x = a+bi, the argument is computed as atan2(b, a).",examples:["arg(2 + 2i)","atan2(3, 2)","arg(2 + 3i)"],seealso:["re","im","conj","abs"]};var dP={name:"conj",category:"Complex",syntax:["conj(x)"],description:"Compute the complex conjugate of a complex value. If x = a+bi, the complex conjugate is a-bi.",examples:["conj(2 + 3i)","conj(2 - 3i)","conj(-5.2i)"],seealso:["re","im","abs","arg"]};var fP={name:"im",category:"Complex",syntax:["im(x)"],description:"Get the imaginary part of a complex number.",examples:["im(2 + 3i)","re(2 + 3i)","im(-5.2i)","im(2.4)"],seealso:["re","conj","abs","arg"]};var mP={name:"re",category:"Complex",syntax:["re(x)"],description:"Get the real part of a complex number.",examples:["re(2 + 3i)","im(2 + 3i)","re(-5.2i)","re(2.4)"],seealso:["im","conj","abs","arg"]};var hP={name:"evaluate",category:"Expression",syntax:["evaluate(expression)","evaluate(expression, scope)","evaluate([expr1, expr2, expr3, ...])","evaluate([expr1, expr2, expr3, ...], scope)"],description:"Evaluate an expression or an array with expressions.",examples:['evaluate("2 + 3")','evaluate("sqrt(16)")','evaluate("2 inch to cm")','evaluate("sin(x * pi)", { "x": 1/2 })','evaluate(["width=2", "height=4","width*height"])'],seealso:[]};var pP={name:"help",category:"Expression",syntax:["help(object)","help(string)"],description:"Display documentation on a function or data type.",examples:["help(sqrt)",'help("complex")'],seealso:[]};var gP={name:"distance",category:"Geometry",syntax:["distance([x1, y1], [x2, y2])","distance([[x1, y1], [x2, y2]])"],description:"Calculates the Euclidean distance between two points.",examples:["distance([0,0], [4,4])","distance([[0,0], [4,4]])"],seealso:[]};var vP={name:"intersect",category:"Geometry",syntax:["intersect(expr1, expr2, expr3, expr4)","intersect(expr1, expr2, expr3)"],description:"Computes the intersection point of lines and/or planes.",examples:["intersect([0, 0], [10, 10], [10, 0], [0, 10])","intersect([1, 0, 1],  [4, -2, 2], [1, 1, 1, 6])"],seealso:[]};var xP={name:"and",category:"Logical",syntax:["x and y","and(x, y)"],description:"Logical and. Test whether two values are both defined with a nonzero/nonempty value.",examples:["true and false","true and true","2 and 4"],seealso:["not","or","xor"]};var yP={name:"not",category:"Logical",syntax:["not x","not(x)"],description:"Logical not. Flips the boolean value of given argument.",examples:["not true","not false","not 2","not 0"],seealso:["and","or","xor"]};var bP={name:"or",category:"Logical",syntax:["x or y","or(x, y)"],description:"Logical or. Test if at least one value is defined with a nonzero/nonempty value.",examples:["true or false","false or false","0 or 4"],seealso:["not","and","xor"]};var wP={name:"xor",category:"Logical",syntax:["x xor y","xor(x, y)"],description:"Logical exclusive or, xor. Test whether one and only one value is defined with a nonzero/nonempty value.",examples:["true xor false","false xor false","true xor true","0 xor 4"],seealso:["not","and","or"]};var _P={name:"mapSlices",category:"Matrix",syntax:["mapSlices(A, dim, callback)"],description:"Generate a matrix one dimension less than A by applying callback to each slice of A along dimension dim.",examples:["A = [[1, 2], [3, 4]]","mapSlices(A, 1, sum)","mapSlices(A, 2, prod)"],seealso:["map","forEach"]};var SP={name:"column",category:"Matrix",syntax:["column(x, index)"],description:"Return a column from a matrix or array.",examples:["A = [[1, 2], [3, 4]]","column(A, 1)","column(A, 2)"],seealso:["row","matrixFromColumns"]};var DP={name:"concat",category:"Matrix",syntax:["concat(A, B, C, ...)","concat(A, B, C, ..., dim)"],description:"Concatenate matrices. By default, the matrices are concatenated by the last dimension. The dimension on which to concatenate can be provided as last argument.",examples:["A = [1, 2; 5, 6]","B = [3, 4; 7, 8]","concat(A, B)","concat(A, B, 1)","concat(A, B, 2)"],seealso:["det","diag","identity","inv","ones","range","size","squeeze","subset","trace","transpose","zeros"]};var CP={name:"count",category:"Matrix",syntax:["count(x)"],description:"Count the number of elements of a matrix, array or string.",examples:["a = [1, 2; 3, 4; 5, 6]","count(a)","size(a)",'count("hello world")'],seealso:["size"]};var EP={name:"cross",category:"Matrix",syntax:["cross(A, B)"],description:"Calculate the cross product for two vectors in three dimensional space.",examples:["cross([1, 1, 0],  [0, 1, 1])","cross([3, -3, 1], [4, 9, 2])","cross([2, 3, 4],  [5, 6, 7])"],seealso:["multiply","dot"]};var AP={name:"ctranspose",category:"Matrix",syntax:["x'","ctranspose(x)"],description:"Complex Conjugate and Transpose a matrix",examples:["a = [1, 2, 3; 4, 5, 6]","a'","ctranspose(a)"],seealso:["concat","det","diag","identity","inv","ones","range","size","squeeze","subset","trace","zeros"]};var MP={name:"det",category:"Matrix",syntax:["det(x)"],description:"Calculate the determinant of a matrix",examples:["det([1, 2; 3, 4])","det([-2, 2, 3; -1, 1, 3; 2, 0, -1])"],seealso:["concat","diag","identity","inv","ones","range","size","squeeze","subset","trace","transpose","zeros"]};var NP={name:"diag",category:"Matrix",syntax:["diag(x)","diag(x, k)"],description:"Create a diagonal matrix or retrieve the diagonal of a matrix. When x is a vector, a matrix with the vector values on the diagonal will be returned. When x is a matrix, a vector with the diagonal values of the matrix is returned. When k is provided, the k-th diagonal will be filled in or retrieved, if k is positive, the values are placed on the super diagonal. When k is negative, the values are placed on the sub diagonal.",examples:["diag(1:3)","diag(1:3, 1)","a = [1, 2, 3; 4, 5, 6; 7, 8, 9]","diag(a)"],seealso:["concat","det","identity","inv","ones","range","size","squeeze","subset","trace","transpose","zeros"]};var TP={name:"diff",category:"Matrix",syntax:["diff(arr)","diff(arr, dim)"],description:["Create a new matrix or array with the difference of the passed matrix or array.","Dim parameter is optional and used to indicate the dimension of the array/matrix to apply the difference","If no dimension parameter is passed it is assumed as dimension 0","Dimension is zero-based in javascript and one-based in the parser","Arrays must be 'rectangular' meaning arrays like [1, 2]","If something is passed as a matrix it will be returned as a matrix but other than that all matrices are converted to arrays"],examples:["A = [1, 2, 4, 7, 0]","diff(A)","diff(A, 1)","B = [[1, 2], [3, 4]]","diff(B)","diff(B, 1)","diff(B, 2)","diff(B, bignumber(2))","diff([[1, 2], matrix([3, 4])], 2)"],seealso:["subtract","partitionSelect"]};var FP={name:"dot",category:"Matrix",syntax:["dot(A, B)","A * B"],description:"Calculate the dot product of two vectors. The dot product of A = [a1, a2, a3, ..., an] and B = [b1, b2, b3, ..., bn] is defined as dot(A, B) = a1 * b1 + a2 * b2 + a3 * b3 + ... + an * bn",examples:["dot([2, 4, 1], [2, 2, 3])","[2, 4, 1] * [2, 2, 3]"],seealso:["multiply","cross"]};var IP={name:"eigs",category:"Matrix",syntax:["eigs(x)"],description:"Calculate the eigenvalues and optionally eigenvectors of a square matrix",examples:["eigs([[5, 2.3], [2.3, 1]])","eigs([[1, 2, 3], [4, 5, 6], [7, 8, 9]], { precision: 1e-6, eigenvectors: false })"],seealso:["inv"]};var OP={name:"filter",category:"Matrix",syntax:["filter(x, test)"],description:"Filter items in a matrix.",examples:["isPositive(x) = x > 0","filter([6, -2, -1, 4, 3], isPositive)","filter([6, -2, 0, 1, 0], x != 0)"],seealso:["sort","map","forEach"]};var RP={name:"flatten",category:"Matrix",syntax:["flatten(x)"],description:"Flatten a multi dimensional matrix into a single dimensional matrix.",examples:["a = [1, 2, 3; 4, 5, 6]","size(a)","b = flatten(a)","size(b)"],seealso:["concat","resize","size","squeeze"]};var kP={name:"forEach",category:"Matrix",syntax:["forEach(x, callback)"],description:"Iterates over all elements of a matrix/array, and executes the given callback function.",examples:["numberOfPets = {}","addPet(n) = numberOfPets[n] = (numberOfPets[n] ? numberOfPets[n]:0 ) + 1;",'forEach(["Dog","Cat","Cat"], addPet)',"numberOfPets"],seealso:["map","sort","filter"]};var PP={name:"getMatrixDataType",category:"Matrix",syntax:["getMatrixDataType(x)"],description:'Find the data type of all elements in a matrix or array, for example "number" if all items are a number and "Complex" if all values are complex numbers. If a matrix contains more than one data type, it will return "mixed".',examples:["getMatrixDataType([1, 2, 3])","getMatrixDataType([[5 cm], [2 inch]])",'getMatrixDataType([1, "text"])',"getMatrixDataType([1, bignumber(4)])"],seealso:["matrix","sparse","typeOf"]};var BP={name:"identity",category:"Matrix",syntax:["identity(n)","identity(m, n)","identity([m, n])"],description:"Returns the identity matrix with size m-by-n. The matrix has ones on the diagonal and zeros elsewhere.",examples:["identity(3)","identity(3, 5)","a = [1, 2, 3; 4, 5, 6]","identity(size(a))"],seealso:["concat","det","diag","inv","ones","range","size","squeeze","subset","trace","transpose","zeros"]};var LP={name:"inv",category:"Matrix",syntax:["inv(x)"],description:"Calculate the inverse of a matrix",examples:["inv([1, 2; 3, 4])","inv(4)","1 / 4"],seealso:["concat","det","diag","identity","ones","range","size","squeeze","subset","trace","transpose","zeros"]};var zP={name:"pinv",category:"Matrix",syntax:["pinv(x)"],description:"Calculate the Moore\u2013Penrose inverse of a matrix",examples:["pinv([1, 2; 3, 4])","pinv([[1, 0], [0, 1], [0, 1]])","pinv(4)"],seealso:["inv"]};var VP={name:"kron",category:"Matrix",syntax:["kron(x, y)"],description:"Calculates the Kronecker product of 2 matrices or vectors.",examples:["kron([[1, 0], [0, 1]], [[1, 2], [3, 4]])","kron([1,1], [2,3,4])"],seealso:["multiply","dot","cross"]};var UP={name:"map",category:"Matrix",syntax:["map(x, callback)","map(x, y, ..., callback)"],description:"Create a new matrix or array with the results of the callback function executed on each entry of the matrix/array or the matrices/arrays.",examples:["map([1, 2, 3], square)","map([1, 2], [3, 4], f(a,b) = a + b)"],seealso:["filter","forEach"]};var qP={name:"matrixFromColumns",category:"Matrix",syntax:["matrixFromColumns(...arr)","matrixFromColumns(row1, row2)","matrixFromColumns(row1, row2, row3)"],description:"Create a dense matrix from vectors as individual columns.",examples:["matrixFromColumns([1, 2, 3], [[4],[5],[6]])"],seealso:["matrix","matrixFromRows","matrixFromFunction","zeros"]};var jP={name:"matrixFromFunction",category:"Matrix",syntax:["matrixFromFunction(size, fn)","matrixFromFunction(size, fn, format)","matrixFromFunction(size, fn, format, datatype)","matrixFromFunction(size, format, fn)","matrixFromFunction(size, format, datatype, fn)"],description:"Create a matrix by evaluating a generating function at each index.",examples:["f(I) = I[1] - I[2]","matrixFromFunction([3,3], f)","g(I) = I[1] - I[2] == 1 ? 4 : 0",'matrixFromFunction([100, 100], "sparse", g)',"matrixFromFunction([5], random)"],seealso:["matrix","matrixFromRows","matrixFromColumns","zeros"]};var $P={name:"matrixFromRows",category:"Matrix",syntax:["matrixFromRows(...arr)","matrixFromRows(row1, row2)","matrixFromRows(row1, row2, row3)"],description:"Create a dense matrix from vectors as individual rows.",examples:["matrixFromRows([1, 2, 3], [[4],[5],[6]])"],seealso:["matrix","matrixFromColumns","matrixFromFunction","zeros"]};var HP={name:"ones",category:"Matrix",syntax:["ones(m)","ones(m, n)","ones(m, n, p, ...)","ones([m])","ones([m, n])","ones([m, n, p, ...])"],description:"Create a matrix containing ones.",examples:["ones(3)","ones(3, 5)","ones([2,3]) * 4.5","a = [1, 2, 3; 4, 5, 6]","ones(size(a))"],seealso:["concat","det","diag","identity","inv","range","size","squeeze","subset","trace","transpose","zeros"]};var WP={name:"partitionSelect",category:"Matrix",syntax:["partitionSelect(x, k)","partitionSelect(x, k, compare)"],description:"Partition-based selection of an array or 1D matrix. Will find the kth smallest value, and mutates the input array. Uses Quickselect.",examples:["partitionSelect([5, 10, 1], 2)",'partitionSelect(["C", "B", "A", "D"], 1, compareText)',"arr = [5, 2, 1]","partitionSelect(arr, 0) # returns 1, arr is now: [1, 2, 5]","arr","partitionSelect(arr, 1, 'desc') # returns 2, arr is now: [5, 2, 1]","arr"],seealso:["sort"]};var GP={name:"range",category:"Type",syntax:["start:end","start:step:end","range(start, end)","range(start, end, step)","range(string)"],description:"Create a range. Lower bound of the range is included, upper bound is excluded.",examples:["1:5","3:-1:-3","range(3, 7)","range(0, 12, 2)",'range("4:10")',"range(1m, 1m, 3m)","a = [1, 2, 3, 4; 5, 6, 7, 8]","a[1:2, 1:2]"],seealso:["concat","det","diag","identity","inv","ones","size","squeeze","subset","trace","transpose","zeros"]};var YP={name:"reshape",category:"Matrix",syntax:["reshape(x, sizes)"],description:"Reshape a multi dimensional array to fit the specified dimensions.",examples:["reshape([1, 2, 3, 4, 5, 6], [2, 3])","reshape([[1, 2], [3, 4]], [1, 4])","reshape([[1, 2], [3, 4]], [4])","reshape([1, 2, 3, 4], [-1, 2])"],seealso:["size","squeeze","resize"]};var ZP={name:"resize",category:"Matrix",syntax:["resize(x, size)","resize(x, size, defaultValue)"],description:"Resize a matrix.",examples:["resize([1,2,3,4,5], [3])","resize([1,2,3], [5])","resize([1,2,3], [5], -1)","resize(2, [2, 3])",'resize("hello", [8], "!")'],seealso:["size","subset","squeeze","reshape"]};var XP={name:"rotate",category:"Matrix",syntax:["rotate(w, theta)","rotate(w, theta, v)"],description:"Returns a 2-D rotation matrix (2x2) for a given angle (in radians). Returns a 2-D rotation matrix (3x3) of a given angle (in radians) around given axis.",examples:["rotate([1, 0], pi / 2)",'rotate(matrix([1, 0]), unit("35deg"))','rotate([1, 0, 0], unit("90deg"), [0, 0, 1])','rotate(matrix([1, 0, 0]), unit("90deg"), matrix([0, 0, 1]))'],seealso:["matrix","rotationMatrix"]};var KP={name:"rotationMatrix",category:"Matrix",syntax:["rotationMatrix(theta)","rotationMatrix(theta, v)","rotationMatrix(theta, v, format)"],description:"Returns a 2-D rotation matrix (2x2) for a given angle (in radians). Returns a 2-D rotation matrix (3x3) of a given angle (in radians) around given axis.",examples:["rotationMatrix(pi / 2)",'rotationMatrix(unit("45deg"), [0, 0, 1])','rotationMatrix(1, matrix([0, 0, 1]), "sparse")'],seealso:["cos","sin"]};var JP={name:"row",category:"Matrix",syntax:["row(x, index)"],description:"Return a row from a matrix or array.",examples:["A = [[1, 2], [3, 4]]","row(A, 1)","row(A, 2)"],seealso:["column","matrixFromRows"]};var QP={name:"size",category:"Matrix",syntax:["size(x)"],description:"Calculate the size of a matrix.",examples:["size(2.3)",'size("hello world")',"a = [1, 2; 3, 4; 5, 6]","size(a)","size(1:6)"],seealso:["concat","count","det","diag","identity","inv","ones","range","squeeze","subset","trace","transpose","zeros"]};var eB={name:"sort",category:"Matrix",syntax:["sort(x)","sort(x, compare)"],description:'Sort the items in a matrix. Compare can be a string "asc", "desc", "natural", or a custom sort function.',examples:["sort([5, 10, 1])",'sort(["C", "B", "A", "D"], "natural")',"sortByLength(a, b) = size(a)[1] - size(b)[1]",'sort(["Langdon", "Tom", "Sara"], sortByLength)','sort(["10", "1", "2"], "natural")'],seealso:["map","filter","forEach"]};var tB={name:"squeeze",category:"Matrix",syntax:["squeeze(x)"],description:"Remove inner and outer singleton dimensions from a matrix.",examples:["a = zeros(3,2,1)","size(squeeze(a))","b = zeros(1,1,3)","size(squeeze(b))"],seealso:["concat","det","diag","identity","inv","ones","range","size","subset","trace","transpose","zeros"]};var rB={name:"subset",category:"Matrix",syntax:["value(index)","value(index) = replacement","subset(value, [index])","subset(value, [index], replacement)"],description:"Get or set a subset of the entries of a matrix or characters of a string. Indexes are one-based. There should be one index specification for each dimension of the target. Each specification can be a single index, a list of indices, or a range in colon notation `l:u`. In a range, both the lower bound l and upper bound u are included; and if a bound is omitted it defaults to the most extreme valid value. The cartesian product of the indices specified in each dimension determines the target of the operation.",examples:["d = [1, 2; 3, 4]","e = []","e[1, 1:2] = [5, 6]","e[2, :] = [7, 8]","f = d * e","f[2, 1]","f[:, 1]","f[[1,2], [1,3]] = [9, 10; 11, 12]","f"],seealso:["concat","det","diag","identity","inv","ones","range","size","squeeze","trace","transpose","zeros"]};var nB={name:"trace",category:"Matrix",syntax:["trace(A)"],description:"Calculate the trace of a matrix: the sum of the elements on the main diagonal of a square matrix.",examples:["A = [1, 2, 3; -1, 2, 3; 2, 0, 3]","trace(A)"],seealso:["concat","det","diag","identity","inv","ones","range","size","squeeze","subset","transpose","zeros"]};var iB={name:"transpose",category:"Matrix",syntax:["x'","transpose(x)"],description:"Transpose a matrix",examples:["a = [1, 2, 3; 4, 5, 6]","a'","transpose(a)"],seealso:["concat","det","diag","identity","inv","ones","range","size","squeeze","subset","trace","zeros"]};var aB={name:"zeros",category:"Matrix",syntax:["zeros(m)","zeros(m, n)","zeros(m, n, p, ...)","zeros([m])","zeros([m, n])","zeros([m, n, p, ...])"],description:"Create a matrix containing zeros.",examples:["zeros(3)","zeros(3, 5)","a = [1, 2, 3; 4, 5, 6]","zeros(size(a))"],seealso:["concat","det","diag","identity","inv","ones","range","size","squeeze","subset","trace","transpose"]};var oB={name:"fft",category:"Matrix",syntax:["fft(x)"],description:"Calculate N-dimensional Fourier transform",examples:["fft([[1, 0], [1, 0]])"],seealso:["ifft"]};var sB={name:"ifft",category:"Matrix",syntax:["ifft(x)"],description:"Calculate N-dimensional inverse Fourier transform",examples:["ifft([[2, 2], [0, 0]])"],seealso:["fft"]};var lB={name:"combinations",category:"Probability",syntax:["combinations(n, k)"],description:"Compute the number of combinations of n items taken k at a time",examples:["combinations(7, 5)"],seealso:["combinationsWithRep","permutations","factorial"]};var uB={name:"combinationsWithRep",category:"Probability",syntax:["combinationsWithRep(n, k)"],description:"Compute the number of combinations of n items taken k at a time with replacements.",examples:["combinationsWithRep(7, 5)"],seealso:["combinations","permutations","factorial"]};var cB={name:"factorial",category:"Probability",syntax:["n!","factorial(n)"],description:"Compute the factorial of a value",examples:["5!","5 * 4 * 3 * 2 * 1","3!"],seealso:["combinations","combinationsWithRep","permutations","gamma"]};var dB={name:"gamma",category:"Probability",syntax:["gamma(n)"],description:"Compute the gamma function. For small values, the Lanczos approximation is used, and for large values the extended Stirling approximation.",examples:["gamma(4)","3!","gamma(1/2)","sqrt(pi)"],seealso:["factorial"]};var fB={name:"lgamma",category:"Probability",syntax:["lgamma(n)"],description:"Logarithm of the gamma function for real, positive numbers and complex numbers, using Lanczos approximation for numbers and Stirling series for complex numbers.",examples:["lgamma(4)","lgamma(1/2)","lgamma(i)","lgamma(complex(1.1, 2))"],seealso:["gamma"]};var mB={name:"kldivergence",category:"Probability",syntax:["kldivergence(x, y)"],description:"Calculate the Kullback-Leibler (KL) divergence  between two distributions.",examples:["kldivergence([0.7,0.5,0.4], [0.2,0.9,0.5])"],seealso:[]};var hB={name:"multinomial",category:"Probability",syntax:["multinomial(A)"],description:"Multinomial Coefficients compute the number of ways of picking a1, a2, ..., ai unordered outcomes from `n` possibilities. multinomial takes one array of integers as an argument. The following condition must be enforced: every ai > 0.",examples:["multinomial([1, 2, 1])"],seealso:["combinations","factorial"]};var pB={name:"permutations",category:"Probability",syntax:["permutations(n)","permutations(n, k)"],description:"Compute the number of permutations of n items taken k at a time",examples:["permutations(5)","permutations(5, 3)"],seealso:["combinations","combinationsWithRep","factorial"]};var gB={name:"pickRandom",category:"Probability",syntax:["pickRandom(array)","pickRandom(array, number)","pickRandom(array, weights)","pickRandom(array, number, weights)","pickRandom(array, weights, number)"],description:"Pick a random entry from a given array.",examples:["pickRandom(0:10)","pickRandom([1, 3, 1, 6])","pickRandom([1, 3, 1, 6], 2)","pickRandom([1, 3, 1, 6], [2, 3, 2, 1])","pickRandom([1, 3, 1, 6], 2, [2, 3, 2, 1])","pickRandom([1, 3, 1, 6], [2, 3, 2, 1], 2)"],seealso:["random","randomInt"]};var vB={name:"random",category:"Probability",syntax:["random()","random(max)","random(min, max)","random(size)","random(size, max)","random(size, min, max)"],description:"Return a random number.",examples:["random()","random(10, 20)","random([2, 3])"],seealso:["pickRandom","randomInt"]};var xB={name:"randomInt",category:"Probability",syntax:["randomInt(max)","randomInt(min, max)","randomInt(size)","randomInt(size, max)","randomInt(size, min, max)"],description:"Return a random integer number",examples:["randomInt(10, 20)","randomInt([2, 3], 10)"],seealso:["pickRandom","random"]};var yB={name:"compare",category:"Relational",syntax:["compare(x, y)"],description:"Compare two values. Returns 1 when x > y, -1 when x < y, and 0 when x == y.",examples:["compare(2, 3)","compare(3, 2)","compare(2, 2)","compare(5cm, 40mm)","compare(2, [1, 2, 3])"],seealso:["equal","unequal","smaller","smallerEq","largerEq","compareNatural","compareText"]};var bB={name:"compareNatural",category:"Relational",syntax:["compareNatural(x, y)"],description:"Compare two values of any type in a deterministic, natural way. Returns 1 when x > y, -1 when x < y, and 0 when x == y.",examples:["compareNatural(2, 3)","compareNatural(3, 2)","compareNatural(2, 2)","compareNatural(5cm, 40mm)",'compareNatural("2", "10")',"compareNatural(2 + 3i, 2 + 4i)","compareNatural([1, 2, 4], [1, 2, 3])","compareNatural([1, 5], [1, 2, 3])","compareNatural([1, 2], [1, 2])","compareNatural({a: 2}, {a: 4})"],seealso:["equal","unequal","smaller","smallerEq","largerEq","compare","compareText"]};var wB={name:"compareText",category:"Relational",syntax:["compareText(x, y)"],description:"Compare two strings lexically. Comparison is case sensitive. Returns 1 when x > y, -1 when x < y, and 0 when x == y.",examples:['compareText("B", "A")','compareText("A", "B")','compareText("A", "A")','compareText("2", "10")','compare("2", "10")',"compare(2, 10)",'compareNatural("2", "10")','compareText("B", ["A", "B", "C"])'],seealso:["compare","compareNatural"]};var _B={name:"deepEqual",category:"Relational",syntax:["deepEqual(x, y)"],description:"Check equality of two matrices element wise. Returns true if the size of both matrices is equal and when and each of the elements are equal.",examples:["deepEqual([1,3,4], [1,3,4])","deepEqual([1,3,4], [1,3])"],seealso:["equal","unequal","smaller","larger","smallerEq","largerEq","compare"]};var SB={name:"equal",category:"Relational",syntax:["x == y","equal(x, y)"],description:"Check equality of two values. Returns true if the values are equal, and false if not.",examples:["2+2 == 3","2+2 == 4","a = 3.2","b = 6-2.8","a == b","50cm == 0.5m"],seealso:["unequal","smaller","larger","smallerEq","largerEq","compare","deepEqual","equalText"]};var DB={name:"equalText",category:"Relational",syntax:["equalText(x, y)"],description:"Check equality of two strings. Comparison is case sensitive. Returns true if the values are equal, and false if not.",examples:['equalText("Hello", "Hello")','equalText("a", "A")','equal("2e3", "2000")','equalText("2e3", "2000")','equalText("B", ["A", "B", "C"])'],seealso:["compare","compareNatural","compareText","equal"]};var CB={name:"larger",category:"Relational",syntax:["x > y","larger(x, y)"],description:"Check if value x is larger than y. Returns true if x is larger than y, and false if not. Comparing a value with NaN returns false.",examples:["2 > 3","5 > 2*2","a = 3.3","b = 6-2.8","(a > b)","(b < a)","5 cm > 2 inch"],seealso:["equal","unequal","smaller","smallerEq","largerEq","compare"]};var EB={name:"largerEq",category:"Relational",syntax:["x >= y","largerEq(x, y)"],description:"Check if value x is larger or equal to y. Returns true if x is larger or equal to y, and false if not.",examples:["2 >= 1+1","2 > 1+1","a = 3.2","b = 6-2.8","(a >= b)"],seealso:["equal","unequal","smallerEq","smaller","compare"]};var AB={name:"smaller",category:"Relational",syntax:["x < y","smaller(x, y)"],description:"Check if value x is smaller than value y. Returns true if x is smaller than y, and false if not. Comparing a value with NaN returns false.",examples:["2 < 3","5 < 2*2","a = 3.3","b = 6-2.8","(a < b)","5 cm < 2 inch"],seealso:["equal","unequal","larger","smallerEq","largerEq","compare"]};var MB={name:"smallerEq",category:"Relational",syntax:["x <= y","smallerEq(x, y)"],description:"Check if value x is smaller or equal to value y. Returns true if x is smaller than y, and false if not.",examples:["2 <= 1+1","2 < 1+1","a = 3.2","b = 6-2.8","(a <= b)"],seealso:["equal","unequal","larger","smaller","largerEq","compare"]};var NB={name:"unequal",category:"Relational",syntax:["x != y","unequal(x, y)"],description:"Check unequality of two values. Returns true if the values are unequal, and false if they are equal.",examples:["2+2 != 3","2+2 != 4","a = 3.2","b = 6-2.8","a != b","50cm != 0.5m","5 cm != 2 inch"],seealso:["equal","smaller","larger","smallerEq","largerEq","compare","deepEqual"]};var TB={name:"setCartesian",category:"Set",syntax:["setCartesian(set1, set2)"],description:"Create the cartesian product of two (multi)sets. Multi-dimension arrays will be converted to single-dimension arrays and the values will be sorted in ascending order before the operation.",examples:["setCartesian([1, 2], [3, 4])"],seealso:["setUnion","setIntersect","setDifference","setPowerset"]};var FB={name:"setDifference",category:"Set",syntax:["setDifference(set1, set2)"],description:"Create the difference of two (multi)sets: every element of set1, that is not the element of set2. Multi-dimension arrays will be converted to single-dimension arrays before the operation.",examples:["setDifference([1, 2, 3, 4], [3, 4, 5, 6])","setDifference([[1, 2], [3, 4]], [[3, 4], [5, 6]])"],seealso:["setUnion","setIntersect","setSymDifference"]};var IB={name:"setDistinct",category:"Set",syntax:["setDistinct(set)"],description:"Collect the distinct elements of a multiset. A multi-dimension array will be converted to a single-dimension array before the operation.",examples:["setDistinct([1, 1, 1, 2, 2, 3])"],seealso:["setMultiplicity"]};var OB={name:"setIntersect",category:"Set",syntax:["setIntersect(set1, set2)"],description:"Create the intersection of two (multi)sets. Multi-dimension arrays will be converted to single-dimension arrays before the operation.",examples:["setIntersect([1, 2, 3, 4], [3, 4, 5, 6])","setIntersect([[1, 2], [3, 4]], [[3, 4], [5, 6]])"],seealso:["setUnion","setDifference"]};var RB={name:"setIsSubset",category:"Set",syntax:["setIsSubset(set1, set2)"],description:"Check whether a (multi)set is a subset of another (multi)set: every element of set1 is the element of set2. Multi-dimension arrays will be converted to single-dimension arrays before the operation.",examples:["setIsSubset([1, 2], [3, 4, 5, 6])","setIsSubset([3, 4], [3, 4, 5, 6])"],seealso:["setUnion","setIntersect","setDifference"]};var kB={name:"setMultiplicity",category:"Set",syntax:["setMultiplicity(element, set)"],description:"Count the multiplicity of an element in a multiset. A multi-dimension array will be converted to a single-dimension array before the operation.",examples:["setMultiplicity(1, [1, 2, 2, 4])","setMultiplicity(2, [1, 2, 2, 4])"],seealso:["setDistinct","setSize"]};var PB={name:"setPowerset",category:"Set",syntax:["setPowerset(set)"],description:"Create the powerset of a (multi)set: the powerset contains very possible subsets of a (multi)set. A multi-dimension array will be converted to a single-dimension array before the operation.",examples:["setPowerset([1, 2, 3])"],seealso:["setCartesian"]};var BB={name:"setSize",category:"Set",syntax:["setSize(set)","setSize(set, unique)"],description:'Count the number of elements of a (multi)set. When the second parameter "unique" is true, count only the unique values. A multi-dimension array will be converted to a single-dimension array before the operation.',examples:["setSize([1, 2, 2, 4])","setSize([1, 2, 2, 4], true)"],seealso:["setUnion","setIntersect","setDifference"]};var LB={name:"setSymDifference",category:"Set",syntax:["setSymDifference(set1, set2)"],description:"Create the symmetric difference of two (multi)sets. Multi-dimension arrays will be converted to single-dimension arrays before the operation.",examples:["setSymDifference([1, 2, 3, 4], [3, 4, 5, 6])","setSymDifference([[1, 2], [3, 4]], [[3, 4], [5, 6]])"],seealso:["setUnion","setIntersect","setDifference"]};var zB={name:"setUnion",category:"Set",syntax:["setUnion(set1, set2)"],description:"Create the union of two (multi)sets. Multi-dimension arrays will be converted to single-dimension arrays before the operation.",examples:["setUnion([1, 2, 3, 4], [3, 4, 5, 6])","setUnion([[1, 2], [3, 4]], [[3, 4], [5, 6]])"],seealso:["setIntersect","setDifference"]};var VB={name:"zpk2tf",category:"Signal",syntax:["zpk2tf(z, p, k)"],description:"Compute the transfer function of a zero-pole-gain model.",examples:["zpk2tf([1, 2], [-1, -2], 1)","zpk2tf([1, 2], [-1, -2])","zpk2tf([1 - 3i, 2 + 2i], [-1, -2])"],seealso:[]};var UB={name:"freqz",category:"Signal",syntax:["freqz(b, a)","freqz(b, a, w)"],description:"Calculates the frequency response of a filter given its numerator and denominator coefficients.",examples:["freqz([1, 2], [1, 2, 3])","freqz([1, 2], [1, 2, 3], [0, 1])","freqz([1, 2], [1, 2, 3], 512)"],seealso:[]};var qB={name:"erf",category:"Special",syntax:["erf(x)"],description:"Compute the erf function of a value using a rational Chebyshev approximations for different intervals of x",examples:["erf(0.2)","erf(-0.5)","erf(4)"],seealso:[]};var jB={name:"zeta",category:"Special",syntax:["zeta(s)"],description:"Compute the Riemann Zeta Function using an infinite series and Riemann's Functional Equation for the entire complex plane",examples:["zeta(0.2)","zeta(-0.5)","zeta(4)"],seealso:[]};var $B={name:"mad",category:"Statistics",syntax:["mad(a, b, c, ...)","mad(A)"],description:"Compute the median absolute deviation of a matrix or a list with values. The median absolute deviation is defined as the median of the absolute deviations from the median.",examples:["mad(10, 20, 30)","mad([1, 2, 3])"],seealso:["mean","median","std","abs"]};var HB={name:"max",category:"Statistics",syntax:["max(a, b, c, ...)","max(A)","max(A, dimension)"],description:"Compute the maximum value of a list of values. If any NaN values are found, the function yields the last NaN in the input.",examples:["max(2, 3, 4, 1)","max([2, 3, 4, 1])","max([2, 5; 4, 3])","max([2, 5; 4, 3], 1)","max([2, 5; 4, 3], 2)","max(2.7, 7.1, -4.5, 2.0, 4.1)","min(2.7, 7.1, -4.5, 2.0, 4.1)"],seealso:["mean","median","min","prod","std","sum","variance"]};var WB={name:"mean",category:"Statistics",syntax:["mean(a, b, c, ...)","mean(A)","mean(A, dimension)"],description:"Compute the arithmetic mean of a list of values.",examples:["mean(2, 3, 4, 1)","mean([2, 3, 4, 1])","mean([2, 5; 4, 3])","mean([2, 5; 4, 3], 1)","mean([2, 5; 4, 3], 2)","mean([1.0, 2.7, 3.2, 4.0])"],seealso:["max","median","min","prod","std","sum","variance"]};var GB={name:"median",category:"Statistics",syntax:["median(a, b, c, ...)","median(A)"],description:"Compute the median of all values. The values are sorted and the middle value is returned. In case of an even number of values, the average of the two middle values is returned.",examples:["median(5, 2, 7)","median([3, -1, 5, 7])"],seealso:["max","mean","min","prod","std","sum","variance","quantileSeq"]};var YB={name:"min",category:"Statistics",syntax:["min(a, b, c, ...)","min(A)","min(A, dimension)"],description:"Compute the minimum value of a list of values. If any NaN values are found, the function yields the last NaN in the input.",examples:["min(2, 3, 4, 1)","min([2, 3, 4, 1])","min([2, 5; 4, 3])","min([2, 5; 4, 3], 1)","min([2, 5; 4, 3], 2)","min(2.7, 7.1, -4.5, 2.0, 4.1)","max(2.7, 7.1, -4.5, 2.0, 4.1)"],seealso:["max","mean","median","prod","std","sum","variance"]};var ZB={name:"mode",category:"Statistics",syntax:["mode(a, b, c, ...)","mode(A)","mode(A, a, b, B, c, ...)"],description:"Computes the mode of all values as an array. In case mode being more than one, multiple values are returned in an array.",examples:["mode(2, 1, 4, 3, 1)","mode([1, 2.7, 3.2, 4, 2.7])","mode(1, 4, 6, 1, 6)"],seealso:["max","mean","min","median","prod","std","sum","variance"]};var XB={name:"prod",category:"Statistics",syntax:["prod(a, b, c, ...)","prod(A)"],description:"Compute the product of all values.",examples:["prod(2, 3, 4)","prod([2, 3, 4])","prod([2, 5; 4, 3])"],seealso:["max","mean","min","median","min","std","sum","variance"]};var KB={name:"quantileSeq",category:"Statistics",syntax:["quantileSeq(A, prob[, sorted])","quantileSeq(A, [prob1, prob2, ...][, sorted])","quantileSeq(A, N[, sorted])"],description:`Compute the prob order quantile of a matrix or a list with values. The sequence is sorted and the middle value is returned. Supported types of sequence values are: Number, BigNumber, Unit Supported types of probability are: Number, BigNumber. 

In case of a (multi dimensional) array or matrix, the prob order quantile of all elements will be calculated.`,examples:["quantileSeq([3, -1, 5, 7], 0.5)","quantileSeq([3, -1, 5, 7], [1/3, 2/3])","quantileSeq([3, -1, 5, 7], 2)","quantileSeq([-1, 3, 5, 7], 0.5, true)"],seealso:["mean","median","min","max","prod","std","sum","variance"]};var JB={name:"std",category:"Statistics",syntax:["std(a, b, c, ...)","std(A)","std(A, dimension)","std(A, normalization)","std(A, dimension, normalization)"],description:'Compute the standard deviation of all values, defined as std(A) = sqrt(variance(A)). Optional parameter normalization can be "unbiased" (default), "uncorrected", or "biased".',examples:["std(2, 4, 6)","std([2, 4, 6, 8])",'std([2, 4, 6, 8], "uncorrected")','std([2, 4, 6, 8], "biased")',"std([1, 2, 3; 4, 5, 6])"],seealso:["max","mean","min","median","prod","sum","variance"]};var QB={name:"cumsum",category:"Statistics",syntax:["cumsum(a, b, c, ...)","cumsum(A)"],description:"Compute the cumulative sum of all values.",examples:["cumsum(2, 3, 4, 1)","cumsum([2, 3, 4, 1])","cumsum([1, 2; 3, 4])","cumsum([1, 2; 3, 4], 1)","cumsum([1, 2; 3, 4], 2)"],seealso:["max","mean","median","min","prod","std","sum","variance"]};var eL={name:"sum",category:"Statistics",syntax:["sum(a, b, c, ...)","sum(A)","sum(A, dimension)"],description:"Compute the sum of all values.",examples:["sum(2, 3, 4, 1)","sum([2, 3, 4, 1])","sum([2, 5; 4, 3])"],seealso:["max","mean","median","min","prod","std","sum","variance"]};var tL={name:"variance",category:"Statistics",syntax:["variance(a, b, c, ...)","variance(A)","variance(A, dimension)","variance(A, normalization)","variance(A, dimension, normalization)"],description:'Compute the variance of all values. Optional parameter normalization can be "unbiased" (default), "uncorrected", or "biased".',examples:["variance(2, 4, 6)","variance([2, 4, 6, 8])",'variance([2, 4, 6, 8], "uncorrected")','variance([2, 4, 6, 8], "biased")',"variance([1, 2, 3; 4, 5, 6])"],seealso:["max","mean","min","median","min","prod","std","sum"]};var rL={name:"corr",category:"Statistics",syntax:["corr(A,B)"],description:"Compute the correlation coefficient of a two list with values, For matrices, the matrix correlation coefficient is calculated.",examples:["corr([2, 4, 6, 8],[1, 2, 3, 6])","corr(matrix([[1, 2.2, 3, 4.8, 5], [1, 2, 3, 4, 5]]), matrix([[4, 5.3, 6.6, 7, 8], [1, 2, 3, 4, 5]]))"],seealso:["max","mean","min","median","min","prod","std","sum"]};var nL={name:"acos",category:"Trigonometry",syntax:["acos(x)"],description:"Compute the inverse cosine of a value in radians.",examples:["acos(0.5)","acos(cos(2.3))"],seealso:["cos","atan","asin"]};var iL={name:"acosh",category:"Trigonometry",syntax:["acosh(x)"],description:"Calculate the hyperbolic arccos of a value, defined as `acosh(x) = ln(sqrt(x^2 - 1) + x)`.",examples:["acosh(1.5)"],seealso:["cosh","asinh","atanh"]};var aL={name:"acot",category:"Trigonometry",syntax:["acot(x)"],description:"Calculate the inverse cotangent of a value.",examples:["acot(0.5)","acot(cot(0.5))","acot(2)"],seealso:["cot","atan"]};var oL={name:"acoth",category:"Trigonometry",syntax:["acoth(x)"],description:"Calculate the inverse hyperbolic tangent of a value, defined as `acoth(x) = (ln((x+1)/x) + ln(x/(x-1))) / 2`.",examples:["acoth(2)","acoth(0.5)"],seealso:["acsch","asech"]};var sL={name:"acsc",category:"Trigonometry",syntax:["acsc(x)"],description:"Calculate the inverse cotangent of a value.",examples:["acsc(2)","acsc(csc(0.5))","acsc(0.5)"],seealso:["csc","asin","asec"]};var lL={name:"acsch",category:"Trigonometry",syntax:["acsch(x)"],description:"Calculate the inverse hyperbolic cosecant of a value, defined as `acsch(x) = ln(1/x + sqrt(1/x^2 + 1))`.",examples:["acsch(0.5)"],seealso:["asech","acoth"]};var uL={name:"asec",category:"Trigonometry",syntax:["asec(x)"],description:"Calculate the inverse secant of a value.",examples:["asec(0.5)","asec(sec(0.5))","asec(2)"],seealso:["acos","acot","acsc"]};var cL={name:"asech",category:"Trigonometry",syntax:["asech(x)"],description:"Calculate the inverse secant of a value.",examples:["asech(0.5)"],seealso:["acsch","acoth"]};var dL={name:"asin",category:"Trigonometry",syntax:["asin(x)"],description:"Compute the inverse sine of a value in radians.",examples:["asin(0.5)","asin(sin(0.5))"],seealso:["sin","acos","atan"]};var fL={name:"asinh",category:"Trigonometry",syntax:["asinh(x)"],description:"Calculate the hyperbolic arcsine of a value, defined as `asinh(x) = ln(x + sqrt(x^2 + 1))`.",examples:["asinh(0.5)"],seealso:["acosh","atanh"]};var mL={name:"atan",category:"Trigonometry",syntax:["atan(x)"],description:"Compute the inverse tangent of a value in radians.",examples:["atan(0.5)","atan(tan(0.5))"],seealso:["tan","acos","asin"]};var hL={name:"atan2",category:"Trigonometry",syntax:["atan2(y, x)"],description:"Computes the principal value of the arc tangent of y/x in radians.",examples:["atan2(2, 2) / pi","angle = 60 deg in rad","x = cos(angle)","y = sin(angle)","atan2(y, x)"],seealso:["sin","cos","tan"]};var pL={name:"atanh",category:"Trigonometry",syntax:["atanh(x)"],description:"Calculate the hyperbolic arctangent of a value, defined as `atanh(x) = ln((1 + x)/(1 - x)) / 2`.",examples:["atanh(0.5)"],seealso:["acosh","asinh"]};var gL={name:"cos",category:"Trigonometry",syntax:["cos(x)"],description:"Compute the cosine of x in radians.",examples:["cos(2)","cos(pi / 4) ^ 2","cos(180 deg)","cos(60 deg)","sin(0.2)^2 + cos(0.2)^2"],seealso:["acos","sin","tan"]};var vL={name:"cosh",category:"Trigonometry",syntax:["cosh(x)"],description:"Compute the hyperbolic cosine of x in radians.",examples:["cosh(0.5)"],seealso:["sinh","tanh","coth"]};var xL={name:"cot",category:"Trigonometry",syntax:["cot(x)"],description:"Compute the cotangent of x in radians. Defined as 1/tan(x)",examples:["cot(2)","1 / tan(2)"],seealso:["sec","csc","tan"]};var yL={name:"coth",category:"Trigonometry",syntax:["coth(x)"],description:"Compute the hyperbolic cotangent of x in radians.",examples:["coth(2)","1 / tanh(2)"],seealso:["sech","csch","tanh"]};var bL={name:"csc",category:"Trigonometry",syntax:["csc(x)"],description:"Compute the cosecant of x in radians. Defined as 1/sin(x)",examples:["csc(2)","1 / sin(2)"],seealso:["sec","cot","sin"]};var wL={name:"csch",category:"Trigonometry",syntax:["csch(x)"],description:"Compute the hyperbolic cosecant of x in radians. Defined as 1/sinh(x)",examples:["csch(2)","1 / sinh(2)"],seealso:["sech","coth","sinh"]};var _L={name:"sec",category:"Trigonometry",syntax:["sec(x)"],description:"Compute the secant of x in radians. Defined as 1/cos(x)",examples:["sec(2)","1 / cos(2)"],seealso:["cot","csc","cos"]};var SL={name:"sech",category:"Trigonometry",syntax:["sech(x)"],description:"Compute the hyperbolic secant of x in radians. Defined as 1/cosh(x)",examples:["sech(2)","1 / cosh(2)"],seealso:["coth","csch","cosh"]};var DL={name:"sin",category:"Trigonometry",syntax:["sin(x)"],description:"Compute the sine of x in radians.",examples:["sin(2)","sin(pi / 4) ^ 2","sin(90 deg)","sin(30 deg)","sin(0.2)^2 + cos(0.2)^2"],seealso:["asin","cos","tan"]};var CL={name:"sinh",category:"Trigonometry",syntax:["sinh(x)"],description:"Compute the hyperbolic sine of x in radians.",examples:["sinh(0.5)"],seealso:["cosh","tanh"]};var EL={name:"tan",category:"Trigonometry",syntax:["tan(x)"],description:"Compute the tangent of x in radians.",examples:["tan(0.5)","sin(0.5) / cos(0.5)","tan(pi / 4)","tan(45 deg)"],seealso:["atan","sin","cos"]};var AL={name:"tanh",category:"Trigonometry",syntax:["tanh(x)"],description:"Compute the hyperbolic tangent of x in radians.",examples:["tanh(0.5)","sinh(0.5) / cosh(0.5)"],seealso:["sinh","cosh"]};var ML={name:"to",category:"Units",syntax:["x to unit","to(x, unit)"],description:"Change the unit of a value.",examples:["5 inch to cm","3.2kg to g","16 bytes in bits"],seealso:[]};var NL={name:"bin",category:"Utils",syntax:["bin(value)"],description:"Format a number as binary",examples:["bin(2)"],seealso:["oct","hex"]};var TL={name:"clone",category:"Utils",syntax:["clone(x)"],description:"Clone a variable. Creates a copy of primitive variables, and a deep copy of matrices",examples:["clone(3.5)","clone(2 - 4i)","clone(45 deg)","clone([1, 2; 3, 4])",'clone("hello world")'],seealso:[]};var FL={name:"format",category:"Utils",syntax:["format(value)","format(value, precision)"],description:"Format a value of any type as string.",examples:["format(2.3)","format(3 - 4i)","format([])","format(pi, 3)"],seealso:["print"]};var IL={name:"hasNumericValue",category:"Utils",syntax:["hasNumericValue(x)"],description:"Test whether a value is an numeric value. In case of a string, true is returned if the string contains a numeric value.",examples:["hasNumericValue(2)",'hasNumericValue("2")','isNumeric("2")',"hasNumericValue(0)","hasNumericValue(bignumber(500))","hasNumericValue(fraction(0.125))","hasNumericValue(2 + 3i)",'hasNumericValue([2.3, "foo", false])'],seealso:["isInteger","isZero","isNegative","isPositive","isNaN","isNumeric"]};var OL={name:"hex",category:"Utils",syntax:["hex(value)"],description:"Format a number as hexadecimal",examples:["hex(240)"],seealso:["bin","oct"]};var RL={name:"isInteger",category:"Utils",syntax:["isInteger(x)"],description:"Test whether a value is an integer number.",examples:["isInteger(2)","isInteger(3.5)","isInteger([3, 0.5, -2])"],seealso:["isNegative","isNumeric","isPositive","isZero"]};var kL={name:"isNaN",category:"Utils",syntax:["isNaN(x)"],description:"Test whether a value is NaN (not a number)",examples:["isNaN(2)","isNaN(0 / 0)","isNaN(NaN)","isNaN(Infinity)"],seealso:["isNegative","isNumeric","isPositive","isZero"]};var PL={name:"isNegative",category:"Utils",syntax:["isNegative(x)"],description:"Test whether a value is negative: smaller than zero.",examples:["isNegative(2)","isNegative(0)","isNegative(-4)","isNegative([3, 0.5, -2])"],seealso:["isInteger","isNumeric","isPositive","isZero"]};var BL={name:"isNumeric",category:"Utils",syntax:["isNumeric(x)"],description:"Test whether a value is a numeric value. Returns true when the input is a number, BigNumber, Fraction, or boolean.",examples:["isNumeric(2)",'isNumeric("2")','hasNumericValue("2")',"isNumeric(0)","isNumeric(bignumber(500))","isNumeric(fraction(0.125))","isNumeric(2 + 3i)",'isNumeric([2.3, "foo", false])'],seealso:["isInteger","isZero","isNegative","isPositive","isNaN","hasNumericValue"]};var LL={name:"isPositive",category:"Utils",syntax:["isPositive(x)"],description:"Test whether a value is positive: larger than zero.",examples:["isPositive(2)","isPositive(0)","isPositive(-4)","isPositive([3, 0.5, -2])"],seealso:["isInteger","isNumeric","isNegative","isZero"]};var zL={name:"isPrime",category:"Utils",syntax:["isPrime(x)"],description:"Test whether a value is prime: has no divisors other than itself and one.",examples:["isPrime(3)","isPrime(-2)","isPrime([2, 17, 100])"],seealso:["isInteger","isNumeric","isNegative","isZero"]};var VL={name:"isZero",category:"Utils",syntax:["isZero(x)"],description:"Test whether a value is zero.",examples:["isZero(2)","isZero(0)","isZero(-4)","isZero([3, 0, -2, 0])"],seealso:["isInteger","isNumeric","isNegative","isPositive"]};var UL={name:"numeric",category:"Utils",syntax:["numeric(x)"],description:"Convert a numeric input to a specific numeric type: number, BigNumber, bigint, or Fraction.",examples:['numeric("4")','numeric("4", "number")','numeric("4", "bigint")','numeric("4", "BigNumber")','numeric("4", "Fraction")','numeric(4, "Fraction")','numeric(fraction(2, 5), "number")'],seealso:["number","bigint","fraction","bignumber","string","format"]};var qL={name:"oct",category:"Utils",syntax:["oct(value)"],description:"Format a number as octal",examples:["oct(56)"],seealso:["bin","hex"]};var jL={name:"print",category:"Utils",syntax:["print(template, values)","print(template, values, precision)"],description:"Interpolate values into a string template.",examples:['print("Lucy is $age years old", {age: 5})','print("The value of pi is $pi", {pi: pi}, 3)','print("Hello, $user.name!", {user: {name: "John"}})','print("Values: $1, $2, $3", [6, 9, 4])'],seealso:["format"]};var $L={name:"typeOf",category:"Utils",syntax:["typeOf(x)"],description:"Get the type of a variable.",examples:["typeOf(3.5)","typeOf(2 - 4i)","typeOf(45 deg)",'typeOf("hello world")'],seealso:["getMatrixDataType"]};var HL={name:"solveODE",category:"Numeric",syntax:["solveODE(func, tspan, y0)","solveODE(func, tspan, y0, options)"],description:"Numerical Integration of Ordinary Differential Equations.",examples:["f(t,y) = y","tspan = [0, 4]","solveODE(f, tspan, 1)","solveODE(f, tspan, [1, 2])",'solveODE(f, tspan, 1, { method:"RK23", maxStep:0.1 })'],seealso:["derivative","simplifyCore"]};var WL={bignumber:RR,bigint:kR,boolean:PR,complex:BR,createUnit:LR,fraction:zR,index:VR,matrix:UR,number:qR,sparse:jR,splitUnit:$R,string:HR,unit:WR,e:eS,E:eS,false:yR,i:bR,Infinity:wR,LN2:SR,LN10:_R,LOG2E:CR,LOG10E:DR,NaN:ER,null:AR,pi:tS,PI:tS,phi:MR,SQRT1_2:NR,SQRT2:TR,tau:FR,true:IR,version:OR,speedOfLight:{description:"Speed of light in vacuum",examples:["speedOfLight"]},gravitationConstant:{description:"Newtonian constant of gravitation",examples:["gravitationConstant"]},planckConstant:{description:"Planck constant",examples:["planckConstant"]},reducedPlanckConstant:{description:"Reduced Planck constant",examples:["reducedPlanckConstant"]},magneticConstant:{description:"Magnetic constant (vacuum permeability)",examples:["magneticConstant"]},electricConstant:{description:"Electric constant (vacuum permeability)",examples:["electricConstant"]},vacuumImpedance:{description:"Characteristic impedance of vacuum",examples:["vacuumImpedance"]},coulomb:{description:"Coulomb's constant",examples:["coulomb"]},elementaryCharge:{description:"Elementary charge",examples:["elementaryCharge"]},bohrMagneton:{description:"Bohr magneton",examples:["bohrMagneton"]},conductanceQuantum:{description:"Conductance quantum",examples:["conductanceQuantum"]},inverseConductanceQuantum:{description:"Inverse conductance quantum",examples:["inverseConductanceQuantum"]},magneticFluxQuantum:{description:"Magnetic flux quantum",examples:["magneticFluxQuantum"]},nuclearMagneton:{description:"Nuclear magneton",examples:["nuclearMagneton"]},klitzing:{description:"Von Klitzing constant",examples:["klitzing"]},bohrRadius:{description:"Bohr radius",examples:["bohrRadius"]},classicalElectronRadius:{description:"Classical electron radius",examples:["classicalElectronRadius"]},electronMass:{description:"Electron mass",examples:["electronMass"]},fermiCoupling:{description:"Fermi coupling constant",examples:["fermiCoupling"]},fineStructure:{description:"Fine-structure constant",examples:["fineStructure"]},hartreeEnergy:{description:"Hartree energy",examples:["hartreeEnergy"]},protonMass:{description:"Proton mass",examples:["protonMass"]},deuteronMass:{description:"Deuteron Mass",examples:["deuteronMass"]},neutronMass:{description:"Neutron mass",examples:["neutronMass"]},quantumOfCirculation:{description:"Quantum of circulation",examples:["quantumOfCirculation"]},rydberg:{description:"Rydberg constant",examples:["rydberg"]},thomsonCrossSection:{description:"Thomson cross section",examples:["thomsonCrossSection"]},weakMixingAngle:{description:"Weak mixing angle",examples:["weakMixingAngle"]},efimovFactor:{description:"Efimov factor",examples:["efimovFactor"]},atomicMass:{description:"Atomic mass constant",examples:["atomicMass"]},avogadro:{description:"Avogadro's number",examples:["avogadro"]},boltzmann:{description:"Boltzmann constant",examples:["boltzmann"]},faraday:{description:"Faraday constant",examples:["faraday"]},firstRadiation:{description:"First radiation constant",examples:["firstRadiation"]},loschmidt:{description:"Loschmidt constant at T=273.15 K and p=101.325 kPa",examples:["loschmidt"]},gasConstant:{description:"Gas constant",examples:["gasConstant"]},molarPlanckConstant:{description:"Molar Planck constant",examples:["molarPlanckConstant"]},molarVolume:{description:"Molar volume of an ideal gas at T=273.15 K and p=101.325 kPa",examples:["molarVolume"]},sackurTetrode:{description:"Sackur-Tetrode constant at T=1 K and p=101.325 kPa",examples:["sackurTetrode"]},secondRadiation:{description:"Second radiation constant",examples:["secondRadiation"]},stefanBoltzmann:{description:"Stefan-Boltzmann constant",examples:["stefanBoltzmann"]},wienDisplacement:{description:"Wien displacement law constant",examples:["wienDisplacement"]},molarMass:{description:"Molar mass constant",examples:["molarMass"]},molarMassC12:{description:"Molar mass constant of carbon-12",examples:["molarMassC12"]},gravity:{description:"Standard acceleration of gravity (standard acceleration of free-fall on Earth)",examples:["gravity"]},planckLength:{description:"Planck length",examples:["planckLength"]},planckMass:{description:"Planck mass",examples:["planckMass"]},planckTime:{description:"Planck time",examples:["planckTime"]},planckCharge:{description:"Planck charge",examples:["planckCharge"]},planckTemperature:{description:"Planck temperature",examples:["planckTemperature"]},derivative:XR,lsolve:JR,lsolveAll:QR,lup:ek,lusolve:tk,leafCount:KR,polynomialRoot:rk,resolve:ak,simplify:ok,simplifyConstant:sk,simplifyCore:lk,symbolicEqual:ck,rationalize:ik,slu:uk,usolve:dk,usolveAll:fk,qr:nk,abs:mk,add:hk,cbrt:pk,ceil:gk,cube:vk,divide:xk,dotDivide:yk,dotMultiply:bk,dotPow:wk,exp:_k,expm:Sk,expm1:Dk,fix:Ck,floor:Ek,gcd:Ak,hypot:Mk,lcm:Tk,log:Fk,log2:Rk,log1p:Ok,log10:Ik,mod:kk,multiply:Pk,norm:Bk,nthRoot:Lk,nthRoots:zk,pow:Vk,round:Uk,sign:qk,sqrt:jk,sqrtm:$k,square:Yk,subtract:Zk,unaryMinus:Xk,unaryPlus:Kk,xgcd:Jk,invmod:Nk,bitAnd:Qk,bitNot:eP,bitOr:tP,bitXor:rP,leftShift:nP,rightArithShift:iP,rightLogShift:aP,bellNumbers:oP,catalan:sP,composition:lP,stirlingS2:uP,config:GR,import:YR,typed:ZR,arg:cP,conj:dP,re:mP,im:fP,evaluate:hP,help:pP,distance:gP,intersect:vP,and:xP,not:yP,or:bP,xor:wP,mapSlices:_P,concat:DP,count:CP,cross:EP,column:SP,ctranspose:AP,det:MP,diag:NP,diff:TP,dot:FP,getMatrixDataType:PP,identity:BP,filter:OP,flatten:RP,forEach:kP,inv:LP,pinv:zP,eigs:IP,kron:VP,matrixFromFunction:jP,matrixFromRows:$P,matrixFromColumns:qP,map:UP,ones:HP,partitionSelect:WP,range:GP,resize:ZP,reshape:YP,rotate:XP,rotationMatrix:KP,row:JP,size:QP,sort:eB,squeeze:tB,subset:rB,trace:nB,transpose:iB,zeros:aB,fft:oB,ifft:sB,sylvester:Hk,schur:Wk,lyap:Gk,solveODE:HL,combinations:lB,combinationsWithRep:uB,factorial:cB,gamma:dB,kldivergence:mB,lgamma:fB,multinomial:hB,permutations:pB,pickRandom:gB,random:vB,randomInt:xB,compare:yB,compareNatural:bB,compareText:wB,deepEqual:_B,equal:SB,equalText:DB,larger:CB,largerEq:EB,smaller:AB,smallerEq:MB,unequal:NB,setCartesian:TB,setDifference:FB,setDistinct:IB,setIntersect:OB,setIsSubset:RB,setMultiplicity:kB,setPowerset:PB,setSize:BB,setSymDifference:LB,setUnion:zB,zpk2tf:VB,freqz:UB,erf:qB,zeta:jB,cumsum:QB,mad:$B,max:HB,mean:WB,median:GB,min:YB,mode:ZB,prod:XB,quantileSeq:KB,std:JB,sum:eL,variance:tL,corr:rL,acos:nL,acosh:iL,acot:aL,acoth:oL,acsc:sL,acsch:lL,asec:uL,asech:cL,asin:dL,asinh:fL,atan:mL,atanh:pL,atan2:hL,cos:gL,cosh:vL,cot:xL,coth:yL,csc:bL,csch:wL,sec:_L,sech:SL,sin:DL,sinh:CL,tan:EL,tanh:AL,to:ML,clone:TL,format:FL,bin:NL,oct:qL,hex:OL,isNaN:kL,isInteger:RL,isNegative:PL,isNumeric:BL,hasNumericValue:IL,isPositive:LL,isPrime:zL,isZero:VL,print:jL,typeOf:$L,numeric:UL};var GL="help",$fe=["typed","mathWithTransform","Help"],rS=A(GL,$fe,r=>{var{typed:e,mathWithTransform:t,Help:n}=r;return e(GL,{any:function(a){var o,s=a;if(typeof a!="string"){for(o in t)if(nt(t,o)&&a===t[o]){s=o;break}}var l=Ar(WL,s);if(!l){var u=typeof s=="function"?s.name:s;throw new Error('No documentation found on "'+u+'"')}return new n(l)}})});var YL="chain",Hfe=["typed","Chain"],nS=A(YL,Hfe,r=>{var{typed:e,Chain:t}=r;return e(YL,{"":function(){return new t},any:function(i){return new t(i)}})});var ZL="det",Wfe=["typed","matrix","subtractScalar","multiply","divideScalar","isZero","unaryMinus"],iS=A(ZL,Wfe,r=>{var{typed:e,matrix:t,subtractScalar:n,multiply:i,divideScalar:a,isZero:o,unaryMinus:s}=r;return e(ZL,{any:function(c){return dt(c)},"Array | Matrix":function(c){var d;switch(Je(c)?d=c.size():Array.isArray(c)?(c=t(c),d=c.size()):d=[],d.length){case 0:return dt(c);case 1:if(d[0]===1)return dt(c.valueOf()[0]);if(d[0]===0)return 1;throw new RangeError("Matrix must be square (size: "+pt(d)+")");case 2:{var f=d[0],m=d[1];if(f===m)return l(c.clone().valueOf(),f,m);if(m===0)return 1;throw new RangeError("Matrix must be square (size: "+pt(d)+")")}default:throw new RangeError("Matrix must be two dimensional (size: "+pt(d)+")")}}});function l(u,c,d){if(c===1)return dt(u[0][0]);if(c===2)return n(i(u[0][0],u[1][1]),i(u[1][0],u[0][1]));for(var f=!1,m=new Array(c).fill(0).map((C,E)=>E),p=0;p<c;p++){var h=m[p];if(o(u[h][p])){var v=void 0;for(v=p+1;v<c;v++)if(!o(u[m[v]][p])){h=m[v],m[v]=m[p],m[p]=h,f=!f;break}if(v===c)return u[h][p]}for(var y=u[h][p],S=p===0?1:u[m[p-1]][p-1],x=p+1;x<c;x++)for(var _=m[x],w=p+1;w<c;w++)u[_][w]=a(n(i(u[_][w],y),i(u[_][p],u[h][w])),S)}var b=u[m[c-1]][c-1];return f?s(b):b}});var XL="inv",Gfe=["typed","matrix","divideScalar","addScalar","multiply","unaryMinus","det","identity","abs"],aS=A(XL,Gfe,r=>{var{typed:e,matrix:t,divideScalar:n,addScalar:i,multiply:a,unaryMinus:o,det:s,identity:l,abs:u}=r;return e(XL,{"Array | Matrix":function(f){var m=Je(f)?f.size():ut(f);switch(m.length){case 1:if(m[0]===1)return Je(f)?t([n(1,f.valueOf()[0])]):[n(1,f[0])];throw new RangeError("Matrix must be square (size: "+pt(m)+")");case 2:{var p=m[0],h=m[1];if(p===h)return Je(f)?t(c(f.valueOf(),p,h),f.storage()):c(f,p,h);throw new RangeError("Matrix must be square (size: "+pt(m)+")")}default:throw new RangeError("Matrix must be two dimensional (size: "+pt(m)+")")}},any:function(f){return n(1,f)}});function c(d,f,m){var p,h,v,y,S;if(f===1){if(y=d[0][0],y===0)throw Error("Cannot calculate inverse, determinant is zero");return[[n(1,y)]]}else if(f===2){var x=s(d);if(x===0)throw Error("Cannot calculate inverse, determinant is zero");return[[n(d[1][1],x),n(o(d[0][1]),x)],[n(o(d[1][0]),x),n(d[0][0],x)]]}else{var _=d.concat();for(p=0;p<f;p++)_[p]=_[p].concat();for(var w=l(f).valueOf(),b=0;b<m;b++){var C=u(_[b][b]),E=b;for(p=b+1;p<f;)u(_[p][b])>C&&(C=u(_[p][b]),E=p),p++;if(C===0)throw Error("Cannot calculate inverse, determinant is zero");p=E,p!==b&&(S=_[b],_[b]=_[p],_[p]=S,S=w[b],w[b]=w[p],w[p]=S);var D=_[b],M=w[b];for(p=0;p<f;p++){var T=_[p],I=w[p];if(p!==b){if(T[b]!==0){for(v=n(o(T[b]),D[b]),h=b;h<m;h++)T[h]=i(T[h],a(v,D[h]));for(h=0;h<m;h++)I[h]=i(I[h],a(v,M[h]))}}else{for(v=D[b],h=b;h<m;h++)T[h]=n(T[h],v);for(h=0;h<m;h++)I[h]=n(I[h],v)}}}return w}}});var KL="pinv",Yfe=["typed","matrix","inv","deepEqual","equal","dotDivide","dot","ctranspose","divideScalar","multiply","add","Complex"],oS=A(KL,Yfe,r=>{var{typed:e,matrix:t,inv:n,deepEqual:i,equal:a,dotDivide:o,dot:s,ctranspose:l,divideScalar:u,multiply:c,add:d,Complex:f}=r;return e(KL,{"Array | Matrix":function(x){var _=Je(x)?x.size():ut(x);switch(_.length){case 1:return y(x)?l(x):_[0]===1?n(x):o(l(x),s(x,x));case 2:{if(y(x))return l(x);var w=_[0],b=_[1];if(w===b)try{return n(x)}catch(C){if(!(C instanceof Error&&C.message.match(/Cannot calculate inverse, determinant is zero/)))throw C}return Je(x)?t(m(x.valueOf(),w,b),x.storage()):m(x,w,b)}default:throw new RangeError("Matrix must be two dimensional (size: "+pt(_)+")")}},any:function(x){return a(x,0)?dt(x):u(1,x)}});function m(S,x,_){var{C:w,F:b}=h(S,x,_),C=c(n(c(l(w),w)),l(w)),E=c(l(b),n(c(b,l(b))));return c(E,C)}function p(S,x,_){for(var w=dt(S),b=0,C=0;C<x;C++){if(_<=b)return w;for(var E=C;v(w[E][b]);)if(E++,x===E&&(E=C,b++,_===b))return w;[w[E],w[C]]=[w[C],w[E]];for(var D=w[C][b],M=0;M<_;M++)w[C][M]=o(w[C][M],D);for(var T=0;T<x;T++)if(T!==C){D=w[T][b];for(var I=0;I<_;I++)w[T][I]=d(w[T][I],c(-1,c(D,w[C][I])))}b++}return w}function h(S,x,_){var w=p(S,x,_),b=S.map((E,D)=>E.filter((M,T)=>T<x&&!v(s(w[T],w[T])))),C=w.filter((E,D)=>!v(s(w[D],w[D])));return{C:b,F:C}}function v(S){return a(d(S,f(1,1)),d(0,f(1,1)))}function y(S){return i(d(S,f(1,1)),d(c(S,0),f(1,1)))}});function JL(r){var{addScalar:e,subtract:t,flatten:n,multiply:i,multiplyScalar:a,divideScalar:o,sqrt:s,abs:l,bignumber:u,diag:c,size:d,reshape:f,inv:m,qr:p,usolve:h,usolveAll:v,equal:y,complex:S,larger:x,smaller:_,matrixFromColumns:w,dot:b}=r;function C(te,W,ue,we){var le=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!0,ge=E(te,W,ue,we,le);D(te,W,ue,we,le,ge);var{values:J,C:X}=M(te,W,ue,we,le);if(le){var ne=T(te,W,X,ge,J,ue,we);return{values:J,eigenvectors:ne}}return{values:J}}function E(te,W,ue,we,le){var ge=we==="BigNumber",J=we==="Complex",X=ge?u(0):0,ne=ge?u(1):J?S(1):1,he=ge?u(1):1,de=ge?u(10):2,_e=a(de,de),be;le&&(be=Array(W).fill(ne));for(var H=!1;!H;){H=!0;for(var K=0;K<W;K++){for(var fe=X,pe=X,Ce=0;Ce<W;Ce++)K!==Ce&&(fe=e(fe,l(te[Ce][K])),pe=e(pe,l(te[K][Ce])));if(!y(fe,0)&&!y(pe,0)){for(var ke=he,Ze=fe,rt=o(pe,de),Tt=a(pe,de);_(Ze,rt);)Ze=a(Ze,_e),ke=a(ke,de);for(;x(Ze,Tt);)Ze=o(Ze,_e),ke=o(ke,de);var vt=_(o(e(Ze,pe),ke),a(e(fe,pe),.95));if(vt){H=!1;for(var lr=o(1,ke),ir=0;ir<W;ir++)K!==ir&&(te[K][ir]=a(te[K][ir],lr),te[ir][K]=a(te[ir][K],ke));le&&(be[K]=a(be[K],lr))}}}}return le?c(be):null}function D(te,W,ue,we,le,ge){var J=we==="BigNumber",X=we==="Complex",ne=J?u(0):X?S(0):0;J&&(ue=u(ue));for(var he=0;he<W-2;he++){for(var de=0,_e=ne,be=he+1;be<W;be++){var H=te[be][he];_(l(_e),l(H))&&(_e=H,de=be)}if(!_(l(_e),ue)){if(de!==he+1){var K=te[de];te[de]=te[he+1],te[he+1]=K;for(var fe=0;fe<W;fe++){var pe=te[fe][de];te[fe][de]=te[fe][he+1],te[fe][he+1]=pe}if(le){var Ce=ge[de];ge[de]=ge[he+1],ge[he+1]=Ce}}for(var ke=he+2;ke<W;ke++){var Ze=o(te[ke][he],_e);if(Ze!==0){for(var rt=0;rt<W;rt++)te[ke][rt]=t(te[ke][rt],a(Ze,te[he+1][rt]));for(var Tt=0;Tt<W;Tt++)te[Tt][he+1]=e(te[Tt][he+1],a(Ze,te[Tt][ke]));if(le)for(var vt=0;vt<W;vt++)ge[ke][vt]=t(ge[ke][vt],a(Ze,ge[he+1][vt]))}}}}return ge}function M(te,W,ue,we,le){var ge=we==="BigNumber",J=we==="Complex",X=ge?u(1):J?S(1):1;ge&&(ue=u(ue));for(var ne=dt(te),he=[],de=W,_e=[],be=le?c(Array(W).fill(X)):void 0,H=le?c(Array(de).fill(X)):void 0,K=0;K<=100;){K+=1;for(var fe=ne[de-1][de-1],pe=0;pe<de;pe++)ne[pe][pe]=t(ne[pe][pe],fe);var{Q:Ce,R:ke}=p(ne);ne=i(ke,Ce);for(var Ze=0;Ze<de;Ze++)ne[Ze][Ze]=e(ne[Ze][Ze],fe);if(le&&(H=i(H,Ce)),de===1||_(l(ne[de-1][de-2]),ue)){K=0,he.push(ne[de-1][de-1]),le&&(_e.unshift([[1]]),V(H,W),be=i(be,H),de>1&&(H=c(Array(de-1).fill(X)))),de-=1,ne.pop();for(var rt=0;rt<de;rt++)ne[rt].pop()}else if(de===2||_(l(ne[de-2][de-3]),ue)){K=0;var Tt=I(ne[de-2][de-2],ne[de-2][de-1],ne[de-1][de-2],ne[de-1][de-1]);he.push(...Tt),le&&(_e.unshift(B(ne[de-2][de-2],ne[de-2][de-1],ne[de-1][de-2],ne[de-1][de-1],Tt[0],Tt[1],ue,we)),V(H,W),be=i(be,H),de>2&&(H=c(Array(de-2).fill(X)))),de-=2,ne.pop(),ne.pop();for(var vt=0;vt<de;vt++)ne[vt].pop(),ne[vt].pop()}if(de===0)break}if(he.sort((Br,cn)=>+t(l(Br),l(cn))),K>100){var lr=Error("The eigenvalues failed to converge. Only found these eigenvalues: "+he.join(", "));throw lr.values=he,lr.vectors=[],lr}var ir=le?i(be,L(_e,W)):void 0;return{values:he,C:ir}}function T(te,W,ue,we,le,ge,J){var X=m(ue),ne=i(X,te,ue),he=J==="BigNumber",de=J==="Complex",_e=he?u(0):de?S(0):0,be=he?u(1):de?S(1):1,H=[],K=[];for(var fe of le){var pe=k(H,fe,y);pe===-1?(H.push(fe),K.push(1)):K[pe]+=1}for(var Ce=[],ke=H.length,Ze=Array(W).fill(_e),rt=c(Array(W).fill(be)),Tt=function(){var ir=H[vt],Br=t(ne,i(ir,rt)),cn=v(Br,Ze);for(cn.shift();cn.length<K[vt];){var ee=O(Br,W,cn,ge,J);if(ee===null)break;cn.push(ee)}var me=i(m(we),ue);cn=cn.map(ye=>i(me,ye)),Ce.push(...cn.map(ye=>({value:ir,vector:n(ye)})))},vt=0;vt<ke;vt++)Tt();return Ce}function I(te,W,ue,we){var le=e(te,we),ge=t(a(te,we),a(W,ue)),J=a(le,.5),X=a(s(t(a(le,le),a(4,ge))),.5);return[e(J,X),t(J,X)]}function B(te,W,ue,we,le,ge,J,X){var ne=X==="BigNumber",he=X==="Complex",de=ne?u(0):he?S(0):0,_e=ne?u(1):he?S(1):1;if(_(l(ue),J))return[[_e,de],[de,_e]];if(x(l(t(le,ge)),J))return[[t(le,we),t(ge,we)],[ue,ue]];var be=t(te,le),H=t(we,le);return _(l(W),J)&&_(l(H),J)?[[be,_e],[ue,de]]:[[W,de],[H,_e]]}function V(te,W){for(var ue=0;ue<te.length;ue++)te[ue].push(...Array(W-te[ue].length).fill(0));for(var we=te.length;we<W;we++)te.push(Array(W).fill(0)),te[we][we]=1;return te}function L(te,W){for(var ue=[],we=0;we<W;we++)ue[we]=Array(W).fill(0);var le=0;for(var ge of te){for(var J=ge.length,X=0;X<J;X++)for(var ne=0;ne<J;ne++)ue[le+X][le+ne]=ge[X][ne];le+=J}return ue}function k(te,W,ue){for(var we=0;we<te.length;we++)if(ue(te[we],W))return we;return-1}function O(te,W,ue,we,le){for(var ge=le==="BigNumber"?u(1e3):1e3,J,X=0;X<5;++X){J=Y(W,ue,le);try{J=h(te,J)}catch{continue}if(x(ae(J),ge))break}if(X>=5)return null;for(X=0;;){var ne=h(te,J);if(_(ae(P(J,[ne])),we))break;if(++X>=10)return null;J=se(ne)}return J}function Y(te,W,ue){var we=ue==="BigNumber",le=ue==="Complex",ge=Array(te).fill(0).map(J=>2*Math.random()-1);return we&&(ge=ge.map(J=>u(J))),le&&(ge=ge.map(J=>S(J))),ge=P(ge,W),se(ge,ue)}function P(te,W){var ue=d(te);for(var we of W)we=f(we,ue),te=t(te,i(o(b(we,te),b(we,we)),we));return te}function ae(te){return l(s(b(te,te)))}function se(te,W){var ue=W==="BigNumber",we=W==="Complex",le=ue?u(1):we?S(1):1;return i(o(le,ae(te)),te)}return C}function QL(r){var{config:e,addScalar:t,subtract:n,abs:i,atan:a,cos:o,sin:s,multiplyScalar:l,inv:u,bignumber:c,multiply:d,add:f}=r;function m(D,M){var T=arguments.length>2&&arguments[2]!==void 0?arguments[2]:e.relTol,I=arguments.length>3?arguments[3]:void 0,B=arguments.length>4?arguments[4]:void 0;if(I==="number")return p(D,T,B);if(I==="BigNumber")return h(D,T,B);throw TypeError("Unsupported data type: "+I)}function p(D,M,T){var I=D.length,B=Math.abs(M/I),V,L;if(T){L=new Array(I);for(var k=0;k<I;k++)L[k]=Array(I).fill(0),L[k][k]=1}for(var O=b(D);Math.abs(O[1])>=Math.abs(B);){var Y=O[0][0],P=O[0][1];V=v(D[Y][Y],D[P][P],D[Y][P]),D=w(D,V,Y,P),T&&(L=S(L,V,Y,P)),O=b(D)}for(var ae=Array(I).fill(0),se=0;se<I;se++)ae[se]=D[se][se];return E(dt(ae),L,T)}function h(D,M,T){var I=D.length,B=i(M/I),V,L;if(T){L=new Array(I);for(var k=0;k<I;k++)L[k]=Array(I).fill(0),L[k][k]=1}for(var O=C(D);i(O[1])>=i(B);){var Y=O[0][0],P=O[0][1];V=y(D[Y][Y],D[P][P],D[Y][P]),D=_(D,V,Y,P),T&&(L=x(L,V,Y,P)),O=C(D)}for(var ae=Array(I).fill(0),se=0;se<I;se++)ae[se]=D[se][se];return E(dt(ae),L,T)}function v(D,M,T){var I=M-D;return Math.abs(I)<=e.relTol?Math.PI/4:.5*Math.atan(2*T/(M-D))}function y(D,M,T){var I=n(M,D);return i(I)<=e.relTol?c(-1).acos().div(4):l(.5,a(d(2,T,u(I))))}function S(D,M,T,I){for(var B=D.length,V=Math.cos(M),L=Math.sin(M),k=Array(B).fill(0),O=Array(B).fill(0),Y=0;Y<B;Y++)k[Y]=V*D[Y][T]-L*D[Y][I],O[Y]=L*D[Y][T]+V*D[Y][I];for(var P=0;P<B;P++)D[P][T]=k[P],D[P][I]=O[P];return D}function x(D,M,T,I){for(var B=D.length,V=o(M),L=s(M),k=Array(B).fill(c(0)),O=Array(B).fill(c(0)),Y=0;Y<B;Y++)k[Y]=n(l(V,D[Y][T]),l(L,D[Y][I])),O[Y]=t(l(L,D[Y][T]),l(V,D[Y][I]));for(var P=0;P<B;P++)D[P][T]=k[P],D[P][I]=O[P];return D}function _(D,M,T,I){for(var B=D.length,V=c(o(M)),L=c(s(M)),k=l(V,V),O=l(L,L),Y=Array(B).fill(c(0)),P=Array(B).fill(c(0)),ae=d(c(2),V,L,D[T][I]),se=t(n(l(k,D[T][T]),ae),l(O,D[I][I])),te=f(l(O,D[T][T]),ae,l(k,D[I][I])),W=0;W<B;W++)Y[W]=n(l(V,D[T][W]),l(L,D[I][W])),P[W]=t(l(L,D[T][W]),l(V,D[I][W]));D[T][T]=se,D[I][I]=te,D[T][I]=c(0),D[I][T]=c(0);for(var ue=0;ue<B;ue++)ue!==T&&ue!==I&&(D[T][ue]=Y[ue],D[ue][T]=Y[ue],D[I][ue]=P[ue],D[ue][I]=P[ue]);return D}function w(D,M,T,I){for(var B=D.length,V=Math.cos(M),L=Math.sin(M),k=V*V,O=L*L,Y=Array(B).fill(0),P=Array(B).fill(0),ae=k*D[T][T]-2*V*L*D[T][I]+O*D[I][I],se=O*D[T][T]+2*V*L*D[T][I]+k*D[I][I],te=0;te<B;te++)Y[te]=V*D[T][te]-L*D[I][te],P[te]=L*D[T][te]+V*D[I][te];D[T][T]=ae,D[I][I]=se,D[T][I]=0,D[I][T]=0;for(var W=0;W<B;W++)W!==T&&W!==I&&(D[T][W]=Y[W],D[W][T]=Y[W],D[I][W]=P[W],D[W][I]=P[W]);return D}function b(D){for(var M=D.length,T=0,I=[0,1],B=0;B<M;B++)for(var V=B+1;V<M;V++)Math.abs(T)<Math.abs(D[B][V])&&(T=Math.abs(D[B][V]),I=[B,V]);return[I,T]}function C(D){for(var M=D.length,T=0,I=[0,1],B=0;B<M;B++)for(var V=B+1;V<M;V++)i(T)<i(D[B][V])&&(T=i(D[B][V]),I=[B,V]);return[I,T]}function E(D,M,T){var I=D.length,B=Array(I),V;if(T){V=Array(I);for(var L=0;L<I;L++)V[L]=Array(I)}for(var k=0;k<I;k++){for(var O=0,Y=D[0],P=0;P<D.length;P++)i(D[P])<i(Y)&&(O=P,Y=D[O]);if(B[k]=D.splice(O,1)[0],T)for(var ae=0;ae<I;ae++)V[k][ae]=M[ae][O],M[ae].splice(O,1)}if(!T)return{values:B};var se=V.map((te,W)=>({value:B[W],vector:te}));return{values:B,eigenvectors:se}}return m}var Zfe="eigs",Xfe=["config","typed","matrix","addScalar","equal","subtract","abs","atan","cos","sin","multiplyScalar","divideScalar","inv","bignumber","multiply","add","larger","column","flatten","number","complex","sqrt","diag","size","reshape","qr","usolve","usolveAll","im","re","smaller","matrixFromColumns","dot"],sS=A(Zfe,Xfe,r=>{var{config:e,typed:t,matrix:n,addScalar:i,subtract:a,equal:o,abs:s,atan:l,cos:u,sin:c,multiplyScalar:d,divideScalar:f,inv:m,bignumber:p,multiply:h,add:v,larger:y,column:S,flatten:x,number:_,complex:w,sqrt:b,diag:C,size:E,reshape:D,qr:M,usolve:T,usolveAll:I,im:B,re:V,smaller:L,matrixFromColumns:k,dot:O}=r,Y=QL({config:e,addScalar:i,subtract:a,column:S,flatten:x,equal:o,abs:s,atan:l,cos:u,sin:c,multiplyScalar:d,inv:m,bignumber:p,complex:w,multiply:h,add:v}),P=JL({config:e,addScalar:i,subtract:a,multiply:h,multiplyScalar:d,flatten:x,divideScalar:f,sqrt:b,abs:s,bignumber:p,diag:C,size:E,reshape:D,qr:M,inv:m,usolve:T,usolveAll:I,equal:o,complex:w,larger:y,smaller:L,matrixFromColumns:k,dot:O});return t("eigs",{Array:function(ge){return ae(n(ge))},"Array, number|BigNumber":function(ge,J){return ae(n(ge),{precision:J})},"Array, Object"(le,ge){return ae(n(le),ge)},Matrix:function(ge){return ae(ge,{matricize:!0})},"Matrix, number|BigNumber":function(ge,J){return ae(ge,{precision:J,matricize:!0})},"Matrix, Object":function(ge,J){var X={matricize:!0};return kr(X,J),ae(ge,X)}});function ae(le){var ge,J=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},X="eigenvectors"in J?J.eigenvectors:!0,ne=(ge=J.precision)!==null&&ge!==void 0?ge:e.relTol,he=se(le,ne,X);return J.matricize&&(he.values=n(he.values),X&&(he.eigenvectors=he.eigenvectors.map(de=>{var{value:_e,vector:be}=de;return{value:_e,vector:n(be)}}))),X&&Object.defineProperty(he,"vectors",{enumerable:!1,get:()=>{throw new Error("eigs(M).vectors replaced with eigs(M).eigenvectors")}}),he}function se(le,ge,J){var X=le.toArray(),ne=le.size();if(ne.length!==2||ne[0]!==ne[1])throw new RangeError("Matrix must be square (size: ".concat(pt(ne),")"));var he=ne[0];if(W(X,he,ge)&&(ue(X,he),te(X,he,ge))){var de=we(le,X,he);return Y(X,he,ge,de,J)}var _e=we(le,X,he);return P(X,he,ge,_e,J)}function te(le,ge,J){for(var X=0;X<ge;X++)for(var ne=X;ne<ge;ne++)if(y(p(s(a(le[X][ne],le[ne][X]))),J))return!1;return!0}function W(le,ge,J){for(var X=0;X<ge;X++)for(var ne=0;ne<ge;ne++)if(y(p(s(B(le[X][ne]))),J))return!1;return!0}function ue(le,ge){for(var J=0;J<ge;J++)for(var X=0;X<ge;X++)le[J][X]=V(le[J][X])}function we(le,ge,J){var X=le.datatype();if(X==="number"||X==="BigNumber"||X==="Complex")return X;for(var ne=!1,he=!1,de=!1,_e=0;_e<J;_e++)for(var be=0;be<J;be++){var H=ge[_e][be];if(ft(H)||Qo(H))ne=!0;else if(st(H))he=!0;else if(ci(H))de=!0;else throw TypeError("Unsupported type in Matrix: "+zt(H))}if(he&&de&&console.warn("Complex BigNumbers not supported, this operation will lose precission."),de){for(var K=0;K<J;K++)for(var fe=0;fe<J;fe++)ge[K][fe]=w(ge[K][fe]);return"Complex"}if(he){for(var pe=0;pe<J;pe++)for(var Ce=0;Ce<J;Ce++)ge[pe][Ce]=p(ge[pe][Ce]);return"BigNumber"}if(ne){for(var ke=0;ke<J;ke++)for(var Ze=0;Ze<J;Ze++)ge[ke][Ze]=_(ge[ke][Ze]);return"number"}else throw TypeError("Matrix contains unsupported types only.")}});var ez="expm",Kfe=["typed","abs","add","identity","inv","multiply"],lS=A(ez,Kfe,r=>{var{typed:e,abs:t,add:n,identity:i,inv:a,multiply:o}=r;return e(ez,{Matrix:function(d){var f=d.size();if(f.length!==2||f[0]!==f[1])throw new RangeError("Matrix must be square (size: "+pt(f)+")");for(var m=f[0],p=1e-15,h=s(d),v=l(h,p),y=v.q,S=v.j,x=o(d,Math.pow(2,-S)),_=i(m),w=i(m),b=1,C=x,E=-1,D=1;D<=y;D++)D>1&&(C=o(C,x),E=-E),b=b*(y-D+1)/((2*y-D+1)*D),_=n(_,o(b,C)),w=n(w,o(b*E,C));for(var M=o(a(w),_),T=0;T<S;T++)M=o(M,M);return La(d)?d.createSparseMatrix(M):M}});function s(c){for(var d=c.size()[0],f=0,m=0;m<d;m++){for(var p=0,h=0;h<d;h++)p+=t(c.get([m,h]));f=Math.max(p,f)}return f}function l(c,d){for(var f=30,m=0;m<f;m++)for(var p=0;p<=m;p++){var h=m-p;if(u(c,p,h)<d)return{q:p,j:h}}throw new Error("Could not find acceptable parameters to compute the matrix exponential (try increasing maxSearchSize in expm.js)")}function u(c,d,f){for(var m=1,p=2;p<=d;p++)m*=p;for(var h=m,v=d+1;v<=2*d;v++)h*=v;var y=h*(2*d+1);return 8*Math.pow(c/Math.pow(2,f),2*d)*m*m/(h*y)}});var tz="sqrtm",Jfe=["typed","abs","add","multiply","map","sqrt","subtract","inv","size","max","identity"],uS=A(tz,Jfe,r=>{var{typed:e,abs:t,add:n,multiply:i,map:a,sqrt:o,subtract:s,inv:l,size:u,max:c,identity:d}=r,f=1e3,m=1e-6;function p(h){var v,y=0,S=h,x=d(u(h));do{var _=S;if(S=i(.5,n(_,l(x))),x=i(.5,n(x,l(_))),v=c(t(s(S,_))),v>m&&++y>f)throw new Error("computing square root of matrix: iterative method could not converge")}while(v>m);return S}return e(tz,{"Array | Matrix":function(v){var y=Je(v)?v.size():ut(v);switch(y.length){case 1:if(y[0]===1)return a(v,o);throw new RangeError("Matrix must be square (size: "+pt(y)+")");case 2:{var S=y[0],x=y[1];if(S===x)return p(v);throw new RangeError("Matrix must be square (size: "+pt(y)+")")}default:throw new RangeError("Matrix must be at most two dimensional (size: "+pt(y)+")")}}})});var rz="sylvester",Qfe=["typed","schur","matrixFromColumns","matrix","multiply","range","concat","transpose","index","subset","add","subtract","identity","lusolve","abs"],cS=A(rz,Qfe,r=>{var{typed:e,schur:t,matrixFromColumns:n,matrix:i,multiply:a,range:o,concat:s,transpose:l,index:u,subset:c,add:d,subtract:f,identity:m,lusolve:p,abs:h}=r;return e(rz,{"Matrix, Matrix, Matrix":v,"Array, Matrix, Matrix":function(S,x,_){return v(i(S),x,_)},"Array, Array, Matrix":function(S,x,_){return v(i(S),i(x),_)},"Array, Matrix, Array":function(S,x,_){return v(i(S),x,i(_))},"Matrix, Array, Matrix":function(S,x,_){return v(S,i(x),_)},"Matrix, Array, Array":function(S,x,_){return v(S,i(x),i(_))},"Matrix, Matrix, Array":function(S,x,_){return v(S,x,i(_))},"Array, Array, Array":function(S,x,_){return v(i(S),i(x),i(_)).toArray()}});function v(y,S,x){for(var _=S.size()[0],w=y.size()[0],b=t(y),C=b.T,E=b.U,D=t(a(-1,S)),M=D.T,T=D.U,I=a(a(l(E),x),T),B=o(0,w),V=[],L=(de,_e)=>s(de,_e,1),k=(de,_e)=>s(de,_e,0),O=0;O<_;O++)if(O<_-1&&h(c(M,u(O+1,O)))>1e-5){for(var Y=k(c(I,u(B,O)),c(I,u(B,O+1))),P=0;P<O;P++)Y=d(Y,k(a(V[P],c(M,u(P,O))),a(V[P],c(M,u(P,O+1)))));var ae=a(m(w),a(-1,c(M,u(O,O)))),se=a(m(w),a(-1,c(M,u(O+1,O)))),te=a(m(w),a(-1,c(M,u(O,O+1)))),W=a(m(w),a(-1,c(M,u(O+1,O+1)))),ue=k(L(d(C,ae),se),L(te,d(C,W))),we=p(ue,Y);V[O]=we.subset(u(o(0,w),0)),V[O+1]=we.subset(u(o(w,2*w),0)),O++}else{for(var le=c(I,u(B,O)),ge=0;ge<O;ge++)le=d(le,a(V[ge],c(M,u(ge,O))));var J=c(M,u(O,O)),X=f(C,a(J,m(w)));V[O]=p(X,le)}var ne=i(n(...V)),he=a(E,a(ne,l(T)));return he}});var nz="schur",e0e=["typed","matrix","identity","multiply","qr","norm","subtract"],dS=A(nz,e0e,r=>{var{typed:e,matrix:t,identity:n,multiply:i,qr:a,norm:o,subtract:s}=r;return e(nz,{Array:function(c){var d=l(t(c));return{U:d.U.valueOf(),T:d.T.valueOf()}},Matrix:function(c){return l(c)}});function l(u){var c=u.size()[0],d=u,f=n(c),m=0,p;do{p=d;var h=a(d),v=h.Q,y=h.R;if(d=i(y,v),f=i(f,v),m++>100)break}while(o(s(d,p))>1e-4);return{U:f,T:d}}});var iz="lyap",t0e=["typed","matrix","sylvester","multiply","transpose"],fS=A(iz,t0e,r=>{var{typed:e,matrix:t,sylvester:n,multiply:i,transpose:a}=r;return e(iz,{"Matrix, Matrix":function(s,l){return n(s,a(s),i(-1,l))},"Array, Matrix":function(s,l){return n(t(s),a(t(s)),i(-1,l))},"Matrix, Array":function(s,l){return n(s,a(t(s)),t(i(-1,l)))},"Array, Array":function(s,l){return n(t(s),a(t(s)),t(i(-1,l))).toArray()}})});var r0e="divide",n0e=["typed","matrix","multiply","equalScalar","divideScalar","inv"],mS=A(r0e,n0e,r=>{var{typed:e,matrix:t,multiply:n,equalScalar:i,divideScalar:a,inv:o}=r,s=sr({typed:e,equalScalar:i}),l=sn({typed:e});return e("divide",sg({"Array | Matrix, Array | Matrix":function(c,d){return n(c,o(d))},"DenseMatrix, any":function(c,d){return l(c,d,a,!1)},"SparseMatrix, any":function(c,d){return s(c,d,a,!1)},"Array, any":function(c,d){return l(t(c),d,a,!1).valueOf()},"any, Array | Matrix":function(c,d){return n(c,o(d))}},a.signatures))});var az="distance",i0e=["typed","addScalar","subtractScalar","divideScalar","multiplyScalar","deepEqual","sqrt","abs"],hS=A(az,i0e,r=>{var{typed:e,addScalar:t,subtractScalar:n,multiplyScalar:i,divideScalar:a,deepEqual:o,sqrt:s,abs:l}=r;return e(az,{"Array, Array, Array":function(w,b,C){if(w.length===2&&b.length===2&&C.length===2){if(!c(w))throw new TypeError("Array with 2 numbers or BigNumbers expected for first argument");if(!c(b))throw new TypeError("Array with 2 numbers or BigNumbers expected for second argument");if(!c(C))throw new TypeError("Array with 2 numbers or BigNumbers expected for third argument");if(o(b,C))throw new TypeError("LinePoint1 should not be same with LinePoint2");var E=n(C[1],b[1]),D=n(b[0],C[0]),M=n(i(C[0],b[1]),i(b[0],C[1]));return v(w[0],w[1],E,D,M)}else throw new TypeError("Invalid Arguments: Try again")},"Object, Object, Object":function(w,b,C){if(Object.keys(w).length===2&&Object.keys(b).length===2&&Object.keys(C).length===2){if(!c(w))throw new TypeError("Values of pointX and pointY should be numbers or BigNumbers");if(!c(b))throw new TypeError("Values of lineOnePtX and lineOnePtY should be numbers or BigNumbers");if(!c(C))throw new TypeError("Values of lineTwoPtX and lineTwoPtY should be numbers or BigNumbers");if(o(p(b),p(C)))throw new TypeError("LinePoint1 should not be same with LinePoint2");if("pointX"in w&&"pointY"in w&&"lineOnePtX"in b&&"lineOnePtY"in b&&"lineTwoPtX"in C&&"lineTwoPtY"in C){var E=n(C.lineTwoPtY,b.lineOnePtY),D=n(b.lineOnePtX,C.lineTwoPtX),M=n(i(C.lineTwoPtX,b.lineOnePtY),i(b.lineOnePtX,C.lineTwoPtY));return v(w.pointX,w.pointY,E,D,M)}else throw new TypeError("Key names do not match")}else throw new TypeError("Invalid Arguments: Try again")},"Array, Array":function(w,b){if(w.length===2&&b.length===3){if(!c(w))throw new TypeError("Array with 2 numbers or BigNumbers expected for first argument");if(!d(b))throw new TypeError("Array with 3 numbers or BigNumbers expected for second argument");return v(w[0],w[1],b[0],b[1],b[2])}else if(w.length===3&&b.length===6){if(!d(w))throw new TypeError("Array with 3 numbers or BigNumbers expected for first argument");if(!m(b))throw new TypeError("Array with 6 numbers or BigNumbers expected for second argument");return y(w[0],w[1],w[2],b[0],b[1],b[2],b[3],b[4],b[5])}else if(w.length===b.length&&w.length>0){if(!f(w))throw new TypeError("All values of an array should be numbers or BigNumbers");if(!f(b))throw new TypeError("All values of an array should be numbers or BigNumbers");return S(w,b)}else throw new TypeError("Invalid Arguments: Try again")},"Object, Object":function(w,b){if(Object.keys(w).length===2&&Object.keys(b).length===3){if(!c(w))throw new TypeError("Values of pointX and pointY should be numbers or BigNumbers");if(!d(b))throw new TypeError("Values of xCoeffLine, yCoeffLine and constant should be numbers or BigNumbers");if("pointX"in w&&"pointY"in w&&"xCoeffLine"in b&&"yCoeffLine"in b&&"constant"in b)return v(w.pointX,w.pointY,b.xCoeffLine,b.yCoeffLine,b.constant);throw new TypeError("Key names do not match")}else if(Object.keys(w).length===3&&Object.keys(b).length===6){if(!d(w))throw new TypeError("Values of pointX, pointY and pointZ should be numbers or BigNumbers");if(!m(b))throw new TypeError("Values of x0, y0, z0, a, b and c should be numbers or BigNumbers");if("pointX"in w&&"pointY"in w&&"x0"in b&&"y0"in b&&"z0"in b&&"a"in b&&"b"in b&&"c"in b)return y(w.pointX,w.pointY,w.pointZ,b.x0,b.y0,b.z0,b.a,b.b,b.c);throw new TypeError("Key names do not match")}else if(Object.keys(w).length===2&&Object.keys(b).length===2){if(!c(w))throw new TypeError("Values of pointOneX and pointOneY should be numbers or BigNumbers");if(!c(b))throw new TypeError("Values of pointTwoX and pointTwoY should be numbers or BigNumbers");if("pointOneX"in w&&"pointOneY"in w&&"pointTwoX"in b&&"pointTwoY"in b)return S([w.pointOneX,w.pointOneY],[b.pointTwoX,b.pointTwoY]);throw new TypeError("Key names do not match")}else if(Object.keys(w).length===3&&Object.keys(b).length===3){if(!d(w))throw new TypeError("Values of pointOneX, pointOneY and pointOneZ should be numbers or BigNumbers");if(!d(b))throw new TypeError("Values of pointTwoX, pointTwoY and pointTwoZ should be numbers or BigNumbers");if("pointOneX"in w&&"pointOneY"in w&&"pointOneZ"in w&&"pointTwoX"in b&&"pointTwoY"in b&&"pointTwoZ"in b)return S([w.pointOneX,w.pointOneY,w.pointOneZ],[b.pointTwoX,b.pointTwoY,b.pointTwoZ]);throw new TypeError("Key names do not match")}else throw new TypeError("Invalid Arguments: Try again")},Array:function(w){if(!h(w))throw new TypeError("Incorrect array format entered for pairwise distance calculation");return x(w)}});function u(_){return typeof _=="number"||st(_)}function c(_){return _.constructor!==Array&&(_=p(_)),u(_[0])&&u(_[1])}function d(_){return _.constructor!==Array&&(_=p(_)),u(_[0])&&u(_[1])&&u(_[2])}function f(_){return Array.isArray(_)||(_=p(_)),_.every(u)}function m(_){return _.constructor!==Array&&(_=p(_)),u(_[0])&&u(_[1])&&u(_[2])&&u(_[3])&&u(_[4])&&u(_[5])}function p(_){for(var w=Object.keys(_),b=[],C=0;C<w.length;C++)b.push(_[w[C]]);return b}function h(_){if(_[0].length===2&&u(_[0][0])&&u(_[0][1])){if(_.some(w=>w.length!==2||!u(w[0])||!u(w[1])))return!1}else if(_[0].length===3&&u(_[0][0])&&u(_[0][1])&&u(_[0][2])){if(_.some(w=>w.length!==3||!u(w[0])||!u(w[1])||!u(w[2])))return!1}else return!1;return!0}function v(_,w,b,C,E){var D=l(t(t(i(b,_),i(C,w)),E)),M=s(t(i(b,b),i(C,C)));return a(D,M)}function y(_,w,b,C,E,D,M,T,I){var B=[n(i(n(E,w),I),i(n(D,b),T)),n(i(n(D,b),M),i(n(C,_),I)),n(i(n(C,_),T),i(n(E,w),M))];B=s(t(t(i(B[0],B[0]),i(B[1],B[1])),i(B[2],B[2])));var V=s(t(t(i(M,M),i(T,T)),i(I,I)));return a(B,V)}function S(_,w){for(var b=_.length,C=0,E=0,D=0;D<b;D++)E=n(_[D],w[D]),C=t(i(E,E),C);return s(C)}function x(_){for(var w=[],b=[],C=[],E=0;E<_.length-1;E++)for(var D=E+1;D<_.length;D++)_[0].length===2?(b=[_[E][0],_[E][1]],C=[_[D][0],_[D][1]]):_[0].length===3&&(b=[_[E][0],_[E][1],_[E][2]],C=[_[D][0],_[D][1],_[D][2]]),w.push(S(b,C));return w}});var a0e="intersect",o0e=["typed","config","abs","add","addScalar","matrix","multiply","multiplyScalar","divideScalar","subtract","smaller","equalScalar","flatten","isZero","isNumeric"],pS=A(a0e,o0e,r=>{var{typed:e,config:t,abs:n,add:i,addScalar:a,matrix:o,multiply:s,multiplyScalar:l,divideScalar:u,subtract:c,smaller:d,equalScalar:f,flatten:m,isZero:p,isNumeric:h}=r;return e("intersect",{"Array, Array, Array":v,"Array, Array, Array, Array":y,"Matrix, Matrix, Matrix":function(T,I,B){var V=v(T.valueOf(),I.valueOf(),B.valueOf());return V===null?null:o(V)},"Matrix, Matrix, Matrix, Matrix":function(T,I,B,V){var L=y(T.valueOf(),I.valueOf(),B.valueOf(),V.valueOf());return L===null?null:o(L)}});function v(M,T,I){if(M=S(M),T=S(T),I=S(I),!_(M))throw new TypeError("Array with 3 numbers or BigNumbers expected for first argument");if(!_(T))throw new TypeError("Array with 3 numbers or BigNumbers expected for second argument");if(!w(I))throw new TypeError("Array with 4 numbers expected as third argument");return D(M[0],M[1],M[2],T[0],T[1],T[2],I[0],I[1],I[2],I[3])}function y(M,T,I,B){if(M=S(M),T=S(T),I=S(I),B=S(B),M.length===2){if(!x(M))throw new TypeError("Array with 2 numbers or BigNumbers expected for first argument");if(!x(T))throw new TypeError("Array with 2 numbers or BigNumbers expected for second argument");if(!x(I))throw new TypeError("Array with 2 numbers or BigNumbers expected for third argument");if(!x(B))throw new TypeError("Array with 2 numbers or BigNumbers expected for fourth argument");return b(M,T,I,B)}else if(M.length===3){if(!_(M))throw new TypeError("Array with 3 numbers or BigNumbers expected for first argument");if(!_(T))throw new TypeError("Array with 3 numbers or BigNumbers expected for second argument");if(!_(I))throw new TypeError("Array with 3 numbers or BigNumbers expected for third argument");if(!_(B))throw new TypeError("Array with 3 numbers or BigNumbers expected for fourth argument");return E(M[0],M[1],M[2],T[0],T[1],T[2],I[0],I[1],I[2],B[0],B[1],B[2])}else throw new TypeError("Arrays with two or thee dimensional points expected")}function S(M){return M.length===1?M[0]:M.length>1&&Array.isArray(M[0])&&M.every(T=>Array.isArray(T)&&T.length===1)?m(M):M}function x(M){return M.length===2&&h(M[0])&&h(M[1])}function _(M){return M.length===3&&h(M[0])&&h(M[1])&&h(M[2])}function w(M){return M.length===4&&h(M[0])&&h(M[1])&&h(M[2])&&h(M[3])}function b(M,T,I,B){var V=M,L=I,k=c(V,T),O=c(L,B),Y=c(l(k[0],O[1]),l(O[0],k[1]));if(p(Y)||d(n(Y),t.relTol))return null;var P=l(O[0],V[1]),ae=l(O[1],V[0]),se=l(O[0],L[1]),te=l(O[1],L[0]),W=u(a(c(c(P,ae),se),te),Y);return i(s(k,W),V)}function C(M,T,I,B,V,L,k,O,Y,P,ae,se){var te=l(c(M,T),c(I,B)),W=l(c(V,L),c(k,O)),ue=l(c(Y,P),c(ae,se));return a(a(te,W),ue)}function E(M,T,I,B,V,L,k,O,Y,P,ae,se){var te=C(M,k,P,k,T,O,ae,O,I,Y,se,Y),W=C(P,k,B,M,ae,O,V,T,se,Y,L,I),ue=C(M,k,B,M,T,O,V,T,I,Y,L,I),we=C(P,k,P,k,ae,O,ae,O,se,Y,se,Y),le=C(B,M,B,M,V,T,V,T,L,I,L,I),ge=c(l(te,W),l(ue,we)),J=c(l(le,we),l(W,W));if(p(J))return null;var X=u(ge,J),ne=u(a(te,l(X,W)),we),he=a(M,l(X,c(B,M))),de=a(T,l(X,c(V,T))),_e=a(I,l(X,c(L,I))),be=a(k,l(ne,c(P,k))),H=a(O,l(ne,c(ae,O))),K=a(Y,l(ne,c(se,Y)));return f(he,be)&&f(de,H)&&f(_e,K)?[he,de,_e]:null}function D(M,T,I,B,V,L,k,O,Y,P){var ae=l(M,k),se=l(B,k),te=l(T,O),W=l(V,O),ue=l(I,Y),we=l(L,Y),le=c(c(c(P,ae),te),ue),ge=c(c(c(a(a(se,W),we),ae),te),ue),J=u(le,ge),X=a(M,l(J,c(B,M))),ne=a(T,l(J,c(V,T))),he=a(I,l(J,c(L,I)));return[X,ne,he]}});var oz="sum",s0e=["typed","config","add","numeric"],um=A(oz,s0e,r=>{var{typed:e,config:t,add:n,numeric:i}=r;return e(oz,{"Array | Matrix":a,"Array | Matrix, number | BigNumber":o,"...":function(l){if(ya(l))throw new TypeError("Scalar values expected in function sum");return a(l)}});function a(s){var l;return fi(s,function(u){try{l=l===void 0?u:n(l,u)}catch(c){throw Zr(c,"sum",u)}}),l===void 0&&(l=i(0,t.number)),typeof l=="string"&&(l=i(l,Jn(l,t))),l}function o(s,l){try{var u=ol(s,l,n);return u}catch(c){throw Zr(c,"sum")}}});var vv="cumsum",l0e=["typed","add","unaryPlus"],cm=A(vv,l0e,r=>{var{typed:e,add:t,unaryPlus:n}=r;return e(vv,{Array:i,Matrix:function(u){return u.create(i(u.valueOf(),u.datatype()))},"Array, number | BigNumber":o,"Matrix, number | BigNumber":function(u,c){return u.create(o(u.valueOf(),c),u.datatype())},"...":function(u){if(ya(u))throw new TypeError("All values expected to be scalar in function cumsum");return i(u)}});function i(l){try{return a(l)}catch(u){throw Zr(u,vv)}}function a(l){if(l.length===0)return[];for(var u=[n(l[0])],c=1;c<l.length;++c)u.push(t(u[c-1],l[c]));return u}function o(l,u){var c=ut(l);if(u<0||u>=c.length)throw new Wn(u,c.length);try{return s(l,u)}catch(d){throw Zr(d,vv)}}function s(l,u){var c,d,f;if(u<=0){var m=l[0][0];if(Array.isArray(m)){for(f=Ag(l),d=[],c=0;c<f.length;c++)d[c]=s(f[c],u-1);return d}else return a(l)}else{for(d=[],c=0;c<l.length;c++)d[c]=s(l[c],u-1);return d}}});var sz="mean",u0e=["typed","add","divide"],dm=A(sz,u0e,r=>{var{typed:e,add:t,divide:n}=r;return e(sz,{"Array | Matrix":a,"Array | Matrix, number | BigNumber":i,"...":function(s){if(ya(s))throw new TypeError("Scalar values expected in function mean");return a(s)}});function i(o,s){try{var l=ol(o,s,t),u=Array.isArray(o)?ut(o):o.size();return n(l,u[s])}catch(c){throw Zr(c,"mean")}}function a(o){var s,l=0;if(fi(o,function(u){try{s=s===void 0?u:t(s,u),l++}catch(c){throw Zr(c,"mean",u)}}),l===0)throw new Error("Cannot calculate the mean of an empty array");return n(s,l)}});var lz="median",c0e=["typed","add","divide","compare","partitionSelect"],gS=A(lz,c0e,r=>{var{typed:e,add:t,divide:n,compare:i,partitionSelect:a}=r;function o(u){try{u=Dt(u.valueOf());var c=u.length;if(c===0)throw new Error("Cannot calculate median of an empty array");if(c%2===0){for(var d=c/2-1,f=a(u,d+1),m=u[d],p=0;p<d;++p)i(u[p],m)>0&&(m=u[p]);return l(m,f)}else{var h=a(u,(c-1)/2);return s(h)}}catch(v){throw Zr(v,"median")}}var s=e({"number | BigNumber | Complex | Unit":function(c){return c}}),l=e({"number | BigNumber | Complex | Unit, number | BigNumber | Complex | Unit":function(c,d){return n(t(c,d),2)}});return e(lz,{"Array | Matrix":o,"Array | Matrix, number | BigNumber":function(c,d){throw new Error("median(A, dim) is not yet supported")},"...":function(c){if(ya(c))throw new TypeError("Scalar values expected in function median");return o(c)}})});var uz="mad",d0e=["typed","abs","map","median","subtract"],vS=A(uz,d0e,r=>{var{typed:e,abs:t,map:n,median:i,subtract:a}=r;return e(uz,{"Array | Matrix":o,"...":function(l){return o(l)}});function o(s){if(s=Dt(s.valueOf()),s.length===0)throw new Error("Cannot calculate median absolute deviation (mad) of an empty array");try{var l=i(s);return i(n(s,function(u){return t(a(u,l))}))}catch(u){throw u instanceof TypeError&&u.message.includes("median")?new TypeError(u.message.replace("median","mad")):Zr(u,"mad")}}});var xS="unbiased",cz="variance",f0e=["typed","add","subtract","multiply","divide","mapSlices","isNaN"],fm=A(cz,f0e,r=>{var{typed:e,add:t,subtract:n,multiply:i,divide:a,mapSlices:o,isNaN:s}=r;return e(cz,{"Array | Matrix":function(d){return l(d,xS)},"Array | Matrix, string":l,"Array | Matrix, number | BigNumber":function(d,f){return u(d,f,xS)},"Array | Matrix, number | BigNumber, string":u,"...":function(d){return l(d,xS)}});function l(c,d){var f,m=0;if(c.length===0)throw new SyntaxError("Function variance requires one or more parameters (0 provided)");if(fi(c,function(v){try{f=f===void 0?v:t(f,v),m++}catch(y){throw Zr(y,"variance",v)}}),m===0)throw new Error("Cannot calculate variance of an empty array");var p=a(f,m);if(f=void 0,fi(c,function(v){var y=n(v,p);f=f===void 0?i(y,y):t(f,i(y,y))}),s(f))return f;switch(d){case"uncorrected":return a(f,m);case"biased":return a(f,m+1);case"unbiased":{var h=st(f)?f.mul(0):0;return m===1?h:a(f,m-1)}default:throw new Error('Unknown normalization "'+d+'". Choose "unbiased" (default), "uncorrected", or "biased".')}}function u(c,d,f){try{if(c.length===0)throw new SyntaxError("Function variance requires one or more parameters (0 provided)");return o(c,d,m=>l(m,f))}catch(m){throw Zr(m,"variance")}}});var dz="quantileSeq",m0e=["typed","?bignumber","add","subtract","divide","multiply","partitionSelect","compare","isInteger","smaller","smallerEq","larger","mapSlices"],mm=A(dz,m0e,r=>{var{typed:e,bignumber:t,add:n,subtract:i,divide:a,multiply:o,partitionSelect:s,compare:l,isInteger:u,smaller:c,smallerEq:d,larger:f,mapSlices:m}=r;return e(dz,{"Array | Matrix, number | BigNumber":(S,x)=>h(S,x,!1),"Array | Matrix, number | BigNumber, number":(S,x,_)=>p(S,x,!1,_,h),"Array | Matrix, number | BigNumber, boolean":h,"Array | Matrix, number | BigNumber, boolean, number":(S,x,_,w)=>p(S,x,_,w,h),"Array | Matrix, Array | Matrix":(S,x)=>v(S,x,!1),"Array | Matrix, Array | Matrix, number":(S,x,_)=>p(S,x,!1,_,v),"Array | Matrix, Array | Matrix, boolean":v,"Array | Matrix, Array | Matrix, boolean, number":(S,x,_,w)=>p(S,x,_,w,v)});function p(S,x,_,w,b){return m(S,w,C=>b(C,x,_))}function h(S,x,_){var w,b=S.valueOf();if(c(x,0))throw new Error("N/prob must be non-negative");if(d(x,1))return ft(x)?y(b,x,_):t(y(b,x,_));if(f(x,1)){if(!u(x))throw new Error("N must be a positive integer");if(f(x,4294967295))throw new Error("N must be less than or equal to 2^32-1, as that is the maximum length of an Array");var C=n(x,1);w=[];for(var E=0;c(E,x);E++){var D=a(E+1,C);w.push(y(b,D,_))}return ft(x)?w:t(w)}}function v(S,x,_){for(var w=S.valueOf(),b=x.valueOf(),C=[],E=0;E<b.length;++E)C.push(y(w,b[E],_));return C}function y(S,x,_){var w=Dt(S),b=w.length;if(b===0)throw new Error("Cannot calculate quantile of an empty sequence");var C=ft(x)?x*(b-1):x.times(b-1),E=ft(x)?Math.floor(C):C.floor().toNumber(),D=ft(x)?C%1:C.minus(E);if(u(C))return _?w[C]:s(w,ft(x)?C:C.valueOf());var M,T;if(_)M=w[E],T=w[E+1];else{T=s(w,E+1),M=w[E];for(var I=0;I<E;++I)l(w[I],M)>0&&(M=w[I])}return n(o(M,i(1,D)),o(T,D))}});var fz="std",h0e=["typed","map","sqrt","variance"],hm=A(fz,h0e,r=>{var{typed:e,map:t,sqrt:n,variance:i}=r;return e(fz,{"Array | Matrix":a,"Array | Matrix, string":a,"Array | Matrix, number | BigNumber":a,"Array | Matrix, number | BigNumber, string":a,"...":function(s){return a(s)}});function a(o,s){if(o.length===0)throw new SyntaxError("Function std requires one or more parameters (0 provided)");try{var l=i.apply(null,arguments);return Jr(l)?t(l,n):n(l)}catch(u){throw u instanceof TypeError&&u.message.includes(" variance")?new TypeError(u.message.replace(" variance"," std")):u}}});var mz="corr",p0e=["typed","matrix","mean","sqrt","sum","add","subtract","multiply","pow","divide"],yS=A(mz,p0e,r=>{var{typed:e,matrix:t,sqrt:n,sum:i,add:a,subtract:o,multiply:s,pow:l,divide:u}=r;return e(mz,{"Array, Array":function(m,p){return c(m,p)},"Matrix, Matrix":function(m,p){var h=c(m.toArray(),p.toArray());return Array.isArray(h)?t(h):h}});function c(f,m){var p=[];if(Array.isArray(f[0])&&Array.isArray(m[0])){if(f.length!==m.length)throw new SyntaxError("Dimension mismatch. Array A and B must have the same length.");for(var h=0;h<f.length;h++){if(f[h].length!==m[h].length)throw new SyntaxError("Dimension mismatch. Array A and B must have the same number of elements.");p.push(d(f[h],m[h]))}return p}else{if(f.length!==m.length)throw new SyntaxError("Dimension mismatch. Array A and B must have the same number of elements.");return d(f,m)}}function d(f,m){var p=f.length,h=i(f),v=i(m),y=f.reduce((b,C,E)=>a(b,s(C,m[E])),0),S=i(f.map(b=>l(b,2))),x=i(m.map(b=>l(b,2))),_=o(s(p,y),s(h,v)),w=n(s(o(s(p,S),l(h,2)),o(s(p,x),l(v,2))));return u(_,w)}});var hz="combinations",g0e=["typed"],bS=A(hz,g0e,r=>{var{typed:e}=r;return e(hz,{"number, number":j2,"BigNumber, BigNumber":function(n,i){var a=n.constructor,o,s,l=n.minus(i),u=new a(1);if(!pz(n)||!pz(i))throw new TypeError("Positive integer value expected in function combinations");if(i.gt(n))throw new TypeError("k must be less than n in function combinations");if(o=u,i.lt(l))for(s=u;s.lte(l);s=s.plus(u))o=o.times(i.plus(s)).dividedBy(s);else for(s=u;s.lte(i);s=s.plus(u))o=o.times(l.plus(s)).dividedBy(s);return o}})});function pz(r){return r.isInteger()&&r.gte(0)}var gz="combinationsWithRep",v0e=["typed"],wS=A(gz,v0e,r=>{var{typed:e}=r;return e(gz,{"number, number":function(n,i){if(!Ye(n)||n<0)throw new TypeError("Positive integer value expected in function combinationsWithRep");if(!Ye(i)||i<0)throw new TypeError("Positive integer value expected in function combinationsWithRep");if(n<1)throw new TypeError("k must be less than or equal to n + k - 1");if(i<n-1){var a=Gi(n,n+i-1);return a/Gi(1,i)}var o=Gi(i+1,n+i-1);return o/Gi(1,n-1)},"BigNumber, BigNumber":function(n,i){var a=n.constructor,o,s,l=new a(1),u=n.minus(l);if(!vz(n)||!vz(i))throw new TypeError("Positive integer value expected in function combinationsWithRep");if(n.lt(l))throw new TypeError("k must be less than or equal to n + k - 1 in function combinationsWithRep");if(o=l,i.lt(u))for(s=l;s.lte(u);s=s.plus(l))o=o.times(i.plus(s)).dividedBy(s);else for(s=l;s.lte(i);s=s.plus(l))o=o.times(u.plus(s)).dividedBy(s);return o}})});function vz(r){return r.isInteger()&&r.gte(0)}var xz="gamma",x0e=["typed","config","multiplyScalar","pow","BigNumber","Complex"],_S=A(xz,x0e,r=>{var{typed:e,config:t,multiplyScalar:n,pow:i,BigNumber:a,Complex:o}=r;function s(u){if(u.im===0)return V0(u.re);if(u.re<.5){var c=new o(1-u.re,-u.im),d=new o(Math.PI*u.re,Math.PI*u.im);return new o(Math.PI).div(d.sin()).div(s(c))}u=new o(u.re-1,u.im);for(var f=new o(mu[0],0),m=1;m<mu.length;++m){var p=new o(mu[m],0);f=f.add(p.div(u.add(m)))}var h=new o(u.re+W2+.5,u.im),v=Math.sqrt(2*Math.PI),y=h.pow(u.add(.5)),S=h.neg().exp();return f.mul(v).mul(y).mul(S)}return e(xz,{number:V0,Complex:s,BigNumber:function(c){if(c.isInteger())return c.isNegative()||c.isZero()?new a(1/0):l(c.minus(1));if(!c.isFinite())return new a(c.isNegative()?NaN:1/0);throw new Error("Integer BigNumber expected")}});function l(u){if(u<8)return new a([1,1,2,6,24,120,720,5040][u]);var c=t.precision+(Math.log(u.toNumber())|0),d=a.clone({precision:c});if(u%2===1)return u.times(l(new a(u-1)));for(var f=u,m=new d(u),p=u.toNumber();f>2;)f-=2,p+=f,m=m.times(p);return new a(m.toPrecision(a.precision))}});var yz="lgamma",y0e=["Complex","typed"],SS=A(yz,y0e,r=>{var{Complex:e,typed:t}=r,n=7,i=7,a=[-.029550653594771242,.00641025641025641,-.0019175269175269176,.0008417508417508417,-.0005952380952380953,.0007936507936507937,-.002777777777777778,.08333333333333333];return t(yz,{number:U0,Complex:o,BigNumber:function(){throw new Error("mathjs doesn't yet provide an implementation of the algorithm lgamma for BigNumber")}});function o(u){var c=6.283185307179586,d=1.1447298858494002,f=.1;if(u.isNaN())return new e(NaN,NaN);if(u.im===0)return new e(U0(u.re),0);if(u.re>=n||Math.abs(u.im)>=i)return s(u);if(u.re<=f){var m=aT(c,u.im)*Math.floor(.5*u.re+.25),p=u.mul(Math.PI).sin().log(),h=o(new e(1-u.re,-u.im));return new e(d,m).sub(p).sub(h)}else return u.im>=0?l(u):l(u.conjugate()).conjugate()}function s(u){for(var c=u.sub(.5).mul(u.log()).sub(u).add(G2),d=new e(1,0).div(u),f=d.div(u),m=a[0],p=a[1],h=2*f.re,v=f.re*f.re+f.im*f.im,y=2;y<8;y++){var S=p;p=-v*m+a[y],m=h*m+S}var x=d.mul(f.mul(m).add(p));return c.add(x)}function l(u){var c=0,d=0,f=u;for(u=u.add(1);u.re<=n;){f=f.mul(u);var m=f.im<0?1:0;m!==0&&d===0&&c++,d=m,u=u.add(1)}return s(u).sub(f.log()).sub(new e(0,c*2*Math.PI*1))}});var bz="factorial",b0e=["typed","gamma"],DS=A(bz,b0e,r=>{var{typed:e,gamma:t}=r;return e(bz,{number:function(i){if(i<0)throw new Error("Value must be non-negative");return t(i+1)},BigNumber:function(i){if(i.isNegative())throw new Error("Value must be non-negative");return t(i.plus(1))},"Array | Matrix":e.referToSelf(n=>i=>et(i,n))})});var wz="kldivergence",w0e=["typed","matrix","divide","sum","multiply","map","dotDivide","log","isNumeric"],CS=A(wz,w0e,r=>{var{typed:e,matrix:t,divide:n,sum:i,multiply:a,map:o,dotDivide:s,log:l,isNumeric:u}=r;return e(wz,{"Array, Array":function(f,m){return c(t(f),t(m))},"Matrix, Array":function(f,m){return c(f,t(m))},"Array, Matrix":function(f,m){return c(t(f),m)},"Matrix, Matrix":function(f,m){return c(f,m)}});function c(d,f){var m=f.size().length,p=d.size().length;if(m>1)throw new Error("first object must be one dimensional");if(p>1)throw new Error("second object must be one dimensional");if(m!==p)throw new Error("Length of two vectors must be equal");var h=i(d);if(h===0)throw new Error("Sum of elements in first object must be non zero");var v=i(f);if(v===0)throw new Error("Sum of elements in second object must be non zero");var y=n(d,i(d)),S=n(f,i(f)),x=i(a(y,o(s(y,S),_=>l(_))));return u(x)?x:Number.NaN}});var _z="multinomial",_0e=["typed","add","divide","multiply","factorial","isInteger","isPositive"],ES=A(_z,_0e,r=>{var{typed:e,add:t,divide:n,multiply:i,factorial:a,isInteger:o,isPositive:s}=r;return e(_z,{"Array | Matrix":function(u){var c=0,d=1;return fi(u,function(f){if(!o(f)||!s(f))throw new TypeError("Positive integer value expected in function multinomial");c=t(c,f),d=i(d,a(f))}),n(a(c),d)}})});var Sz="permutations",S0e=["typed","factorial"],AS=A(Sz,S0e,r=>{var{typed:e,factorial:t}=r;return e(Sz,{"number | BigNumber":t,"number, number":function(i,a){if(!Ye(i)||i<0)throw new TypeError("Positive integer value expected in function permutations");if(!Ye(a)||a<0)throw new TypeError("Positive integer value expected in function permutations");if(a>i)throw new TypeError("second argument k must be less than or equal to first argument n");return Gi(i-a+1,i)},"BigNumber, BigNumber":function(i,a){var o,s;if(!Dz(i)||!Dz(a))throw new TypeError("Positive integer value expected in function permutations");if(a.gt(i))throw new TypeError("second argument k must be less than or equal to first argument n");var l=i.mul(0).add(1);for(o=l,s=i.minus(a).plus(1);s.lte(i);s=s.plus(1))o=o.times(s);return o}})});function Dz(r){return r.isInteger()&&r.gte(0)}var RS=ef(Uz(),1),T0e=(0,RS.default)(Date.now());function os(r){var e;function t(i){e=i===null?T0e:(0,RS.default)(String(i))}t(r);function n(){return e()}return n}var qz="pickRandom",F0e=["typed","config","?on"],kS=A(qz,F0e,r=>{var{typed:e,config:t,on:n}=r,i=os(t.randomSeed);return n&&n("config",function(o,s){o.randomSeed!==s.randomSeed&&(i=os(o.randomSeed))}),e(qz,{"Array | Matrix":function(s){return a(s,{})},"Array | Matrix, Object":function(s,l){return a(s,l)},"Array | Matrix, number":function(s,l){return a(s,{number:l})},"Array | Matrix, Array | Matrix":function(s,l){return a(s,{weights:l})},"Array | Matrix, Array | Matrix, number":function(s,l,u){return a(s,{number:u,weights:l})},"Array | Matrix, number, Array | Matrix":function(s,l,u){return a(s,{number:l,weights:u})}});function a(o,s){var{number:l,weights:u,elementWise:c=!0}=s,d=typeof l>"u";d&&(l=1);var f=Je(o)?o.create:Je(u)?u.create:null;o=o.valueOf(),u&&(u=u.valueOf()),c===!0&&(o=Dt(o),u=Dt(u));var m=0;if(typeof u<"u"){if(u.length!==o.length)throw new Error("Weights must have the same length as possibles");for(var p=0,h=u.length;p<h;p++){if(!ft(u[p])||u[p]<0)throw new Error("Weights must be an array of positive numbers");m+=u[p]}}for(var v=o.length,y=[],S;y.length<l;){if(typeof u>"u")S=o[Math.floor(i()*v)];else for(var x=i()*m,_=0,w=o.length;_<w;_++)if(x-=u[_],x<0){S=o[_];break}y.push(S)}return d?y[0]:f?f(y):y}});function pm(r,e){var t=[];if(r=r.slice(0),r.length>1)for(var n=0,i=r.shift();n<i;n++)t.push(pm(r,e));else for(var a=0,o=r.shift();a<o;a++)t.push(e());return t}var jz="random",I0e=["typed","config","?on"],PS=A(jz,I0e,r=>{var{typed:e,config:t,on:n}=r,i=os(t.randomSeed);return n&&n("config",function(s,l){s.randomSeed!==l.randomSeed&&(i=os(s.randomSeed))}),e(jz,{"":()=>o(0,1),number:s=>o(0,s),"number, number":(s,l)=>o(s,l),"Array | Matrix":s=>a(s,0,1),"Array | Matrix, number":(s,l)=>a(s,0,l),"Array | Matrix, number, number":(s,l,u)=>a(s,l,u)});function a(s,l,u){var c=pm(s.valueOf(),()=>o(l,u));return Je(s)?s.create(c,"number"):c}function o(s,l){return s+i()*(l-s)}});var $z="randomInt",O0e=["typed","config","log2","?on"],R0e=BigInt(2)**BigInt(30),BS=A($z,O0e,r=>{var{typed:e,config:t,log2:n,on:i}=r,a=os(t.randomSeed);return i&&i("config",function(u,c){u.randomSeed!==c.randomSeed&&(a=os(u.randomSeed))}),e($z,{"":()=>s(0,2),number:u=>s(0,u),"number, number":(u,c)=>s(u,c),bigint:u=>l(BigInt(0),u),"bigint, bigint":l,"Array | Matrix":u=>o(u,0,1),"Array | Matrix, number":(u,c)=>o(u,0,c),"Array | Matrix, number, number":(u,c,d)=>o(u,c,d)});function o(u,c,d){var f=pm(u.valueOf(),()=>s(c,d));return Je(u)?u.create(f,"number"):f}function s(u,c){return Math.floor(u+a()*(c-u))}function l(u,c){var d=c-u;if(d<=R0e)return u+BigInt(s(0,Number(d)));for(var f=n(d),m=d;m>=d;){m=BigInt(0);for(var p=0;p<f;++p)m=BigInt(2)*m+(a()<.5?BigInt(0):BigInt(1))}return u+m}});var Hz="stirlingS2",k0e=["typed","addScalar","subtractScalar","multiplyScalar","divideScalar","pow","factorial","combinations","isNegative","isInteger","number","?bignumber","larger"],LS=A(Hz,k0e,r=>{var{typed:e,addScalar:t,subtractScalar:n,multiplyScalar:i,divideScalar:a,pow:o,factorial:s,combinations:l,isNegative:u,isInteger:c,number:d,bignumber:f,larger:m}=r,p=[],h=[];return e(Hz,{"number | BigNumber, number | BigNumber":function(y,S){if(!c(y)||u(y)||!c(S)||u(S))throw new TypeError("Non-negative integer value expected in function stirlingS2");if(m(S,y))throw new TypeError("k must be less than or equal to n in function stirlingS2");var x=!(ft(y)&&ft(S)),_=x?h:p,w=x?f:d,b=d(y),C=d(S);if(_[b]&&_[b].length>C)return _[b][C];for(var E=0;E<=b;++E)if(_[E]||(_[E]=[w(E===0?1:0)]),E!==0)for(var D=_[E],M=_[E-1],T=D.length;T<=E&&T<=C;++T)T===E?D[T]=1:D[T]=t(i(w(T),M[T]),M[T-1]);return _[b][C]}})});var Wz="bellNumbers",P0e=["typed","addScalar","isNegative","isInteger","stirlingS2"],zS=A(Wz,P0e,r=>{var{typed:e,addScalar:t,isNegative:n,isInteger:i,stirlingS2:a}=r;return e(Wz,{"number | BigNumber":function(s){if(!i(s)||n(s))throw new TypeError("Non-negative integer value expected in function bellNumbers");for(var l=0,u=0;u<=s;u++)l=t(l,a(s,u));return l}})});var Gz="catalan",B0e=["typed","addScalar","divideScalar","multiplyScalar","combinations","isNegative","isInteger"],VS=A(Gz,B0e,r=>{var{typed:e,addScalar:t,divideScalar:n,multiplyScalar:i,combinations:a,isNegative:o,isInteger:s}=r;return e(Gz,{"number | BigNumber":function(u){if(!s(u)||o(u))throw new TypeError("Non-negative integer value expected in function catalan");return n(a(i(u,2),u),t(u,1))}})});var Yz="composition",L0e=["typed","addScalar","combinations","isNegative","isPositive","isInteger","larger"],US=A(Yz,L0e,r=>{var{typed:e,addScalar:t,combinations:n,isPositive:i,isNegative:a,isInteger:o,larger:s}=r;return e(Yz,{"number | BigNumber, number | BigNumber":function(u,c){if(!o(u)||!i(u)||!o(c)||!i(c))throw new TypeError("Positive integer value expected in function composition");if(s(c,u))throw new TypeError("k must be less than or equal to n in function composition");return n(t(u,-1),t(c,-1))}})});var Zz="leafCount",z0e=["parse","typed"],qS=A(Zz,z0e,r=>{var{parse:e,typed:t}=r;function n(i){var a=0;return i.forEach(o=>{a+=n(o)}),a||1}return t(Zz,{Node:function(a){return n(a)}})});function jS(r){return It(r)||wr(r)&&r.isUnary()&&It(r.args[0])}function gm(r){return!!(It(r)||(di(r)||wr(r))&&r.args.every(gm)||$n(r)&&gm(r.content))}In();function Xz(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(r,i).enumerable})),t.push.apply(t,n)}return t}function $S(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?Xz(Object(t),!0).forEach(function(n){Jt(r,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):Xz(Object(t)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(t,n))})}return r}var V0e="simplifyUtil",U0e=["FunctionNode","OperatorNode","SymbolNode"],sd=A(V0e,U0e,r=>{var{FunctionNode:e,OperatorNode:t,SymbolNode:n}=r,i=!0,a=!1,o="defaultF",s={add:{trivial:i,total:i,commutative:i,associative:i},unaryPlus:{trivial:i,total:i,commutative:i,associative:i},subtract:{trivial:a,total:i,commutative:a,associative:a},multiply:{trivial:i,total:i,commutative:i,associative:i},divide:{trivial:a,total:i,commutative:a,associative:a},paren:{trivial:i,total:i,commutative:i,associative:a},defaultF:{trivial:a,total:i,commutative:a,associative:a}},l={divide:{total:a},log:{total:a}},u={subtract:{total:a},abs:{trivial:i},log:{total:i}};function c(x,_){var w=arguments.length>2&&arguments[2]!==void 0?arguments[2]:s,b=o;if(typeof x=="string"?b=x:wr(x)?b=x.fn.toString():di(x)?b=x.name:$n(x)&&(b="paren"),nt(w,b)){var C=w[b];if(nt(C,_))return C[_];if(nt(s,b))return s[b][_]}if(nt(w,o)){var E=w[o];return nt(E,_)?E[_]:s[o][_]}if(nt(s,b)){var D=s[b];if(nt(D,_))return D[_]}return s[o][_]}function d(x){var _=arguments.length>1&&arguments[1]!==void 0?arguments[1]:s;return c(x,"commutative",_)}function f(x){var _=arguments.length>1&&arguments[1]!==void 0?arguments[1]:s;return c(x,"associative",_)}function m(x,_){var w=$S({},x);for(var b in _)nt(x,b)?w[b]=$S($S({},_[b]),x[b]):w[b]=_[b];return w}function p(x,_){if(!x.args||x.args.length===0)return x;x.args=h(x,_);for(var w=0;w<x.args.length;w++)p(x.args[w],_)}function h(x,_){var w,b=[],C=function(D){for(var M=0;M<D.args.length;M++){var T=D.args[M];wr(T)&&w===T.op?C(T):b.push(T)}};return f(x,_)?(w=x.op,C(x),b):x.args}function v(x,_){if(!(!x.args||x.args.length===0)){for(var w=S(x),b=x.args.length,C=0;C<b;C++)v(x.args[C],_);if(b>2&&f(x,_)){for(var E=x.args.pop();x.args.length>0;)E=w([x.args.pop(),E]);x.args=E.args}}}function y(x,_){if(!(!x.args||x.args.length===0)){for(var w=S(x),b=x.args.length,C=0;C<b;C++)y(x.args[C],_);if(b>2&&f(x,_)){for(var E=x.args.shift();x.args.length>0;)E=w([E,x.args.shift()]);x.args=E.args}}}function S(x){return wr(x)?function(_){try{return new t(x.op,x.fn,_,x.implicit)}catch(w){return console.error(w),[]}}:function(_){return new e(new n(x.name),_)}}return{createMakeNodeFunction:S,hasProperty:c,isCommutative:d,isAssociative:f,mergeContext:m,flatten:p,allChildren:h,unflattenr:v,unflattenl:y,defaultContext:s,realContext:l,positiveContext:u}});var q0e="simplify",j0e=["typed","parse","equal","resolve","simplifyConstant","simplifyCore","AccessorNode","ArrayNode","ConstantNode","FunctionNode","IndexNode","ObjectNode","OperatorNode","ParenthesisNode","SymbolNode","replacer"],HS=A(q0e,j0e,r=>{var{typed:e,parse:t,equal:n,resolve:i,simplifyConstant:a,simplifyCore:o,AccessorNode:s,ArrayNode:l,ConstantNode:u,FunctionNode:c,IndexNode:d,ObjectNode:f,OperatorNode:m,ParenthesisNode:p,SymbolNode:h,replacer:v}=r,{hasProperty:y,isCommutative:S,isAssociative:x,mergeContext:_,flatten:w,unflattenr:b,unflattenl:C,createMakeNodeFunction:E,defaultContext:D,realContext:M,positiveContext:T}=sd({FunctionNode:c,OperatorNode:m,SymbolNode:h});e.addConversion({from:"Object",to:"Map",convert:Jo});var I=e("simplify",{Node:P,"Node, Map":(J,X)=>P(J,!1,X),"Node, Map, Object":(J,X,ne)=>P(J,!1,X,ne),"Node, Array":P,"Node, Array, Map":P,"Node, Array, Map, Object":P});e.removeConversion({from:"Object",to:"Map",convert:Jo}),I.defaultContext=D,I.realContext=M,I.positiveContext=T;function B(J){return J.transform(function(X){return $n(X)?B(X.content):X})}var V={true:!0,false:!0,e:!0,i:!0,Infinity:!0,LN2:!0,LN10:!0,LOG2E:!0,LOG10E:!0,NaN:!0,phi:!0,pi:!0,SQRT1_2:!0,SQRT2:!0,tau:!0};I.rules=[o,{l:"log(e)",r:"1"},{s:"n-n1 -> n+-n1",assuming:{subtract:{total:!0}}},{s:"n-n -> 0",assuming:{subtract:{total:!1}}},{s:"-(cl*v) -> v * (-cl)",assuming:{multiply:{commutative:!0},subtract:{total:!0}}},{s:"-(cl*v) -> (-cl) * v",assuming:{multiply:{commutative:!1},subtract:{total:!0}}},{s:"-(v*cl) -> v * (-cl)",assuming:{multiply:{commutative:!1},subtract:{total:!0}}},{l:"-(n1/n2)",r:"-n1/n2"},{l:"-v",r:"v * (-1)"},{l:"(n1 + n2)*(-1)",r:"n1*(-1) + n2*(-1)",repeat:!0},{l:"n/n1^n2",r:"n*n1^-n2"},{l:"n/n1",r:"n*n1^-1"},{s:"(n1*n2)^n3 -> n1^n3 * n2^n3",assuming:{multiply:{commutative:!0}}},{s:"(n1*n2)^(-1) -> n2^(-1) * n1^(-1)",assuming:{multiply:{commutative:!1}}},{s:"(n ^ n1) ^ n2 -> n ^ (n1 * n2)",assuming:{divide:{total:!0}}},{l:" vd   * ( vd   * n1 + n2)",r:"vd^2       * n1 +  vd   * n2"},{s:" vd   * (vd^n4 * n1 + n2)   ->  vd^(1+n4)  * n1 +  vd   * n2",assuming:{divide:{total:!0}}},{s:"vd^n3 * ( vd   * n1 + n2)   ->  vd^(n3+1)  * n1 + vd^n3 * n2",assuming:{divide:{total:!0}}},{s:"vd^n3 * (vd^n4 * n1 + n2)   ->  vd^(n3+n4) * n1 + vd^n3 * n2",assuming:{divide:{total:!0}}},{l:"n*n",r:"n^2"},{s:"n * n^n1 -> n^(n1+1)",assuming:{divide:{total:!0}}},{s:"n^n1 * n^n2 -> n^(n1+n2)",assuming:{divide:{total:!0}}},a,{s:"n+n -> 2*n",assuming:{add:{total:!0}}},{l:"n+-n",r:"0"},{l:"vd*n + vd",r:"vd*(n+1)"},{l:"n3*n1 + n3*n2",r:"n3*(n1+n2)"},{l:"n3^(-n4)*n1 +   n3  * n2",r:"n3^(-n4)*(n1 + n3^(n4+1) *n2)"},{l:"n3^(-n4)*n1 + n3^n5 * n2",r:"n3^(-n4)*(n1 + n3^(n4+n5)*n2)"},{s:"n*vd + vd -> (n+1)*vd",assuming:{multiply:{commutative:!1}}},{s:"vd + n*vd -> (1+n)*vd",assuming:{multiply:{commutative:!1}}},{s:"n1*n3 + n2*n3 -> (n1+n2)*n3",assuming:{multiply:{commutative:!1}}},{s:"n^n1 * n -> n^(n1+1)",assuming:{divide:{total:!0},multiply:{commutative:!1}}},{s:"n1*n3^(-n4) + n2 * n3    -> (n1 + n2*n3^(n4 +  1))*n3^(-n4)",assuming:{multiply:{commutative:!1}}},{s:"n1*n3^(-n4) + n2 * n3^n5 -> (n1 + n2*n3^(n4 + n5))*n3^(-n4)",assuming:{multiply:{commutative:!1}}},{l:"n*cd + cd",r:"(n+1)*cd"},{s:"cd*n + cd -> cd*(n+1)",assuming:{multiply:{commutative:!1}}},{s:"cd + cd*n -> cd*(1+n)",assuming:{multiply:{commutative:!1}}},a,{s:"(-n)*n1 -> -(n*n1)",assuming:{subtract:{total:!0}}},{s:"n1*(-n) -> -(n1*n)",assuming:{subtract:{total:!0},multiply:{commutative:!1}}},{s:"ce+ve -> ve+ce",assuming:{add:{commutative:!0}},imposeContext:{add:{commutative:!1}}},{s:"vd*cd -> cd*vd",assuming:{multiply:{commutative:!0}},imposeContext:{multiply:{commutative:!1}}},{l:"n+-n1",r:"n-n1"},{l:"n+-(n1)",r:"n-(n1)"},{s:"n*(n1^-1) -> n/n1",assuming:{multiply:{commutative:!0}}},{s:"n*n1^-n2 -> n/n1^n2",assuming:{multiply:{commutative:!0}}},{s:"n^-1 -> 1/n",assuming:{multiply:{commutative:!0}}},{l:"n^1",r:"n"},{s:"n*(n1/n2) -> (n*n1)/n2",assuming:{multiply:{associative:!0}}},{s:"n-(n1+n2) -> n-n1-n2",assuming:{addition:{associative:!0,commutative:!0}}},{l:"1*n",r:"n",imposeContext:{multiply:{commutative:!0}}},{s:"n1/(n2/n3) -> (n1*n3)/n2",assuming:{multiply:{associative:!0}}},{l:"n1/(-n2)",r:"-n1/n2"}];function L(J,X){var ne={};if(J.s){var he=J.s.split("->");if(he.length===2)ne.l=he[0],ne.r=he[1];else throw SyntaxError("Could not parse rule: "+J.s)}else ne.l=J.l,ne.r=J.r;ne.l=B(t(ne.l)),ne.r=B(t(ne.r));for(var de of["imposeContext","repeat","assuming"])de in J&&(ne[de]=J[de]);if(J.evaluate&&(ne.evaluate=t(J.evaluate)),x(ne.l,X)){var _e=!S(ne.l,X),be;_e&&(be=Y());var H=E(ne.l),K=Y();ne.expanded={},ne.expanded.l=H([ne.l,K]),w(ne.expanded.l,X),b(ne.expanded.l,X),ne.expanded.r=H([ne.r,K]),_e&&(ne.expandedNC1={},ne.expandedNC1.l=H([be,ne.l]),ne.expandedNC1.r=H([be,ne.r]),ne.expandedNC2={},ne.expandedNC2.l=H([be,ne.expanded.l]),ne.expandedNC2.r=H([be,ne.expanded.r]))}return ne}function k(J,X){for(var ne=[],he=0;he<J.length;he++){var de=J[he],_e=void 0,be=typeof de;switch(be){case"string":de={s:de};case"object":_e=L(de,X);break;case"function":_e=de;break;default:throw TypeError("Unsupported type of rule: "+be)}ne.push(_e)}return ne}var O=0;function Y(){return new h("_p"+O++)}function P(J,X){var ne=arguments.length>2&&arguments[2]!==void 0?arguments[2]:Xs(),he=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},de=he.consoleDebug;X=k(X||I.rules,he.context);var _e=i(J,ne);_e=B(_e);for(var be={},H=_e.toString({parenthesis:"all"});!be[H];){be[H]=!0,O=0;var K=H;de&&console.log("Working on: ",H);for(var fe=0;fe<X.length;fe++){var pe="";if(typeof X[fe]=="function"?(_e=X[fe](_e,he),de&&(pe=X[fe].name)):(w(_e,he.context),_e=se(_e,X[fe],he.context),de&&(pe="".concat(X[fe].l.toString()," -> ").concat(X[fe].r.toString()))),de){var Ce=_e.toString({parenthesis:"all"});Ce!==K&&(console.log("Applying",pe,"produced",Ce),K=Ce)}C(_e,he.context)}H=_e.toString({parenthesis:"all"})}return _e}function ae(J,X,ne){var he=J;if(J)for(var de=0;de<J.length;++de){var _e=se(J[de],X,ne);_e!==J[de]&&(he===J&&(he=J.slice()),he[de]=_e)}return he}function se(J,X,ne){if(X.assuming){for(var he in X.assuming)for(var de in X.assuming[he])if(y(he,de,ne)!==X.assuming[he][de])return J}var _e=_(X.imposeContext,ne),be=J;if(be instanceof m||be instanceof c){var H=ae(be.args,X,ne);H!==be.args&&(be=be.clone(),be.args=H)}else if(be instanceof p){if(be.content){var K=se(be.content,X,ne);K!==be.content&&(be=new p(K))}}else if(be instanceof l){var fe=ae(be.items,X,ne);fe!==be.items&&(be=new l(fe))}else if(be instanceof s){var pe=be.object;be.object&&(pe=se(be.object,X,ne));var Ce=be.index;be.index&&(Ce=se(be.index,X,ne)),(pe!==be.object||Ce!==be.index)&&(be=new s(pe,Ce))}else if(be instanceof d){var ke=ae(be.dimensions,X,ne);ke!==be.dimensions&&(be=new d(ke))}else if(be instanceof f){var Ze=!1,rt={};for(var Tt in be.properties)rt[Tt]=se(be.properties[Tt],X,ne),rt[Tt]!==be.properties[Tt]&&(Ze=!0);Ze&&(be=new f(rt))}var vt=X.r,lr=le(X.l,be,_e)[0];if(!lr&&X.expanded&&(vt=X.expanded.r,lr=le(X.expanded.l,be,_e)[0]),!lr&&X.expandedNC1&&(vt=X.expandedNC1.r,lr=le(X.expandedNC1.l,be,_e)[0],lr||(vt=X.expandedNC2.r,lr=le(X.expandedNC2.l,be,_e)[0])),lr){var ir=be.implicit;be=vt.clone(),ir&&"implicit"in vt&&(be.implicit=!0),be=be.transform(function(Br){return Br.isSymbolNode&&nt(lr.placeholders,Br.name)?lr.placeholders[Br.name].clone():Br})}return X.repeat&&be!==J&&(be=se(be,X,ne)),be}function te(J,X){var ne=[],he,de,_e=E(J);if(S(J,X))for(var be=0;be<J.args.length;be++)de=J.args.slice(0),de.splice(be,1),he=de.length===1?de[0]:_e(de),ne.push(_e([J.args[be],he]));else for(var H=1;H<J.args.length;H++){var K=J.args[0];H>1&&(K=_e(J.args.slice(0,H))),de=J.args.slice(H),he=de.length===1?de[0]:_e(de),ne.push(_e([K,he]))}return ne}function W(J,X){var ne={placeholders:{}};if(!J.placeholders&&!X.placeholders)return ne;if(J.placeholders){if(!X.placeholders)return J}else return X;for(var he in J.placeholders)if(nt(J.placeholders,he)&&(ne.placeholders[he]=J.placeholders[he],nt(X.placeholders,he)&&!ge(J.placeholders[he],X.placeholders[he])))return null;for(var de in X.placeholders)nt(X.placeholders,de)&&(ne.placeholders[de]=X.placeholders[de]);return ne}function ue(J,X){var ne=[];if(J.length===0||X.length===0)return ne;for(var he,de=0;de<J.length;de++)for(var _e=0;_e<X.length;_e++)he=W(J[de],X[_e]),he&&ne.push(he);return ne}function we(J){if(J.length===0)return J;for(var X=J.reduce(ue),ne=[],he={},de=0;de<X.length;de++){var _e=JSON.stringify(X[de],v);he[_e]||(he[_e]=!0,ne.push(X[de]))}return ne}function le(J,X,ne,he){var de=[{placeholders:{}}];if(J instanceof m&&X instanceof m||J instanceof c&&X instanceof c){if(J instanceof m){if(J.op!==X.op||J.fn!==X.fn)return[]}else if(J instanceof c&&J.name!==X.name)return[];if(X.args.length===1&&J.args.length===1||!x(X,ne)&&X.args.length===J.args.length||he){for(var _e=[],be=0;be<J.args.length;be++){var H=le(J.args[be],X.args[be],ne);if(H.length===0)break;_e.push(H)}if(_e.length!==J.args.length){if(!S(X,ne)||J.args.length===1)return[];if(J.args.length>2)throw new Error("permuting >2 commutative non-associative rule arguments not yet implemented");var K=le(J.args[0],X.args[1],ne);if(K.length===0)return[];var fe=le(J.args[1],X.args[0],ne);if(fe.length===0)return[];_e=[K,fe]}de=we(_e)}else if(X.args.length>=2&&J.args.length===2){for(var pe=te(X,ne),Ce=[],ke=0;ke<pe.length;ke++){var Ze=le(J,pe[ke],ne,!0);Ce=Ce.concat(Ze)}return Ce}else{if(J.args.length>2)throw Error("Unexpected non-binary associative function: "+J.toString());return[]}}else if(J instanceof h){if(J.name.length===0)throw new Error("Symbol in rule has 0 length...!?");if(V[J.name]){if(J.name!==X.name)return[]}else switch(J.name[1]>="a"&&J.name[1]<="z"?J.name.substring(0,2):J.name[0]){case"n":case"_p":de[0].placeholders[J.name]=X;break;case"c":case"cl":if(It(X))de[0].placeholders[J.name]=X;else return[];break;case"v":if(!It(X))de[0].placeholders[J.name]=X;else return[];break;case"vl":if(pr(X))de[0].placeholders[J.name]=X;else return[];break;case"cd":if(jS(X))de[0].placeholders[J.name]=X;else return[];break;case"vd":if(!jS(X))de[0].placeholders[J.name]=X;else return[];break;case"ce":if(gm(X))de[0].placeholders[J.name]=X;else return[];break;case"ve":if(!gm(X))de[0].placeholders[J.name]=X;else return[];break;default:throw new Error("Invalid symbol in rule: "+J.name)}}else if(J instanceof u){if(!n(J.value,X.value))return[]}else return[];return de}function ge(J,X){if(J instanceof u&&X instanceof u){if(!n(J.value,X.value))return!1}else if(J instanceof h&&X instanceof h){if(J.name!==X.name)return!1}else if(J instanceof m&&X instanceof m||J instanceof c&&X instanceof c){if(J instanceof m){if(J.op!==X.op||J.fn!==X.fn)return!1}else if(J instanceof c&&J.name!==X.name)return!1;if(J.args.length!==X.args.length)return!1;for(var ne=0;ne<J.args.length;ne++)if(!ge(J.args[ne],X.args[ne]))return!1}else return!1;return!0}return I});var $0e="simplifyConstant",H0e=["typed","config","mathWithTransform","matrix","?fraction","?bignumber","AccessorNode","ArrayNode","ConstantNode","FunctionNode","IndexNode","ObjectNode","OperatorNode","SymbolNode"],WS=A($0e,H0e,r=>{var{typed:e,config:t,mathWithTransform:n,matrix:i,fraction:a,bignumber:o,AccessorNode:s,ArrayNode:l,ConstantNode:u,FunctionNode:c,IndexNode:d,ObjectNode:f,OperatorNode:m,SymbolNode:p}=r,{isCommutative:h,isAssociative:v,allChildren:y,createMakeNodeFunction:S}=sd({FunctionNode:c,OperatorNode:m,SymbolNode:p}),x=e("simplifyConstant",{Node:L=>C(V(L,{})),"Node, Object":function(k,O){return C(V(k,O))}});function _(L){return Qo(L)?L.valueOf():L instanceof Array?L.map(_):Je(L)?i(_(L.valueOf())):L}function w(L,k,O){try{return n[L].apply(null,k)}catch{return k=k.map(_),D(n[L].apply(null,k),O)}}var b=e({Fraction:T,number:function(k){return k<0?M(new u(-k)):new u(k)},BigNumber:function(k){return k<0?M(new u(-k)):new u(k)},bigint:function(k){return k<BigInt(0)?M(new u(-k)):new u(k)},Complex:function(k){throw new Error("Cannot convert Complex number to Node")},string:function(k){return new u(k)},Matrix:function(k){return new l(k.valueOf().map(O=>b(O)))}});function C(L){return Rt(L)?L:b(L)}function E(L,k){var O=k&&k.exactFractions!==!1;if(O&&isFinite(L)&&a){var Y=a(L),P=k&&typeof k.fractionsLimit=="number"?k.fractionsLimit:1/0;if(Y.valueOf()===L&&Y.n<P&&Y.d<P)return Y}return L}var D=e({"string, Object":function(k,O){var Y=Jn(k,t);if(Y==="BigNumber")return o===void 0&&td(),o(k);if(Y==="bigint")return BigInt(k);if(Y==="Fraction")return a===void 0&&Lg(),a(k);var P=parseFloat(k);return E(P,O)},"Fraction, Object":function(k,O){return k},"BigNumber, Object":function(k,O){return k},"number, Object":function(k,O){return E(k,O)},"bigint, Object":function(k,O){return k},"Complex, Object":function(k,O){return k.im!==0?k:E(k.re,O)},"Matrix, Object":function(k,O){return i(E(k.valueOf()))},"Array, Object":function(k,O){return k.map(E)}});function M(L){return new m("-","unaryMinus",[L])}function T(L){var k=P=>t.number==="BigNumber"&&o?o(P):Number(P),O=L.s*L.n,Y=O<BigInt(0)?new m("-","unaryMinus",[new u(-k(O))]):new u(k(O));return L.d===BigInt(1)?Y:new m("/","divide",[Y,new u(k(L.d))])}function I(L,k,O){if(!ha(k))return new s(C(L),C(k));if(jn(L)||Je(L)){for(var Y=Array.from(k.dimensions);Y.length>0;)if(It(Y[0])&&typeof Y[0].value!="string"){var P=D(Y.shift().value,O);jn(L)?L=L.items[P-1]:(L=L.valueOf()[P-1],L instanceof Array&&(L=i(L)))}else if(Y.length>1&&It(Y[1])&&typeof Y[1].value!="string"){var ae=D(Y[1].value,O),se=[],te=jn(L)?L.items:L.valueOf();for(var W of te)if(jn(W))se.push(W.items[ae-1]);else if(Je(L))se.push(W[ae-1]);else break;if(se.length===te.length)jn(L)?L=new l(se):L=i(se),Y.splice(1,1);else break}else break;return Y.length===k.dimensions.length?new s(C(L),k):Y.length>0?(k=new d(Y),new s(C(L),k)):L}if(el(L)&&k.dimensions.length===1&&It(k.dimensions[0])){var ue=k.dimensions[0].value;return ue in L.properties?L.properties[ue]:new u}return new s(C(L),k)}function B(L,k,O,Y){var P=k.shift(),ae=k.reduce((se,te)=>{if(!Rt(te)){var W=se.pop();if(Rt(W))return[W,te];try{return se.push(w(L,[W,te],Y)),se}catch{se.push(W)}}se.push(C(se.pop()));var ue=se.length===1?se[0]:O(se);return[O([ue,C(te)])]},[P]);return ae.length===1?ae[0]:O([ae[0],b(ae[1])])}function V(L,k){switch(L.type){case"SymbolNode":return L;case"ConstantNode":switch(typeof L.value){case"number":return D(L.value,k);case"bigint":return D(L.value,k);case"string":return L.value;default:if(!isNaN(L.value))return D(L.value,k)}return L;case"FunctionNode":if(n[L.name]&&n[L.name].rawArgs)return L;{var O=["add","multiply"];if(!O.includes(L.name)){var Y=L.args.map(he=>V(he,k));if(!Y.some(Rt))try{return w(L.name,Y,k)}catch{}if(L.name==="size"&&Y.length===1&&jn(Y[0])){for(var P=[],ae=Y[0];jn(ae);)P.push(ae.items.length),ae=ae.items[0];return i(P)}return new c(L.name,Y.map(C))}}case"OperatorNode":{var se=L.fn.toString(),te,W,ue=S(L);if(wr(L)&&L.isUnary())te=[V(L.args[0],k)],Rt(te[0])?W=ue(te):W=w(se,te,k);else if(v(L,k.context))if(te=y(L,k.context),te=te.map(he=>V(he,k)),h(se,k.context)){for(var we=[],le=[],ge=0;ge<te.length;ge++)Rt(te[ge])?le.push(te[ge]):we.push(te[ge]);we.length>1?(W=B(se,we,ue,k),le.unshift(W),W=B(se,le,ue,k)):W=B(se,te,ue,k)}else W=B(se,te,ue,k);else te=L.args.map(he=>V(he,k)),W=B(se,te,ue,k);return W}case"ParenthesisNode":return V(L.content,k);case"AccessorNode":return I(V(L.object,k),V(L.index,k),k);case"ArrayNode":{var J=L.items.map(he=>V(he,k));return J.some(Rt)?new l(J.map(C)):i(J)}case"IndexNode":return new d(L.dimensions.map(he=>x(he,k)));case"ObjectNode":{var X={};for(var ne in L.properties)X[ne]=x(L.properties[ne],k);return new f(X)}case"AssignmentNode":case"BlockNode":case"FunctionAssignmentNode":case"RangeNode":case"ConditionalNode":default:throw new Error("Unimplemented node type in simplifyConstant: ".concat(L.type))}}return x});var Kz="simplifyCore",W0e=["typed","parse","equal","isZero","add","subtract","multiply","divide","pow","AccessorNode","ArrayNode","ConstantNode","FunctionNode","IndexNode","ObjectNode","OperatorNode","ParenthesisNode","SymbolNode"],GS=A(Kz,W0e,r=>{var{typed:e,parse:t,equal:n,isZero:i,add:a,subtract:o,multiply:s,divide:l,pow:u,AccessorNode:c,ArrayNode:d,ConstantNode:f,FunctionNode:m,IndexNode:p,ObjectNode:h,OperatorNode:v,ParenthesisNode:y,SymbolNode:S}=r,x=new f(0),_=new f(1),w=new f(!0),b=new f(!1);function C(T){return wr(T)&&["and","not","or"].includes(T.op)}var{hasProperty:E,isCommutative:D}=sd({FunctionNode:m,OperatorNode:v,SymbolNode:S});function M(T){var I=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},B=I?I.context:void 0;if(E(T,"trivial",B)){if(di(T)&&T.args.length===1)return M(T.args[0],I);var V=!1,L=0;if(T.forEach(le=>{++L,L===1&&(V=M(le,I))}),L===1)return V}var k=T;if(di(k)){var O=WO(k.name);if(O){if(k.args.length>2&&E(k,"associative",B))for(;k.args.length>2;){var Y=k.args.pop(),P=k.args.pop();k.args.push(new v(O,k.name,[Y,P]))}k=new v(O,k.name,k.args)}else return new m(M(k.fn),k.args.map(le=>M(le,I)))}if(wr(k)&&k.isUnary()){var ae=M(k.args[0],I);if(k.op==="~"&&wr(ae)&&ae.isUnary()&&ae.op==="~"||k.op==="not"&&wr(ae)&&ae.isUnary()&&ae.op==="not"&&C(ae.args[0]))return ae.args[0];var se=!0;if(k.op==="-"&&wr(ae)&&(ae.isBinary()&&ae.fn==="subtract"&&(k=new v("-","subtract",[ae.args[1],ae.args[0]]),se=!1),ae.isUnary()&&ae.op==="-"))return ae.args[0];if(se)return new v(k.op,k.fn,[ae])}if(wr(k)&&k.isBinary()){var te=M(k.args[0],I),W=M(k.args[1],I);if(k.op==="+"){if(It(te)&&i(te.value))return W;if(It(W)&&i(W.value))return te;wr(W)&&W.isUnary()&&W.op==="-"&&(W=W.args[0],k=new v("-","subtract",[te,W]))}if(k.op==="-")return wr(W)&&W.isUnary()&&W.op==="-"?M(new v("+","add",[te,W.args[0]]),I):It(te)&&i(te.value)?M(new v("-","unaryMinus",[W])):It(W)&&i(W.value)?te:new v(k.op,k.fn,[te,W]);if(k.op==="*"){if(It(te)){if(i(te.value))return x;if(n(te.value,1))return W}if(It(W)){if(i(W.value))return x;if(n(W.value,1))return te;if(D(k,B))return new v(k.op,k.fn,[W,te],k.implicit)}return new v(k.op,k.fn,[te,W],k.implicit)}if(k.op==="/")return It(te)&&i(te.value)?x:It(W)&&n(W.value,1)?te:new v(k.op,k.fn,[te,W]);if(k.op==="^"&&It(W)){if(i(W.value))return _;if(n(W.value,1))return te}if(k.op==="and"){if(It(te))if(te.value){if(C(W))return W;if(It(W))return W.value?w:b}else return b;if(It(W))if(W.value){if(C(te))return te}else return b}if(k.op==="or"){if(It(te)){if(te.value)return w;if(C(W))return W}if(It(W)){if(W.value)return w;if(C(te))return te}}return new v(k.op,k.fn,[te,W])}if(wr(k))return new v(k.op,k.fn,k.args.map(le=>M(le,I)));if(jn(k))return new d(k.items.map(le=>M(le,I)));if(Hi(k))return new c(M(k.object,I),M(k.index,I));if(ha(k))return new p(k.dimensions.map(le=>M(le,I)));if(el(k)){var ue={};for(var we in k.properties)ue[we]=M(k.properties[we],I);return new h(ue)}return k}return e(Kz,{Node:M,"Node,Object":M})});var G0e="resolve",Y0e=["typed","parse","ConstantNode","FunctionNode","OperatorNode","ParenthesisNode"],YS=A(G0e,Y0e,r=>{var{typed:e,parse:t,ConstantNode:n,FunctionNode:i,OperatorNode:a,ParenthesisNode:o}=r;function s(l,u){var c=arguments.length>2&&arguments[2]!==void 0?arguments[2]:new Set;if(!u)return l;if(pr(l)){if(c.has(l.name)){var d=Array.from(c).join(", ");throw new ReferenceError("recursive loop of variable definitions among {".concat(d,"}"))}var f=u.get(l.name);if(Rt(f)){var m=new Set(c);return m.add(l.name),s(f,u,m)}else return typeof f=="number"?t(String(f)):f!==void 0?new n(f):l}else if(wr(l)){var p=l.args.map(function(v){return s(v,u,c)});return new a(l.op,l.fn,p,l.implicit)}else{if($n(l))return new o(s(l.content,u,c));if(di(l)){var h=l.args.map(function(v){return s(v,u,c)});return new i(l.name,h)}}return l.map(v=>s(v,u,c))}return e("resolve",{Node:s,"Node, Map | null | undefined":s,"Node, Object":(l,u)=>s(l,Jo(u)),"Array | Matrix":e.referToSelf(l=>u=>u.map(c=>l(c))),"Array | Matrix, null | undefined":e.referToSelf(l=>u=>u.map(c=>l(c))),"Array, Object":e.referTo("Array,Map",l=>(u,c)=>l(u,Jo(c))),"Matrix, Object":e.referTo("Matrix,Map",l=>(u,c)=>l(u,Jo(c))),"Array | Matrix, Map":e.referToSelf(l=>(u,c)=>u.map(d=>l(d,c)))})});var Jz="symbolicEqual",Z0e=["parse","simplify","typed","OperatorNode"],ZS=A(Jz,Z0e,r=>{var{parse:e,simplify:t,typed:n,OperatorNode:i}=r;function a(o,s){var l=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},u=new i("-","subtract",[o,s]),c=t(u,{},l);return It(c)&&!c.value}return n(Jz,{"Node, Node":a,"Node, Node, Object":a})});var Qz="derivative",X0e=["typed","config","parse","simplify","equal","isZero","numeric","ConstantNode","FunctionNode","OperatorNode","ParenthesisNode","SymbolNode"],XS=A(Qz,X0e,r=>{var{typed:e,config:t,parse:n,simplify:i,equal:a,isZero:o,numeric:s,ConstantNode:l,FunctionNode:u,OperatorNode:c,ParenthesisNode:d,SymbolNode:f}=r;function m(_,w){var b=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{simplify:!0},C=new Map,E=w.name;function D(T){var I=C.get(T);if(I!==void 0)return I;var B=y(D,T,E);return C.set(T,B),B}var M=S(_,D);return b.simplify?i(M):M}function p(_){var w=n(_);if(!w.isSymbolNode)throw new TypeError("Invalid variable. "+"Cannot parse ".concat(JSON.stringify(_)," into a variable in function derivative"));return w}var h=e(Qz,{"Node, SymbolNode":m,"Node, SymbolNode, Object":m,"Node, string":(_,w)=>m(_,p(w)),"Node, string, Object":(_,w,b)=>m(_,p(w),b)});h._simplify=!0,h.toTex=function(_){return v.apply(null,_.args)};var v=e("_derivTex",{"Node, SymbolNode":function(w,b){return It(w)&&zt(w.value)==="string"?v(n(w.value).toString(),b.toString(),1):v(w.toTex(),b.toString(),1)},"Node, ConstantNode":function(w,b){if(zt(b.value)==="string")return v(w,n(b.value));throw new Error("The second parameter to 'derivative' is a non-string constant")},"Node, SymbolNode, ConstantNode":function(w,b,C){return v(w.toString(),b.name,C.value)},"string, string, number":function(w,b,C){var E;return C===1?E="{d\\over d"+b+"}":E="{d^{"+C+"}\\over d"+b+"^{"+C+"}}",E+"\\left[".concat(w,"\\right]")}}),y=e("_isConst",{"function, ConstantNode, string":function(){return!0},"function, SymbolNode, string":function(w,b,C){return b.name!==C},"function, ParenthesisNode, string":function(w,b,C){return w(b.content,C)},"function, FunctionAssignmentNode, string":function(w,b,C){return b.params.includes(C)?w(b.expr,C):!0},"function, FunctionNode | OperatorNode, string":function(w,b,C){return b.args.every(E=>w(E,C))}}),S=e("_derivative",{"ConstantNode, function":function(){return x(0)},"SymbolNode, function":function(w,b){return b(w)?x(0):x(1)},"ParenthesisNode, function":function(w,b){return new d(S(w.content,b))},"FunctionAssignmentNode, function":function(w,b){return b(w)?x(0):S(w.expr,b)},"FunctionNode, function":function(w,b){if(b(w))return x(0);var C=w.args[0],E,D=!1,M=!1,T;switch(w.name){case"cbrt":D=!0,T=new c("*","multiply",[x(3),new c("^","pow",[C,new c("/","divide",[x(2),x(3)])])]);break;case"sqrt":case"nthRoot":if(w.args.length===1)D=!0,T=new c("*","multiply",[x(2),new u("sqrt",[C])]);else if(w.args.length===2)return E=new c("/","divide",[x(1),w.args[1]]),S(new c("^","pow",[C,E]),b);break;case"log10":E=x(10);case"log":if(!E&&w.args.length===1)T=C.clone(),D=!0;else if(w.args.length===1&&E||w.args.length===2&&b(w.args[1]))T=new c("*","multiply",[C.clone(),new u("log",[E||w.args[1]])]),D=!0;else if(w.args.length===2)return S(new c("/","divide",[new u("log",[C]),new u("log",[w.args[1]])]),b);break;case"pow":if(w.args.length===2)return S(new c("^","pow",[C,w.args[1]]),b);break;case"exp":T=new u("exp",[C.clone()]);break;case"sin":T=new u("cos",[C.clone()]);break;case"cos":T=new c("-","unaryMinus",[new u("sin",[C.clone()])]);break;case"tan":T=new c("^","pow",[new u("sec",[C.clone()]),x(2)]);break;case"sec":T=new c("*","multiply",[w,new u("tan",[C.clone()])]);break;case"csc":M=!0,T=new c("*","multiply",[w,new u("cot",[C.clone()])]);break;case"cot":M=!0,T=new c("^","pow",[new u("csc",[C.clone()]),x(2)]);break;case"asin":D=!0,T=new u("sqrt",[new c("-","subtract",[x(1),new c("^","pow",[C.clone(),x(2)])])]);break;case"acos":D=!0,M=!0,T=new u("sqrt",[new c("-","subtract",[x(1),new c("^","pow",[C.clone(),x(2)])])]);break;case"atan":D=!0,T=new c("+","add",[new c("^","pow",[C.clone(),x(2)]),x(1)]);break;case"asec":D=!0,T=new c("*","multiply",[new u("abs",[C.clone()]),new u("sqrt",[new c("-","subtract",[new c("^","pow",[C.clone(),x(2)]),x(1)])])]);break;case"acsc":D=!0,M=!0,T=new c("*","multiply",[new u("abs",[C.clone()]),new u("sqrt",[new c("-","subtract",[new c("^","pow",[C.clone(),x(2)]),x(1)])])]);break;case"acot":D=!0,M=!0,T=new c("+","add",[new c("^","pow",[C.clone(),x(2)]),x(1)]);break;case"sinh":T=new u("cosh",[C.clone()]);break;case"cosh":T=new u("sinh",[C.clone()]);break;case"tanh":T=new c("^","pow",[new u("sech",[C.clone()]),x(2)]);break;case"sech":M=!0,T=new c("*","multiply",[w,new u("tanh",[C.clone()])]);break;case"csch":M=!0,T=new c("*","multiply",[w,new u("coth",[C.clone()])]);break;case"coth":M=!0,T=new c("^","pow",[new u("csch",[C.clone()]),x(2)]);break;case"asinh":D=!0,T=new u("sqrt",[new c("+","add",[new c("^","pow",[C.clone(),x(2)]),x(1)])]);break;case"acosh":D=!0,T=new u("sqrt",[new c("-","subtract",[new c("^","pow",[C.clone(),x(2)]),x(1)])]);break;case"atanh":D=!0,T=new c("-","subtract",[x(1),new c("^","pow",[C.clone(),x(2)])]);break;case"asech":D=!0,M=!0,T=new c("*","multiply",[C.clone(),new u("sqrt",[new c("-","subtract",[x(1),new c("^","pow",[C.clone(),x(2)])])])]);break;case"acsch":D=!0,M=!0,T=new c("*","multiply",[new u("abs",[C.clone()]),new u("sqrt",[new c("+","add",[new c("^","pow",[C.clone(),x(2)]),x(1)])])]);break;case"acoth":D=!0,M=!0,T=new c("-","subtract",[x(1),new c("^","pow",[C.clone(),x(2)])]);break;case"abs":T=new c("/","divide",[new u(new f("abs"),[C.clone()]),C.clone()]);break;case"gamma":default:throw new Error('Cannot process function "'+w.name+'" in derivative: the function is not supported, undefined, or the number of arguments passed to it are not supported')}var I,B;D?(I="/",B="divide"):(I="*",B="multiply");var V=S(C,b);return M&&(V=new c("-","unaryMinus",[V])),new c(I,B,[V,T])},"OperatorNode, function":function(w,b){if(b(w))return x(0);if(w.op==="+")return new c(w.op,w.fn,w.args.map(function(k){return S(k,b)}));if(w.op==="-"){if(w.isUnary())return new c(w.op,w.fn,[S(w.args[0],b)]);if(w.isBinary())return new c(w.op,w.fn,[S(w.args[0],b),S(w.args[1],b)])}if(w.op==="*"){var C=w.args.filter(function(k){return b(k)});if(C.length>0){var E=w.args.filter(function(k){return!b(k)}),D=E.length===1?E[0]:new c("*","multiply",E),M=C.concat(S(D,b));return new c("*","multiply",M)}return new c("+","add",w.args.map(function(k){return new c("*","multiply",w.args.map(function(O){return O===k?S(O,b):O.clone()}))}))}if(w.op==="/"&&w.isBinary()){var T=w.args[0],I=w.args[1];return b(I)?new c("/","divide",[S(T,b),I]):b(T)?new c("*","multiply",[new c("-","unaryMinus",[T]),new c("/","divide",[S(I,b),new c("^","pow",[I.clone(),x(2)])])]):new c("/","divide",[new c("-","subtract",[new c("*","multiply",[S(T,b),I.clone()]),new c("*","multiply",[T.clone(),S(I,b)])]),new c("^","pow",[I.clone(),x(2)])])}if(w.op==="^"&&w.isBinary()){var B=w.args[0],V=w.args[1];if(b(B))return It(B)&&(o(B.value)||a(B.value,1))?x(0):new c("*","multiply",[w,new c("*","multiply",[new u("log",[B.clone()]),S(V.clone(),b)])]);if(b(V)){if(It(V)){if(o(V.value))return x(0);if(a(V.value,1))return S(B,b)}var L=new c("^","pow",[B.clone(),new c("-","subtract",[V,x(1)])]);return new c("*","multiply",[V.clone(),new c("*","multiply",[S(B,b),L])])}return new c("*","multiply",[new c("^","pow",[B.clone(),V.clone()]),new c("+","add",[new c("*","multiply",[S(B,b),new c("/","divide",[V.clone(),B.clone()])]),new c("*","multiply",[S(V,b),new u("log",[B.clone()])])])])}throw new Error('Cannot process operator "'+w.op+'" in derivative: the operator is not supported, undefined, or the number of arguments passed to it are not supported')}});function x(_,w){return new l(s(_,w||Jn(String(_),t)))}return h});var eV="rationalize",K0e=["config","typed","equal","isZero","add","subtract","multiply","divide","pow","parse","simplifyConstant","simplifyCore","simplify","?bignumber","?fraction","mathWithTransform","matrix","AccessorNode","ArrayNode","ConstantNode","FunctionNode","IndexNode","ObjectNode","OperatorNode","SymbolNode","ParenthesisNode"],KS=A(eV,K0e,r=>{var{config:e,typed:t,equal:n,isZero:i,add:a,subtract:o,multiply:s,divide:l,pow:u,parse:c,simplifyConstant:d,simplifyCore:f,simplify:m,fraction:p,bignumber:h,mathWithTransform:v,matrix:y,AccessorNode:S,ArrayNode:x,ConstantNode:_,FunctionNode:w,IndexNode:b,ObjectNode:C,OperatorNode:E,SymbolNode:D,ParenthesisNode:M}=r;function T(k){var O=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},Y=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,P=B(),ae=I(k,O,!0,P.firstRules),se=ae.variables.length,te={exactFractions:!1},W={exactFractions:!0};if(k=ae.expression,se>=1){k=V(k);var ue,we,le=!0,ge=!1;k=m(k,P.firstRules,{},te);for(var J;we=le?P.distrDivRules:P.sucDivRules,k=m(k,we,{},W),le=!le,J=k.toString(),J!==ue;)ge=!0,ue=J;ge&&(k=m(k,P.firstRulesAgain,{},te)),k=m(k,P.finalRules,{},te)}var X=[],ne={};return k.type==="OperatorNode"&&k.isBinary()&&k.op==="/"?(se===1&&(k.args[0]=L(k.args[0],X),k.args[1]=L(k.args[1])),Y&&(ne.numerator=k.args[0],ne.denominator=k.args[1])):(se===1&&(k=L(k,X)),Y&&(ne.numerator=k,ne.denominator=null)),Y?(ne.coefficients=X,ne.variables=ae.variables,ne.expression=k,ne):k}return t(eV,{Node:T,"Node, boolean":(k,O)=>T(k,{},O),"Node, Object":T,"Node, Object, boolean":T});function I(k,O,Y,P){var ae=[],se=m(k,P,O,{exactFractions:!1});Y=!!Y;var te="+-*"+(Y?"/":"");ue(se);var W={};return W.expression=se,W.variables=ae,W;function ue(we){var le=we.type;if(le==="FunctionNode")throw new Error("There is an unsolved function call");if(le==="OperatorNode")if(we.op==="^"){if(we.args[1].type!=="ConstantNode"||!Ye(parseFloat(we.args[1].value)))throw new Error("There is a non-integer exponent");ue(we.args[0])}else{if(!te.includes(we.op))throw new Error("Operator "+we.op+" invalid in polynomial expression");for(var ge=0;ge<we.args.length;ge++)ue(we.args[ge])}else if(le==="SymbolNode"){var J=we.name,X=ae.indexOf(J);X===-1&&ae.push(J)}else if(le==="ParenthesisNode")ue(we.content);else if(le!=="ConstantNode")throw new Error("type "+le+" is not allowed in polynomial expression")}}function B(){var k=[f,{l:"n+n",r:"2*n"},{l:"n+-n",r:"0"},d,{l:"n*(n1^-1)",r:"n/n1"},{l:"n*n1^-n2",r:"n/n1^n2"},{l:"n1^-1",r:"1/n1"},{l:"n*(n1/n2)",r:"(n*n1)/n2"},{l:"1*n",r:"n"}],O=[{l:"(-n1)/(-n2)",r:"n1/n2"},{l:"(-n1)*(-n2)",r:"n1*n2"},{l:"n1--n2",r:"n1+n2"},{l:"n1-n2",r:"n1+(-n2)"},{l:"(n1+n2)*n3",r:"(n1*n3 + n2*n3)"},{l:"n1*(n2+n3)",r:"(n1*n2+n1*n3)"},{l:"c1*n + c2*n",r:"(c1+c2)*n"},{l:"c1*n + n",r:"(c1+1)*n"},{l:"c1*n - c2*n",r:"(c1-c2)*n"},{l:"c1*n - n",r:"(c1-1)*n"},{l:"v/c",r:"(1/c)*v"},{l:"v/-c",r:"-(1/c)*v"},{l:"-v*-c",r:"c*v"},{l:"-v*c",r:"-c*v"},{l:"v*-c",r:"-c*v"},{l:"v*c",r:"c*v"},{l:"-(-n1*n2)",r:"(n1*n2)"},{l:"-(n1*n2)",r:"(-n1*n2)"},{l:"-(-n1+n2)",r:"(n1-n2)"},{l:"-(n1+n2)",r:"(-n1-n2)"},{l:"(n1^n2)^n3",r:"(n1^(n2*n3))"},{l:"-(-n1/n2)",r:"(n1/n2)"},{l:"-(n1/n2)",r:"(-n1/n2)"}],Y=[{l:"(n1/n2 + n3/n4)",r:"((n1*n4 + n3*n2)/(n2*n4))"},{l:"(n1/n2 + n3)",r:"((n1 + n3*n2)/n2)"},{l:"(n1 + n2/n3)",r:"((n1*n3 + n2)/n3)"}],P=[{l:"(n1/(n2/n3))",r:"((n1*n3)/n2)"},{l:"(n1/n2/n3)",r:"(n1/(n2*n3))"}],ae={};return ae.firstRules=k.concat(O,P),ae.distrDivRules=Y,ae.sucDivRules=P,ae.firstRulesAgain=k.concat(O),ae.finalRules=[f,{l:"n*-n",r:"-n^2"},{l:"n*n",r:"n^2"},d,{l:"n*-n^n1",r:"-n^(n1+1)"},{l:"n*n^n1",r:"n^(n1+1)"},{l:"n^n1*-n^n2",r:"-n^(n1+n2)"},{l:"n^n1*n^n2",r:"n^(n1+n2)"},{l:"n^n1*-n",r:"-n^(n1+1)"},{l:"n^n1*n",r:"n^(n1+1)"},{l:"n^n1/-n",r:"-n^(n1-1)"},{l:"n^n1/n",r:"n^(n1-1)"},{l:"n/-n^n1",r:"-n^(1-n1)"},{l:"n/n^n1",r:"n^(1-n1)"},{l:"n^n1/-n^n2",r:"n^(n1-n2)"},{l:"n^n1/n^n2",r:"n^(n1-n2)"},{l:"n1+(-n2*n3)",r:"n1-n2*n3"},{l:"v*(-c)",r:"-c*v"},{l:"n1+-n2",r:"n1-n2"},{l:"v*c",r:"c*v"},{l:"(n1^n2)^n3",r:"(n1^(n2*n3))"}],ae}function V(k,O,Y){var P=k.type,ae=arguments.length>1;if(P==="OperatorNode"&&k.isBinary()){var se=!1,te;if(k.op==="^"&&(k.args[0].type==="ParenthesisNode"||k.args[0].type==="OperatorNode")&&k.args[1].type==="ConstantNode"&&(te=parseFloat(k.args[1].value),se=te>=2&&Ye(te)),se){if(te>2){var W=k.args[0],ue=new E("^","pow",[k.args[0].cloneDeep(),new _(te-1)]);k=new E("*","multiply",[W,ue])}else k=new E("*","multiply",[k.args[0],k.args[0].cloneDeep()]);ae&&(Y==="content"?O.content=k:O.args[Y]=k)}}if(P==="ParenthesisNode")V(k.content,k,"content");else if(P!=="ConstantNode"&&P!=="SymbolNode")for(var we=0;we<k.args.length;we++)V(k.args[we],k,we);if(!ae)return k}function L(k,O){O===void 0&&(O=[]),O[0]=0;var Y={};Y.cte=1,Y.oper="+",Y.fire="";var P=0,ae="";J(k,null,Y),P=O.length-1;for(var se=!0,te,W=P;W>=0;W--)if(O[W]!==0){var ue=new _(se?O[W]:Math.abs(O[W])),we=O[W]<0?"-":"+";if(W>0){var le=new D(ae);if(W>1){var ge=new _(W);le=new E("^","pow",[le,ge])}O[W]===-1&&se?ue=new E("-","unaryMinus",[le]):Math.abs(O[W])===1?ue=le:ue=new E("*","multiply",[ue,le])}se?te=ue:we==="+"?te=new E("+","add",[te,ue]):te=new E("-","subtract",[te,ue]),se=!1}if(se)return new _(0);return te;function J(X,ne,he){var de=X.type;if(de==="FunctionNode")throw new Error("There is an unsolved function call");if(de==="OperatorNode"){if(!"+-*^".includes(X.op))throw new Error("Operator "+X.op+" invalid");if(ne!==null){if((X.fn==="unaryMinus"||X.fn==="pow")&&ne.fn!=="add"&&ne.fn!=="subtract"&&ne.fn!=="multiply")throw new Error("Invalid "+X.op+" placing");if((X.fn==="subtract"||X.fn==="add"||X.fn==="multiply")&&ne.fn!=="add"&&ne.fn!=="subtract")throw new Error("Invalid "+X.op+" placing");if((X.fn==="subtract"||X.fn==="add"||X.fn==="unaryMinus")&&he.noFil!==0)throw new Error("Invalid "+X.op+" placing")}(X.op==="^"||X.op==="*")&&(he.fire=X.op);for(var _e=0;_e<X.args.length;_e++)X.fn==="unaryMinus"&&(he.oper="-"),(X.op==="+"||X.fn==="subtract")&&(he.fire="",he.cte=1,he.oper=_e===0?"+":X.op),he.noFil=_e,J(X.args[_e],X,he)}else if(de==="SymbolNode"){if(X.name!==ae&&ae!=="")throw new Error("There is more than one variable");if(ae=X.name,ne===null){O[1]=1;return}if(ne.op==="^"&&he.noFil!==0)throw new Error("In power the variable should be the first parameter");if(ne.op==="*"&&he.noFil!==1)throw new Error("In multiply the variable should be the second parameter");(he.fire===""||he.fire==="*")&&(P<1&&(O[1]=0),O[1]+=he.cte*(he.oper==="+"?1:-1),P=Math.max(1,P))}else if(de==="ConstantNode"){var be=parseFloat(X.value);if(ne===null){O[0]=be;return}if(ne.op==="^"){if(he.noFil!==1)throw new Error("Constant cannot be powered");if(!Ye(be)||be<=0)throw new Error("Non-integer exponent is not allowed");for(var H=P+1;H<be;H++)O[H]=0;be>P&&(O[be]=0),O[be]+=he.cte*(he.oper==="+"?1:-1),P=Math.max(be,P);return}he.cte=be,he.fire===""&&(O[0]+=he.cte*(he.oper==="+"?1:-1))}else throw new Error("Type "+de+" is not allowed")}}});var tV="zpk2tf",J0e=["typed","add","multiply","Complex","number"],JS=A(tV,J0e,r=>{var{typed:e,add:t,multiply:n,Complex:i,number:a}=r;return e(tV,{"Array,Array,number":function(u,c,d){return o(u,c,d)},"Array,Array":function(u,c){return o(u,c,1)},"Matrix,Matrix,number":function(u,c,d){return o(u.valueOf(),c.valueOf(),d)},"Matrix,Matrix":function(u,c){return o(u.valueOf(),c.valueOf(),1)}});function o(l,u,c){l.some(S=>S.type==="BigNumber")&&(l=l.map(S=>a(S))),u.some(S=>S.type==="BigNumber")&&(u=u.map(S=>a(S)));for(var d=[i(1,0)],f=[i(1,0)],m=0;m<l.length;m++){var p=l[m];typeof p=="number"&&(p=i(p,0)),d=s(d,[i(1,0),i(-p.re,-p.im)])}for(var h=0;h<u.length;h++){var v=u[h];typeof v=="number"&&(v=i(v,0)),f=s(f,[i(1,0),i(-v.re,-v.im)])}for(var y=0;y<d.length;y++)d[y]=n(d[y],c);return[d,f]}function s(l,u){for(var c=[],d=0;d<l.length+u.length-1;d++){c[d]=i(0,0);for(var f=0;f<l.length;f++)d-f>=0&&d-f<u.length&&(c[d]=t(c[d],n(l[f],u[d-f])))}return c}});var rV="freqz",Q0e=["typed","add","multiply","Complex","divide","matrix"],QS=A(rV,Q0e,r=>{var{typed:e,add:t,multiply:n,Complex:i,divide:a,matrix:o}=r;return e(rV,{"Array, Array":function(c,d){var f=l(512);return s(c,d,f)},"Array, Array, Array":function(c,d,f){return s(c,d,f)},"Array, Array, number":function(c,d,f){if(f<0)throw new Error("w must be a positive number");var m=l(f);return s(c,d,m)},"Matrix, Matrix":function(c,d){var f=l(512),{w:m,h:p}=s(c.valueOf(),d.valueOf(),f);return{w:o(m),h:o(p)}},"Matrix, Matrix, Matrix":function(c,d,f){var{h:m}=s(c.valueOf(),d.valueOf(),f.valueOf());return{h:o(m),w:o(f)}},"Matrix, Matrix, number":function(c,d,f){if(f<0)throw new Error("w must be a positive number");var m=l(f),{h:p}=s(c.valueOf(),d.valueOf(),m);return{h:o(p),w:o(m)}}});function s(u,c,d){for(var f=[],m=[],p=0;p<d.length;p++){for(var h=i(0,0),v=i(0,0),y=0;y<u.length;y++)h=t(h,n(u[y],i(Math.cos(-y*d[p]),Math.sin(-y*d[p]))));for(var S=0;S<c.length;S++)v=t(v,n(c[S],i(Math.cos(-S*d[p]),Math.sin(-S*d[p]))));f.push(h),m.push(v)}for(var x=[],_=0;_<f.length;_++)x.push(a(f[_],m[_]));return{h:x,w:d}}function l(u){for(var c=[],d=0;d<u;d++)c.push(d/u*Math.PI);return c}});var eme="reviver",tme=["classes"],eD=A(eme,tme,r=>{var{classes:e}=r;return function(n,i){var a=e[i&&i.mathjs];return a&&typeof a.fromJSON=="function"?a.fromJSON(i):i}});var rme="replacer",nme=[],tD=A(rme,nme,()=>function(e,t){return typeof t=="number"&&(!isFinite(t)||isNaN(t))?{mathjs:"number",value:String(t)}:typeof t=="bigint"?{mathjs:"bigint",value:String(t)}:t});var nV="14.4.0";var rD=A("true",[],()=>!0),nD=A("false",[],()=>!1),iD=A("null",[],()=>null),aD=Yi("Infinity",["config","?BigNumber"],r=>{var{config:e,BigNumber:t}=r;return e.number==="BigNumber"?new t(1/0):1/0}),oD=Yi("NaN",["config","?BigNumber"],r=>{var{config:e,BigNumber:t}=r;return e.number==="BigNumber"?new t(NaN):NaN}),sD=Yi("pi",["config","?BigNumber"],r=>{var{config:e,BigNumber:t}=r;return e.number==="BigNumber"?sm(t):BT}),lD=Yi("tau",["config","?BigNumber"],r=>{var{config:e,BigNumber:t}=r;return e.number==="BigNumber"?nO(t):LT}),uD=Yi("e",["config","?BigNumber"],r=>{var{config:e,BigNumber:t}=r;return e.number==="BigNumber"?tO(t):zT}),cD=Yi("phi",["config","?BigNumber"],r=>{var{config:e,BigNumber:t}=r;return e.number==="BigNumber"?rO(t):VT}),dD=Yi("LN2",["config","?BigNumber"],r=>{var{config:e,BigNumber:t}=r;return e.number==="BigNumber"?new t(2).ln():Math.LN2}),fD=Yi("LN10",["config","?BigNumber"],r=>{var{config:e,BigNumber:t}=r;return e.number==="BigNumber"?new t(10).ln():Math.LN10}),mD=Yi("LOG2E",["config","?BigNumber"],r=>{var{config:e,BigNumber:t}=r;return e.number==="BigNumber"?new t(1).div(new t(2).ln()):Math.LOG2E}),hD=Yi("LOG10E",["config","?BigNumber"],r=>{var{config:e,BigNumber:t}=r;return e.number==="BigNumber"?new t(1).div(new t(10).ln()):Math.LOG10E}),pD=Yi("SQRT1_2",["config","?BigNumber"],r=>{var{config:e,BigNumber:t}=r;return e.number==="BigNumber"?new t("0.5").sqrt():Math.SQRT1_2}),gD=Yi("SQRT2",["config","?BigNumber"],r=>{var{config:e,BigNumber:t}=r;return e.number==="BigNumber"?new t(2).sqrt():Math.SQRT2}),vD=Yi("i",["Complex"],r=>{var{Complex:e}=r;return e.I});var xD=A("version",[],()=>nV);function Yi(r,e,t){return A(r,e,t,{recreateOnConfigChange:!0})}var yD=Pt("speedOfLight","299792458","m s^-1"),bD=Pt("gravitationConstant","6.67430e-11","m^3 kg^-1 s^-2"),wD=Pt("planckConstant","6.62607015e-34","J s"),_D=Pt("reducedPlanckConstant","1.0545718176461565e-34","J s"),SD=Pt("magneticConstant","1.25663706212e-6","N A^-2"),DD=Pt("electricConstant","8.8541878128e-12","F m^-1"),CD=Pt("vacuumImpedance","376.730313667","ohm"),ED=Pt("coulomb","8.987551792261171e9","N m^2 C^-2"),AD=Pt("elementaryCharge","1.602176634e-19","C"),MD=Pt("bohrMagneton","9.2740100783e-24","J T^-1"),ND=Pt("conductanceQuantum","7.748091729863649e-5","S"),TD=Pt("inverseConductanceQuantum","12906.403729652257","ohm"),FD=Pt("magneticFluxQuantum","2.0678338484619295e-15","Wb"),ID=Pt("nuclearMagneton","5.0507837461e-27","J T^-1"),OD=Pt("klitzing","25812.807459304513","ohm");var RD=Pt("bohrRadius","5.29177210903e-11","m"),kD=Pt("classicalElectronRadius","2.8179403262e-15","m"),PD=Pt("electronMass","9.1093837015e-31","kg"),BD=Pt("fermiCoupling","1.1663787e-5","GeV^-2"),LD=yv("fineStructure",.0072973525693),zD=Pt("hartreeEnergy","4.3597447222071e-18","J"),VD=Pt("protonMass","1.67262192369e-27","kg"),UD=Pt("deuteronMass","3.3435830926e-27","kg"),qD=Pt("neutronMass","1.6749271613e-27","kg"),jD=Pt("quantumOfCirculation","3.6369475516e-4","m^2 s^-1"),$D=Pt("rydberg","10973731.568160","m^-1"),HD=Pt("thomsonCrossSection","6.6524587321e-29","m^2"),WD=yv("weakMixingAngle",.2229),GD=yv("efimovFactor",22.7),YD=Pt("atomicMass","1.66053906660e-27","kg"),ZD=Pt("avogadro","6.02214076e23","mol^-1"),XD=Pt("boltzmann","1.380649e-23","J K^-1"),KD=Pt("faraday","96485.33212331001","C mol^-1"),JD=Pt("firstRadiation","3.7417718521927573e-16","W m^2"),QD=Pt("loschmidt","2.686780111798444e25","m^-3"),eC=Pt("gasConstant","8.31446261815324","J K^-1 mol^-1"),tC=Pt("molarPlanckConstant","3.990312712893431e-10","J s mol^-1"),rC=Pt("molarVolume","0.022413969545014137","m^3 mol^-1"),nC=yv("sackurTetrode",-1.16487052358),iC=Pt("secondRadiation","0.014387768775039337","m K"),aC=Pt("stefanBoltzmann","5.67037441918443e-8","W m^-2 K^-4"),oC=Pt("wienDisplacement","2.897771955e-3","m K"),sC=Pt("molarMass","0.99999999965e-3","kg mol^-1"),lC=Pt("molarMassC12","11.9999999958e-3","kg mol^-1"),uC=Pt("gravity","9.80665","m s^-2"),cC=Pt("planckLength","1.616255e-35","m"),dC=Pt("planckMass","2.176435e-8","kg"),fC=Pt("planckTime","5.391245e-44","s"),mC=Pt("planckCharge","1.87554603778e-18","C"),hC=Pt("planckTemperature","1.416785e+32","K");function Pt(r,e,t){var n=["config","Unit","BigNumber"];return A(r,n,i=>{var{config:a,Unit:o,BigNumber:s}=i,l=a.number==="BigNumber"?new s(e):parseFloat(e),u=new o(l,t);return u.fixPrefix=!0,u})}function yv(r,e){var t=["config","BigNumber"];return A(r,t,n=>{var{config:i,BigNumber:a}=n;return i.number==="BigNumber"?new a(e):e})}In();function iV(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(r,i).enumerable})),t.push.apply(t,n)}return t}function ime(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?iV(Object(t),!0).forEach(function(n){Jt(r,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):iV(Object(t)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(t,n))})}return r}var ame="mapSlices",ome=["typed","isInteger"],pC=A(ame,ome,r=>{var{typed:e,isInteger:t}=r,n=Kc({typed:e,isInteger:t});return e("mapSlices",{"...any":function(a){var o=a[1];ft(o)?a[1]=o-1:st(o)&&(a[1]=o.minus(1));try{return n.apply(null,a)}catch(s){throw xr(s)}}})},ime({isTransformFunction:!0},Kc.meta));var sme="column",lme=["typed","Index","matrix","range"],gC=A(sme,lme,r=>{var{typed:e,Index:t,matrix:n,range:i}=r,a=Z0({typed:e,Index:t,matrix:n,range:i});return e("column",{"...any":function(s){var l=s.length-1,u=s[l];ft(u)&&(s[l]=u-1);try{return a.apply(null,s)}catch(c){throw xr(c)}}})},{isTransformFunction:!0});function ld(r,e,t){var n=r.filter(function(l){return pr(l)&&!(l.name in e)&&!t.has(l.name)})[0];if(!n)throw new Error('No undefined variable found in inline expression "'+r+'"');var i=n.name,a=new Map,o=new Bc(t,a,new Set([i])),s=r.compile();return function(u){return a.set(i,u),s.evaluate(o)}}var ume="transformCallback",cme=["typed"],ud=A(ume,cme,r=>{var{typed:e}=r;return function(n,i){return e.isTypedFunction(n)?t(n,i):aV(n,n.length,i)};function t(n,i){var a=Object.fromEntries(Object.entries(n.signatures).map(o=>{var[s,l]=o,u=s.split(",").length;return e.isTypedFunction(l)?[s,t(l,i)]:[s,aV(l,u,i)]}));return typeof n.name=="string"?e(n.name,a):e(a)}});function aV(r,e,t){return e===t?r:e===t+1?function(){for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];var o=i.slice(0,t),s=oV(i[t]);return r(...o,s)}:e>t+1?function(){for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];var o=i.slice(0,t),s=oV(i[t]),l=i.slice(t+1);return r(...o,s,...l)}:r}function oV(r){return r.map(e=>e+1)}var dme="filter",fme=["typed"],vC=A(dme,fme,r=>{var{typed:e}=r;function t(i,a,o){var s=X0({typed:e}),l=ud({typed:e});if(i.length===0)return s();var u=i[0];if(i.length===1)return s(u);var c=i.length-1,d=i[c];return u&&(u=n(u,o)),d&&(pr(d)||xo(d)?d=n(d,o):d=ld(d,a,o)),s(u,l(d,c))}t.rawArgs=!0;function n(i,a){return i.compile().evaluate(a)}return t},{isTransformFunction:!0});var mme="forEach",hme=["typed"],xC=A(mme,hme,r=>{var{typed:e}=r,t=K0({typed:e}),n=ud({typed:e});function i(o,s,l){if(o.length===0)return t();var u=o[0];if(o.length===1)return t(u);var c=o.length-1,d=o[c];return u&&(u=a(u,l)),d&&(pr(d)||xo(d)?d=a(d,l):d=ld(d,s,l)),t(u,n(d,c))}i.rawArgs=!0;function a(o,s){return o.compile().evaluate(s)}return i},{isTransformFunction:!0});var pme="index",gme=["Index","getMatrixDataType"],yC=A(pme,gme,r=>{var{Index:e,getMatrixDataType:t}=r;return function(){for(var i=[],a=0,o=arguments.length;a<o;a++){var s=arguments[a];if(Lc(s))s.start--,s.end-=s.step>0?0:2;else if(s&&s.isSet===!0)s=s.map(function(u){return u-1});else if(Yt(s)||Je(s))t(s)!=="boolean"&&(s=s.map(function(u){return u-1}));else if(ft(s)||Js(s))s--;else if(st(s))s=s.toNumber()-1;else if(typeof s!="string")throw new TypeError("Dimension must be an Array, Matrix, number, bigint, string, or Range");i[a]=s}var l=new e;return e.apply(l,i),l}},{isTransformFunction:!0});var vme="map",xme=["typed"],bC=A(vme,xme,r=>{var{typed:e}=r,t=J0({typed:e}),n=ud({typed:e});function i(a,o,s){if(a.length===0)return t();if(a.length===1)return t(a[0]);var l=a.length-1,u=a.slice(0,l),c=a[l];return u=u.map(f=>d(f,s)),c&&(pr(c)||xo(c)?c=d(c,s):c=ld(c,o,s)),t(...u,n(c,l));function d(f,m){return f.compile().evaluate(m)}}return i.rawArgs=!0,i},{isTransformFunction:!0});function sV(r){return ft(r)?r-1:st(r)?r.minus(1):r}function lV(r){return ft(r)||st(r)}function ri(r){if(r.length===2&&Jr(r[0])){r=r.slice();var e=r[1];lV(e)&&(r[1]=sV(e))}return r}var yme="max",bme=["typed","config","numeric","larger","isNaN"],wC=A(yme,bme,r=>{var{typed:e,config:t,numeric:n,larger:i,isNaN:a}=r,o=am({typed:e,config:t,numeric:n,larger:i,isNaN:a});return e("max",{"...any":function(l){l=ri(l);try{return o.apply(null,l)}catch(u){throw xr(u)}}})},{isTransformFunction:!0});var wme="mean",_me=["typed","add","divide"],_C=A(wme,_me,r=>{var{typed:e,add:t,divide:n}=r,i=dm({typed:e,add:t,divide:n});return e("mean",{"...any":function(o){o=ri(o);try{return i.apply(null,o)}catch(s){throw xr(s)}}})},{isTransformFunction:!0});var Sme="min",Dme=["typed","config","numeric","smaller","isNaN"],SC=A(Sme,Dme,r=>{var{typed:e,config:t,numeric:n,smaller:i,isNaN:a}=r,o=om({typed:e,config:t,numeric:n,smaller:i,isNaN:a});return e("min",{"...any":function(l){l=ri(l);try{return o.apply(null,l)}catch(u){throw xr(u)}}})},{isTransformFunction:!0});var Cme="range",Eme=["typed","config","?matrix","?bignumber","smaller","smallerEq","larger","largerEq","add","isPositive"],DC=A(Cme,Eme,r=>{var{typed:e,config:t,matrix:n,bignumber:i,smaller:a,smallerEq:o,larger:s,largerEq:l,add:u,isPositive:c}=r,d=em({typed:e,config:t,matrix:n,bignumber:i,smaller:a,smallerEq:o,larger:s,largerEq:l,add:u,isPositive:c});return e("range",{"...any":function(m){var p=m.length-1,h=m[p];return typeof h!="boolean"&&m.push(!0),d.apply(null,m)}})},{isTransformFunction:!0});var Ame="row",Mme=["typed","Index","matrix","range"],CC=A(Ame,Mme,r=>{var{typed:e,Index:t,matrix:n,range:i}=r,a=tm({typed:e,Index:t,matrix:n,range:i});return e("row",{"...any":function(s){var l=s.length-1,u=s[l];ft(u)&&(s[l]=u-1);try{return a.apply(null,s)}catch(c){throw xr(c)}}})},{isTransformFunction:!0});var Nme="subset",Tme=["typed","matrix","zeros","add"],EC=A(Nme,Tme,r=>{var{typed:e,matrix:t,zeros:n,add:i}=r,a=rm({typed:e,matrix:t,zeros:n,add:i});return e("subset",{"...any":function(s){try{return a.apply(null,s)}catch(l){throw xr(l)}}})},{isTransformFunction:!0});var Fme="concat",Ime=["typed","matrix","isInteger"],AC=A(Fme,Ime,r=>{var{typed:e,matrix:t,isInteger:n}=r,i=Y0({typed:e,matrix:t,isInteger:n});return e("concat",{"...any":function(o){var s=o.length-1,l=o[s];ft(l)?o[s]=l-1:st(l)&&(o[s]=l.minus(1));try{return i.apply(null,o)}catch(u){throw xr(u)}}})},{isTransformFunction:!0});var uV="diff",Ome=["typed","matrix","subtract","number","bignumber"],MC=A(uV,Ome,r=>{var{typed:e,matrix:t,subtract:n,number:i,bignumber:a}=r,o=Q0({typed:e,matrix:t,subtract:n,number:i,bignumber:a});return e(uV,{"...any":function(l){l=ri(l);try{return o.apply(null,l)}catch(u){throw xr(u)}}})},{isTransformFunction:!0});var Rme="std",kme=["typed","map","sqrt","variance"],NC=A(Rme,kme,r=>{var{typed:e,map:t,sqrt:n,variance:i}=r,a=hm({typed:e,map:t,sqrt:n,variance:i});return e("std",{"...any":function(s){s=ri(s);try{return a.apply(null,s)}catch(l){throw xr(l)}}})},{isTransformFunction:!0});var cV="sum",Pme=["typed","config","add","numeric"],TC=A(cV,Pme,r=>{var{typed:e,config:t,add:n,numeric:i}=r,a=um({typed:e,config:t,add:n,numeric:i});return e(cV,{"...any":function(s){s=ri(s);try{return a.apply(null,s)}catch(l){throw xr(l)}}})},{isTransformFunction:!0});var Bme="quantileSeq",Lme=["typed","bignumber","add","subtract","divide","multiply","partitionSelect","compare","isInteger","smaller","smallerEq","larger","mapSlices"],FC=A(Bme,Lme,r=>{var{typed:e,bignumber:t,add:n,subtract:i,divide:a,multiply:o,partitionSelect:s,compare:l,isInteger:u,smaller:c,smallerEq:d,larger:f,mapSlices:m}=r,p=mm({typed:e,bignumber:t,add:n,subtract:i,divide:a,multiply:o,partitionSelect:s,compare:l,isInteger:u,smaller:c,smallerEq:d,larger:f,mapSlices:m});return e("quantileSeq",{"Array | Matrix, number | BigNumber":p,"Array | Matrix, number | BigNumber, number":(v,y,S)=>p(v,y,h(S)),"Array | Matrix, number | BigNumber, boolean":p,"Array | Matrix, number | BigNumber, boolean, number":(v,y,S,x)=>p(v,y,S,h(x)),"Array | Matrix, Array | Matrix":p,"Array | Matrix, Array | Matrix, number":(v,y,S)=>p(v,y,h(S)),"Array | Matrix, Array | Matrix, boolean":p,"Array | Matrix, Array | Matrix, boolean, number":(v,y,S,x)=>p(v,y,S,h(x))});function h(v){return ri([[],v])[1]}},{isTransformFunction:!0});var dV="cumsum",zme=["typed","add","unaryPlus"],IC=A(dV,zme,r=>{var{typed:e,add:t,unaryPlus:n}=r,i=cm({typed:e,add:t,unaryPlus:n});return e(dV,{"...any":function(o){if(o.length===2&&Jr(o[0])){var s=o[1];ft(s)?o[1]=s-1:st(s)&&(o[1]=s.minus(1))}try{return i.apply(null,o)}catch(l){throw xr(l)}}})},{isTransformFunction:!0});var fV="variance",Vme=["typed","add","subtract","multiply","divide","mapSlices","isNaN"],OC=A(fV,Vme,r=>{var{typed:e,add:t,subtract:n,multiply:i,divide:a,mapSlices:o,isNaN:s}=r,l=fm({typed:e,add:t,subtract:n,multiply:i,divide:a,mapSlices:o,isNaN:s});return e(fV,{"...any":function(c){c=ri(c);try{return l.apply(null,c)}catch(d){throw xr(d)}}})},{isTransformFunction:!0});var mV="print",Ume=["typed","matrix","zeros","add"],RC=A(mV,Ume,r=>{var{typed:e,matrix:t,zeros:n,add:i}=r,a=nm({typed:e,matrix:t,zeros:n,add:i});return e(mV,{"string, Object | Array":function(l,u){return a(o(l),u)},"string, Object | Array, number | Object":function(l,u,c){return a(o(l),u,c)}});function o(s){return s.replace(Vg,l=>{var u=l.slice(1).split("."),c=u.map(function(d){return!isNaN(d)&&d.length>0?parseInt(d)-1:d});return"$"+c.join(".")})}},{isTransformFunction:!0});var qme="and",jme=["typed","matrix","zeros","add","equalScalar","not","concat"],kC=A(qme,jme,r=>{var{typed:e,matrix:t,equalScalar:n,zeros:i,not:a,concat:o}=r,s=im({typed:e,matrix:t,equalScalar:n,zeros:i,not:a,concat:o});function l(u,c,d){var f=u[0].compile().evaluate(d);if(!Jr(f)&&!s(f,!0))return!1;var m=u[1].compile().evaluate(d);return s(f,m)}return l.rawArgs=!0,l},{isTransformFunction:!0});var $me="or",Hme=["typed","matrix","equalScalar","DenseMatrix","concat"],PC=A($me,Hme,r=>{var{typed:e,matrix:t,equalScalar:n,DenseMatrix:i,concat:a}=r,o=G0({typed:e,matrix:t,equalScalar:n,DenseMatrix:i,concat:a});function s(l,u,c){var d=l[0].compile().evaluate(c);if(!Jr(d)&&o(d,!1))return!0;var f=l[1].compile().evaluate(c);return o(d,f)}return s.rawArgs=!0,s},{isTransformFunction:!0});var Wme="bitAnd",Gme=["typed","matrix","zeros","add","equalScalar","not","concat"],BC=A(Wme,Gme,r=>{var{typed:e,matrix:t,equalScalar:n,zeros:i,not:a,concat:o}=r,s=H0({typed:e,matrix:t,equalScalar:n,zeros:i,not:a,concat:o});function l(u,c,d){var f=u[0].compile().evaluate(d);if(!Jr(f)){if(isNaN(f))return NaN;if(f===0||f===!1)return 0}var m=u[1].compile().evaluate(d);return s(f,m)}return l.rawArgs=!0,l},{isTransformFunction:!0});var Yme="bitOr",Zme=["typed","matrix","equalScalar","DenseMatrix","concat"],LC=A(Yme,Zme,r=>{var{typed:e,matrix:t,equalScalar:n,DenseMatrix:i,concat:a}=r,o=W0({typed:e,matrix:t,equalScalar:n,DenseMatrix:i,concat:a});function s(l,u,c){var d=l[0].compile().evaluate(c);if(!Jr(d)){if(isNaN(d))return NaN;if(d===-1)return-1;if(d===!0)return 1}var f=l[1].compile().evaluate(c);return o(d,f)}return s.rawArgs=!0,s},{isTransformFunction:!0});var $e=e2({config:Ne}),yr=n2({}),zC=uD({BigNumber:$e,config:Ne}),hV=nD({}),pV=LD({BigNumber:$e,config:Ne}),ul=o2({}),VC=vD({Complex:yr}),gV=aD({BigNumber:$e,config:Ne}),vV=fD({BigNumber:$e,config:Ne}),xV=hD({BigNumber:$e,config:Ne}),vm=l2({}),yV=oD({BigNumber:$e,config:Ne}),bV=iD({}),wV=cD({BigNumber:$e,config:Ne}),_V=s2({}),UC=Yb({}),SV=pD({BigNumber:$e,config:Ne}),DV=nC({BigNumber:$e,config:Ne}),qC=lD({BigNumber:$e,config:Ne}),CV=rD({}),EV=xD({}),Lt=v2({Matrix:vm}),AV=GD({BigNumber:$e,config:Ne}),MV=dD({BigNumber:$e,config:Ne}),bv=sD({BigNumber:$e,config:Ne}),jC=tD({}),NV=gD({BigNumber:$e,config:Ne}),Q=Gb({BigNumber:$e,Complex:yr,DenseMatrix:Lt,Fraction:ul}),TV=WD({BigNumber:$e,config:Ne}),ni=Pw({typed:Q}),FV=R4({Complex:yr,config:Ne,typed:Q}),IV=P4({BigNumber:$e,typed:Q}),OV=L4({BigNumber:$e,Complex:yr,config:Ne,typed:Q}),xn=Bw({typed:Q}),RV=f_({typed:Q}),kV=U4({BigNumber:$e,Complex:yr,config:Ne,typed:Q}),PV=j4({typed:Q}),$C=$4({typed:Q}),BV=W4({Complex:yr,config:Ne,typed:Q}),LV=Sw({typed:Q}),zV=c_({typed:Q}),VV=Cw({typed:Q}),UV=x2({typed:Q}),xm=bS({typed:Q}),ym=Aw({Complex:yr,typed:Q}),cl=m_({typed:Q}),wv=G4({typed:Q}),qV=Z4({BigNumber:$e,typed:Q}),jV=K4({BigNumber:$e,typed:Q}),$V=qw({typed:Q}),qt=bw({config:Ne,typed:Q}),HV=V_({typed:Q}),HC=jw({typed:Q}),WV=$w({Complex:yr,typed:Q}),GV=X0({typed:Q}),cd=w_({typed:Q}),YV=K0({typed:Q}),dd=$_({typed:Q}),_v=S_({typed:Q}),ZV=G_({format:dd,typed:Q}),Sv=h_({typed:Q}),mi=b2({typed:Q}),ss=mw({config:Ne,typed:Q}),dl=gw({config:Ne,typed:Q}),$a=vw({equalScalar:qt,typed:Q}),XV=mD({BigNumber:$e,config:Ne}),KV=SS({Complex:yr,typed:Q}),JV=Kw({Complex:yr,config:Ne,typed:Q}),Dv=Jw({Complex:yr,config:Ne,typed:Q}),fl=J0({typed:Q}),en=Qw({typed:Q}),bm=g_({typed:Q}),So=_w({typed:Q}),QV=W_({format:dd,typed:Q}),eU=kS({config:Ne,typed:Q}),tU=nm({typed:Q}),rU=PS({config:Ne,typed:Q}),Cv=p_({typed:Q}),nU=Q4({BigNumber:$e,typed:Q}),WC=r_({BigNumber:$e,Fraction:ul,complex:ym,typed:Q}),wm=t3({typed:Q}),yn=ww({Matrix:vm,equalScalar:qt,typed:Q}),iU=Ow({typed:Q}),aU=i_({typed:Q}),oU=Dw({typed:Q}),Zi=Lw({typed:Q}),sU=n3({typed:Q}),Ev=yw({typed:Q}),lU=k4({Complex:yr,config:Ne,typed:Q}),uU=z4({BigNumber:$e,typed:Q}),cU=V4({BigNumber:$e,Complex:yr,config:Ne,typed:Q}),hi=Ew({BigNumber:$e,typed:Q}),dU=wS({typed:Q}),fU=Y4({typed:Q}),mU=J4({BigNumber:$e,typed:Q}),Do=xw({typed:Q}),hU=Z_({typed:Q}),fd=Kc({isInteger:mi,typed:Q});var qe=Nw({DenseMatrix:Lt,Matrix:vm,SparseMatrix:yn,typed:Q}),pU=Tw({isZero:$a,matrix:qe,typed:Q}),gU=A_({BigNumber:$e,config:Ne,matrix:qe,typed:Q}),vU=BS({config:Ne,log2:Dv,typed:Q}),GC=M_({isInteger:mi,matrix:qe,typed:Q}),xU=e3({BigNumber:$e,typed:Q}),yU=r3({typed:Q}),bU=I4({SparseMatrix:yn,typed:Q}),Sa=n_({Complex:yr,config:Ne,typed:Q}),wU=O_({typed:Q}),_U=i3({typed:Q}),md=R_({matrix:qe,typed:Q}),YC=o_({BigNumber:$e,config:Ne,matrix:qe,typed:Q}),kn=P_({BigNumber:$e,config:Ne,matrix:qe,typed:Q}),SU=B4({BigNumber:$e,Complex:yr,config:Ne,typed:Q}),DU=q4({Complex:yr,config:Ne,typed:Q}),CU=H_({format:dd,typed:Q}),nr=Y0({isInteger:mi,matrix:qe,typed:Q}),EU=X4({BigNumber:$e,typed:Q}),Av=k_({conj:cl,transpose:md,typed:Q}),ZC=b_({DenseMatrix:Lt,SparseMatrix:yn,matrix:qe,typed:Q}),AU=l_({concat:nr,equalScalar:qt,matrix:qe,multiplyScalar:en,typed:Q}),Xi=p4({DenseMatrix:Lt,SparseMatrix:yn,concat:nr,equalScalar:qt,matrix:qe,typed:Q}),hd=Mw({Fraction:ul,typed:Q}),ls=D_({BigNumber:$e,DenseMatrix:Lt,SparseMatrix:yn,config:Ne,matrix:qe,typed:Q}),ml=hw({typed:Q}),MU=C_({matrix:qe,multiplyScalar:en,typed:Q}),_m=b4({DenseMatrix:Lt,SparseMatrix:yn,concat:nr,config:Ne,matrix:qe,typed:Q}),NU=u4({DenseMatrix:Lt,concat:nr,equalScalar:qt,matrix:qe,typed:Q,zeros:kn}),TU=q_({isNaN:Do,isNumeric:ml,typed:Q}),FU=t_({BigNumber:$e,concat:nr,equalScalar:qt,matrix:qe,typed:Q}),Ki=X_({bignumber:hi,fraction:hd,number:So}),XC=j_({config:Ne,multiplyScalar:en,numeric:Ki,typed:Q}),IU=N_({config:Ne,matrix:qe}),OU=c4({DenseMatrix:Lt,concat:nr,equalScalar:qt,matrix:qe,typed:Q,zeros:kn}),xu=Q_({BigNumber:$e,DenseMatrix:Lt,config:Ne,equalScalar:qt,matrix:qe,typed:Q,zeros:kn}),Pn=I_({matrix:qe,config:Ne,typed:Q}),ii=v4({DenseMatrix:Lt,SparseMatrix:yn,bignumber:hi,concat:nr,config:Ne,matrix:qe,typed:Q}),RU=Y_({concat:nr,matrix:qe,typed:Q}),Ha=Rw({typed:Q}),kU=_4({DenseMatrix:Lt,SparseMatrix:yn,concat:nr,config:Ne,equalScalar:qt,matrix:qe,typed:Q}),PU=v_({DenseMatrix:Lt,SparseMatrix:yn,concat:nr,matrix:qe,typed:Q}),Xt=p3({DenseMatrix:Lt,SparseMatrix:yn,addScalar:xn,concat:nr,equalScalar:qt,matrix:qe,typed:Q}),BU=H4({BigNumber:$e,DenseMatrix:Lt,concat:nr,equalScalar:qt,matrix:qe,typed:Q}),LU=H0({concat:nr,equalScalar:qt,matrix:qe,typed:Q}),zU=W0({DenseMatrix:Lt,concat:nr,equalScalar:qt,matrix:qe,typed:Q}),VU=d_({DenseMatrix:Lt,SparseMatrix:yn,concat:nr,matrix:qe,typed:Q}),KC=zw({BigNumber:$e,Complex:yr,Fraction:ul,config:Ne,isNegative:ss,matrix:qe,typed:Q,unaryMinus:Ha}),hl=f4({BigNumber:$e,DenseMatrix:Lt,Fraction:ul,concat:nr,config:Ne,equalScalar:qt,matrix:qe,typed:Q}),JC=h4({concat:nr,matrix:qe,typed:Q}),UU=x_({prod:XC,size:Pn,typed:Q}),Mv=w4({equal:Xi,typed:Q}),Ur=K_({numeric:Ki,typed:Q}),pd=i4({DenseMatrix:Lt,SparseMatrix:yn,concat:nr,divideScalar:Ur,equalScalar:qt,matrix:qe,typed:Q}),qU=g4({compareText:JC,isZero:$a,typed:Q}),QC=j0({DenseMatrix:Lt,config:Ne,equalScalar:qt,matrix:qe,round:xu,typed:Q,zeros:kn}),jU=Zw({BigNumber:$e,DenseMatrix:Lt,concat:nr,config:Ne,equalScalar:qt,matrix:qe,round:xu,typed:Q,zeros:kn}),$U=pw({isNumeric:ml,typed:Q}),HU=g3({abs:ni,addScalar:xn,divideScalar:Ur,isPositive:dl,multiplyScalar:en,smaller:ii,sqrt:Sa,typed:Q}),e5=C4({DenseMatrix:Lt,smaller:ii}),Gn=E4({ImmutableDenseMatrix:e5,getMatrixDataType:_v}),ai=y4({DenseMatrix:Lt,SparseMatrix:yn,bignumber:hi,concat:nr,config:Ne,matrix:qe,typed:Q}),Nv=e4({Complex:yr,config:Ne,divideScalar:Ur,typeOf:Ev,typed:Q}),t5=a4({DenseMatrix:Lt,divideScalar:Ur,equalScalar:qt,matrix:qe,multiplyScalar:en,subtractScalar:Zi,typed:Q}),Tv=Iw({flatten:cd,matrix:qe,size:Pn,typed:Q}),Fv=am({config:Ne,isNaN:Do,larger:ai,numeric:Ki,typed:Q}),WU=om({config:Ne,isNaN:Do,numeric:Ki,smaller:ii,typed:Q}),r5=$0({DenseMatrix:Lt,concat:nr,config:Ne,equalScalar:qt,matrix:qe,round:xu,typed:Q,zeros:kn}),GU=r4({Complex:yr,config:Ne,divideScalar:Ur,typed:Q}),YU=G0({DenseMatrix:Lt,concat:nr,equalScalar:qt,matrix:qe,typed:Q}),Sm=S4({compare:hl,isNaN:Do,isNumeric:ml,typed:Q}),Iv=W3({addScalar:xn,complex:ym,conj:cl,divideScalar:Ur,equal:Xi,identity:ls,isZero:$a,matrix:qe,multiplyScalar:en,sign:WC,sqrt:Sa,subtractScalar:Zi,typed:Q,unaryMinus:Ha,zeros:kn}),ZU=d4({DenseMatrix:Lt,concat:nr,equalScalar:qt,matrix:qe,typed:Q,zeros:kn}),yu=x4({DenseMatrix:Lt,SparseMatrix:yn,concat:nr,config:Ne,matrix:qe,typed:Q}),Pi=rm({add:Xt,matrix:qe,typed:Q,zeros:kn}),un=a_({DenseMatrix:Lt,concat:nr,equalScalar:qt,matrix:qe,subtractScalar:Zi,typed:Q,unaryMinus:Ha}),XU=y3({add:Xt,matrix:qe,typed:Q}),Ov=o4({DenseMatrix:Lt,divideScalar:Ur,equalScalar:qt,matrix:qe,multiplyScalar:en,subtractScalar:Zi,typed:Q}),KU=VS({addScalar:xn,combinations:xm,divideScalar:Ur,isInteger:mi,isNegative:ss,multiplyScalar:en,typed:Q}),Wa=m4({compare:hl,typed:Q}),JU=US({addScalar:xn,combinations:xm,isInteger:mi,isNegative:ss,isPositive:dl,larger:ai,typed:Q}),QU=Q0({matrix:qe,number:So,subtract:un,typed:Q}),eq=hS({abs:ni,addScalar:xn,deepEqual:Mv,divideScalar:Ur,multiplyScalar:en,sqrt:Sa,subtractScalar:Zi,typed:Q}),Dm=x3({addScalar:xn,conj:cl,multiplyScalar:en,size:Pn,typed:Q}),n5=A4({larger:ai,smaller:ii}),i5=b3({Index:Gn,typed:Q}),tq=s_({BigNumber:$e,add:Xt,config:Ne,equal:Xi,isInteger:mi,mod:r5,smaller:ii,typed:Q,xgcd:YC}),rq=Xw({concat:nr,equalScalar:qt,matrix:qe,typed:Q}),nq=t4({Complex:yr,config:Ne,divideScalar:Ur,log:Nv,typed:Q}),iq=s4({DenseMatrix:Lt,divideScalar:Ur,equalScalar:qt,matrix:qe,multiplyScalar:en,subtractScalar:Zi,typed:Q}),aq=Fw({flatten:cd,matrix:qe,size:Pn,typed:Q}),mr=e_({addScalar:xn,dot:Dm,equalScalar:qt,matrix:qe,multiplyScalar:en,typed:Q}),bu=em({bignumber:hi,matrix:qe,add:Xt,config:Ne,isPositive:dl,larger:ai,largerEq:_m,smaller:ii,smallerEq:yu,typed:Q}),oq=tm({Index:Gn,matrix:qe,range:bu,typed:Q}),sq=a3({DenseMatrix:Lt,Index:Gn,compareNatural:Wa,size:Pn,subset:Pi,typed:Q}),lq=s3({DenseMatrix:Lt,Index:Gn,compareNatural:Wa,size:Pn,subset:Pi,typed:Q}),uq=u3({Index:Gn,compareNatural:Wa,size:Pn,subset:Pi,typed:Q}),cq=d3({Index:Gn,compareNatural:Wa,size:Pn,subset:Pi,typed:Q}),a5=Y3({SparseMatrix:yn,abs:ni,add:Xt,divideScalar:Ur,larger:ai,largerEq:_m,multiply:mr,subtract:un,transpose:md,typed:Q}),dq=D4({compare:hl,compareNatural:Wa,matrix:qe,typed:Q}),Rv=kw({config:Ne,numeric:Ki,typed:Q}),o5=l4({DenseMatrix:Lt,divideScalar:Ur,equalScalar:qt,matrix:qe,multiplyScalar:en,subtractScalar:Zi,typed:Q}),fq=JS({Complex:yr,add:Xt,multiply:mr,number:So,typed:Q}),mq=im({concat:nr,equalScalar:qt,matrix:qe,not:bm,typed:Q,zeros:kn}),kv=Uw({DenseMatrix:Lt,config:Ne,equalScalar:qt,matrix:qe,round:xu,typed:Q,zeros:kn}),s5=Z0({Index:Gn,matrix:qe,range:bu,typed:Q}),hq=y_({matrix:qe,multiply:mr,subtract:un,typed:Q}),l5=iS({divideScalar:Ur,isZero:$a,matrix:qe,multiply:mr,subtractScalar:Zi,typed:Q,unaryMinus:Ha}),u5=Ww({Complex:yr,DenseMatrix:Lt,ceil:kv,equalScalar:qt,floor:QC,matrix:qe,typed:Q,zeros:kn}),pl=aS({abs:ni,addScalar:xn,det:l5,divideScalar:Ur,identity:ls,matrix:qe,multiply:mr,typed:Q,unaryMinus:Ha}),pq=oS({Complex:yr,add:Xt,ctranspose:Av,deepEqual:Mv,divideScalar:Ur,dot:Dm,dotDivide:pd,equal:Xi,inv:pl,matrix:qe,multiply:mr,typed:Q}),Da=J_({Complex:yr,config:Ne,fraction:hd,identity:ls,inv:pl,matrix:qe,multiply:mr,number:So,typed:Q}),c5=o3({DenseMatrix:Lt,Index:Gn,compareNatural:Wa,size:Pn,subset:Pi,typed:Q}),gq=c3({Index:Gn,compareNatural:Wa,size:Pn,subset:Pi,typed:Q}),d5=m3({Index:Gn,concat:nr,setDifference:c5,size:Pn,subset:Pi,typed:Q}),f5=M4({FibonacciHeap:n5,addScalar:xn,equalScalar:qt}),vq=uS({abs:ni,add:Xt,identity:ls,inv:pl,map:fl,max:Fv,multiply:mr,size:Pn,sqrt:Sa,subtract:un,typed:Q}),Pv=um({add:Xt,config:Ne,numeric:Ki,typed:Q}),Nt=T4({BigNumber:$e,Complex:yr,Fraction:ul,abs:ni,addScalar:xn,config:Ne,divideScalar:Ur,equal:Xi,fix:u5,format:dd,isNumeric:ml,multiplyScalar:en,number:So,pow:Da,round:xu,subtractScalar:Zi}),xq=CD({BigNumber:$e,Unit:Nt,config:Ne}),yq=oC({BigNumber:$e,Unit:Nt,config:Ne}),bq=YD({BigNumber:$e,Unit:Nt,config:Ne}),wq=MD({BigNumber:$e,Unit:Nt,config:Ne}),_q=XD({BigNumber:$e,Unit:Nt,config:Ne}),Sq=ND({BigNumber:$e,Unit:Nt,config:Ne}),Dq=ED({BigNumber:$e,Unit:Nt,config:Ne}),Cq=cm({add:Xt,typed:Q,unaryPlus:Rv}),Eq=UD({BigNumber:$e,Unit:Nt,config:Ne}),Aq=n4({DenseMatrix:Lt,SparseMatrix:yn,concat:nr,equalScalar:qt,matrix:qe,pow:Da,typed:Q}),Mq=DD({BigNumber:$e,Unit:Nt,config:Ne}),Nq=AD({BigNumber:$e,Unit:Nt,config:Ne}),Tq=lS({abs:ni,add:Xt,identity:ls,inv:pl,multiply:mr,typed:Q}),Fq=KD({BigNumber:$e,Unit:Nt,config:Ne}),m5=B_({addScalar:xn,ceil:kv,conj:cl,divideScalar:Ur,dotDivide:pd,exp:HC,i:VC,log2:Dv,matrix:qe,multiplyScalar:en,pow:Da,tau:qC,typed:Q}),Bv=_S({BigNumber:$e,Complex:yr,config:Ne,multiplyScalar:en,pow:Da,typed:Q}),Iq=bD({BigNumber:$e,Unit:Nt,config:Ne}),Oq=zD({BigNumber:$e,Unit:Nt,config:Ne}),Rq=L_({conj:cl,dotDivide:pd,fft:m5,typed:Q}),kq=TD({BigNumber:$e,Unit:Nt,config:Ne}),Pq=OD({BigNumber:$e,Unit:Nt,config:Ne}),Bq=QD({BigNumber:$e,Unit:Nt,config:Ne}),Lq=SD({BigNumber:$e,Unit:Nt,config:Ne}),zq=sC({BigNumber:$e,Unit:Nt,config:Ne}),Vq=tC({BigNumber:$e,Unit:Nt,config:Ne}),Uq=qD({BigNumber:$e,Unit:Nt,config:Ne}),qq=ID({BigNumber:$e,Unit:Nt,config:Ne}),jq=mC({BigNumber:$e,Unit:Nt,config:Ne}),$q=cC({BigNumber:$e,Unit:Nt,config:Ne}),Hq=hC({BigNumber:$e,Unit:Nt,config:Ne}),Wq=VD({BigNumber:$e,Unit:Nt,config:Ne}),Gq=jD({BigNumber:$e,Unit:Nt,config:Ne}),Yq=_D({BigNumber:$e,Unit:Nt,config:Ne}),Zq=$D({BigNumber:$e,Unit:Nt,config:Ne}),Xq=iC({BigNumber:$e,Unit:Nt,config:Ne}),Kq=f3({compareNatural:Wa,typed:Q}),Jq=yD({BigNumber:$e,Unit:Nt,config:Ne}),Qq=aC({BigNumber:$e,Unit:Nt,config:Ne}),ej=HD({BigNumber:$e,Unit:Nt,config:Ne}),tj=ZD({BigNumber:$e,Unit:Nt,config:Ne}),rj=RD({BigNumber:$e,Unit:Nt,config:Ne}),nj=O4({Unit:Nt,typed:Q}),Bn=mS({divideScalar:Ur,equalScalar:qt,inv:pl,matrix:qe,multiply:mr,typed:Q}),ij=PD({BigNumber:$e,Unit:Nt,config:Ne}),gd=DS({gamma:Bv,typed:Q}),aj=JD({BigNumber:$e,Unit:Nt,config:Ne}),oj=uC({BigNumber:$e,Unit:Nt,config:Ne}),sj=pS({abs:ni,add:Xt,addScalar:xn,config:Ne,divideScalar:Ur,equalScalar:qt,flatten:cd,isNumeric:ml,isZero:$a,matrix:qe,multiply:mr,multiplyScalar:en,smaller:ii,subtract:un,typed:Q}),h5=H3({DenseMatrix:Lt,Spa:f5,SparseMatrix:yn,abs:ni,addScalar:xn,divideScalar:Ur,equalScalar:qt,larger:ai,matrix:qe,multiplyScalar:en,subtractScalar:Zi,typed:Q,unaryMinus:Ha}),lj=FD({BigNumber:$e,Unit:Nt,config:Ne}),uj=lC({BigNumber:$e,Unit:Nt,config:Ne}),cj=ES({add:Xt,divide:Bn,factorial:gd,isInteger:mi,isPositive:dl,multiply:mr,typed:Q}),dj=AS({factorial:gd,typed:Q}),fj=dC({BigNumber:$e,Unit:Nt,config:Ne}),mj=K3({add:Xt,cbrt:KC,divide:Bn,equalScalar:qt,im:Sv,isZero:$a,multiply:mr,re:Cv,sqrt:Sa,subtract:un,typeOf:Ev,typed:Q,unaryMinus:Ha}),p5=l3({DenseMatrix:Lt,Index:Gn,compareNatural:Wa,size:Pn,subset:Pi,typed:Q}),hj=z_({abs:ni,add:Xt,bignumber:hi,divide:Bn,isNegative:ss,isPositive:dl,larger:ai,map:fl,matrix:qe,max:Fv,multiply:mr,smaller:ii,subtract:un,typed:Q,unaryMinus:Ha}),g5=LS({bignumber:hi,addScalar:xn,combinations:xm,divideScalar:Ur,factorial:gd,isInteger:mi,isNegative:ss,larger:ai,multiplyScalar:en,number:So,pow:Da,subtractScalar:Zi,typed:Q}),pj=F4({Unit:Nt,typed:Q}),gj=zS({addScalar:xn,isInteger:mi,isNegative:ss,stirlingS2:g5,typed:Q}),v5=sS({abs:ni,add:Xt,addScalar:xn,atan:$C,bignumber:hi,column:s5,complex:ym,config:Ne,cos:wv,diag:ZC,divideScalar:Ur,dot:Dm,equal:Xi,flatten:cd,im:Sv,inv:pl,larger:ai,matrix:qe,matrixFromColumns:Tv,multiply:mr,multiplyScalar:en,number:So,qr:Iv,re:Cv,reshape:GC,sin:wm,size:Pn,smaller:ii,sqrt:Sa,subtract:un,typed:Q,usolve:Ov,usolveAll:o5}),vj=BD({BigNumber:$e,Unit:Nt,config:Ne}),xj=eC({BigNumber:$e,Unit:Nt,config:Ne}),yj=CS({divide:Bn,dotDivide:pd,isNumeric:ml,log:Nv,map:fl,matrix:qe,multiply:mr,sum:Pv,typed:Q}),x5=X3({DenseMatrix:Lt,lsolve:t5,lup:h5,matrix:qe,slu:a5,typed:Q,usolve:Ov}),y5=dm({add:Xt,divide:Bn,typed:Q}),bj=rC({BigNumber:$e,Unit:Nt,config:Ne}),wj=wD({BigNumber:$e,Unit:Nt,config:Ne}),_j=mm({bignumber:hi,add:Xt,compare:hl,divide:Bn,isInteger:mi,larger:ai,mapSlices:fd,multiply:mr,partitionSelect:Sm,smaller:ii,smallerEq:yu,subtract:un,typed:Q}),Sj=h3({Index:Gn,concat:nr,setIntersect:p5,setSymDifference:d5,size:Pn,subset:Pi,typed:Q}),Lv=fm({add:Xt,divide:Bn,isNaN:Do,mapSlices:fd,multiply:mr,subtract:un,typed:Q}),Dj=kD({BigNumber:$e,Unit:Nt,config:Ne}),b5=gS({add:Xt,compare:hl,divide:Bn,partitionSelect:Sm,typed:Q}),Cj=yS({add:Xt,divide:Bn,matrix:qe,mean:y5,multiply:mr,pow:Da,sqrt:Sa,subtract:un,sum:Pv,typed:Q}),Ej=QS({Complex:yr,add:Xt,divide:Bn,matrix:qe,multiply:mr,typed:Q}),Aj=vS({abs:ni,map:fl,median:b5,subtract:un,typed:Q}),Mj=hm({map:fl,sqrt:Sa,typed:Q,variance:Lv}),Nj=U_({BigNumber:$e,Complex:yr,add:Xt,config:Ne,divide:Bn,equal:Xi,factorial:gd,gamma:Bv,isNegative:ss,multiply:mr,pi:bv,pow:Da,sin:wm,smallerEq:yu,subtract:un,typed:Q}),zv=v3({abs:ni,add:Xt,conj:cl,ctranspose:Av,eigs:v5,equalScalar:qt,larger:ai,matrix:qe,multiply:mr,pow:Da,smaller:ii,sqrt:Sa,typed:Q}),w5=F_({BigNumber:$e,DenseMatrix:Lt,SparseMatrix:yn,addScalar:xn,config:Ne,cos:wv,matrix:qe,multiplyScalar:en,norm:zv,sin:wm,typed:Q,unaryMinus:Ha}),Tj=fC({BigNumber:$e,Unit:Nt,config:Ne}),_5=dS({identity:ls,matrix:qe,multiply:mr,norm:zv,qr:Iv,subtract:un,typed:Q}),Fj=T_({multiply:mr,rotationMatrix:w5,typed:Q}),S5=cS({abs:ni,add:Xt,concat:nr,identity:ls,index:i5,lusolve:x5,matrix:qe,matrixFromColumns:Tv,multiply:mr,range:bu,schur:_5,subset:Pi,subtract:un,transpose:md,typed:Q}),Ij=fS({matrix:qe,multiply:mr,sylvester:S5,transpose:md,typed:Q});var vd={},Cm={},Oj={},oi=w3({mathWithTransform:Cm}),xd=O3({Node:oi}),us=R3({Node:oi}),wu=k3({Node:oi}),Rj=B3({Node:oi}),yd=S3({Node:oi}),kj=C3({Node:oi,ResultSet:UC}),Pj=E3({Node:oi}),gl=T3({Node:oi}),Bj=P3({Node:oi}),Xme=eD({classes:Oj}),D5=Q3({math:vd,typed:Q}),Lj=F3({Node:oi,typed:Q}),Kme=nS({Chain:D5,typed:Q}),bd=_3({Node:oi,subset:Pi}),zj=D3({matrix:qe,Node:oi,subset:Pi}),wd=I3({Node:oi,size:Pn}),vl=L3({Unit:Nt,Node:oi,math:vd}),xl=z3({Node:oi,SymbolNode:vl,math:vd}),Ga=V3({AccessorNode:bd,ArrayNode:yd,AssignmentNode:zj,BlockNode:kj,ConditionalNode:Pj,ConstantNode:gl,FunctionAssignmentNode:Lj,FunctionNode:xl,IndexNode:wd,ObjectNode:xd,OperatorNode:us,ParenthesisNode:wu,RangeNode:Bj,RelationalNode:Rj,SymbolNode:vl,config:Ne,numeric:Ki,typed:Q}),Vj=YS({ConstantNode:gl,FunctionNode:xl,OperatorNode:us,ParenthesisNode:wu,parse:Ga,typed:Q}),C5=WS({bignumber:hi,fraction:hd,AccessorNode:bd,ArrayNode:yd,ConstantNode:gl,FunctionNode:xl,IndexNode:wd,ObjectNode:xd,OperatorNode:us,SymbolNode:vl,config:Ne,mathWithTransform:Cm,matrix:qe,typed:Q}),Jme=U3({parse:Ga,typed:Q}),E5=GS({AccessorNode:bd,ArrayNode:yd,ConstantNode:gl,FunctionNode:xl,IndexNode:wd,ObjectNode:xd,OperatorNode:us,ParenthesisNode:wu,SymbolNode:vl,add:Xt,divide:Bn,equal:Xi,isZero:$a,multiply:mr,parse:Ga,pow:Da,subtract:un,typed:Q}),_u=q3({parse:Ga,typed:Q}),Uj=J3({evaluate:_u}),qj=j3({evaluate:_u,parse:Ga}),Vv=HS({AccessorNode:bd,ArrayNode:yd,ConstantNode:gl,FunctionNode:xl,IndexNode:wd,ObjectNode:xd,OperatorNode:us,ParenthesisNode:wu,SymbolNode:vl,equal:Xi,parse:Ga,replacer:jC,resolve:Vj,simplifyConstant:C5,simplifyCore:E5,typed:Q}),Qme=ZS({OperatorNode:us,parse:Ga,simplify:Vv,typed:Q}),ehe=qS({parse:Ga,typed:Q}),the=$3({Parser:qj,typed:Q}),rhe=KS({bignumber:hi,fraction:hd,AccessorNode:bd,ArrayNode:yd,ConstantNode:gl,FunctionNode:xl,IndexNode:wd,ObjectNode:xd,OperatorNode:us,ParenthesisNode:wu,SymbolNode:vl,add:Xt,config:Ne,divide:Bn,equal:Xi,isZero:$a,mathWithTransform:Cm,matrix:qe,multiply:mr,parse:Ga,pow:Da,simplify:Vv,simplifyConstant:C5,simplifyCore:E5,subtract:un,typed:Q}),nhe=XS({ConstantNode:gl,FunctionNode:xl,OperatorNode:us,ParenthesisNode:wu,SymbolNode:vl,config:Ne,equal:Xi,isZero:$a,numeric:Ki,parse:Ga,simplify:Vv,typed:Q}),ihe=rS({Help:Uj,mathWithTransform:Cm,typed:Q});kr(vd,{e:zC,false:hV,fineStructure:pV,i:VC,Infinity:gV,LN10:vV,LOG10E:xV,NaN:yV,null:bV,phi:wV,SQRT1_2:SV,sackurTetrode:DV,tau:qC,true:CV,E:zC,version:EV,efimovFactor:AV,LN2:MV,pi:bv,replacer:jC,reviver:Xme,SQRT2:NV,typed:Q,PI:bv,weakMixingAngle:TV,abs:ni,acos:FV,acot:IV,acsc:OV,addScalar:xn,arg:RV,asech:kV,asinh:PV,atan:$C,atanh:BV,bigint:LV,bitNot:zV,boolean:VV,clone:UV,combinations:xm,complex:ym,conj:cl,cos:wv,cot:qV,csc:jV,cube:$V,equalScalar:qt,erf:HV,exp:HC,expm1:WV,filter:GV,flatten:cd,forEach:YV,format:dd,getMatrixDataType:_v,hex:ZV,im:Sv,isInteger:mi,isNegative:ss,isPositive:dl,isZero:$a,LOG2E:XV,lgamma:KV,log10:JV,log2:Dv,map:fl,multiplyScalar:en,not:bm,number:So,oct:QV,pickRandom:eU,print:tU,random:rU,re:Cv,sec:nU,sign:WC,sin:wm,splitUnit:iU,square:aU,string:oU,subtractScalar:Zi,tan:sU,typeOf:Ev,acosh:lU,acsch:uU,asec:cU,bignumber:hi,chain:Kme,combinationsWithRep:dU,cosh:fU,csch:mU,isNaN:Do,isPrime:hU,mapSlices:fd,matrix:qe,matrixFromFunction:pU,ones:gU,randomInt:vU,reshape:GC,sech:xU,sinh:yU,sparse:bU,sqrt:Sa,squeeze:wU,tanh:_U,transpose:md,xgcd:YC,zeros:kn,acoth:SU,asin:DU,bin:CU,concat:nr,coth:EU,ctranspose:Av,diag:ZC,dotMultiply:AU,equal:Xi,fraction:hd,identity:ls,isNumeric:ml,kron:MU,largerEq:_m,leftShift:NU,mode:TU,nthRoot:FU,numeric:Ki,prod:XC,resize:IU,rightArithShift:OU,round:xu,size:Pn,smaller:ii,to:RU,unaryMinus:Ha,unequal:kU,xor:PU,add:Xt,atan2:BU,bitAnd:LU,bitOr:zU,bitXor:VU,cbrt:KC,compare:hl,compareText:JC,count:UU,deepEqual:Mv,divideScalar:Ur,dotDivide:pd,equalText:qU,floor:QC,gcd:jU,hasNumericValue:$U,hypot:HU,larger:ai,log:Nv,lsolve:t5,matrixFromColumns:Tv,max:Fv,min:WU,mod:r5,nthRoots:GU,or:YU,partitionSelect:Sm,qr:Iv,rightLogShift:ZU,smallerEq:yu,subset:Pi,subtract:un,trace:XU,usolve:Ov,catalan:KU,compareNatural:Wa,composition:JU,diff:QU,distance:eq,dot:Dm,index:i5,invmod:tq,lcm:rq,log1p:nq,lsolveAll:iq,matrixFromRows:aq,multiply:mr,range:bu,row:oq,setCartesian:sq,setDistinct:lq,setIsSubset:uq,setPowerset:cq,slu:a5,sort:dq,unaryPlus:Rv,usolveAll:o5,zpk2tf:fq,and:mq,ceil:kv,column:s5,cross:hq,det:l5,fix:u5,inv:pl,pinv:pq,pow:Da,setDifference:c5,setMultiplicity:gq,setSymDifference:d5,sqrtm:vq,sum:Pv,vacuumImpedance:xq,wienDisplacement:yq,atomicMass:bq,bohrMagneton:wq,boltzmann:_q,conductanceQuantum:Sq,coulomb:Dq,cumsum:Cq,deuteronMass:Eq,dotPow:Aq,electricConstant:Mq,elementaryCharge:Nq,expm:Tq,faraday:Fq,fft:m5,gamma:Bv,gravitationConstant:Iq,hartreeEnergy:Oq,ifft:Rq,inverseConductanceQuantum:kq,klitzing:Pq,loschmidt:Bq,magneticConstant:Lq,molarMass:zq,molarPlanckConstant:Vq,neutronMass:Uq,nuclearMagneton:qq,planckCharge:jq,planckLength:$q,planckTemperature:Hq,protonMass:Wq,quantumOfCirculation:Gq,reducedPlanckConstant:Yq,rydberg:Zq,secondRadiation:Xq,setSize:Kq,speedOfLight:Jq,stefanBoltzmann:Qq,thomsonCrossSection:ej,avogadro:tj,bohrRadius:rj,createUnit:nj,divide:Bn,electronMass:ij,factorial:gd,firstRadiation:aj,gravity:oj,intersect:sj,lup:h5,magneticFluxQuantum:lj,molarMassC12:uj,multinomial:cj,parse:Ga,permutations:dj,planckMass:fj,polynomialRoot:mj,resolve:Vj,setIntersect:p5,simplifyConstant:C5,solveODE:hj,stirlingS2:g5,unit:pj,bellNumbers:gj,compile:Jme,eigs:v5,fermiCoupling:vj,gasConstant:xj,kldivergence:yj,lusolve:x5,mean:y5,molarVolume:bj,planckConstant:wj,quantileSeq:_j,setUnion:Sj,simplifyCore:E5,variance:Lv,classicalElectronRadius:Dj,evaluate:_u,median:b5,simplify:Vv,symbolicEqual:Qme,corr:Cj,freqz:Ej,leafCount:ehe,mad:Aj,parser:the,rationalize:rhe,std:Mj,zeta:Nj,derivative:nhe,norm:zv,rotationMatrix:w5,help:ihe,planckTime:Tj,schur:_5,rotate:Fj,sylvester:S5,lyap:Ij,config:Ne});kr(Cm,vd,{mapSlices:pC({isInteger:mi,typed:Q}),filter:vC({typed:Q}),forEach:xC({typed:Q}),map:bC({typed:Q}),or:PC({DenseMatrix:Lt,concat:nr,equalScalar:qt,matrix:qe,typed:Q}),and:kC({add:Xt,concat:nr,equalScalar:qt,matrix:qe,not:bm,typed:Q,zeros:kn}),concat:AC({isInteger:mi,matrix:qe,typed:Q}),index:yC({Index:Gn,getMatrixDataType:_v}),print:RC({add:Xt,matrix:qe,typed:Q,zeros:kn}),sum:TC({add:Xt,config:Ne,numeric:Ki,typed:Q}),bitAnd:BC({add:Xt,concat:nr,equalScalar:qt,matrix:qe,not:bm,typed:Q,zeros:kn}),min:SC({config:Ne,isNaN:Do,numeric:Ki,smaller:ii,typed:Q}),subset:EC({add:Xt,matrix:qe,typed:Q,zeros:kn}),bitOr:LC({DenseMatrix:Lt,concat:nr,equalScalar:qt,matrix:qe,typed:Q}),cumsum:IC({add:Xt,typed:Q,unaryPlus:Rv}),diff:MC({bignumber:hi,matrix:qe,number:So,subtract:un,typed:Q}),max:wC({config:Ne,isNaN:Do,larger:ai,numeric:Ki,typed:Q}),range:DC({bignumber:hi,matrix:qe,add:Xt,config:Ne,isPositive:dl,larger:ai,largerEq:_m,smaller:ii,smallerEq:yu,typed:Q}),row:CC({Index:Gn,matrix:qe,range:bu,typed:Q}),column:gC({Index:Gn,matrix:qe,range:bu,typed:Q}),mean:_C({add:Xt,divide:Bn,typed:Q}),quantileSeq:FC({add:Xt,bignumber:hi,compare:hl,divide:Bn,isInteger:mi,larger:ai,mapSlices:fd,multiply:mr,partitionSelect:Sm,smaller:ii,smallerEq:yu,subtract:un,typed:Q}),variance:OC({add:Xt,divide:Bn,isNaN:Do,mapSlices:fd,multiply:mr,subtract:un,typed:Q}),std:NC({map:fl,sqrt:Sa,typed:Q,variance:Lv})});kr(Oj,{BigNumber:$e,Complex:yr,Fraction:ul,Matrix:vm,Node:oi,ObjectNode:xd,OperatorNode:us,ParenthesisNode:wu,Range:_V,RelationalNode:Rj,ResultSet:UC,ArrayNode:yd,BlockNode:kj,ConditionalNode:Pj,ConstantNode:gl,DenseMatrix:Lt,RangeNode:Bj,Chain:D5,FunctionAssignmentNode:Lj,SparseMatrix:yn,ImmutableDenseMatrix:e5,Index:Gn,AccessorNode:bd,AssignmentNode:zj,FibonacciHeap:n5,IndexNode:wd,Spa:f5,Unit:Nt,SymbolNode:vl,FunctionNode:xl,Help:Uj,Parser:qj});D5.createProxy(vd);var Ji=class r{constructor(e,t,n){this.lexer=void 0,this.start=void 0,this.end=void 0,this.lexer=e,this.start=t,this.end=n}static range(e,t){return t?!e||!e.loc||!t.loc||e.loc.lexer!==t.loc.lexer?null:new r(e.loc.lexer,e.loc.start,t.loc.end):e&&e.loc}},Aa=class r{constructor(e,t){this.text=void 0,this.loc=void 0,this.noexpand=void 0,this.treatAsRelax=void 0,this.text=e,this.loc=t}range(e,t){return new r(t,Ji.range(this,e))}},We=class r{constructor(e,t){this.name=void 0,this.position=void 0,this.length=void 0,this.rawMessage=void 0;var n="KaTeX parse error: "+e,i,a,o=t&&t.loc;if(o&&o.start<=o.end){var s=o.lexer.input;i=o.start,a=o.end,i===s.length?n+=" at end of input: ":n+=" at position "+(i+1)+": ";var l=s.slice(i,a).replace(/[^]/g,"$&\u0332"),u;i>15?u="\u2026"+s.slice(i-15,i):u=s.slice(0,i);var c;a+15<s.length?c=s.slice(a,a+15)+"\u2026":c=s.slice(a),n+=u+l+c}var d=new Error(n);return d.name="ParseError",d.__proto__=r.prototype,d.position=i,i!=null&&a!=null&&(d.length=a-i),d.rawMessage=e,d}};We.prototype.__proto__=Error.prototype;var ahe=function(e,t){return e.indexOf(t)!==-1},ohe=function(e,t){return e===void 0?t:e},she=/([A-Z])/g,lhe=function(e){return e.replace(she,"-$1").toLowerCase()},uhe={"&":"&amp;",">":"&gt;","<":"&lt;",'"':"&quot;","'":"&#x27;"},che=/[&><"']/g;function dhe(r){return String(r).replace(che,e=>uhe[e])}var b$=function r(e){return e.type==="ordgroup"||e.type==="color"?e.body.length===1?r(e.body[0]):e:e.type==="font"?r(e.body):e},fhe=function(e){var t=b$(e);return t.type==="mathord"||t.type==="textord"||t.type==="atom"},mhe=function(e){if(!e)throw new Error("Expected non-null, but got "+String(e));return e},hhe=function(e){var t=/^[\x00-\x20]*([^\\/#?]*?)(:|&#0*58|&#x0*3a|&colon)/i.exec(e);return t?t[2]!==":"||!/^[a-zA-Z][a-zA-Z0-9+\-.]*$/.test(t[1])?null:t[1].toLowerCase():"_relative"},St={contains:ahe,deflt:ohe,escape:dhe,hyphenate:lhe,getBaseElem:b$,isCharacterBox:fhe,protocolFromUrl:hhe},Jv={displayMode:{type:"boolean",description:"Render math in display mode, which puts the math in display style (so \\int and \\sum are large, for example), and centers the math on the page on its own line.",cli:"-d, --display-mode"},output:{type:{enum:["htmlAndMathml","html","mathml"]},description:"Determines the markup language of the output.",cli:"-F, --format <type>"},leqno:{type:"boolean",description:"Render display math in leqno style (left-justified tags)."},fleqn:{type:"boolean",description:"Render display math flush left."},throwOnError:{type:"boolean",default:!0,cli:"-t, --no-throw-on-error",cliDescription:"Render errors (in the color given by --error-color) instead of throwing a ParseError exception when encountering an error."},errorColor:{type:"string",default:"#cc0000",cli:"-c, --error-color <color>",cliDescription:"A color string given in the format 'rgb' or 'rrggbb' (no #). This option determines the color of errors rendered by the -t option.",cliProcessor:r=>"#"+r},macros:{type:"object",cli:"-m, --macro <def>",cliDescription:"Define custom macro of the form '\\foo:expansion' (use multiple -m arguments for multiple macros).",cliDefault:[],cliProcessor:(r,e)=>(e.push(r),e)},minRuleThickness:{type:"number",description:"Specifies a minimum thickness, in ems, for fraction lines, `\\sqrt` top lines, `{array}` vertical lines, `\\hline`, `\\hdashline`, `\\underline`, `\\overline`, and the borders of `\\fbox`, `\\boxed`, and `\\fcolorbox`.",processor:r=>Math.max(0,r),cli:"--min-rule-thickness <size>",cliProcessor:parseFloat},colorIsTextColor:{type:"boolean",description:"Makes \\color behave like LaTeX's 2-argument \\textcolor, instead of LaTeX's one-argument \\color mode change.",cli:"-b, --color-is-text-color"},strict:{type:[{enum:["warn","ignore","error"]},"boolean","function"],description:"Turn on strict / LaTeX faithfulness mode, which throws an error if the input uses features that are not supported by LaTeX.",cli:"-S, --strict",cliDefault:!1},trust:{type:["boolean","function"],description:"Trust the input, enabling all HTML features such as \\url.",cli:"-T, --trust"},maxSize:{type:"number",default:1/0,description:"If non-zero, all user-specified sizes, e.g. in \\rule{500em}{500em}, will be capped to maxSize ems. Otherwise, elements and spaces can be arbitrarily large",processor:r=>Math.max(0,r),cli:"-s, --max-size <n>",cliProcessor:parseInt},maxExpand:{type:"number",default:1e3,description:"Limit the number of macro expansions to the specified number, to prevent e.g. infinite macro loops. If set to Infinity, the macro expander will try to fully expand as in LaTeX.",processor:r=>Math.max(0,r),cli:"-e, --max-expand <n>",cliProcessor:r=>r==="Infinity"?1/0:parseInt(r)},globalGroup:{type:"boolean",cli:!1}};function phe(r){if(r.default)return r.default;var e=r.type,t=Array.isArray(e)?e[0]:e;if(typeof t!="string")return t.enum[0];switch(t){case"boolean":return!1;case"string":return"";case"number":return 0;case"object":return{}}}var Tm=class{constructor(e){this.displayMode=void 0,this.output=void 0,this.leqno=void 0,this.fleqn=void 0,this.throwOnError=void 0,this.errorColor=void 0,this.macros=void 0,this.minRuleThickness=void 0,this.colorIsTextColor=void 0,this.strict=void 0,this.trust=void 0,this.maxSize=void 0,this.maxExpand=void 0,this.globalGroup=void 0,e=e||{};for(var t in Jv)if(Jv.hasOwnProperty(t)){var n=Jv[t];this[t]=e[t]!==void 0?n.processor?n.processor(e[t]):e[t]:phe(n)}}reportNonstrict(e,t,n){var i=this.strict;if(typeof i=="function"&&(i=i(e,t,n)),!(!i||i==="ignore")){if(i===!0||i==="error")throw new We("LaTeX-incompatible input and strict mode is set to 'error': "+(t+" ["+e+"]"),n);i==="warn"?typeof console<"u"&&console.warn("LaTeX-incompatible input and strict mode is set to 'warn': "+(t+" ["+e+"]")):typeof console<"u"&&console.warn("LaTeX-incompatible input and strict mode is set to "+("unrecognized '"+i+"': "+t+" ["+e+"]"))}}useStrictBehavior(e,t,n){var i=this.strict;if(typeof i=="function")try{i=i(e,t,n)}catch{i="error"}return!i||i==="ignore"?!1:i===!0||i==="error"?!0:i==="warn"?(typeof console<"u"&&console.warn("LaTeX-incompatible input and strict mode is set to 'warn': "+(t+" ["+e+"]")),!1):(typeof console<"u"&&console.warn("LaTeX-incompatible input and strict mode is set to "+("unrecognized '"+i+"': "+t+" ["+e+"]")),!1)}isTrusted(e){if(e.url&&!e.protocol){var t=St.protocolFromUrl(e.url);if(t==null)return!1;e.protocol=t}var n=typeof this.trust=="function"?this.trust(e):this.trust;return!!n}},Co=class{constructor(e,t,n){this.id=void 0,this.size=void 0,this.cramped=void 0,this.id=e,this.size=t,this.cramped=n}sup(){return Eo[ghe[this.id]]}sub(){return Eo[vhe[this.id]]}fracNum(){return Eo[xhe[this.id]]}fracDen(){return Eo[yhe[this.id]]}cramp(){return Eo[bhe[this.id]]}text(){return Eo[whe[this.id]]}isTight(){return this.size>=2}},J5=0,e1=1,Sd=2,fs=3,Fm=4,Ca=5,Dd=6,gi=7,Eo=[new Co(J5,0,!1),new Co(e1,0,!0),new Co(Sd,1,!1),new Co(fs,1,!0),new Co(Fm,2,!1),new Co(Ca,2,!0),new Co(Dd,3,!1),new Co(gi,3,!0)],ghe=[Fm,Ca,Fm,Ca,Dd,gi,Dd,gi],vhe=[Ca,Ca,Ca,Ca,gi,gi,gi,gi],xhe=[Sd,fs,Fm,Ca,Dd,gi,Dd,gi],yhe=[fs,fs,Ca,Ca,gi,gi,gi,gi],bhe=[e1,e1,fs,fs,Ca,Ca,gi,gi],whe=[J5,e1,Sd,fs,Sd,fs,Sd,fs],Et={DISPLAY:Eo[J5],TEXT:Eo[Sd],SCRIPT:Eo[Fm],SCRIPTSCRIPT:Eo[Dd]},V5=[{name:"latin",blocks:[[256,591],[768,879]]},{name:"cyrillic",blocks:[[1024,1279]]},{name:"armenian",blocks:[[1328,1423]]},{name:"brahmic",blocks:[[2304,4255]]},{name:"georgian",blocks:[[4256,4351]]},{name:"cjk",blocks:[[12288,12543],[19968,40879],[65280,65376]]},{name:"hangul",blocks:[[44032,55215]]}];function _he(r){for(var e=0;e<V5.length;e++)for(var t=V5[e],n=0;n<t.blocks.length;n++){var i=t.blocks[n];if(r>=i[0]&&r<=i[1])return t.name}return null}var Qv=[];V5.forEach(r=>r.blocks.forEach(e=>Qv.push(...e)));function w$(r){for(var e=0;e<Qv.length;e+=2)if(r>=Qv[e]&&r<=Qv[e+1])return!0;return!1}var _d=80,She=function(e,t){return"M95,"+(622+e+t)+`
c-2.7,0,-7.17,-2.7,-13.5,-8c-5.8,-5.3,-9.5,-10,-9.5,-14
c0,-2,0.3,-3.3,1,-4c1.3,-2.7,23.83,-20.7,67.5,-54
c44.2,-33.3,65.8,-50.3,66.5,-51c1.3,-1.3,3,-2,5,-2c4.7,0,8.7,3.3,12,10
s173,378,173,378c0.7,0,35.3,-71,104,-213c68.7,-142,137.5,-285,206.5,-429
c69,-144,104.5,-217.7,106.5,-221
l`+e/2.075+" -"+e+`
c5.3,-9.3,12,-14,20,-14
H400000v`+(40+e)+`H845.2724
s-225.272,467,-225.272,467s-235,486,-235,486c-2.7,4.7,-9,7,-19,7
c-6,0,-10,-1,-12,-3s-194,-422,-194,-422s-65,47,-65,47z
M`+(834+e)+" "+t+"h400000v"+(40+e)+"h-400000z"},Dhe=function(e,t){return"M263,"+(601+e+t)+`c0.7,0,18,39.7,52,119
c34,79.3,68.167,158.7,102.5,238c34.3,79.3,51.8,119.3,52.5,120
c340,-704.7,510.7,-1060.3,512,-1067
l`+e/2.084+" -"+e+`
c4.7,-7.3,11,-11,19,-11
H40000v`+(40+e)+`H1012.3
s-271.3,567,-271.3,567c-38.7,80.7,-84,175,-136,283c-52,108,-89.167,185.3,-111.5,232
c-22.3,46.7,-33.8,70.3,-34.5,71c-4.7,4.7,-12.3,7,-23,7s-12,-1,-12,-1
s-109,-253,-109,-253c-72.7,-168,-109.3,-252,-110,-252c-10.7,8,-22,16.7,-34,26
c-22,17.3,-33.3,26,-34,26s-26,-26,-26,-26s76,-59,76,-59s76,-60,76,-60z
M`+(1001+e)+" "+t+"h400000v"+(40+e)+"h-400000z"},Che=function(e,t){return"M983 "+(10+e+t)+`
l`+e/3.13+" -"+e+`
c4,-6.7,10,-10,18,-10 H400000v`+(40+e)+`
H1013.1s-83.4,268,-264.1,840c-180.7,572,-277,876.3,-289,913c-4.7,4.7,-12.7,7,-24,7
s-12,0,-12,0c-1.3,-3.3,-3.7,-11.7,-7,-25c-35.3,-125.3,-106.7,-373.3,-214,-744
c-10,12,-21,25,-33,39s-32,39,-32,39c-6,-5.3,-15,-14,-27,-26s25,-30,25,-30
c26.7,-32.7,52,-63,76,-91s52,-60,52,-60s208,722,208,722
c56,-175.3,126.3,-397.3,211,-666c84.7,-268.7,153.8,-488.2,207.5,-658.5
c53.7,-170.3,84.5,-266.8,92.5,-289.5z
M`+(1001+e)+" "+t+"h400000v"+(40+e)+"h-400000z"},Ehe=function(e,t){return"M424,"+(2398+e+t)+`
c-1.3,-0.7,-38.5,-172,-111.5,-514c-73,-342,-109.8,-513.3,-110.5,-514
c0,-2,-10.7,14.3,-32,49c-4.7,7.3,-9.8,15.7,-15.5,25c-5.7,9.3,-9.8,16,-12.5,20
s-5,7,-5,7c-4,-3.3,-8.3,-7.7,-13,-13s-13,-13,-13,-13s76,-122,76,-122s77,-121,77,-121
s209,968,209,968c0,-2,84.7,-361.7,254,-1079c169.3,-717.3,254.7,-1077.7,256,-1081
l`+e/4.223+" -"+e+`c4,-6.7,10,-10,18,-10 H400000
v`+(40+e)+`H1014.6
s-87.3,378.7,-272.6,1166c-185.3,787.3,-279.3,1182.3,-282,1185
c-2,6,-10,9,-24,9
c-8,0,-12,-0.7,-12,-2z M`+(1001+e)+" "+t+`
h400000v`+(40+e)+"h-400000z"},Ahe=function(e,t){return"M473,"+(2713+e+t)+`
c339.3,-1799.3,509.3,-2700,510,-2702 l`+e/5.298+" -"+e+`
c3.3,-7.3,9.3,-11,18,-11 H400000v`+(40+e)+`H1017.7
s-90.5,478,-276.2,1466c-185.7,988,-279.5,1483,-281.5,1485c-2,6,-10,9,-24,9
c-8,0,-12,-0.7,-12,-2c0,-1.3,-5.3,-32,-16,-92c-50.7,-293.3,-119.7,-693.3,-207,-1200
c0,-1.3,-5.3,8.7,-16,30c-10.7,21.3,-21.3,42.7,-32,64s-16,33,-16,33s-26,-26,-26,-26
s76,-153,76,-153s77,-151,77,-151c0.7,0.7,35.7,202,105,604c67.3,400.7,102,602.7,104,
606zM`+(1001+e)+" "+t+"h400000v"+(40+e)+"H1017.7z"},Mhe=function(e){var t=e/2;return"M400000 "+e+" H0 L"+t+" 0 l65 45 L145 "+(e-80)+" H400000z"},Nhe=function(e,t,n){var i=n-54-t-e;return"M702 "+(e+t)+"H400000"+(40+e)+`
H742v`+i+`l-4 4-4 4c-.667.7 -2 1.5-4 2.5s-4.167 1.833-6.5 2.5-5.5 1-9.5 1
h-12l-28-84c-16.667-52-96.667 -294.333-240-727l-212 -643 -85 170
c-4-3.333-8.333-7.667-13 -13l-13-13l77-155 77-156c66 199.333 139 419.667
219 661 l218 661zM702 `+t+"H400000v"+(40+e)+"H742z"},The=function(e,t,n){t=1e3*t;var i="";switch(e){case"sqrtMain":i=She(t,_d);break;case"sqrtSize1":i=Dhe(t,_d);break;case"sqrtSize2":i=Che(t,_d);break;case"sqrtSize3":i=Ehe(t,_d);break;case"sqrtSize4":i=Ahe(t,_d);break;case"sqrtTall":i=Nhe(t,_d,n)}return i},Fhe=function(e,t){switch(e){case"\u239C":return"M291 0 H417 V"+t+" H291z M291 0 H417 V"+t+" H291z";case"\u2223":return"M145 0 H188 V"+t+" H145z M145 0 H188 V"+t+" H145z";case"\u2225":return"M145 0 H188 V"+t+" H145z M145 0 H188 V"+t+" H145z"+("M367 0 H410 V"+t+" H367z M367 0 H410 V"+t+" H367z");case"\u239F":return"M457 0 H583 V"+t+" H457z M457 0 H583 V"+t+" H457z";case"\u23A2":return"M319 0 H403 V"+t+" H319z M319 0 H403 V"+t+" H319z";case"\u23A5":return"M263 0 H347 V"+t+" H263z M263 0 H347 V"+t+" H263z";case"\u23AA":return"M384 0 H504 V"+t+" H384z M384 0 H504 V"+t+" H384z";case"\u23D0":return"M312 0 H355 V"+t+" H312z M312 0 H355 V"+t+" H312z";case"\u2016":return"M257 0 H300 V"+t+" H257z M257 0 H300 V"+t+" H257z"+("M478 0 H521 V"+t+" H478z M478 0 H521 V"+t+" H478z");default:return""}},jj={doubleleftarrow:`M262 157
l10-10c34-36 62.7-77 86-123 3.3-8 5-13.3 5-16 0-5.3-6.7-8-20-8-7.3
 0-12.2.5-14.5 1.5-2.3 1-4.8 4.5-7.5 10.5-49.3 97.3-121.7 169.3-217 216-28
 14-57.3 25-88 33-6.7 2-11 3.8-13 5.5-2 1.7-3 4.2-3 7.5s1 5.8 3 7.5
c2 1.7 6.3 3.5 13 5.5 68 17.3 128.2 47.8 180.5 91.5 52.3 43.7 93.8 96.2 124.5
 157.5 9.3 8 15.3 12.3 18 13h6c12-.7 18-4 18-10 0-2-1.7-7-5-15-23.3-46-52-87
-86-123l-10-10h399738v-40H218c328 0 0 0 0 0l-10-8c-26.7-20-65.7-43-117-69 2.7
-2 6-3.7 10-5 36.7-16 72.3-37.3 107-64l10-8h399782v-40z
m8 0v40h399730v-40zm0 194v40h399730v-40z`,doublerightarrow:`M399738 392l
-10 10c-34 36-62.7 77-86 123-3.3 8-5 13.3-5 16 0 5.3 6.7 8 20 8 7.3 0 12.2-.5
 14.5-1.5 2.3-1 4.8-4.5 7.5-10.5 49.3-97.3 121.7-169.3 217-216 28-14 57.3-25 88
-33 6.7-2 11-3.8 13-5.5 2-1.7 3-4.2 3-7.5s-1-5.8-3-7.5c-2-1.7-6.3-3.5-13-5.5-68
-17.3-128.2-47.8-180.5-91.5-52.3-43.7-93.8-96.2-124.5-157.5-9.3-8-15.3-12.3-18
-13h-6c-12 .7-18 4-18 10 0 2 1.7 7 5 15 23.3 46 52 87 86 123l10 10H0v40h399782
c-328 0 0 0 0 0l10 8c26.7 20 65.7 43 117 69-2.7 2-6 3.7-10 5-36.7 16-72.3 37.3
-107 64l-10 8H0v40zM0 157v40h399730v-40zm0 194v40h399730v-40z`,leftarrow:`M400000 241H110l3-3c68.7-52.7 113.7-120
 135-202 4-14.7 6-23 6-25 0-7.3-7-11-21-11-8 0-13.2.8-15.5 2.5-2.3 1.7-4.2 5.8
-5.5 12.5-1.3 4.7-2.7 10.3-4 17-12 48.7-34.8 92-68.5 130S65.3 228.3 18 247
c-10 4-16 7.7-18 11 0 8.7 6 14.3 18 17 47.3 18.7 87.8 47 121.5 85S196 441.3 208
 490c.7 2 1.3 5 2 9s1.2 6.7 1.5 8c.3 1.3 1 3.3 2 6s2.2 4.5 3.5 5.5c1.3 1 3.3
 1.8 6 2.5s6 1 10 1c14 0 21-3.7 21-11 0-2-2-10.3-6-25-20-79.3-65-146.7-135-202
 l-3-3h399890zM100 241v40h399900v-40z`,leftbrace:`M6 548l-6-6v-35l6-11c56-104 135.3-181.3 238-232 57.3-28.7 117
-45 179-50h399577v120H403c-43.3 7-81 15-113 26-100.7 33-179.7 91-237 174-2.7
 5-6 9-10 13-.7 1-7.3 1-20 1H6z`,leftbraceunder:`M0 6l6-6h17c12.688 0 19.313.3 20 1 4 4 7.313 8.3 10 13
 35.313 51.3 80.813 93.8 136.5 127.5 55.688 33.7 117.188 55.8 184.5 66.5.688
 0 2 .3 4 1 18.688 2.7 76 4.3 172 5h399450v120H429l-6-1c-124.688-8-235-61.7
-331-161C60.687 138.7 32.312 99.3 7 54L0 41V6z`,leftgroup:`M400000 80
H435C64 80 168.3 229.4 21 260c-5.9 1.2-18 0-18 0-2 0-3-1-3-3v-38C76 61 257 0
 435 0h399565z`,leftgroupunder:`M400000 262
H435C64 262 168.3 112.6 21 82c-5.9-1.2-18 0-18 0-2 0-3 1-3 3v38c76 158 257 219
 435 219h399565z`,leftharpoon:`M0 267c.7 5.3 3 10 7 14h399993v-40H93c3.3
-3.3 10.2-9.5 20.5-18.5s17.8-15.8 22.5-20.5c50.7-52 88-110.3 112-175 4-11.3 5
-18.3 3-21-1.3-4-7.3-6-18-6-8 0-13 .7-15 2s-4.7 6.7-8 16c-42 98.7-107.3 174.7
-196 228-6.7 4.7-10.7 8-12 10-1.3 2-2 5.7-2 11zm100-26v40h399900v-40z`,leftharpoonplus:`M0 267c.7 5.3 3 10 7 14h399993v-40H93c3.3-3.3 10.2-9.5
 20.5-18.5s17.8-15.8 22.5-20.5c50.7-52 88-110.3 112-175 4-11.3 5-18.3 3-21-1.3
-4-7.3-6-18-6-8 0-13 .7-15 2s-4.7 6.7-8 16c-42 98.7-107.3 174.7-196 228-6.7 4.7
-10.7 8-12 10-1.3 2-2 5.7-2 11zm100-26v40h399900v-40zM0 435v40h400000v-40z
m0 0v40h400000v-40z`,leftharpoondown:`M7 241c-4 4-6.333 8.667-7 14 0 5.333.667 9 2 11s5.333
 5.333 12 10c90.667 54 156 130 196 228 3.333 10.667 6.333 16.333 9 17 2 .667 5
 1 9 1h5c10.667 0 16.667-2 18-6 2-2.667 1-9.667-3-21-32-87.333-82.667-157.667
-152-211l-3-3h399907v-40zM93 281 H400000 v-40L7 241z`,leftharpoondownplus:`M7 435c-4 4-6.3 8.7-7 14 0 5.3.7 9 2 11s5.3 5.3 12
 10c90.7 54 156 130 196 228 3.3 10.7 6.3 16.3 9 17 2 .7 5 1 9 1h5c10.7 0 16.7
-2 18-6 2-2.7 1-9.7-3-21-32-87.3-82.7-157.7-152-211l-3-3h399907v-40H7zm93 0
v40h399900v-40zM0 241v40h399900v-40zm0 0v40h399900v-40z`,lefthook:`M400000 281 H103s-33-11.2-61-33.5S0 197.3 0 164s14.2-61.2 42.5
-83.5C70.8 58.2 104 47 142 47 c16.7 0 25 6.7 25 20 0 12-8.7 18.7-26 20-40 3.3
-68.7 15.7-86 37-10 12-15 25.3-15 40 0 22.7 9.8 40.7 29.5 54 19.7 13.3 43.5 21
 71.5 23h399859zM103 281v-40h399897v40z`,leftlinesegment:`M40 281 V428 H0 V94 H40 V241 H400000 v40z
M40 281 V428 H0 V94 H40 V241 H400000 v40z`,leftmapsto:`M40 281 V448H0V74H40V241H400000v40z
M40 281 V448H0V74H40V241H400000v40z`,leftToFrom:`M0 147h400000v40H0zm0 214c68 40 115.7 95.7 143 167h22c15.3 0 23
-.3 23-1 0-1.3-5.3-13.7-16-37-18-35.3-41.3-69-70-101l-7-8h399905v-40H95l7-8
c28.7-32 52-65.7 70-101 10.7-23.3 16-35.7 16-37 0-.7-7.7-1-23-1h-22C115.7 265.3
 68 321 0 361zm0-174v-40h399900v40zm100 154v40h399900v-40z`,longequal:`M0 50 h400000 v40H0z m0 194h40000v40H0z
M0 50 h400000 v40H0z m0 194h40000v40H0z`,midbrace:`M200428 334
c-100.7-8.3-195.3-44-280-108-55.3-42-101.7-93-139-153l-9-14c-2.7 4-5.7 8.7-9 14
-53.3 86.7-123.7 153-211 199-66.7 36-137.3 56.3-212 62H0V214h199568c178.3-11.7
 311.7-78.3 403-201 6-8 9.7-12 11-12 .7-.7 6.7-1 18-1s17.3.3 18 1c1.3 0 5 4 11
 12 44.7 59.3 101.3 106.3 170 141s145.3 54.3 229 60h199572v120z`,midbraceunder:`M199572 214
c100.7 8.3 195.3 44 280 108 55.3 42 101.7 93 139 153l9 14c2.7-4 5.7-8.7 9-14
 53.3-86.7 123.7-153 211-199 66.7-36 137.3-56.3 212-62h199568v120H200432c-178.3
 11.7-311.7 78.3-403 201-6 8-9.7 12-11 12-.7.7-6.7 1-18 1s-17.3-.3-18-1c-1.3 0
-5-4-11-12-44.7-59.3-101.3-106.3-170-141s-145.3-54.3-229-60H0V214z`,oiintSize1:`M512.6 71.6c272.6 0 320.3 106.8 320.3 178.2 0 70.8-47.7 177.6
-320.3 177.6S193.1 320.6 193.1 249.8c0-71.4 46.9-178.2 319.5-178.2z
m368.1 178.2c0-86.4-60.9-215.4-368.1-215.4-306.4 0-367.3 129-367.3 215.4 0 85.8
60.9 214.8 367.3 214.8 307.2 0 368.1-129 368.1-214.8z`,oiintSize2:`M757.8 100.1c384.7 0 451.1 137.6 451.1 230 0 91.3-66.4 228.8
-451.1 228.8-386.3 0-452.7-137.5-452.7-228.8 0-92.4 66.4-230 452.7-230z
m502.4 230c0-111.2-82.4-277.2-502.4-277.2s-504 166-504 277.2
c0 110 84 276 504 276s502.4-166 502.4-276z`,oiiintSize1:`M681.4 71.6c408.9 0 480.5 106.8 480.5 178.2 0 70.8-71.6 177.6
-480.5 177.6S202.1 320.6 202.1 249.8c0-71.4 70.5-178.2 479.3-178.2z
m525.8 178.2c0-86.4-86.8-215.4-525.7-215.4-437.9 0-524.7 129-524.7 215.4 0
85.8 86.8 214.8 524.7 214.8 438.9 0 525.7-129 525.7-214.8z`,oiiintSize2:`M1021.2 53c603.6 0 707.8 165.8 707.8 277.2 0 110-104.2 275.8
-707.8 275.8-606 0-710.2-165.8-710.2-275.8C311 218.8 415.2 53 1021.2 53z
m770.4 277.1c0-131.2-126.4-327.6-770.5-327.6S248.4 198.9 248.4 330.1
c0 130 128.8 326.4 772.7 326.4s770.5-196.4 770.5-326.4z`,rightarrow:`M0 241v40h399891c-47.3 35.3-84 78-110 128
-16.7 32-27.7 63.7-33 95 0 1.3-.2 2.7-.5 4-.3 1.3-.5 2.3-.5 3 0 7.3 6.7 11 20
 11 8 0 13.2-.8 15.5-2.5 2.3-1.7 4.2-5.5 5.5-11.5 2-13.3 5.7-27 11-41 14.7-44.7
 39-84.5 73-119.5s73.7-60.2 119-75.5c6-2 9-5.7 9-11s-3-9-9-11c-45.3-15.3-85
-40.5-119-75.5s-58.3-74.8-73-119.5c-4.7-14-8.3-27.3-11-40-1.3-6.7-3.2-10.8-5.5
-12.5-2.3-1.7-7.5-2.5-15.5-2.5-14 0-21 3.7-21 11 0 2 2 10.3 6 25 20.7 83.3 67
 151.7 139 205zm0 0v40h399900v-40z`,rightbrace:`M400000 542l
-6 6h-17c-12.7 0-19.3-.3-20-1-4-4-7.3-8.3-10-13-35.3-51.3-80.8-93.8-136.5-127.5
s-117.2-55.8-184.5-66.5c-.7 0-2-.3-4-1-18.7-2.7-76-4.3-172-5H0V214h399571l6 1
c124.7 8 235 61.7 331 161 31.3 33.3 59.7 72.7 85 118l7 13v35z`,rightbraceunder:`M399994 0l6 6v35l-6 11c-56 104-135.3 181.3-238 232-57.3
 28.7-117 45-179 50H-300V214h399897c43.3-7 81-15 113-26 100.7-33 179.7-91 237
-174 2.7-5 6-9 10-13 .7-1 7.3-1 20-1h17z`,rightgroup:`M0 80h399565c371 0 266.7 149.4 414 180 5.9 1.2 18 0 18 0 2 0
 3-1 3-3v-38c-76-158-257-219-435-219H0z`,rightgroupunder:`M0 262h399565c371 0 266.7-149.4 414-180 5.9-1.2 18 0 18
 0 2 0 3 1 3 3v38c-76 158-257 219-435 219H0z`,rightharpoon:`M0 241v40h399993c4.7-4.7 7-9.3 7-14 0-9.3
-3.7-15.3-11-18-92.7-56.7-159-133.7-199-231-3.3-9.3-6-14.7-8-16-2-1.3-7-2-15-2
-10.7 0-16.7 2-18 6-2 2.7-1 9.7 3 21 15.3 42 36.7 81.8 64 119.5 27.3 37.7 58
 69.2 92 94.5zm0 0v40h399900v-40z`,rightharpoonplus:`M0 241v40h399993c4.7-4.7 7-9.3 7-14 0-9.3-3.7-15.3-11
-18-92.7-56.7-159-133.7-199-231-3.3-9.3-6-14.7-8-16-2-1.3-7-2-15-2-10.7 0-16.7
 2-18 6-2 2.7-1 9.7 3 21 15.3 42 36.7 81.8 64 119.5 27.3 37.7 58 69.2 92 94.5z
m0 0v40h399900v-40z m100 194v40h399900v-40zm0 0v40h399900v-40z`,rightharpoondown:`M399747 511c0 7.3 6.7 11 20 11 8 0 13-.8 15-2.5s4.7-6.8
 8-15.5c40-94 99.3-166.3 178-217 13.3-8 20.3-12.3 21-13 5.3-3.3 8.5-5.8 9.5
-7.5 1-1.7 1.5-5.2 1.5-10.5s-2.3-10.3-7-15H0v40h399908c-34 25.3-64.7 57-92 95
-27.3 38-48.7 77.7-64 119-3.3 8.7-5 14-5 16zM0 241v40h399900v-40z`,rightharpoondownplus:`M399747 705c0 7.3 6.7 11 20 11 8 0 13-.8
 15-2.5s4.7-6.8 8-15.5c40-94 99.3-166.3 178-217 13.3-8 20.3-12.3 21-13 5.3-3.3
 8.5-5.8 9.5-7.5 1-1.7 1.5-5.2 1.5-10.5s-2.3-10.3-7-15H0v40h399908c-34 25.3
-64.7 57-92 95-27.3 38-48.7 77.7-64 119-3.3 8.7-5 14-5 16zM0 435v40h399900v-40z
m0-194v40h400000v-40zm0 0v40h400000v-40z`,righthook:`M399859 241c-764 0 0 0 0 0 40-3.3 68.7-15.7 86-37 10-12 15-25.3
 15-40 0-22.7-9.8-40.7-29.5-54-19.7-13.3-43.5-21-71.5-23-17.3-1.3-26-8-26-20 0
-13.3 8.7-20 26-20 38 0 71 11.2 99 33.5 0 0 7 5.6 21 16.7 14 11.2 21 33.5 21
 66.8s-14 61.2-42 83.5c-28 22.3-61 33.5-99 33.5L0 241z M0 281v-40h399859v40z`,rightlinesegment:`M399960 241 V94 h40 V428 h-40 V281 H0 v-40z
M399960 241 V94 h40 V428 h-40 V281 H0 v-40z`,rightToFrom:`M400000 167c-70.7-42-118-97.7-142-167h-23c-15.3 0-23 .3-23
 1 0 1.3 5.3 13.7 16 37 18 35.3 41.3 69 70 101l7 8H0v40h399905l-7 8c-28.7 32
-52 65.7-70 101-10.7 23.3-16 35.7-16 37 0 .7 7.7 1 23 1h23c24-69.3 71.3-125 142
-167z M100 147v40h399900v-40zM0 341v40h399900v-40z`,twoheadleftarrow:`M0 167c68 40
 115.7 95.7 143 167h22c15.3 0 23-.3 23-1 0-1.3-5.3-13.7-16-37-18-35.3-41.3-69
-70-101l-7-8h125l9 7c50.7 39.3 85 86 103 140h46c0-4.7-6.3-18.7-19-42-18-35.3
-40-67.3-66-96l-9-9h399716v-40H284l9-9c26-28.7 48-60.7 66-96 12.7-23.333 19
-37.333 19-42h-46c-18 54-52.3 100.7-103 140l-9 7H95l7-8c28.7-32 52-65.7 70-101
 10.7-23.333 16-35.7 16-37 0-.7-7.7-1-23-1h-22C115.7 71.3 68 127 0 167z`,twoheadrightarrow:`M400000 167
c-68-40-115.7-95.7-143-167h-22c-15.3 0-23 .3-23 1 0 1.3 5.3 13.7 16 37 18 35.3
 41.3 69 70 101l7 8h-125l-9-7c-50.7-39.3-85-86-103-140h-46c0 4.7 6.3 18.7 19 42
 18 35.3 40 67.3 66 96l9 9H0v40h399716l-9 9c-26 28.7-48 60.7-66 96-12.7 23.333
-19 37.333-19 42h46c18-54 52.3-100.7 103-140l9-7h125l-7 8c-28.7 32-52 65.7-70
 101-10.7 23.333-16 35.7-16 37 0 .7 7.7 1 23 1h22c27.3-71.3 75-127 143-167z`,tilde1:`M200 55.538c-77 0-168 73.953-177 73.953-3 0-7
-2.175-9-5.437L2 97c-1-2-2-4-2-6 0-4 2-7 5-9l20-12C116 12 171 0 207 0c86 0
 114 68 191 68 78 0 168-68 177-68 4 0 7 2 9 5l12 19c1 2.175 2 4.35 2 6.525 0
 4.35-2 7.613-5 9.788l-19 13.05c-92 63.077-116.937 75.308-183 76.128
-68.267.847-113-73.952-191-73.952z`,tilde2:`M344 55.266c-142 0-300.638 81.316-311.5 86.418
-8.01 3.762-22.5 10.91-23.5 5.562L1 120c-1-2-1-3-1-4 0-5 3-9 8-10l18.4-9C160.9
 31.9 283 0 358 0c148 0 188 122 331 122s314-97 326-97c4 0 8 2 10 7l7 21.114
c1 2.14 1 3.21 1 4.28 0 5.347-3 9.626-7 10.696l-22.3 12.622C852.6 158.372 751
 181.476 676 181.476c-149 0-189-126.21-332-126.21z`,tilde3:`M786 59C457 59 32 175.242 13 175.242c-6 0-10-3.457
-11-10.37L.15 138c-1-7 3-12 10-13l19.2-6.4C378.4 40.7 634.3 0 804.3 0c337 0
 411.8 157 746.8 157 328 0 754-112 773-112 5 0 10 3 11 9l1 14.075c1 8.066-.697
 16.595-6.697 17.492l-21.052 7.31c-367.9 98.146-609.15 122.696-778.15 122.696
 -338 0-409-156.573-744-156.573z`,tilde4:`M786 58C457 58 32 177.487 13 177.487c-6 0-10-3.345
-11-10.035L.15 143c-1-7 3-12 10-13l22-6.7C381.2 35 637.15 0 807.15 0c337 0 409
 177 744 177 328 0 754-127 773-127 5 0 10 3 11 9l1 14.794c1 7.805-3 13.38-9
 14.495l-20.7 5.574c-366.85 99.79-607.3 139.372-776.3 139.372-338 0-409
 -175.236-744-175.236z`,vec:`M377 20c0-5.333 1.833-10 5.5-14S391 0 397 0c4.667 0 8.667 1.667 12 5
3.333 2.667 6.667 9 10 19 6.667 24.667 20.333 43.667 41 57 7.333 4.667 11
10.667 11 18 0 6-1 10-3 12s-6.667 5-14 9c-28.667 14.667-53.667 35.667-75 63
-1.333 1.333-3.167 3.5-5.5 6.5s-4 4.833-5 5.5c-1 .667-2.5 1.333-4.5 2s-4.333 1
-7 1c-4.667 0-9.167-1.833-13.5-5.5S337 184 337 178c0-12.667 15.667-32.333 47-59
H213l-171-1c-8.667-6-13-12.333-13-19 0-4.667 4.333-11.333 13-20h359
c-16-25.333-24-45-24-59z`,widehat1:`M529 0h5l519 115c5 1 9 5 9 10 0 1-1 2-1 3l-4 22
c-1 5-5 9-11 9h-2L532 67 19 159h-2c-5 0-9-4-11-9l-5-22c-1-6 2-12 8-13z`,widehat2:`M1181 0h2l1171 176c6 0 10 5 10 11l-2 23c-1 6-5 10
-11 10h-1L1182 67 15 220h-1c-6 0-10-4-11-10l-2-23c-1-6 4-11 10-11z`,widehat3:`M1181 0h2l1171 236c6 0 10 5 10 11l-2 23c-1 6-5 10
-11 10h-1L1182 67 15 280h-1c-6 0-10-4-11-10l-2-23c-1-6 4-11 10-11z`,widehat4:`M1181 0h2l1171 296c6 0 10 5 10 11l-2 23c-1 6-5 10
-11 10h-1L1182 67 15 340h-1c-6 0-10-4-11-10l-2-23c-1-6 4-11 10-11z`,widecheck1:`M529,159h5l519,-115c5,-1,9,-5,9,-10c0,-1,-1,-2,-1,-3l-4,-22c-1,
-5,-5,-9,-11,-9h-2l-512,92l-513,-92h-2c-5,0,-9,4,-11,9l-5,22c-1,6,2,12,8,13z`,widecheck2:`M1181,220h2l1171,-176c6,0,10,-5,10,-11l-2,-23c-1,-6,-5,-10,
-11,-10h-1l-1168,153l-1167,-153h-1c-6,0,-10,4,-11,10l-2,23c-1,6,4,11,10,11z`,widecheck3:`M1181,280h2l1171,-236c6,0,10,-5,10,-11l-2,-23c-1,-6,-5,-10,
-11,-10h-1l-1168,213l-1167,-213h-1c-6,0,-10,4,-11,10l-2,23c-1,6,4,11,10,11z`,widecheck4:`M1181,340h2l1171,-296c6,0,10,-5,10,-11l-2,-23c-1,-6,-5,-10,
-11,-10h-1l-1168,273l-1167,-273h-1c-6,0,-10,4,-11,10l-2,23c-1,6,4,11,10,11z`,baraboveleftarrow:`M400000 620h-399890l3 -3c68.7 -52.7 113.7 -120 135 -202
c4 -14.7 6 -23 6 -25c0 -7.3 -7 -11 -21 -11c-8 0 -13.2 0.8 -15.5 2.5
c-2.3 1.7 -4.2 5.8 -5.5 12.5c-1.3 4.7 -2.7 10.3 -4 17c-12 48.7 -34.8 92 -68.5 130
s-74.2 66.3 -121.5 85c-10 4 -16 7.7 -18 11c0 8.7 6 14.3 18 17c47.3 18.7 87.8 47
121.5 85s56.5 81.3 68.5 130c0.7 2 1.3 5 2 9s1.2 6.7 1.5 8c0.3 1.3 1 3.3 2 6
s2.2 4.5 3.5 5.5c1.3 1 3.3 1.8 6 2.5s6 1 10 1c14 0 21 -3.7 21 -11
c0 -2 -2 -10.3 -6 -25c-20 -79.3 -65 -146.7 -135 -202l-3 -3h399890z
M100 620v40h399900v-40z M0 241v40h399900v-40zM0 241v40h399900v-40z`,rightarrowabovebar:`M0 241v40h399891c-47.3 35.3-84 78-110 128-16.7 32
-27.7 63.7-33 95 0 1.3-.2 2.7-.5 4-.3 1.3-.5 2.3-.5 3 0 7.3 6.7 11 20 11 8 0
13.2-.8 15.5-2.5 2.3-1.7 4.2-5.5 5.5-11.5 2-13.3 5.7-27 11-41 14.7-44.7 39
-84.5 73-119.5s73.7-60.2 119-75.5c6-2 9-5.7 9-11s-3-9-9-11c-45.3-15.3-85-40.5
-119-75.5s-58.3-74.8-73-119.5c-4.7-14-8.3-27.3-11-40-1.3-6.7-3.2-10.8-5.5
-12.5-2.3-1.7-7.5-2.5-15.5-2.5-14 0-21 3.7-21 11 0 2 2 10.3 6 25 20.7 83.3 67
151.7 139 205zm96 379h399894v40H0zm0 0h399904v40H0z`,baraboveshortleftharpoon:`M507,435c-4,4,-6.3,8.7,-7,14c0,5.3,0.7,9,2,11
c1.3,2,5.3,5.3,12,10c90.7,54,156,130,196,228c3.3,10.7,6.3,16.3,9,17
c2,0.7,5,1,9,1c0,0,5,0,5,0c10.7,0,16.7,-2,18,-6c2,-2.7,1,-9.7,-3,-21
c-32,-87.3,-82.7,-157.7,-152,-211c0,0,-3,-3,-3,-3l399351,0l0,-40
c-398570,0,-399437,0,-399437,0z M593 435 v40 H399500 v-40z
M0 281 v-40 H399908 v40z M0 281 v-40 H399908 v40z`,rightharpoonaboveshortbar:`M0,241 l0,40c399126,0,399993,0,399993,0
c4.7,-4.7,7,-9.3,7,-14c0,-9.3,-3.7,-15.3,-11,-18c-92.7,-56.7,-159,-133.7,-199,
-231c-3.3,-9.3,-6,-14.7,-8,-16c-2,-1.3,-7,-2,-15,-2c-10.7,0,-16.7,2,-18,6
c-2,2.7,-1,9.7,3,21c15.3,42,36.7,81.8,64,119.5c27.3,37.7,58,69.2,92,94.5z
M0 241 v40 H399908 v-40z M0 475 v-40 H399500 v40z M0 475 v-40 H399500 v40z`,shortbaraboveleftharpoon:`M7,435c-4,4,-6.3,8.7,-7,14c0,5.3,0.7,9,2,11
c1.3,2,5.3,5.3,12,10c90.7,54,156,130,196,228c3.3,10.7,6.3,16.3,9,17c2,0.7,5,1,9,
1c0,0,5,0,5,0c10.7,0,16.7,-2,18,-6c2,-2.7,1,-9.7,-3,-21c-32,-87.3,-82.7,-157.7,
-152,-211c0,0,-3,-3,-3,-3l399907,0l0,-40c-399126,0,-399993,0,-399993,0z
M93 435 v40 H400000 v-40z M500 241 v40 H400000 v-40z M500 241 v40 H400000 v-40z`,shortrightharpoonabovebar:`M53,241l0,40c398570,0,399437,0,399437,0
c4.7,-4.7,7,-9.3,7,-14c0,-9.3,-3.7,-15.3,-11,-18c-92.7,-56.7,-159,-133.7,-199,
-231c-3.3,-9.3,-6,-14.7,-8,-16c-2,-1.3,-7,-2,-15,-2c-10.7,0,-16.7,2,-18,6
c-2,2.7,-1,9.7,3,21c15.3,42,36.7,81.8,64,119.5c27.3,37.7,58,69.2,92,94.5z
M500 241 v40 H399408 v-40z M500 435 v40 H400000 v-40z`},Ihe=function(e,t){switch(e){case"lbrack":return"M403 1759 V84 H666 V0 H319 V1759 v"+t+` v1759 h347 v-84
H403z M403 1759 V0 H319 V1759 v`+t+" v1759 h84z";case"rbrack":return"M347 1759 V0 H0 V84 H263 V1759 v"+t+` v1759 H0 v84 H347z
M347 1759 V0 H263 V1759 v`+t+" v1759 h84z";case"vert":return"M145 15 v585 v"+t+` v585 c2.667,10,9.667,15,21,15
c10,0,16.667,-5,20,-15 v-585 v`+-t+` v-585 c-2.667,-10,-9.667,-15,-21,-15
c-10,0,-16.667,5,-20,15z M188 15 H145 v585 v`+t+" v585 h43z";case"doublevert":return"M145 15 v585 v"+t+` v585 c2.667,10,9.667,15,21,15
c10,0,16.667,-5,20,-15 v-585 v`+-t+` v-585 c-2.667,-10,-9.667,-15,-21,-15
c-10,0,-16.667,5,-20,15z M188 15 H145 v585 v`+t+` v585 h43z
M367 15 v585 v`+t+` v585 c2.667,10,9.667,15,21,15
c10,0,16.667,-5,20,-15 v-585 v`+-t+` v-585 c-2.667,-10,-9.667,-15,-21,-15
c-10,0,-16.667,5,-20,15z M410 15 H367 v585 v`+t+" v585 h43z";case"lfloor":return"M319 602 V0 H403 V602 v"+t+` v1715 h263 v84 H319z
MM319 602 V0 H403 V602 v`+t+" v1715 H319z";case"rfloor":return"M319 602 V0 H403 V602 v"+t+` v1799 H0 v-84 H319z
MM319 602 V0 H403 V602 v`+t+" v1715 H319z";case"lceil":return"M403 1759 V84 H666 V0 H319 V1759 v"+t+` v602 h84z
M403 1759 V0 H319 V1759 v`+t+" v602 h84z";case"rceil":return"M347 1759 V0 H0 V84 H263 V1759 v"+t+` v602 h84z
M347 1759 V0 h-84 V1759 v`+t+" v602 h84z";case"lparen":return`M863,9c0,-2,-2,-5,-6,-9c0,0,-17,0,-17,0c-12.7,0,-19.3,0.3,-20,1
c-5.3,5.3,-10.3,11,-15,17c-242.7,294.7,-395.3,682,-458,1162c-21.3,163.3,-33.3,349,
-36,557 l0,`+(t+84)+`c0.2,6,0,26,0,60c2,159.3,10,310.7,24,454c53.3,528,210,
949.7,470,1265c4.7,6,9.7,11.7,15,17c0.7,0.7,7,1,19,1c0,0,18,0,18,0c4,-4,6,-7,6,-9
c0,-2.7,-3.3,-8.7,-10,-18c-135.3,-192.7,-235.5,-414.3,-300.5,-665c-65,-250.7,-102.5,
-544.7,-112.5,-882c-2,-104,-3,-167,-3,-189
l0,-`+(t+92)+`c0,-162.7,5.7,-314,17,-454c20.7,-272,63.7,-513,129,-723c65.3,
-210,155.3,-396.3,270,-559c6.7,-9.3,10,-15.3,10,-18z`;case"rparen":return`M76,0c-16.7,0,-25,3,-25,9c0,2,2,6.3,6,13c21.3,28.7,42.3,60.3,
63,95c96.7,156.7,172.8,332.5,228.5,527.5c55.7,195,92.8,416.5,111.5,664.5
c11.3,139.3,17,290.7,17,454c0,28,1.7,43,3.3,45l0,`+(t+9)+`
c-3,4,-3.3,16.7,-3.3,38c0,162,-5.7,313.7,-17,455c-18.7,248,-55.8,469.3,-111.5,664
c-55.7,194.7,-131.8,370.3,-228.5,527c-20.7,34.7,-41.7,66.3,-63,95c-2,3.3,-4,7,-6,11
c0,7.3,5.7,11,17,11c0,0,11,0,11,0c9.3,0,14.3,-0.3,15,-1c5.3,-5.3,10.3,-11,15,-17
c242.7,-294.7,395.3,-681.7,458,-1161c21.3,-164.7,33.3,-350.7,36,-558
l0,-`+(t+144)+`c-2,-159.3,-10,-310.7,-24,-454c-53.3,-528,-210,-949.7,
-470,-1265c-4.7,-6,-9.7,-11.7,-15,-17c-0.7,-0.7,-6.7,-1,-18,-1z`;default:throw new Error("Unknown stretchy delimiter.")}},Du=class{constructor(e){this.children=void 0,this.classes=void 0,this.height=void 0,this.depth=void 0,this.maxFontSize=void 0,this.style=void 0,this.children=e,this.classes=[],this.height=0,this.depth=0,this.maxFontSize=0,this.style={}}hasClass(e){return St.contains(this.classes,e)}toNode(){for(var e=document.createDocumentFragment(),t=0;t<this.children.length;t++)e.appendChild(this.children[t].toNode());return e}toMarkup(){for(var e="",t=0;t<this.children.length;t++)e+=this.children[t].toMarkup();return e}toText(){var e=t=>t.toText();return this.children.map(e).join("")}},Ao={"AMS-Regular":{32:[0,0,0,0,.25],65:[0,.68889,0,0,.72222],66:[0,.68889,0,0,.66667],67:[0,.68889,0,0,.72222],68:[0,.68889,0,0,.72222],69:[0,.68889,0,0,.66667],70:[0,.68889,0,0,.61111],71:[0,.68889,0,0,.77778],72:[0,.68889,0,0,.77778],73:[0,.68889,0,0,.38889],74:[.16667,.68889,0,0,.5],75:[0,.68889,0,0,.77778],76:[0,.68889,0,0,.66667],77:[0,.68889,0,0,.94445],78:[0,.68889,0,0,.72222],79:[.16667,.68889,0,0,.77778],80:[0,.68889,0,0,.61111],81:[.16667,.68889,0,0,.77778],82:[0,.68889,0,0,.72222],83:[0,.68889,0,0,.55556],84:[0,.68889,0,0,.66667],85:[0,.68889,0,0,.72222],86:[0,.68889,0,0,.72222],87:[0,.68889,0,0,1],88:[0,.68889,0,0,.72222],89:[0,.68889,0,0,.72222],90:[0,.68889,0,0,.66667],107:[0,.68889,0,0,.55556],160:[0,0,0,0,.25],165:[0,.675,.025,0,.75],174:[.15559,.69224,0,0,.94666],240:[0,.68889,0,0,.55556],295:[0,.68889,0,0,.54028],710:[0,.825,0,0,2.33334],732:[0,.9,0,0,2.33334],770:[0,.825,0,0,2.33334],771:[0,.9,0,0,2.33334],989:[.08167,.58167,0,0,.77778],1008:[0,.43056,.04028,0,.66667],8245:[0,.54986,0,0,.275],8463:[0,.68889,0,0,.54028],8487:[0,.68889,0,0,.72222],8498:[0,.68889,0,0,.55556],8502:[0,.68889,0,0,.66667],8503:[0,.68889,0,0,.44445],8504:[0,.68889,0,0,.66667],8513:[0,.68889,0,0,.63889],8592:[-.03598,.46402,0,0,.5],8594:[-.03598,.46402,0,0,.5],8602:[-.13313,.36687,0,0,1],8603:[-.13313,.36687,0,0,1],8606:[.01354,.52239,0,0,1],8608:[.01354,.52239,0,0,1],8610:[.01354,.52239,0,0,1.11111],8611:[.01354,.52239,0,0,1.11111],8619:[0,.54986,0,0,1],8620:[0,.54986,0,0,1],8621:[-.13313,.37788,0,0,1.38889],8622:[-.13313,.36687,0,0,1],8624:[0,.69224,0,0,.5],8625:[0,.69224,0,0,.5],8630:[0,.43056,0,0,1],8631:[0,.43056,0,0,1],8634:[.08198,.58198,0,0,.77778],8635:[.08198,.58198,0,0,.77778],8638:[.19444,.69224,0,0,.41667],8639:[.19444,.69224,0,0,.41667],8642:[.19444,.69224,0,0,.41667],8643:[.19444,.69224,0,0,.41667],8644:[.1808,.675,0,0,1],8646:[.1808,.675,0,0,1],8647:[.1808,.675,0,0,1],8648:[.19444,.69224,0,0,.83334],8649:[.1808,.675,0,0,1],8650:[.19444,.69224,0,0,.83334],8651:[.01354,.52239,0,0,1],8652:[.01354,.52239,0,0,1],8653:[-.13313,.36687,0,0,1],8654:[-.13313,.36687,0,0,1],8655:[-.13313,.36687,0,0,1],8666:[.13667,.63667,0,0,1],8667:[.13667,.63667,0,0,1],8669:[-.13313,.37788,0,0,1],8672:[-.064,.437,0,0,1.334],8674:[-.064,.437,0,0,1.334],8705:[0,.825,0,0,.5],8708:[0,.68889,0,0,.55556],8709:[.08167,.58167,0,0,.77778],8717:[0,.43056,0,0,.42917],8722:[-.03598,.46402,0,0,.5],8724:[.08198,.69224,0,0,.77778],8726:[.08167,.58167,0,0,.77778],8733:[0,.69224,0,0,.77778],8736:[0,.69224,0,0,.72222],8737:[0,.69224,0,0,.72222],8738:[.03517,.52239,0,0,.72222],8739:[.08167,.58167,0,0,.22222],8740:[.25142,.74111,0,0,.27778],8741:[.08167,.58167,0,0,.38889],8742:[.25142,.74111,0,0,.5],8756:[0,.69224,0,0,.66667],8757:[0,.69224,0,0,.66667],8764:[-.13313,.36687,0,0,.77778],8765:[-.13313,.37788,0,0,.77778],8769:[-.13313,.36687,0,0,.77778],8770:[-.03625,.46375,0,0,.77778],8774:[.30274,.79383,0,0,.77778],8776:[-.01688,.48312,0,0,.77778],8778:[.08167,.58167,0,0,.77778],8782:[.06062,.54986,0,0,.77778],8783:[.06062,.54986,0,0,.77778],8785:[.08198,.58198,0,0,.77778],8786:[.08198,.58198,0,0,.77778],8787:[.08198,.58198,0,0,.77778],8790:[0,.69224,0,0,.77778],8791:[.22958,.72958,0,0,.77778],8796:[.08198,.91667,0,0,.77778],8806:[.25583,.75583,0,0,.77778],8807:[.25583,.75583,0,0,.77778],8808:[.25142,.75726,0,0,.77778],8809:[.25142,.75726,0,0,.77778],8812:[.25583,.75583,0,0,.5],8814:[.20576,.70576,0,0,.77778],8815:[.20576,.70576,0,0,.77778],8816:[.30274,.79383,0,0,.77778],8817:[.30274,.79383,0,0,.77778],8818:[.22958,.72958,0,0,.77778],8819:[.22958,.72958,0,0,.77778],8822:[.1808,.675,0,0,.77778],8823:[.1808,.675,0,0,.77778],8828:[.13667,.63667,0,0,.77778],8829:[.13667,.63667,0,0,.77778],8830:[.22958,.72958,0,0,.77778],8831:[.22958,.72958,0,0,.77778],8832:[.20576,.70576,0,0,.77778],8833:[.20576,.70576,0,0,.77778],8840:[.30274,.79383,0,0,.77778],8841:[.30274,.79383,0,0,.77778],8842:[.13597,.63597,0,0,.77778],8843:[.13597,.63597,0,0,.77778],8847:[.03517,.54986,0,0,.77778],8848:[.03517,.54986,0,0,.77778],8858:[.08198,.58198,0,0,.77778],8859:[.08198,.58198,0,0,.77778],8861:[.08198,.58198,0,0,.77778],8862:[0,.675,0,0,.77778],8863:[0,.675,0,0,.77778],8864:[0,.675,0,0,.77778],8865:[0,.675,0,0,.77778],8872:[0,.69224,0,0,.61111],8873:[0,.69224,0,0,.72222],8874:[0,.69224,0,0,.88889],8876:[0,.68889,0,0,.61111],8877:[0,.68889,0,0,.61111],8878:[0,.68889,0,0,.72222],8879:[0,.68889,0,0,.72222],8882:[.03517,.54986,0,0,.77778],8883:[.03517,.54986,0,0,.77778],8884:[.13667,.63667,0,0,.77778],8885:[.13667,.63667,0,0,.77778],8888:[0,.54986,0,0,1.11111],8890:[.19444,.43056,0,0,.55556],8891:[.19444,.69224,0,0,.61111],8892:[.19444,.69224,0,0,.61111],8901:[0,.54986,0,0,.27778],8903:[.08167,.58167,0,0,.77778],8905:[.08167,.58167,0,0,.77778],8906:[.08167,.58167,0,0,.77778],8907:[0,.69224,0,0,.77778],8908:[0,.69224,0,0,.77778],8909:[-.03598,.46402,0,0,.77778],8910:[0,.54986,0,0,.76042],8911:[0,.54986,0,0,.76042],8912:[.03517,.54986,0,0,.77778],8913:[.03517,.54986,0,0,.77778],8914:[0,.54986,0,0,.66667],8915:[0,.54986,0,0,.66667],8916:[0,.69224,0,0,.66667],8918:[.0391,.5391,0,0,.77778],8919:[.0391,.5391,0,0,.77778],8920:[.03517,.54986,0,0,1.33334],8921:[.03517,.54986,0,0,1.33334],8922:[.38569,.88569,0,0,.77778],8923:[.38569,.88569,0,0,.77778],8926:[.13667,.63667,0,0,.77778],8927:[.13667,.63667,0,0,.77778],8928:[.30274,.79383,0,0,.77778],8929:[.30274,.79383,0,0,.77778],8934:[.23222,.74111,0,0,.77778],8935:[.23222,.74111,0,0,.77778],8936:[.23222,.74111,0,0,.77778],8937:[.23222,.74111,0,0,.77778],8938:[.20576,.70576,0,0,.77778],8939:[.20576,.70576,0,0,.77778],8940:[.30274,.79383,0,0,.77778],8941:[.30274,.79383,0,0,.77778],8994:[.19444,.69224,0,0,.77778],8995:[.19444,.69224,0,0,.77778],9416:[.15559,.69224,0,0,.90222],9484:[0,.69224,0,0,.5],9488:[0,.69224,0,0,.5],9492:[0,.37788,0,0,.5],9496:[0,.37788,0,0,.5],9585:[.19444,.68889,0,0,.88889],9586:[.19444,.74111,0,0,.88889],9632:[0,.675,0,0,.77778],9633:[0,.675,0,0,.77778],9650:[0,.54986,0,0,.72222],9651:[0,.54986,0,0,.72222],9654:[.03517,.54986,0,0,.77778],9660:[0,.54986,0,0,.72222],9661:[0,.54986,0,0,.72222],9664:[.03517,.54986,0,0,.77778],9674:[.11111,.69224,0,0,.66667],9733:[.19444,.69224,0,0,.94445],10003:[0,.69224,0,0,.83334],10016:[0,.69224,0,0,.83334],10731:[.11111,.69224,0,0,.66667],10846:[.19444,.75583,0,0,.61111],10877:[.13667,.63667,0,0,.77778],10878:[.13667,.63667,0,0,.77778],10885:[.25583,.75583,0,0,.77778],10886:[.25583,.75583,0,0,.77778],10887:[.13597,.63597,0,0,.77778],10888:[.13597,.63597,0,0,.77778],10889:[.26167,.75726,0,0,.77778],10890:[.26167,.75726,0,0,.77778],10891:[.48256,.98256,0,0,.77778],10892:[.48256,.98256,0,0,.77778],10901:[.13667,.63667,0,0,.77778],10902:[.13667,.63667,0,0,.77778],10933:[.25142,.75726,0,0,.77778],10934:[.25142,.75726,0,0,.77778],10935:[.26167,.75726,0,0,.77778],10936:[.26167,.75726,0,0,.77778],10937:[.26167,.75726,0,0,.77778],10938:[.26167,.75726,0,0,.77778],10949:[.25583,.75583,0,0,.77778],10950:[.25583,.75583,0,0,.77778],10955:[.28481,.79383,0,0,.77778],10956:[.28481,.79383,0,0,.77778],57350:[.08167,.58167,0,0,.22222],57351:[.08167,.58167,0,0,.38889],57352:[.08167,.58167,0,0,.77778],57353:[0,.43056,.04028,0,.66667],57356:[.25142,.75726,0,0,.77778],57357:[.25142,.75726,0,0,.77778],57358:[.41951,.91951,0,0,.77778],57359:[.30274,.79383,0,0,.77778],57360:[.30274,.79383,0,0,.77778],57361:[.41951,.91951,0,0,.77778],57366:[.25142,.75726,0,0,.77778],57367:[.25142,.75726,0,0,.77778],57368:[.25142,.75726,0,0,.77778],57369:[.25142,.75726,0,0,.77778],57370:[.13597,.63597,0,0,.77778],57371:[.13597,.63597,0,0,.77778]},"Caligraphic-Regular":{32:[0,0,0,0,.25],65:[0,.68333,0,.19445,.79847],66:[0,.68333,.03041,.13889,.65681],67:[0,.68333,.05834,.13889,.52653],68:[0,.68333,.02778,.08334,.77139],69:[0,.68333,.08944,.11111,.52778],70:[0,.68333,.09931,.11111,.71875],71:[.09722,.68333,.0593,.11111,.59487],72:[0,.68333,.00965,.11111,.84452],73:[0,.68333,.07382,0,.54452],74:[.09722,.68333,.18472,.16667,.67778],75:[0,.68333,.01445,.05556,.76195],76:[0,.68333,0,.13889,.68972],77:[0,.68333,0,.13889,1.2009],78:[0,.68333,.14736,.08334,.82049],79:[0,.68333,.02778,.11111,.79611],80:[0,.68333,.08222,.08334,.69556],81:[.09722,.68333,0,.11111,.81667],82:[0,.68333,0,.08334,.8475],83:[0,.68333,.075,.13889,.60556],84:[0,.68333,.25417,0,.54464],85:[0,.68333,.09931,.08334,.62583],86:[0,.68333,.08222,0,.61278],87:[0,.68333,.08222,.08334,.98778],88:[0,.68333,.14643,.13889,.7133],89:[.09722,.68333,.08222,.08334,.66834],90:[0,.68333,.07944,.13889,.72473],160:[0,0,0,0,.25]},"Fraktur-Regular":{32:[0,0,0,0,.25],33:[0,.69141,0,0,.29574],34:[0,.69141,0,0,.21471],38:[0,.69141,0,0,.73786],39:[0,.69141,0,0,.21201],40:[.24982,.74947,0,0,.38865],41:[.24982,.74947,0,0,.38865],42:[0,.62119,0,0,.27764],43:[.08319,.58283,0,0,.75623],44:[0,.10803,0,0,.27764],45:[.08319,.58283,0,0,.75623],46:[0,.10803,0,0,.27764],47:[.24982,.74947,0,0,.50181],48:[0,.47534,0,0,.50181],49:[0,.47534,0,0,.50181],50:[0,.47534,0,0,.50181],51:[.18906,.47534,0,0,.50181],52:[.18906,.47534,0,0,.50181],53:[.18906,.47534,0,0,.50181],54:[0,.69141,0,0,.50181],55:[.18906,.47534,0,0,.50181],56:[0,.69141,0,0,.50181],57:[.18906,.47534,0,0,.50181],58:[0,.47534,0,0,.21606],59:[.12604,.47534,0,0,.21606],61:[-.13099,.36866,0,0,.75623],63:[0,.69141,0,0,.36245],65:[0,.69141,0,0,.7176],66:[0,.69141,0,0,.88397],67:[0,.69141,0,0,.61254],68:[0,.69141,0,0,.83158],69:[0,.69141,0,0,.66278],70:[.12604,.69141,0,0,.61119],71:[0,.69141,0,0,.78539],72:[.06302,.69141,0,0,.7203],73:[0,.69141,0,0,.55448],74:[.12604,.69141,0,0,.55231],75:[0,.69141,0,0,.66845],76:[0,.69141,0,0,.66602],77:[0,.69141,0,0,1.04953],78:[0,.69141,0,0,.83212],79:[0,.69141,0,0,.82699],80:[.18906,.69141,0,0,.82753],81:[.03781,.69141,0,0,.82699],82:[0,.69141,0,0,.82807],83:[0,.69141,0,0,.82861],84:[0,.69141,0,0,.66899],85:[0,.69141,0,0,.64576],86:[0,.69141,0,0,.83131],87:[0,.69141,0,0,1.04602],88:[0,.69141,0,0,.71922],89:[.18906,.69141,0,0,.83293],90:[.12604,.69141,0,0,.60201],91:[.24982,.74947,0,0,.27764],93:[.24982,.74947,0,0,.27764],94:[0,.69141,0,0,.49965],97:[0,.47534,0,0,.50046],98:[0,.69141,0,0,.51315],99:[0,.47534,0,0,.38946],100:[0,.62119,0,0,.49857],101:[0,.47534,0,0,.40053],102:[.18906,.69141,0,0,.32626],103:[.18906,.47534,0,0,.5037],104:[.18906,.69141,0,0,.52126],105:[0,.69141,0,0,.27899],106:[0,.69141,0,0,.28088],107:[0,.69141,0,0,.38946],108:[0,.69141,0,0,.27953],109:[0,.47534,0,0,.76676],110:[0,.47534,0,0,.52666],111:[0,.47534,0,0,.48885],112:[.18906,.52396,0,0,.50046],113:[.18906,.47534,0,0,.48912],114:[0,.47534,0,0,.38919],115:[0,.47534,0,0,.44266],116:[0,.62119,0,0,.33301],117:[0,.47534,0,0,.5172],118:[0,.52396,0,0,.5118],119:[0,.52396,0,0,.77351],120:[.18906,.47534,0,0,.38865],121:[.18906,.47534,0,0,.49884],122:[.18906,.47534,0,0,.39054],160:[0,0,0,0,.25],8216:[0,.69141,0,0,.21471],8217:[0,.69141,0,0,.21471],58112:[0,.62119,0,0,.49749],58113:[0,.62119,0,0,.4983],58114:[.18906,.69141,0,0,.33328],58115:[.18906,.69141,0,0,.32923],58116:[.18906,.47534,0,0,.50343],58117:[0,.69141,0,0,.33301],58118:[0,.62119,0,0,.33409],58119:[0,.47534,0,0,.50073]},"Main-Bold":{32:[0,0,0,0,.25],33:[0,.69444,0,0,.35],34:[0,.69444,0,0,.60278],35:[.19444,.69444,0,0,.95833],36:[.05556,.75,0,0,.575],37:[.05556,.75,0,0,.95833],38:[0,.69444,0,0,.89444],39:[0,.69444,0,0,.31944],40:[.25,.75,0,0,.44722],41:[.25,.75,0,0,.44722],42:[0,.75,0,0,.575],43:[.13333,.63333,0,0,.89444],44:[.19444,.15556,0,0,.31944],45:[0,.44444,0,0,.38333],46:[0,.15556,0,0,.31944],47:[.25,.75,0,0,.575],48:[0,.64444,0,0,.575],49:[0,.64444,0,0,.575],50:[0,.64444,0,0,.575],51:[0,.64444,0,0,.575],52:[0,.64444,0,0,.575],53:[0,.64444,0,0,.575],54:[0,.64444,0,0,.575],55:[0,.64444,0,0,.575],56:[0,.64444,0,0,.575],57:[0,.64444,0,0,.575],58:[0,.44444,0,0,.31944],59:[.19444,.44444,0,0,.31944],60:[.08556,.58556,0,0,.89444],61:[-.10889,.39111,0,0,.89444],62:[.08556,.58556,0,0,.89444],63:[0,.69444,0,0,.54305],64:[0,.69444,0,0,.89444],65:[0,.68611,0,0,.86944],66:[0,.68611,0,0,.81805],67:[0,.68611,0,0,.83055],68:[0,.68611,0,0,.88194],69:[0,.68611,0,0,.75555],70:[0,.68611,0,0,.72361],71:[0,.68611,0,0,.90416],72:[0,.68611,0,0,.9],73:[0,.68611,0,0,.43611],74:[0,.68611,0,0,.59444],75:[0,.68611,0,0,.90138],76:[0,.68611,0,0,.69166],77:[0,.68611,0,0,1.09166],78:[0,.68611,0,0,.9],79:[0,.68611,0,0,.86388],80:[0,.68611,0,0,.78611],81:[.19444,.68611,0,0,.86388],82:[0,.68611,0,0,.8625],83:[0,.68611,0,0,.63889],84:[0,.68611,0,0,.8],85:[0,.68611,0,0,.88472],86:[0,.68611,.01597,0,.86944],87:[0,.68611,.01597,0,1.18888],88:[0,.68611,0,0,.86944],89:[0,.68611,.02875,0,.86944],90:[0,.68611,0,0,.70277],91:[.25,.75,0,0,.31944],92:[.25,.75,0,0,.575],93:[.25,.75,0,0,.31944],94:[0,.69444,0,0,.575],95:[.31,.13444,.03194,0,.575],97:[0,.44444,0,0,.55902],98:[0,.69444,0,0,.63889],99:[0,.44444,0,0,.51111],100:[0,.69444,0,0,.63889],101:[0,.44444,0,0,.52708],102:[0,.69444,.10903,0,.35139],103:[.19444,.44444,.01597,0,.575],104:[0,.69444,0,0,.63889],105:[0,.69444,0,0,.31944],106:[.19444,.69444,0,0,.35139],107:[0,.69444,0,0,.60694],108:[0,.69444,0,0,.31944],109:[0,.44444,0,0,.95833],110:[0,.44444,0,0,.63889],111:[0,.44444,0,0,.575],112:[.19444,.44444,0,0,.63889],113:[.19444,.44444,0,0,.60694],114:[0,.44444,0,0,.47361],115:[0,.44444,0,0,.45361],116:[0,.63492,0,0,.44722],117:[0,.44444,0,0,.63889],118:[0,.44444,.01597,0,.60694],119:[0,.44444,.01597,0,.83055],120:[0,.44444,0,0,.60694],121:[.19444,.44444,.01597,0,.60694],122:[0,.44444,0,0,.51111],123:[.25,.75,0,0,.575],124:[.25,.75,0,0,.31944],125:[.25,.75,0,0,.575],126:[.35,.34444,0,0,.575],160:[0,0,0,0,.25],163:[0,.69444,0,0,.86853],168:[0,.69444,0,0,.575],172:[0,.44444,0,0,.76666],176:[0,.69444,0,0,.86944],177:[.13333,.63333,0,0,.89444],184:[.17014,0,0,0,.51111],198:[0,.68611,0,0,1.04166],215:[.13333,.63333,0,0,.89444],216:[.04861,.73472,0,0,.89444],223:[0,.69444,0,0,.59722],230:[0,.44444,0,0,.83055],247:[.13333,.63333,0,0,.89444],248:[.09722,.54167,0,0,.575],305:[0,.44444,0,0,.31944],338:[0,.68611,0,0,1.16944],339:[0,.44444,0,0,.89444],567:[.19444,.44444,0,0,.35139],710:[0,.69444,0,0,.575],711:[0,.63194,0,0,.575],713:[0,.59611,0,0,.575],714:[0,.69444,0,0,.575],715:[0,.69444,0,0,.575],728:[0,.69444,0,0,.575],729:[0,.69444,0,0,.31944],730:[0,.69444,0,0,.86944],732:[0,.69444,0,0,.575],733:[0,.69444,0,0,.575],915:[0,.68611,0,0,.69166],916:[0,.68611,0,0,.95833],920:[0,.68611,0,0,.89444],923:[0,.68611,0,0,.80555],926:[0,.68611,0,0,.76666],928:[0,.68611,0,0,.9],931:[0,.68611,0,0,.83055],933:[0,.68611,0,0,.89444],934:[0,.68611,0,0,.83055],936:[0,.68611,0,0,.89444],937:[0,.68611,0,0,.83055],8211:[0,.44444,.03194,0,.575],8212:[0,.44444,.03194,0,1.14999],8216:[0,.69444,0,0,.31944],8217:[0,.69444,0,0,.31944],8220:[0,.69444,0,0,.60278],8221:[0,.69444,0,0,.60278],8224:[.19444,.69444,0,0,.51111],8225:[.19444,.69444,0,0,.51111],8242:[0,.55556,0,0,.34444],8407:[0,.72444,.15486,0,.575],8463:[0,.69444,0,0,.66759],8465:[0,.69444,0,0,.83055],8467:[0,.69444,0,0,.47361],8472:[.19444,.44444,0,0,.74027],8476:[0,.69444,0,0,.83055],8501:[0,.69444,0,0,.70277],8592:[-.10889,.39111,0,0,1.14999],8593:[.19444,.69444,0,0,.575],8594:[-.10889,.39111,0,0,1.14999],8595:[.19444,.69444,0,0,.575],8596:[-.10889,.39111,0,0,1.14999],8597:[.25,.75,0,0,.575],8598:[.19444,.69444,0,0,1.14999],8599:[.19444,.69444,0,0,1.14999],8600:[.19444,.69444,0,0,1.14999],8601:[.19444,.69444,0,0,1.14999],8636:[-.10889,.39111,0,0,1.14999],8637:[-.10889,.39111,0,0,1.14999],8640:[-.10889,.39111,0,0,1.14999],8641:[-.10889,.39111,0,0,1.14999],8656:[-.10889,.39111,0,0,1.14999],8657:[.19444,.69444,0,0,.70277],8658:[-.10889,.39111,0,0,1.14999],8659:[.19444,.69444,0,0,.70277],8660:[-.10889,.39111,0,0,1.14999],8661:[.25,.75,0,0,.70277],8704:[0,.69444,0,0,.63889],8706:[0,.69444,.06389,0,.62847],8707:[0,.69444,0,0,.63889],8709:[.05556,.75,0,0,.575],8711:[0,.68611,0,0,.95833],8712:[.08556,.58556,0,0,.76666],8715:[.08556,.58556,0,0,.76666],8722:[.13333,.63333,0,0,.89444],8723:[.13333,.63333,0,0,.89444],8725:[.25,.75,0,0,.575],8726:[.25,.75,0,0,.575],8727:[-.02778,.47222,0,0,.575],8728:[-.02639,.47361,0,0,.575],8729:[-.02639,.47361,0,0,.575],8730:[.18,.82,0,0,.95833],8733:[0,.44444,0,0,.89444],8734:[0,.44444,0,0,1.14999],8736:[0,.69224,0,0,.72222],8739:[.25,.75,0,0,.31944],8741:[.25,.75,0,0,.575],8743:[0,.55556,0,0,.76666],8744:[0,.55556,0,0,.76666],8745:[0,.55556,0,0,.76666],8746:[0,.55556,0,0,.76666],8747:[.19444,.69444,.12778,0,.56875],8764:[-.10889,.39111,0,0,.89444],8768:[.19444,.69444,0,0,.31944],8771:[.00222,.50222,0,0,.89444],8773:[.027,.638,0,0,.894],8776:[.02444,.52444,0,0,.89444],8781:[.00222,.50222,0,0,.89444],8801:[.00222,.50222,0,0,.89444],8804:[.19667,.69667,0,0,.89444],8805:[.19667,.69667,0,0,.89444],8810:[.08556,.58556,0,0,1.14999],8811:[.08556,.58556,0,0,1.14999],8826:[.08556,.58556,0,0,.89444],8827:[.08556,.58556,0,0,.89444],8834:[.08556,.58556,0,0,.89444],8835:[.08556,.58556,0,0,.89444],8838:[.19667,.69667,0,0,.89444],8839:[.19667,.69667,0,0,.89444],8846:[0,.55556,0,0,.76666],8849:[.19667,.69667,0,0,.89444],8850:[.19667,.69667,0,0,.89444],8851:[0,.55556,0,0,.76666],8852:[0,.55556,0,0,.76666],8853:[.13333,.63333,0,0,.89444],8854:[.13333,.63333,0,0,.89444],8855:[.13333,.63333,0,0,.89444],8856:[.13333,.63333,0,0,.89444],8857:[.13333,.63333,0,0,.89444],8866:[0,.69444,0,0,.70277],8867:[0,.69444,0,0,.70277],8868:[0,.69444,0,0,.89444],8869:[0,.69444,0,0,.89444],8900:[-.02639,.47361,0,0,.575],8901:[-.02639,.47361,0,0,.31944],8902:[-.02778,.47222,0,0,.575],8968:[.25,.75,0,0,.51111],8969:[.25,.75,0,0,.51111],8970:[.25,.75,0,0,.51111],8971:[.25,.75,0,0,.51111],8994:[-.13889,.36111,0,0,1.14999],8995:[-.13889,.36111,0,0,1.14999],9651:[.19444,.69444,0,0,1.02222],9657:[-.02778,.47222,0,0,.575],9661:[.19444,.69444,0,0,1.02222],9667:[-.02778,.47222,0,0,.575],9711:[.19444,.69444,0,0,1.14999],9824:[.12963,.69444,0,0,.89444],9825:[.12963,.69444,0,0,.89444],9826:[.12963,.69444,0,0,.89444],9827:[.12963,.69444,0,0,.89444],9837:[0,.75,0,0,.44722],9838:[.19444,.69444,0,0,.44722],9839:[.19444,.69444,0,0,.44722],10216:[.25,.75,0,0,.44722],10217:[.25,.75,0,0,.44722],10815:[0,.68611,0,0,.9],10927:[.19667,.69667,0,0,.89444],10928:[.19667,.69667,0,0,.89444],57376:[.19444,.69444,0,0,0]},"Main-BoldItalic":{32:[0,0,0,0,.25],33:[0,.69444,.11417,0,.38611],34:[0,.69444,.07939,0,.62055],35:[.19444,.69444,.06833,0,.94444],37:[.05556,.75,.12861,0,.94444],38:[0,.69444,.08528,0,.88555],39:[0,.69444,.12945,0,.35555],40:[.25,.75,.15806,0,.47333],41:[.25,.75,.03306,0,.47333],42:[0,.75,.14333,0,.59111],43:[.10333,.60333,.03306,0,.88555],44:[.19444,.14722,0,0,.35555],45:[0,.44444,.02611,0,.41444],46:[0,.14722,0,0,.35555],47:[.25,.75,.15806,0,.59111],48:[0,.64444,.13167,0,.59111],49:[0,.64444,.13167,0,.59111],50:[0,.64444,.13167,0,.59111],51:[0,.64444,.13167,0,.59111],52:[.19444,.64444,.13167,0,.59111],53:[0,.64444,.13167,0,.59111],54:[0,.64444,.13167,0,.59111],55:[.19444,.64444,.13167,0,.59111],56:[0,.64444,.13167,0,.59111],57:[0,.64444,.13167,0,.59111],58:[0,.44444,.06695,0,.35555],59:[.19444,.44444,.06695,0,.35555],61:[-.10889,.39111,.06833,0,.88555],63:[0,.69444,.11472,0,.59111],64:[0,.69444,.09208,0,.88555],65:[0,.68611,0,0,.86555],66:[0,.68611,.0992,0,.81666],67:[0,.68611,.14208,0,.82666],68:[0,.68611,.09062,0,.87555],69:[0,.68611,.11431,0,.75666],70:[0,.68611,.12903,0,.72722],71:[0,.68611,.07347,0,.89527],72:[0,.68611,.17208,0,.8961],73:[0,.68611,.15681,0,.47166],74:[0,.68611,.145,0,.61055],75:[0,.68611,.14208,0,.89499],76:[0,.68611,0,0,.69777],77:[0,.68611,.17208,0,1.07277],78:[0,.68611,.17208,0,.8961],79:[0,.68611,.09062,0,.85499],80:[0,.68611,.0992,0,.78721],81:[.19444,.68611,.09062,0,.85499],82:[0,.68611,.02559,0,.85944],83:[0,.68611,.11264,0,.64999],84:[0,.68611,.12903,0,.7961],85:[0,.68611,.17208,0,.88083],86:[0,.68611,.18625,0,.86555],87:[0,.68611,.18625,0,1.15999],88:[0,.68611,.15681,0,.86555],89:[0,.68611,.19803,0,.86555],90:[0,.68611,.14208,0,.70888],91:[.25,.75,.1875,0,.35611],93:[.25,.75,.09972,0,.35611],94:[0,.69444,.06709,0,.59111],95:[.31,.13444,.09811,0,.59111],97:[0,.44444,.09426,0,.59111],98:[0,.69444,.07861,0,.53222],99:[0,.44444,.05222,0,.53222],100:[0,.69444,.10861,0,.59111],101:[0,.44444,.085,0,.53222],102:[.19444,.69444,.21778,0,.4],103:[.19444,.44444,.105,0,.53222],104:[0,.69444,.09426,0,.59111],105:[0,.69326,.11387,0,.35555],106:[.19444,.69326,.1672,0,.35555],107:[0,.69444,.11111,0,.53222],108:[0,.69444,.10861,0,.29666],109:[0,.44444,.09426,0,.94444],110:[0,.44444,.09426,0,.64999],111:[0,.44444,.07861,0,.59111],112:[.19444,.44444,.07861,0,.59111],113:[.19444,.44444,.105,0,.53222],114:[0,.44444,.11111,0,.50167],115:[0,.44444,.08167,0,.48694],116:[0,.63492,.09639,0,.385],117:[0,.44444,.09426,0,.62055],118:[0,.44444,.11111,0,.53222],119:[0,.44444,.11111,0,.76777],120:[0,.44444,.12583,0,.56055],121:[.19444,.44444,.105,0,.56166],122:[0,.44444,.13889,0,.49055],126:[.35,.34444,.11472,0,.59111],160:[0,0,0,0,.25],168:[0,.69444,.11473,0,.59111],176:[0,.69444,0,0,.94888],184:[.17014,0,0,0,.53222],198:[0,.68611,.11431,0,1.02277],216:[.04861,.73472,.09062,0,.88555],223:[.19444,.69444,.09736,0,.665],230:[0,.44444,.085,0,.82666],248:[.09722,.54167,.09458,0,.59111],305:[0,.44444,.09426,0,.35555],338:[0,.68611,.11431,0,1.14054],339:[0,.44444,.085,0,.82666],567:[.19444,.44444,.04611,0,.385],710:[0,.69444,.06709,0,.59111],711:[0,.63194,.08271,0,.59111],713:[0,.59444,.10444,0,.59111],714:[0,.69444,.08528,0,.59111],715:[0,.69444,0,0,.59111],728:[0,.69444,.10333,0,.59111],729:[0,.69444,.12945,0,.35555],730:[0,.69444,0,0,.94888],732:[0,.69444,.11472,0,.59111],733:[0,.69444,.11472,0,.59111],915:[0,.68611,.12903,0,.69777],916:[0,.68611,0,0,.94444],920:[0,.68611,.09062,0,.88555],923:[0,.68611,0,0,.80666],926:[0,.68611,.15092,0,.76777],928:[0,.68611,.17208,0,.8961],931:[0,.68611,.11431,0,.82666],933:[0,.68611,.10778,0,.88555],934:[0,.68611,.05632,0,.82666],936:[0,.68611,.10778,0,.88555],937:[0,.68611,.0992,0,.82666],8211:[0,.44444,.09811,0,.59111],8212:[0,.44444,.09811,0,1.18221],8216:[0,.69444,.12945,0,.35555],8217:[0,.69444,.12945,0,.35555],8220:[0,.69444,.16772,0,.62055],8221:[0,.69444,.07939,0,.62055]},"Main-Italic":{32:[0,0,0,0,.25],33:[0,.69444,.12417,0,.30667],34:[0,.69444,.06961,0,.51444],35:[.19444,.69444,.06616,0,.81777],37:[.05556,.75,.13639,0,.81777],38:[0,.69444,.09694,0,.76666],39:[0,.69444,.12417,0,.30667],40:[.25,.75,.16194,0,.40889],41:[.25,.75,.03694,0,.40889],42:[0,.75,.14917,0,.51111],43:[.05667,.56167,.03694,0,.76666],44:[.19444,.10556,0,0,.30667],45:[0,.43056,.02826,0,.35778],46:[0,.10556,0,0,.30667],47:[.25,.75,.16194,0,.51111],48:[0,.64444,.13556,0,.51111],49:[0,.64444,.13556,0,.51111],50:[0,.64444,.13556,0,.51111],51:[0,.64444,.13556,0,.51111],52:[.19444,.64444,.13556,0,.51111],53:[0,.64444,.13556,0,.51111],54:[0,.64444,.13556,0,.51111],55:[.19444,.64444,.13556,0,.51111],56:[0,.64444,.13556,0,.51111],57:[0,.64444,.13556,0,.51111],58:[0,.43056,.0582,0,.30667],59:[.19444,.43056,.0582,0,.30667],61:[-.13313,.36687,.06616,0,.76666],63:[0,.69444,.1225,0,.51111],64:[0,.69444,.09597,0,.76666],65:[0,.68333,0,0,.74333],66:[0,.68333,.10257,0,.70389],67:[0,.68333,.14528,0,.71555],68:[0,.68333,.09403,0,.755],69:[0,.68333,.12028,0,.67833],70:[0,.68333,.13305,0,.65277],71:[0,.68333,.08722,0,.77361],72:[0,.68333,.16389,0,.74333],73:[0,.68333,.15806,0,.38555],74:[0,.68333,.14028,0,.525],75:[0,.68333,.14528,0,.76888],76:[0,.68333,0,0,.62722],77:[0,.68333,.16389,0,.89666],78:[0,.68333,.16389,0,.74333],79:[0,.68333,.09403,0,.76666],80:[0,.68333,.10257,0,.67833],81:[.19444,.68333,.09403,0,.76666],82:[0,.68333,.03868,0,.72944],83:[0,.68333,.11972,0,.56222],84:[0,.68333,.13305,0,.71555],85:[0,.68333,.16389,0,.74333],86:[0,.68333,.18361,0,.74333],87:[0,.68333,.18361,0,.99888],88:[0,.68333,.15806,0,.74333],89:[0,.68333,.19383,0,.74333],90:[0,.68333,.14528,0,.61333],91:[.25,.75,.1875,0,.30667],93:[.25,.75,.10528,0,.30667],94:[0,.69444,.06646,0,.51111],95:[.31,.12056,.09208,0,.51111],97:[0,.43056,.07671,0,.51111],98:[0,.69444,.06312,0,.46],99:[0,.43056,.05653,0,.46],100:[0,.69444,.10333,0,.51111],101:[0,.43056,.07514,0,.46],102:[.19444,.69444,.21194,0,.30667],103:[.19444,.43056,.08847,0,.46],104:[0,.69444,.07671,0,.51111],105:[0,.65536,.1019,0,.30667],106:[.19444,.65536,.14467,0,.30667],107:[0,.69444,.10764,0,.46],108:[0,.69444,.10333,0,.25555],109:[0,.43056,.07671,0,.81777],110:[0,.43056,.07671,0,.56222],111:[0,.43056,.06312,0,.51111],112:[.19444,.43056,.06312,0,.51111],113:[.19444,.43056,.08847,0,.46],114:[0,.43056,.10764,0,.42166],115:[0,.43056,.08208,0,.40889],116:[0,.61508,.09486,0,.33222],117:[0,.43056,.07671,0,.53666],118:[0,.43056,.10764,0,.46],119:[0,.43056,.10764,0,.66444],120:[0,.43056,.12042,0,.46389],121:[.19444,.43056,.08847,0,.48555],122:[0,.43056,.12292,0,.40889],126:[.35,.31786,.11585,0,.51111],160:[0,0,0,0,.25],168:[0,.66786,.10474,0,.51111],176:[0,.69444,0,0,.83129],184:[.17014,0,0,0,.46],198:[0,.68333,.12028,0,.88277],216:[.04861,.73194,.09403,0,.76666],223:[.19444,.69444,.10514,0,.53666],230:[0,.43056,.07514,0,.71555],248:[.09722,.52778,.09194,0,.51111],338:[0,.68333,.12028,0,.98499],339:[0,.43056,.07514,0,.71555],710:[0,.69444,.06646,0,.51111],711:[0,.62847,.08295,0,.51111],713:[0,.56167,.10333,0,.51111],714:[0,.69444,.09694,0,.51111],715:[0,.69444,0,0,.51111],728:[0,.69444,.10806,0,.51111],729:[0,.66786,.11752,0,.30667],730:[0,.69444,0,0,.83129],732:[0,.66786,.11585,0,.51111],733:[0,.69444,.1225,0,.51111],915:[0,.68333,.13305,0,.62722],916:[0,.68333,0,0,.81777],920:[0,.68333,.09403,0,.76666],923:[0,.68333,0,0,.69222],926:[0,.68333,.15294,0,.66444],928:[0,.68333,.16389,0,.74333],931:[0,.68333,.12028,0,.71555],933:[0,.68333,.11111,0,.76666],934:[0,.68333,.05986,0,.71555],936:[0,.68333,.11111,0,.76666],937:[0,.68333,.10257,0,.71555],8211:[0,.43056,.09208,0,.51111],8212:[0,.43056,.09208,0,1.02222],8216:[0,.69444,.12417,0,.30667],8217:[0,.69444,.12417,0,.30667],8220:[0,.69444,.1685,0,.51444],8221:[0,.69444,.06961,0,.51444],8463:[0,.68889,0,0,.54028]},"Main-Regular":{32:[0,0,0,0,.25],33:[0,.69444,0,0,.27778],34:[0,.69444,0,0,.5],35:[.19444,.69444,0,0,.83334],36:[.05556,.75,0,0,.5],37:[.05556,.75,0,0,.83334],38:[0,.69444,0,0,.77778],39:[0,.69444,0,0,.27778],40:[.25,.75,0,0,.38889],41:[.25,.75,0,0,.38889],42:[0,.75,0,0,.5],43:[.08333,.58333,0,0,.77778],44:[.19444,.10556,0,0,.27778],45:[0,.43056,0,0,.33333],46:[0,.10556,0,0,.27778],47:[.25,.75,0,0,.5],48:[0,.64444,0,0,.5],49:[0,.64444,0,0,.5],50:[0,.64444,0,0,.5],51:[0,.64444,0,0,.5],52:[0,.64444,0,0,.5],53:[0,.64444,0,0,.5],54:[0,.64444,0,0,.5],55:[0,.64444,0,0,.5],56:[0,.64444,0,0,.5],57:[0,.64444,0,0,.5],58:[0,.43056,0,0,.27778],59:[.19444,.43056,0,0,.27778],60:[.0391,.5391,0,0,.77778],61:[-.13313,.36687,0,0,.77778],62:[.0391,.5391,0,0,.77778],63:[0,.69444,0,0,.47222],64:[0,.69444,0,0,.77778],65:[0,.68333,0,0,.75],66:[0,.68333,0,0,.70834],67:[0,.68333,0,0,.72222],68:[0,.68333,0,0,.76389],69:[0,.68333,0,0,.68056],70:[0,.68333,0,0,.65278],71:[0,.68333,0,0,.78472],72:[0,.68333,0,0,.75],73:[0,.68333,0,0,.36111],74:[0,.68333,0,0,.51389],75:[0,.68333,0,0,.77778],76:[0,.68333,0,0,.625],77:[0,.68333,0,0,.91667],78:[0,.68333,0,0,.75],79:[0,.68333,0,0,.77778],80:[0,.68333,0,0,.68056],81:[.19444,.68333,0,0,.77778],82:[0,.68333,0,0,.73611],83:[0,.68333,0,0,.55556],84:[0,.68333,0,0,.72222],85:[0,.68333,0,0,.75],86:[0,.68333,.01389,0,.75],87:[0,.68333,.01389,0,1.02778],88:[0,.68333,0,0,.75],89:[0,.68333,.025,0,.75],90:[0,.68333,0,0,.61111],91:[.25,.75,0,0,.27778],92:[.25,.75,0,0,.5],93:[.25,.75,0,0,.27778],94:[0,.69444,0,0,.5],95:[.31,.12056,.02778,0,.5],97:[0,.43056,0,0,.5],98:[0,.69444,0,0,.55556],99:[0,.43056,0,0,.44445],100:[0,.69444,0,0,.55556],101:[0,.43056,0,0,.44445],102:[0,.69444,.07778,0,.30556],103:[.19444,.43056,.01389,0,.5],104:[0,.69444,0,0,.55556],105:[0,.66786,0,0,.27778],106:[.19444,.66786,0,0,.30556],107:[0,.69444,0,0,.52778],108:[0,.69444,0,0,.27778],109:[0,.43056,0,0,.83334],110:[0,.43056,0,0,.55556],111:[0,.43056,0,0,.5],112:[.19444,.43056,0,0,.55556],113:[.19444,.43056,0,0,.52778],114:[0,.43056,0,0,.39167],115:[0,.43056,0,0,.39445],116:[0,.61508,0,0,.38889],117:[0,.43056,0,0,.55556],118:[0,.43056,.01389,0,.52778],119:[0,.43056,.01389,0,.72222],120:[0,.43056,0,0,.52778],121:[.19444,.43056,.01389,0,.52778],122:[0,.43056,0,0,.44445],123:[.25,.75,0,0,.5],124:[.25,.75,0,0,.27778],125:[.25,.75,0,0,.5],126:[.35,.31786,0,0,.5],160:[0,0,0,0,.25],163:[0,.69444,0,0,.76909],167:[.19444,.69444,0,0,.44445],168:[0,.66786,0,0,.5],172:[0,.43056,0,0,.66667],176:[0,.69444,0,0,.75],177:[.08333,.58333,0,0,.77778],182:[.19444,.69444,0,0,.61111],184:[.17014,0,0,0,.44445],198:[0,.68333,0,0,.90278],215:[.08333,.58333,0,0,.77778],216:[.04861,.73194,0,0,.77778],223:[0,.69444,0,0,.5],230:[0,.43056,0,0,.72222],247:[.08333,.58333,0,0,.77778],248:[.09722,.52778,0,0,.5],305:[0,.43056,0,0,.27778],338:[0,.68333,0,0,1.01389],339:[0,.43056,0,0,.77778],567:[.19444,.43056,0,0,.30556],710:[0,.69444,0,0,.5],711:[0,.62847,0,0,.5],713:[0,.56778,0,0,.5],714:[0,.69444,0,0,.5],715:[0,.69444,0,0,.5],728:[0,.69444,0,0,.5],729:[0,.66786,0,0,.27778],730:[0,.69444,0,0,.75],732:[0,.66786,0,0,.5],733:[0,.69444,0,0,.5],915:[0,.68333,0,0,.625],916:[0,.68333,0,0,.83334],920:[0,.68333,0,0,.77778],923:[0,.68333,0,0,.69445],926:[0,.68333,0,0,.66667],928:[0,.68333,0,0,.75],931:[0,.68333,0,0,.72222],933:[0,.68333,0,0,.77778],934:[0,.68333,0,0,.72222],936:[0,.68333,0,0,.77778],937:[0,.68333,0,0,.72222],8211:[0,.43056,.02778,0,.5],8212:[0,.43056,.02778,0,1],8216:[0,.69444,0,0,.27778],8217:[0,.69444,0,0,.27778],8220:[0,.69444,0,0,.5],8221:[0,.69444,0,0,.5],8224:[.19444,.69444,0,0,.44445],8225:[.19444,.69444,0,0,.44445],8230:[0,.123,0,0,1.172],8242:[0,.55556,0,0,.275],8407:[0,.71444,.15382,0,.5],8463:[0,.68889,0,0,.54028],8465:[0,.69444,0,0,.72222],8467:[0,.69444,0,.11111,.41667],8472:[.19444,.43056,0,.11111,.63646],8476:[0,.69444,0,0,.72222],8501:[0,.69444,0,0,.61111],8592:[-.13313,.36687,0,0,1],8593:[.19444,.69444,0,0,.5],8594:[-.13313,.36687,0,0,1],8595:[.19444,.69444,0,0,.5],8596:[-.13313,.36687,0,0,1],8597:[.25,.75,0,0,.5],8598:[.19444,.69444,0,0,1],8599:[.19444,.69444,0,0,1],8600:[.19444,.69444,0,0,1],8601:[.19444,.69444,0,0,1],8614:[.011,.511,0,0,1],8617:[.011,.511,0,0,1.126],8618:[.011,.511,0,0,1.126],8636:[-.13313,.36687,0,0,1],8637:[-.13313,.36687,0,0,1],8640:[-.13313,.36687,0,0,1],8641:[-.13313,.36687,0,0,1],8652:[.011,.671,0,0,1],8656:[-.13313,.36687,0,0,1],8657:[.19444,.69444,0,0,.61111],8658:[-.13313,.36687,0,0,1],8659:[.19444,.69444,0,0,.61111],8660:[-.13313,.36687,0,0,1],8661:[.25,.75,0,0,.61111],8704:[0,.69444,0,0,.55556],8706:[0,.69444,.05556,.08334,.5309],8707:[0,.69444,0,0,.55556],8709:[.05556,.75,0,0,.5],8711:[0,.68333,0,0,.83334],8712:[.0391,.5391,0,0,.66667],8715:[.0391,.5391,0,0,.66667],8722:[.08333,.58333,0,0,.77778],8723:[.08333,.58333,0,0,.77778],8725:[.25,.75,0,0,.5],8726:[.25,.75,0,0,.5],8727:[-.03472,.46528,0,0,.5],8728:[-.05555,.44445,0,0,.5],8729:[-.05555,.44445,0,0,.5],8730:[.2,.8,0,0,.83334],8733:[0,.43056,0,0,.77778],8734:[0,.43056,0,0,1],8736:[0,.69224,0,0,.72222],8739:[.25,.75,0,0,.27778],8741:[.25,.75,0,0,.5],8743:[0,.55556,0,0,.66667],8744:[0,.55556,0,0,.66667],8745:[0,.55556,0,0,.66667],8746:[0,.55556,0,0,.66667],8747:[.19444,.69444,.11111,0,.41667],8764:[-.13313,.36687,0,0,.77778],8768:[.19444,.69444,0,0,.27778],8771:[-.03625,.46375,0,0,.77778],8773:[-.022,.589,0,0,.778],8776:[-.01688,.48312,0,0,.77778],8781:[-.03625,.46375,0,0,.77778],8784:[-.133,.673,0,0,.778],8801:[-.03625,.46375,0,0,.77778],8804:[.13597,.63597,0,0,.77778],8805:[.13597,.63597,0,0,.77778],8810:[.0391,.5391,0,0,1],8811:[.0391,.5391,0,0,1],8826:[.0391,.5391,0,0,.77778],8827:[.0391,.5391,0,0,.77778],8834:[.0391,.5391,0,0,.77778],8835:[.0391,.5391,0,0,.77778],8838:[.13597,.63597,0,0,.77778],8839:[.13597,.63597,0,0,.77778],8846:[0,.55556,0,0,.66667],8849:[.13597,.63597,0,0,.77778],8850:[.13597,.63597,0,0,.77778],8851:[0,.55556,0,0,.66667],8852:[0,.55556,0,0,.66667],8853:[.08333,.58333,0,0,.77778],8854:[.08333,.58333,0,0,.77778],8855:[.08333,.58333,0,0,.77778],8856:[.08333,.58333,0,0,.77778],8857:[.08333,.58333,0,0,.77778],8866:[0,.69444,0,0,.61111],8867:[0,.69444,0,0,.61111],8868:[0,.69444,0,0,.77778],8869:[0,.69444,0,0,.77778],8872:[.249,.75,0,0,.867],8900:[-.05555,.44445,0,0,.5],8901:[-.05555,.44445,0,0,.27778],8902:[-.03472,.46528,0,0,.5],8904:[.005,.505,0,0,.9],8942:[.03,.903,0,0,.278],8943:[-.19,.313,0,0,1.172],8945:[-.1,.823,0,0,1.282],8968:[.25,.75,0,0,.44445],8969:[.25,.75,0,0,.44445],8970:[.25,.75,0,0,.44445],8971:[.25,.75,0,0,.44445],8994:[-.14236,.35764,0,0,1],8995:[-.14236,.35764,0,0,1],9136:[.244,.744,0,0,.412],9137:[.244,.745,0,0,.412],9651:[.19444,.69444,0,0,.88889],9657:[-.03472,.46528,0,0,.5],9661:[.19444,.69444,0,0,.88889],9667:[-.03472,.46528,0,0,.5],9711:[.19444,.69444,0,0,1],9824:[.12963,.69444,0,0,.77778],9825:[.12963,.69444,0,0,.77778],9826:[.12963,.69444,0,0,.77778],9827:[.12963,.69444,0,0,.77778],9837:[0,.75,0,0,.38889],9838:[.19444,.69444,0,0,.38889],9839:[.19444,.69444,0,0,.38889],10216:[.25,.75,0,0,.38889],10217:[.25,.75,0,0,.38889],10222:[.244,.744,0,0,.412],10223:[.244,.745,0,0,.412],10229:[.011,.511,0,0,1.609],10230:[.011,.511,0,0,1.638],10231:[.011,.511,0,0,1.859],10232:[.024,.525,0,0,1.609],10233:[.024,.525,0,0,1.638],10234:[.024,.525,0,0,1.858],10236:[.011,.511,0,0,1.638],10815:[0,.68333,0,0,.75],10927:[.13597,.63597,0,0,.77778],10928:[.13597,.63597,0,0,.77778],57376:[.19444,.69444,0,0,0]},"Math-BoldItalic":{32:[0,0,0,0,.25],48:[0,.44444,0,0,.575],49:[0,.44444,0,0,.575],50:[0,.44444,0,0,.575],51:[.19444,.44444,0,0,.575],52:[.19444,.44444,0,0,.575],53:[.19444,.44444,0,0,.575],54:[0,.64444,0,0,.575],55:[.19444,.44444,0,0,.575],56:[0,.64444,0,0,.575],57:[.19444,.44444,0,0,.575],65:[0,.68611,0,0,.86944],66:[0,.68611,.04835,0,.8664],67:[0,.68611,.06979,0,.81694],68:[0,.68611,.03194,0,.93812],69:[0,.68611,.05451,0,.81007],70:[0,.68611,.15972,0,.68889],71:[0,.68611,0,0,.88673],72:[0,.68611,.08229,0,.98229],73:[0,.68611,.07778,0,.51111],74:[0,.68611,.10069,0,.63125],75:[0,.68611,.06979,0,.97118],76:[0,.68611,0,0,.75555],77:[0,.68611,.11424,0,1.14201],78:[0,.68611,.11424,0,.95034],79:[0,.68611,.03194,0,.83666],80:[0,.68611,.15972,0,.72309],81:[.19444,.68611,0,0,.86861],82:[0,.68611,.00421,0,.87235],83:[0,.68611,.05382,0,.69271],84:[0,.68611,.15972,0,.63663],85:[0,.68611,.11424,0,.80027],86:[0,.68611,.25555,0,.67778],87:[0,.68611,.15972,0,1.09305],88:[0,.68611,.07778,0,.94722],89:[0,.68611,.25555,0,.67458],90:[0,.68611,.06979,0,.77257],97:[0,.44444,0,0,.63287],98:[0,.69444,0,0,.52083],99:[0,.44444,0,0,.51342],100:[0,.69444,0,0,.60972],101:[0,.44444,0,0,.55361],102:[.19444,.69444,.11042,0,.56806],103:[.19444,.44444,.03704,0,.5449],104:[0,.69444,0,0,.66759],105:[0,.69326,0,0,.4048],106:[.19444,.69326,.0622,0,.47083],107:[0,.69444,.01852,0,.6037],108:[0,.69444,.0088,0,.34815],109:[0,.44444,0,0,1.0324],110:[0,.44444,0,0,.71296],111:[0,.44444,0,0,.58472],112:[.19444,.44444,0,0,.60092],113:[.19444,.44444,.03704,0,.54213],114:[0,.44444,.03194,0,.5287],115:[0,.44444,0,0,.53125],116:[0,.63492,0,0,.41528],117:[0,.44444,0,0,.68102],118:[0,.44444,.03704,0,.56666],119:[0,.44444,.02778,0,.83148],120:[0,.44444,0,0,.65903],121:[.19444,.44444,.03704,0,.59028],122:[0,.44444,.04213,0,.55509],160:[0,0,0,0,.25],915:[0,.68611,.15972,0,.65694],916:[0,.68611,0,0,.95833],920:[0,.68611,.03194,0,.86722],923:[0,.68611,0,0,.80555],926:[0,.68611,.07458,0,.84125],928:[0,.68611,.08229,0,.98229],931:[0,.68611,.05451,0,.88507],933:[0,.68611,.15972,0,.67083],934:[0,.68611,0,0,.76666],936:[0,.68611,.11653,0,.71402],937:[0,.68611,.04835,0,.8789],945:[0,.44444,0,0,.76064],946:[.19444,.69444,.03403,0,.65972],947:[.19444,.44444,.06389,0,.59003],948:[0,.69444,.03819,0,.52222],949:[0,.44444,0,0,.52882],950:[.19444,.69444,.06215,0,.50833],951:[.19444,.44444,.03704,0,.6],952:[0,.69444,.03194,0,.5618],953:[0,.44444,0,0,.41204],954:[0,.44444,0,0,.66759],955:[0,.69444,0,0,.67083],956:[.19444,.44444,0,0,.70787],957:[0,.44444,.06898,0,.57685],958:[.19444,.69444,.03021,0,.50833],959:[0,.44444,0,0,.58472],960:[0,.44444,.03704,0,.68241],961:[.19444,.44444,0,0,.6118],962:[.09722,.44444,.07917,0,.42361],963:[0,.44444,.03704,0,.68588],964:[0,.44444,.13472,0,.52083],965:[0,.44444,.03704,0,.63055],966:[.19444,.44444,0,0,.74722],967:[.19444,.44444,0,0,.71805],968:[.19444,.69444,.03704,0,.75833],969:[0,.44444,.03704,0,.71782],977:[0,.69444,0,0,.69155],981:[.19444,.69444,0,0,.7125],982:[0,.44444,.03194,0,.975],1009:[.19444,.44444,0,0,.6118],1013:[0,.44444,0,0,.48333],57649:[0,.44444,0,0,.39352],57911:[.19444,.44444,0,0,.43889]},"Math-Italic":{32:[0,0,0,0,.25],48:[0,.43056,0,0,.5],49:[0,.43056,0,0,.5],50:[0,.43056,0,0,.5],51:[.19444,.43056,0,0,.5],52:[.19444,.43056,0,0,.5],53:[.19444,.43056,0,0,.5],54:[0,.64444,0,0,.5],55:[.19444,.43056,0,0,.5],56:[0,.64444,0,0,.5],57:[.19444,.43056,0,0,.5],65:[0,.68333,0,.13889,.75],66:[0,.68333,.05017,.08334,.75851],67:[0,.68333,.07153,.08334,.71472],68:[0,.68333,.02778,.05556,.82792],69:[0,.68333,.05764,.08334,.7382],70:[0,.68333,.13889,.08334,.64306],71:[0,.68333,0,.08334,.78625],72:[0,.68333,.08125,.05556,.83125],73:[0,.68333,.07847,.11111,.43958],74:[0,.68333,.09618,.16667,.55451],75:[0,.68333,.07153,.05556,.84931],76:[0,.68333,0,.02778,.68056],77:[0,.68333,.10903,.08334,.97014],78:[0,.68333,.10903,.08334,.80347],79:[0,.68333,.02778,.08334,.76278],80:[0,.68333,.13889,.08334,.64201],81:[.19444,.68333,0,.08334,.79056],82:[0,.68333,.00773,.08334,.75929],83:[0,.68333,.05764,.08334,.6132],84:[0,.68333,.13889,.08334,.58438],85:[0,.68333,.10903,.02778,.68278],86:[0,.68333,.22222,0,.58333],87:[0,.68333,.13889,0,.94445],88:[0,.68333,.07847,.08334,.82847],89:[0,.68333,.22222,0,.58056],90:[0,.68333,.07153,.08334,.68264],97:[0,.43056,0,0,.52859],98:[0,.69444,0,0,.42917],99:[0,.43056,0,.05556,.43276],100:[0,.69444,0,.16667,.52049],101:[0,.43056,0,.05556,.46563],102:[.19444,.69444,.10764,.16667,.48959],103:[.19444,.43056,.03588,.02778,.47697],104:[0,.69444,0,0,.57616],105:[0,.65952,0,0,.34451],106:[.19444,.65952,.05724,0,.41181],107:[0,.69444,.03148,0,.5206],108:[0,.69444,.01968,.08334,.29838],109:[0,.43056,0,0,.87801],110:[0,.43056,0,0,.60023],111:[0,.43056,0,.05556,.48472],112:[.19444,.43056,0,.08334,.50313],113:[.19444,.43056,.03588,.08334,.44641],114:[0,.43056,.02778,.05556,.45116],115:[0,.43056,0,.05556,.46875],116:[0,.61508,0,.08334,.36111],117:[0,.43056,0,.02778,.57246],118:[0,.43056,.03588,.02778,.48472],119:[0,.43056,.02691,.08334,.71592],120:[0,.43056,0,.02778,.57153],121:[.19444,.43056,.03588,.05556,.49028],122:[0,.43056,.04398,.05556,.46505],160:[0,0,0,0,.25],915:[0,.68333,.13889,.08334,.61528],916:[0,.68333,0,.16667,.83334],920:[0,.68333,.02778,.08334,.76278],923:[0,.68333,0,.16667,.69445],926:[0,.68333,.07569,.08334,.74236],928:[0,.68333,.08125,.05556,.83125],931:[0,.68333,.05764,.08334,.77986],933:[0,.68333,.13889,.05556,.58333],934:[0,.68333,0,.08334,.66667],936:[0,.68333,.11,.05556,.61222],937:[0,.68333,.05017,.08334,.7724],945:[0,.43056,.0037,.02778,.6397],946:[.19444,.69444,.05278,.08334,.56563],947:[.19444,.43056,.05556,0,.51773],948:[0,.69444,.03785,.05556,.44444],949:[0,.43056,0,.08334,.46632],950:[.19444,.69444,.07378,.08334,.4375],951:[.19444,.43056,.03588,.05556,.49653],952:[0,.69444,.02778,.08334,.46944],953:[0,.43056,0,.05556,.35394],954:[0,.43056,0,0,.57616],955:[0,.69444,0,0,.58334],956:[.19444,.43056,0,.02778,.60255],957:[0,.43056,.06366,.02778,.49398],958:[.19444,.69444,.04601,.11111,.4375],959:[0,.43056,0,.05556,.48472],960:[0,.43056,.03588,0,.57003],961:[.19444,.43056,0,.08334,.51702],962:[.09722,.43056,.07986,.08334,.36285],963:[0,.43056,.03588,0,.57141],964:[0,.43056,.1132,.02778,.43715],965:[0,.43056,.03588,.02778,.54028],966:[.19444,.43056,0,.08334,.65417],967:[.19444,.43056,0,.05556,.62569],968:[.19444,.69444,.03588,.11111,.65139],969:[0,.43056,.03588,0,.62245],977:[0,.69444,0,.08334,.59144],981:[.19444,.69444,0,.08334,.59583],982:[0,.43056,.02778,0,.82813],1009:[.19444,.43056,0,.08334,.51702],1013:[0,.43056,0,.05556,.4059],57649:[0,.43056,0,.02778,.32246],57911:[.19444,.43056,0,.08334,.38403]},"SansSerif-Bold":{32:[0,0,0,0,.25],33:[0,.69444,0,0,.36667],34:[0,.69444,0,0,.55834],35:[.19444,.69444,0,0,.91667],36:[.05556,.75,0,0,.55],37:[.05556,.75,0,0,1.02912],38:[0,.69444,0,0,.83056],39:[0,.69444,0,0,.30556],40:[.25,.75,0,0,.42778],41:[.25,.75,0,0,.42778],42:[0,.75,0,0,.55],43:[.11667,.61667,0,0,.85556],44:[.10556,.13056,0,0,.30556],45:[0,.45833,0,0,.36667],46:[0,.13056,0,0,.30556],47:[.25,.75,0,0,.55],48:[0,.69444,0,0,.55],49:[0,.69444,0,0,.55],50:[0,.69444,0,0,.55],51:[0,.69444,0,0,.55],52:[0,.69444,0,0,.55],53:[0,.69444,0,0,.55],54:[0,.69444,0,0,.55],55:[0,.69444,0,0,.55],56:[0,.69444,0,0,.55],57:[0,.69444,0,0,.55],58:[0,.45833,0,0,.30556],59:[.10556,.45833,0,0,.30556],61:[-.09375,.40625,0,0,.85556],63:[0,.69444,0,0,.51945],64:[0,.69444,0,0,.73334],65:[0,.69444,0,0,.73334],66:[0,.69444,0,0,.73334],67:[0,.69444,0,0,.70278],68:[0,.69444,0,0,.79445],69:[0,.69444,0,0,.64167],70:[0,.69444,0,0,.61111],71:[0,.69444,0,0,.73334],72:[0,.69444,0,0,.79445],73:[0,.69444,0,0,.33056],74:[0,.69444,0,0,.51945],75:[0,.69444,0,0,.76389],76:[0,.69444,0,0,.58056],77:[0,.69444,0,0,.97778],78:[0,.69444,0,0,.79445],79:[0,.69444,0,0,.79445],80:[0,.69444,0,0,.70278],81:[.10556,.69444,0,0,.79445],82:[0,.69444,0,0,.70278],83:[0,.69444,0,0,.61111],84:[0,.69444,0,0,.73334],85:[0,.69444,0,0,.76389],86:[0,.69444,.01528,0,.73334],87:[0,.69444,.01528,0,1.03889],88:[0,.69444,0,0,.73334],89:[0,.69444,.0275,0,.73334],90:[0,.69444,0,0,.67223],91:[.25,.75,0,0,.34306],93:[.25,.75,0,0,.34306],94:[0,.69444,0,0,.55],95:[.35,.10833,.03056,0,.55],97:[0,.45833,0,0,.525],98:[0,.69444,0,0,.56111],99:[0,.45833,0,0,.48889],100:[0,.69444,0,0,.56111],101:[0,.45833,0,0,.51111],102:[0,.69444,.07639,0,.33611],103:[.19444,.45833,.01528,0,.55],104:[0,.69444,0,0,.56111],105:[0,.69444,0,0,.25556],106:[.19444,.69444,0,0,.28611],107:[0,.69444,0,0,.53056],108:[0,.69444,0,0,.25556],109:[0,.45833,0,0,.86667],110:[0,.45833,0,0,.56111],111:[0,.45833,0,0,.55],112:[.19444,.45833,0,0,.56111],113:[.19444,.45833,0,0,.56111],114:[0,.45833,.01528,0,.37222],115:[0,.45833,0,0,.42167],116:[0,.58929,0,0,.40417],117:[0,.45833,0,0,.56111],118:[0,.45833,.01528,0,.5],119:[0,.45833,.01528,0,.74445],120:[0,.45833,0,0,.5],121:[.19444,.45833,.01528,0,.5],122:[0,.45833,0,0,.47639],126:[.35,.34444,0,0,.55],160:[0,0,0,0,.25],168:[0,.69444,0,0,.55],176:[0,.69444,0,0,.73334],180:[0,.69444,0,0,.55],184:[.17014,0,0,0,.48889],305:[0,.45833,0,0,.25556],567:[.19444,.45833,0,0,.28611],710:[0,.69444,0,0,.55],711:[0,.63542,0,0,.55],713:[0,.63778,0,0,.55],728:[0,.69444,0,0,.55],729:[0,.69444,0,0,.30556],730:[0,.69444,0,0,.73334],732:[0,.69444,0,0,.55],733:[0,.69444,0,0,.55],915:[0,.69444,0,0,.58056],916:[0,.69444,0,0,.91667],920:[0,.69444,0,0,.85556],923:[0,.69444,0,0,.67223],926:[0,.69444,0,0,.73334],928:[0,.69444,0,0,.79445],931:[0,.69444,0,0,.79445],933:[0,.69444,0,0,.85556],934:[0,.69444,0,0,.79445],936:[0,.69444,0,0,.85556],937:[0,.69444,0,0,.79445],8211:[0,.45833,.03056,0,.55],8212:[0,.45833,.03056,0,1.10001],8216:[0,.69444,0,0,.30556],8217:[0,.69444,0,0,.30556],8220:[0,.69444,0,0,.55834],8221:[0,.69444,0,0,.55834]},"SansSerif-Italic":{32:[0,0,0,0,.25],33:[0,.69444,.05733,0,.31945],34:[0,.69444,.00316,0,.5],35:[.19444,.69444,.05087,0,.83334],36:[.05556,.75,.11156,0,.5],37:[.05556,.75,.03126,0,.83334],38:[0,.69444,.03058,0,.75834],39:[0,.69444,.07816,0,.27778],40:[.25,.75,.13164,0,.38889],41:[.25,.75,.02536,0,.38889],42:[0,.75,.11775,0,.5],43:[.08333,.58333,.02536,0,.77778],44:[.125,.08333,0,0,.27778],45:[0,.44444,.01946,0,.33333],46:[0,.08333,0,0,.27778],47:[.25,.75,.13164,0,.5],48:[0,.65556,.11156,0,.5],49:[0,.65556,.11156,0,.5],50:[0,.65556,.11156,0,.5],51:[0,.65556,.11156,0,.5],52:[0,.65556,.11156,0,.5],53:[0,.65556,.11156,0,.5],54:[0,.65556,.11156,0,.5],55:[0,.65556,.11156,0,.5],56:[0,.65556,.11156,0,.5],57:[0,.65556,.11156,0,.5],58:[0,.44444,.02502,0,.27778],59:[.125,.44444,.02502,0,.27778],61:[-.13,.37,.05087,0,.77778],63:[0,.69444,.11809,0,.47222],64:[0,.69444,.07555,0,.66667],65:[0,.69444,0,0,.66667],66:[0,.69444,.08293,0,.66667],67:[0,.69444,.11983,0,.63889],68:[0,.69444,.07555,0,.72223],69:[0,.69444,.11983,0,.59722],70:[0,.69444,.13372,0,.56945],71:[0,.69444,.11983,0,.66667],72:[0,.69444,.08094,0,.70834],73:[0,.69444,.13372,0,.27778],74:[0,.69444,.08094,0,.47222],75:[0,.69444,.11983,0,.69445],76:[0,.69444,0,0,.54167],77:[0,.69444,.08094,0,.875],78:[0,.69444,.08094,0,.70834],79:[0,.69444,.07555,0,.73611],80:[0,.69444,.08293,0,.63889],81:[.125,.69444,.07555,0,.73611],82:[0,.69444,.08293,0,.64584],83:[0,.69444,.09205,0,.55556],84:[0,.69444,.13372,0,.68056],85:[0,.69444,.08094,0,.6875],86:[0,.69444,.1615,0,.66667],87:[0,.69444,.1615,0,.94445],88:[0,.69444,.13372,0,.66667],89:[0,.69444,.17261,0,.66667],90:[0,.69444,.11983,0,.61111],91:[.25,.75,.15942,0,.28889],93:[.25,.75,.08719,0,.28889],94:[0,.69444,.0799,0,.5],95:[.35,.09444,.08616,0,.5],97:[0,.44444,.00981,0,.48056],98:[0,.69444,.03057,0,.51667],99:[0,.44444,.08336,0,.44445],100:[0,.69444,.09483,0,.51667],101:[0,.44444,.06778,0,.44445],102:[0,.69444,.21705,0,.30556],103:[.19444,.44444,.10836,0,.5],104:[0,.69444,.01778,0,.51667],105:[0,.67937,.09718,0,.23889],106:[.19444,.67937,.09162,0,.26667],107:[0,.69444,.08336,0,.48889],108:[0,.69444,.09483,0,.23889],109:[0,.44444,.01778,0,.79445],110:[0,.44444,.01778,0,.51667],111:[0,.44444,.06613,0,.5],112:[.19444,.44444,.0389,0,.51667],113:[.19444,.44444,.04169,0,.51667],114:[0,.44444,.10836,0,.34167],115:[0,.44444,.0778,0,.38333],116:[0,.57143,.07225,0,.36111],117:[0,.44444,.04169,0,.51667],118:[0,.44444,.10836,0,.46111],119:[0,.44444,.10836,0,.68334],120:[0,.44444,.09169,0,.46111],121:[.19444,.44444,.10836,0,.46111],122:[0,.44444,.08752,0,.43472],126:[.35,.32659,.08826,0,.5],160:[0,0,0,0,.25],168:[0,.67937,.06385,0,.5],176:[0,.69444,0,0,.73752],184:[.17014,0,0,0,.44445],305:[0,.44444,.04169,0,.23889],567:[.19444,.44444,.04169,0,.26667],710:[0,.69444,.0799,0,.5],711:[0,.63194,.08432,0,.5],713:[0,.60889,.08776,0,.5],714:[0,.69444,.09205,0,.5],715:[0,.69444,0,0,.5],728:[0,.69444,.09483,0,.5],729:[0,.67937,.07774,0,.27778],730:[0,.69444,0,0,.73752],732:[0,.67659,.08826,0,.5],733:[0,.69444,.09205,0,.5],915:[0,.69444,.13372,0,.54167],916:[0,.69444,0,0,.83334],920:[0,.69444,.07555,0,.77778],923:[0,.69444,0,0,.61111],926:[0,.69444,.12816,0,.66667],928:[0,.69444,.08094,0,.70834],931:[0,.69444,.11983,0,.72222],933:[0,.69444,.09031,0,.77778],934:[0,.69444,.04603,0,.72222],936:[0,.69444,.09031,0,.77778],937:[0,.69444,.08293,0,.72222],8211:[0,.44444,.08616,0,.5],8212:[0,.44444,.08616,0,1],8216:[0,.69444,.07816,0,.27778],8217:[0,.69444,.07816,0,.27778],8220:[0,.69444,.14205,0,.5],8221:[0,.69444,.00316,0,.5]},"SansSerif-Regular":{32:[0,0,0,0,.25],33:[0,.69444,0,0,.31945],34:[0,.69444,0,0,.5],35:[.19444,.69444,0,0,.83334],36:[.05556,.75,0,0,.5],37:[.05556,.75,0,0,.83334],38:[0,.69444,0,0,.75834],39:[0,.69444,0,0,.27778],40:[.25,.75,0,0,.38889],41:[.25,.75,0,0,.38889],42:[0,.75,0,0,.5],43:[.08333,.58333,0,0,.77778],44:[.125,.08333,0,0,.27778],45:[0,.44444,0,0,.33333],46:[0,.08333,0,0,.27778],47:[.25,.75,0,0,.5],48:[0,.65556,0,0,.5],49:[0,.65556,0,0,.5],50:[0,.65556,0,0,.5],51:[0,.65556,0,0,.5],52:[0,.65556,0,0,.5],53:[0,.65556,0,0,.5],54:[0,.65556,0,0,.5],55:[0,.65556,0,0,.5],56:[0,.65556,0,0,.5],57:[0,.65556,0,0,.5],58:[0,.44444,0,0,.27778],59:[.125,.44444,0,0,.27778],61:[-.13,.37,0,0,.77778],63:[0,.69444,0,0,.47222],64:[0,.69444,0,0,.66667],65:[0,.69444,0,0,.66667],66:[0,.69444,0,0,.66667],67:[0,.69444,0,0,.63889],68:[0,.69444,0,0,.72223],69:[0,.69444,0,0,.59722],70:[0,.69444,0,0,.56945],71:[0,.69444,0,0,.66667],72:[0,.69444,0,0,.70834],73:[0,.69444,0,0,.27778],74:[0,.69444,0,0,.47222],75:[0,.69444,0,0,.69445],76:[0,.69444,0,0,.54167],77:[0,.69444,0,0,.875],78:[0,.69444,0,0,.70834],79:[0,.69444,0,0,.73611],80:[0,.69444,0,0,.63889],81:[.125,.69444,0,0,.73611],82:[0,.69444,0,0,.64584],83:[0,.69444,0,0,.55556],84:[0,.69444,0,0,.68056],85:[0,.69444,0,0,.6875],86:[0,.69444,.01389,0,.66667],87:[0,.69444,.01389,0,.94445],88:[0,.69444,0,0,.66667],89:[0,.69444,.025,0,.66667],90:[0,.69444,0,0,.61111],91:[.25,.75,0,0,.28889],93:[.25,.75,0,0,.28889],94:[0,.69444,0,0,.5],95:[.35,.09444,.02778,0,.5],97:[0,.44444,0,0,.48056],98:[0,.69444,0,0,.51667],99:[0,.44444,0,0,.44445],100:[0,.69444,0,0,.51667],101:[0,.44444,0,0,.44445],102:[0,.69444,.06944,0,.30556],103:[.19444,.44444,.01389,0,.5],104:[0,.69444,0,0,.51667],105:[0,.67937,0,0,.23889],106:[.19444,.67937,0,0,.26667],107:[0,.69444,0,0,.48889],108:[0,.69444,0,0,.23889],109:[0,.44444,0,0,.79445],110:[0,.44444,0,0,.51667],111:[0,.44444,0,0,.5],112:[.19444,.44444,0,0,.51667],113:[.19444,.44444,0,0,.51667],114:[0,.44444,.01389,0,.34167],115:[0,.44444,0,0,.38333],116:[0,.57143,0,0,.36111],117:[0,.44444,0,0,.51667],118:[0,.44444,.01389,0,.46111],119:[0,.44444,.01389,0,.68334],120:[0,.44444,0,0,.46111],121:[.19444,.44444,.01389,0,.46111],122:[0,.44444,0,0,.43472],126:[.35,.32659,0,0,.5],160:[0,0,0,0,.25],168:[0,.67937,0,0,.5],176:[0,.69444,0,0,.66667],184:[.17014,0,0,0,.44445],305:[0,.44444,0,0,.23889],567:[.19444,.44444,0,0,.26667],710:[0,.69444,0,0,.5],711:[0,.63194,0,0,.5],713:[0,.60889,0,0,.5],714:[0,.69444,0,0,.5],715:[0,.69444,0,0,.5],728:[0,.69444,0,0,.5],729:[0,.67937,0,0,.27778],730:[0,.69444,0,0,.66667],732:[0,.67659,0,0,.5],733:[0,.69444,0,0,.5],915:[0,.69444,0,0,.54167],916:[0,.69444,0,0,.83334],920:[0,.69444,0,0,.77778],923:[0,.69444,0,0,.61111],926:[0,.69444,0,0,.66667],928:[0,.69444,0,0,.70834],931:[0,.69444,0,0,.72222],933:[0,.69444,0,0,.77778],934:[0,.69444,0,0,.72222],936:[0,.69444,0,0,.77778],937:[0,.69444,0,0,.72222],8211:[0,.44444,.02778,0,.5],8212:[0,.44444,.02778,0,1],8216:[0,.69444,0,0,.27778],8217:[0,.69444,0,0,.27778],8220:[0,.69444,0,0,.5],8221:[0,.69444,0,0,.5]},"Script-Regular":{32:[0,0,0,0,.25],65:[0,.7,.22925,0,.80253],66:[0,.7,.04087,0,.90757],67:[0,.7,.1689,0,.66619],68:[0,.7,.09371,0,.77443],69:[0,.7,.18583,0,.56162],70:[0,.7,.13634,0,.89544],71:[0,.7,.17322,0,.60961],72:[0,.7,.29694,0,.96919],73:[0,.7,.19189,0,.80907],74:[.27778,.7,.19189,0,1.05159],75:[0,.7,.31259,0,.91364],76:[0,.7,.19189,0,.87373],77:[0,.7,.15981,0,1.08031],78:[0,.7,.3525,0,.9015],79:[0,.7,.08078,0,.73787],80:[0,.7,.08078,0,1.01262],81:[0,.7,.03305,0,.88282],82:[0,.7,.06259,0,.85],83:[0,.7,.19189,0,.86767],84:[0,.7,.29087,0,.74697],85:[0,.7,.25815,0,.79996],86:[0,.7,.27523,0,.62204],87:[0,.7,.27523,0,.80532],88:[0,.7,.26006,0,.94445],89:[0,.7,.2939,0,.70961],90:[0,.7,.24037,0,.8212],160:[0,0,0,0,.25]},"Size1-Regular":{32:[0,0,0,0,.25],40:[.35001,.85,0,0,.45834],41:[.35001,.85,0,0,.45834],47:[.35001,.85,0,0,.57778],91:[.35001,.85,0,0,.41667],92:[.35001,.85,0,0,.57778],93:[.35001,.85,0,0,.41667],123:[.35001,.85,0,0,.58334],125:[.35001,.85,0,0,.58334],160:[0,0,0,0,.25],710:[0,.72222,0,0,.55556],732:[0,.72222,0,0,.55556],770:[0,.72222,0,0,.55556],771:[0,.72222,0,0,.55556],8214:[-99e-5,.601,0,0,.77778],8593:[1e-5,.6,0,0,.66667],8595:[1e-5,.6,0,0,.66667],8657:[1e-5,.6,0,0,.77778],8659:[1e-5,.6,0,0,.77778],8719:[.25001,.75,0,0,.94445],8720:[.25001,.75,0,0,.94445],8721:[.25001,.75,0,0,1.05556],8730:[.35001,.85,0,0,1],8739:[-.00599,.606,0,0,.33333],8741:[-.00599,.606,0,0,.55556],8747:[.30612,.805,.19445,0,.47222],8748:[.306,.805,.19445,0,.47222],8749:[.306,.805,.19445,0,.47222],8750:[.30612,.805,.19445,0,.47222],8896:[.25001,.75,0,0,.83334],8897:[.25001,.75,0,0,.83334],8898:[.25001,.75,0,0,.83334],8899:[.25001,.75,0,0,.83334],8968:[.35001,.85,0,0,.47222],8969:[.35001,.85,0,0,.47222],8970:[.35001,.85,0,0,.47222],8971:[.35001,.85,0,0,.47222],9168:[-99e-5,.601,0,0,.66667],10216:[.35001,.85,0,0,.47222],10217:[.35001,.85,0,0,.47222],10752:[.25001,.75,0,0,1.11111],10753:[.25001,.75,0,0,1.11111],10754:[.25001,.75,0,0,1.11111],10756:[.25001,.75,0,0,.83334],10758:[.25001,.75,0,0,.83334]},"Size2-Regular":{32:[0,0,0,0,.25],40:[.65002,1.15,0,0,.59722],41:[.65002,1.15,0,0,.59722],47:[.65002,1.15,0,0,.81111],91:[.65002,1.15,0,0,.47222],92:[.65002,1.15,0,0,.81111],93:[.65002,1.15,0,0,.47222],123:[.65002,1.15,0,0,.66667],125:[.65002,1.15,0,0,.66667],160:[0,0,0,0,.25],710:[0,.75,0,0,1],732:[0,.75,0,0,1],770:[0,.75,0,0,1],771:[0,.75,0,0,1],8719:[.55001,1.05,0,0,1.27778],8720:[.55001,1.05,0,0,1.27778],8721:[.55001,1.05,0,0,1.44445],8730:[.65002,1.15,0,0,1],8747:[.86225,1.36,.44445,0,.55556],8748:[.862,1.36,.44445,0,.55556],8749:[.862,1.36,.44445,0,.55556],8750:[.86225,1.36,.44445,0,.55556],8896:[.55001,1.05,0,0,1.11111],8897:[.55001,1.05,0,0,1.11111],8898:[.55001,1.05,0,0,1.11111],8899:[.55001,1.05,0,0,1.11111],8968:[.65002,1.15,0,0,.52778],8969:[.65002,1.15,0,0,.52778],8970:[.65002,1.15,0,0,.52778],8971:[.65002,1.15,0,0,.52778],10216:[.65002,1.15,0,0,.61111],10217:[.65002,1.15,0,0,.61111],10752:[.55001,1.05,0,0,1.51112],10753:[.55001,1.05,0,0,1.51112],10754:[.55001,1.05,0,0,1.51112],10756:[.55001,1.05,0,0,1.11111],10758:[.55001,1.05,0,0,1.11111]},"Size3-Regular":{32:[0,0,0,0,.25],40:[.95003,1.45,0,0,.73611],41:[.95003,1.45,0,0,.73611],47:[.95003,1.45,0,0,1.04445],91:[.95003,1.45,0,0,.52778],92:[.95003,1.45,0,0,1.04445],93:[.95003,1.45,0,0,.52778],123:[.95003,1.45,0,0,.75],125:[.95003,1.45,0,0,.75],160:[0,0,0,0,.25],710:[0,.75,0,0,1.44445],732:[0,.75,0,0,1.44445],770:[0,.75,0,0,1.44445],771:[0,.75,0,0,1.44445],8730:[.95003,1.45,0,0,1],8968:[.95003,1.45,0,0,.58334],8969:[.95003,1.45,0,0,.58334],8970:[.95003,1.45,0,0,.58334],8971:[.95003,1.45,0,0,.58334],10216:[.95003,1.45,0,0,.75],10217:[.95003,1.45,0,0,.75]},"Size4-Regular":{32:[0,0,0,0,.25],40:[1.25003,1.75,0,0,.79167],41:[1.25003,1.75,0,0,.79167],47:[1.25003,1.75,0,0,1.27778],91:[1.25003,1.75,0,0,.58334],92:[1.25003,1.75,0,0,1.27778],93:[1.25003,1.75,0,0,.58334],123:[1.25003,1.75,0,0,.80556],125:[1.25003,1.75,0,0,.80556],160:[0,0,0,0,.25],710:[0,.825,0,0,1.8889],732:[0,.825,0,0,1.8889],770:[0,.825,0,0,1.8889],771:[0,.825,0,0,1.8889],8730:[1.25003,1.75,0,0,1],8968:[1.25003,1.75,0,0,.63889],8969:[1.25003,1.75,0,0,.63889],8970:[1.25003,1.75,0,0,.63889],8971:[1.25003,1.75,0,0,.63889],9115:[.64502,1.155,0,0,.875],9116:[1e-5,.6,0,0,.875],9117:[.64502,1.155,0,0,.875],9118:[.64502,1.155,0,0,.875],9119:[1e-5,.6,0,0,.875],9120:[.64502,1.155,0,0,.875],9121:[.64502,1.155,0,0,.66667],9122:[-99e-5,.601,0,0,.66667],9123:[.64502,1.155,0,0,.66667],9124:[.64502,1.155,0,0,.66667],9125:[-99e-5,.601,0,0,.66667],9126:[.64502,1.155,0,0,.66667],9127:[1e-5,.9,0,0,.88889],9128:[.65002,1.15,0,0,.88889],9129:[.90001,0,0,0,.88889],9130:[0,.3,0,0,.88889],9131:[1e-5,.9,0,0,.88889],9132:[.65002,1.15,0,0,.88889],9133:[.90001,0,0,0,.88889],9143:[.88502,.915,0,0,1.05556],10216:[1.25003,1.75,0,0,.80556],10217:[1.25003,1.75,0,0,.80556],57344:[-.00499,.605,0,0,1.05556],57345:[-.00499,.605,0,0,1.05556],57680:[0,.12,0,0,.45],57681:[0,.12,0,0,.45],57682:[0,.12,0,0,.45],57683:[0,.12,0,0,.45]},"Typewriter-Regular":{32:[0,0,0,0,.525],33:[0,.61111,0,0,.525],34:[0,.61111,0,0,.525],35:[0,.61111,0,0,.525],36:[.08333,.69444,0,0,.525],37:[.08333,.69444,0,0,.525],38:[0,.61111,0,0,.525],39:[0,.61111,0,0,.525],40:[.08333,.69444,0,0,.525],41:[.08333,.69444,0,0,.525],42:[0,.52083,0,0,.525],43:[-.08056,.53055,0,0,.525],44:[.13889,.125,0,0,.525],45:[-.08056,.53055,0,0,.525],46:[0,.125,0,0,.525],47:[.08333,.69444,0,0,.525],48:[0,.61111,0,0,.525],49:[0,.61111,0,0,.525],50:[0,.61111,0,0,.525],51:[0,.61111,0,0,.525],52:[0,.61111,0,0,.525],53:[0,.61111,0,0,.525],54:[0,.61111,0,0,.525],55:[0,.61111,0,0,.525],56:[0,.61111,0,0,.525],57:[0,.61111,0,0,.525],58:[0,.43056,0,0,.525],59:[.13889,.43056,0,0,.525],60:[-.05556,.55556,0,0,.525],61:[-.19549,.41562,0,0,.525],62:[-.05556,.55556,0,0,.525],63:[0,.61111,0,0,.525],64:[0,.61111,0,0,.525],65:[0,.61111,0,0,.525],66:[0,.61111,0,0,.525],67:[0,.61111,0,0,.525],68:[0,.61111,0,0,.525],69:[0,.61111,0,0,.525],70:[0,.61111,0,0,.525],71:[0,.61111,0,0,.525],72:[0,.61111,0,0,.525],73:[0,.61111,0,0,.525],74:[0,.61111,0,0,.525],75:[0,.61111,0,0,.525],76:[0,.61111,0,0,.525],77:[0,.61111,0,0,.525],78:[0,.61111,0,0,.525],79:[0,.61111,0,0,.525],80:[0,.61111,0,0,.525],81:[.13889,.61111,0,0,.525],82:[0,.61111,0,0,.525],83:[0,.61111,0,0,.525],84:[0,.61111,0,0,.525],85:[0,.61111,0,0,.525],86:[0,.61111,0,0,.525],87:[0,.61111,0,0,.525],88:[0,.61111,0,0,.525],89:[0,.61111,0,0,.525],90:[0,.61111,0,0,.525],91:[.08333,.69444,0,0,.525],92:[.08333,.69444,0,0,.525],93:[.08333,.69444,0,0,.525],94:[0,.61111,0,0,.525],95:[.09514,0,0,0,.525],96:[0,.61111,0,0,.525],97:[0,.43056,0,0,.525],98:[0,.61111,0,0,.525],99:[0,.43056,0,0,.525],100:[0,.61111,0,0,.525],101:[0,.43056,0,0,.525],102:[0,.61111,0,0,.525],103:[.22222,.43056,0,0,.525],104:[0,.61111,0,0,.525],105:[0,.61111,0,0,.525],106:[.22222,.61111,0,0,.525],107:[0,.61111,0,0,.525],108:[0,.61111,0,0,.525],109:[0,.43056,0,0,.525],110:[0,.43056,0,0,.525],111:[0,.43056,0,0,.525],112:[.22222,.43056,0,0,.525],113:[.22222,.43056,0,0,.525],114:[0,.43056,0,0,.525],115:[0,.43056,0,0,.525],116:[0,.55358,0,0,.525],117:[0,.43056,0,0,.525],118:[0,.43056,0,0,.525],119:[0,.43056,0,0,.525],120:[0,.43056,0,0,.525],121:[.22222,.43056,0,0,.525],122:[0,.43056,0,0,.525],123:[.08333,.69444,0,0,.525],124:[.08333,.69444,0,0,.525],125:[.08333,.69444,0,0,.525],126:[0,.61111,0,0,.525],127:[0,.61111,0,0,.525],160:[0,0,0,0,.525],176:[0,.61111,0,0,.525],184:[.19445,0,0,0,.525],305:[0,.43056,0,0,.525],567:[.22222,.43056,0,0,.525],711:[0,.56597,0,0,.525],713:[0,.56555,0,0,.525],714:[0,.61111,0,0,.525],715:[0,.61111,0,0,.525],728:[0,.61111,0,0,.525],730:[0,.61111,0,0,.525],770:[0,.61111,0,0,.525],771:[0,.61111,0,0,.525],776:[0,.61111,0,0,.525],915:[0,.61111,0,0,.525],916:[0,.61111,0,0,.525],920:[0,.61111,0,0,.525],923:[0,.61111,0,0,.525],926:[0,.61111,0,0,.525],928:[0,.61111,0,0,.525],931:[0,.61111,0,0,.525],933:[0,.61111,0,0,.525],934:[0,.61111,0,0,.525],936:[0,.61111,0,0,.525],937:[0,.61111,0,0,.525],8216:[0,.61111,0,0,.525],8217:[0,.61111,0,0,.525],8242:[0,.61111,0,0,.525],9251:[.11111,.21944,0,0,.525]}},Uv={slant:[.25,.25,.25],space:[0,0,0],stretch:[0,0,0],shrink:[0,0,0],xHeight:[.431,.431,.431],quad:[1,1.171,1.472],extraSpace:[0,0,0],num1:[.677,.732,.925],num2:[.394,.384,.387],num3:[.444,.471,.504],denom1:[.686,.752,1.025],denom2:[.345,.344,.532],sup1:[.413,.503,.504],sup2:[.363,.431,.404],sup3:[.289,.286,.294],sub1:[.15,.143,.2],sub2:[.247,.286,.4],supDrop:[.386,.353,.494],subDrop:[.05,.071,.1],delim1:[2.39,1.7,1.98],delim2:[1.01,1.157,1.42],axisHeight:[.25,.25,.25],defaultRuleThickness:[.04,.049,.049],bigOpSpacing1:[.111,.111,.111],bigOpSpacing2:[.166,.166,.166],bigOpSpacing3:[.2,.2,.2],bigOpSpacing4:[.6,.611,.611],bigOpSpacing5:[.1,.143,.143],sqrtRuleThickness:[.04,.04,.04],ptPerEm:[10,10,10],doubleRuleSep:[.2,.2,.2],arrayRuleWidth:[.04,.04,.04],fboxsep:[.3,.3,.3],fboxrule:[.04,.04,.04]},$j={\u00C5:"A",\u00D0:"D",\u00DE:"o",\u00E5:"a",\u00F0:"d",\u00FE:"o",\u0410:"A",\u0411:"B",\u0412:"B",\u0413:"F",\u0414:"A",\u0415:"E",\u0416:"K",\u0417:"3",\u0418:"N",\u0419:"N",\u041A:"K",\u041B:"N",\u041C:"M",\u041D:"H",\u041E:"O",\u041F:"N",\u0420:"P",\u0421:"C",\u0422:"T",\u0423:"y",\u0424:"O",\u0425:"X",\u0426:"U",\u0427:"h",\u0428:"W",\u0429:"W",\u042A:"B",\u042B:"X",\u042C:"B",\u042D:"3",\u042E:"X",\u042F:"R",\u0430:"a",\u0431:"b",\u0432:"a",\u0433:"r",\u0434:"y",\u0435:"e",\u0436:"m",\u0437:"e",\u0438:"n",\u0439:"n",\u043A:"n",\u043B:"n",\u043C:"m",\u043D:"n",\u043E:"o",\u043F:"n",\u0440:"p",\u0441:"c",\u0442:"o",\u0443:"y",\u0444:"b",\u0445:"x",\u0446:"n",\u0447:"n",\u0448:"w",\u0449:"w",\u044A:"a",\u044B:"m",\u044C:"a",\u044D:"e",\u044E:"m",\u044F:"r"};function Ohe(r,e){Ao[r]=e}function Q5(r,e,t){if(!Ao[e])throw new Error("Font metrics not found for font: "+e+".");var n=r.charCodeAt(0),i=Ao[e][n];if(!i&&r[0]in $j&&(n=$j[r[0]].charCodeAt(0),i=Ao[e][n]),!i&&t==="text"&&w$(n)&&(i=Ao[e][77]),i)return{depth:i[0],height:i[1],italic:i[2],skew:i[3],width:i[4]}}var A5={};function Rhe(r){var e;if(r>=5?e=0:r>=3?e=1:e=2,!A5[e]){var t=A5[e]={cssEmPerMu:Uv.quad[e]/18};for(var n in Uv)Uv.hasOwnProperty(n)&&(t[n]=Uv[n][e])}return A5[e]}var khe=[[1,1,1],[2,1,1],[3,1,1],[4,2,1],[5,2,1],[6,3,1],[7,4,2],[8,6,3],[9,7,6],[10,8,7],[11,10,9]],Hj=[.5,.6,.7,.8,.9,1,1.2,1.44,1.728,2.074,2.488],Wj=function(e,t){return t.size<2?e:khe[e-1][t.size-1]},Phe=(()=>{class r{constructor(t){this.style=void 0,this.color=void 0,this.size=void 0,this.textSize=void 0,this.phantom=void 0,this.font=void 0,this.fontFamily=void 0,this.fontWeight=void 0,this.fontShape=void 0,this.sizeMultiplier=void 0,this.maxSize=void 0,this.minRuleThickness=void 0,this._fontMetrics=void 0,this.style=t.style,this.color=t.color,this.size=t.size||r.BASESIZE,this.textSize=t.textSize||this.size,this.phantom=!!t.phantom,this.font=t.font||"",this.fontFamily=t.fontFamily||"",this.fontWeight=t.fontWeight||"",this.fontShape=t.fontShape||"",this.sizeMultiplier=Hj[this.size-1],this.maxSize=t.maxSize,this.minRuleThickness=t.minRuleThickness,this._fontMetrics=void 0}extend(t){var n={style:this.style,size:this.size,textSize:this.textSize,color:this.color,phantom:this.phantom,font:this.font,fontFamily:this.fontFamily,fontWeight:this.fontWeight,fontShape:this.fontShape,maxSize:this.maxSize,minRuleThickness:this.minRuleThickness};for(var i in t)t.hasOwnProperty(i)&&(n[i]=t[i]);return new r(n)}havingStyle(t){return this.style===t?this:this.extend({style:t,size:Wj(this.textSize,t)})}havingCrampedStyle(){return this.havingStyle(this.style.cramp())}havingSize(t){return this.size===t&&this.textSize===t?this:this.extend({style:this.style.text(),size:t,textSize:t,sizeMultiplier:Hj[t-1]})}havingBaseStyle(t){t=t||this.style.text();var n=Wj(r.BASESIZE,t);return this.size===n&&this.textSize===r.BASESIZE&&this.style===t?this:this.extend({style:t,size:n})}havingBaseSizing(){var t;switch(this.style.id){case 4:case 5:t=3;break;case 6:case 7:t=1;break;default:t=6}return this.extend({style:this.style.text(),size:t})}withColor(t){return this.extend({color:t})}withPhantom(){return this.extend({phantom:!0})}withFont(t){return this.extend({font:t})}withTextFontFamily(t){return this.extend({fontFamily:t,font:""})}withTextFontWeight(t){return this.extend({fontWeight:t,font:""})}withTextFontShape(t){return this.extend({fontShape:t,font:""})}sizingClasses(t){return t.size!==this.size?["sizing","reset-size"+t.size,"size"+this.size]:[]}baseSizingClasses(){return this.size!==r.BASESIZE?["sizing","reset-size"+this.size,"size"+r.BASESIZE]:[]}fontMetrics(){return this._fontMetrics||(this._fontMetrics=Rhe(this.size)),this._fontMetrics}getColor(){return this.phantom?"transparent":this.color}}return r.BASESIZE=6,r})(),U5={pt:1,mm:7227/2540,cm:7227/254,in:72.27,bp:803/800,pc:12,dd:1238/1157,cc:14856/1157,nd:685/642,nc:1370/107,sp:1/65536,px:803/800},Bhe={ex:!0,em:!0,mu:!0},_$=function(e){return typeof e!="string"&&(e=e.unit),e in U5||e in Bhe||e==="ex"},nn=function(e,t){var n;if(e.unit in U5)n=U5[e.unit]/t.fontMetrics().ptPerEm/t.sizeMultiplier;else if(e.unit==="mu")n=t.fontMetrics().cssEmPerMu;else{var i;if(t.style.isTight()?i=t.havingStyle(t.style.text()):i=t,e.unit==="ex")n=i.fontMetrics().xHeight;else if(e.unit==="em")n=i.fontMetrics().quad;else throw new We("Invalid unit: '"+e.unit+"'");i!==t&&(n*=i.sizeMultiplier/t.sizeMultiplier)}return Math.min(e.number*n,t.maxSize)},Qe=function(e){return+e.toFixed(4)+"em"},wl=function(e){return e.filter(t=>t).join(" ")},S$=function(e,t,n){if(this.classes=e||[],this.attributes={},this.height=0,this.depth=0,this.maxFontSize=0,this.style=n||{},t){t.style.isTight()&&this.classes.push("mtight");var i=t.getColor();i&&(this.style.color=i)}},D$=function(e){var t=document.createElement(e);t.className=wl(this.classes);for(var n in this.style)this.style.hasOwnProperty(n)&&(t.style[n]=this.style[n]);for(var i in this.attributes)this.attributes.hasOwnProperty(i)&&t.setAttribute(i,this.attributes[i]);for(var a=0;a<this.children.length;a++)t.appendChild(this.children[a].toNode());return t},Lhe=/[\s"'>/=\x00-\x1f]/,C$=function(e){var t="<"+e;this.classes.length&&(t+=' class="'+St.escape(wl(this.classes))+'"');var n="";for(var i in this.style)this.style.hasOwnProperty(i)&&(n+=St.hyphenate(i)+":"+this.style[i]+";");n&&(t+=' style="'+St.escape(n)+'"');for(var a in this.attributes)if(this.attributes.hasOwnProperty(a)){if(Lhe.test(a))throw new We("Invalid attribute name '"+a+"'");t+=" "+a+'="'+St.escape(this.attributes[a])+'"'}t+=">";for(var o=0;o<this.children.length;o++)t+=this.children[o].toMarkup();return t+="</"+e+">",t},Cu=class{constructor(e,t,n,i){this.children=void 0,this.attributes=void 0,this.classes=void 0,this.height=void 0,this.depth=void 0,this.width=void 0,this.maxFontSize=void 0,this.style=void 0,S$.call(this,e,n,i),this.children=t||[]}setAttribute(e,t){this.attributes[e]=t}hasClass(e){return St.contains(this.classes,e)}toNode(){return D$.call(this,"span")}toMarkup(){return C$.call(this,"span")}},Im=class{constructor(e,t,n,i){this.children=void 0,this.attributes=void 0,this.classes=void 0,this.height=void 0,this.depth=void 0,this.maxFontSize=void 0,this.style=void 0,S$.call(this,t,i),this.children=n||[],this.setAttribute("href",e)}setAttribute(e,t){this.attributes[e]=t}hasClass(e){return St.contains(this.classes,e)}toNode(){return D$.call(this,"a")}toMarkup(){return C$.call(this,"a")}},q5=class{constructor(e,t,n){this.src=void 0,this.alt=void 0,this.classes=void 0,this.height=void 0,this.depth=void 0,this.maxFontSize=void 0,this.style=void 0,this.alt=t,this.src=e,this.classes=["mord"],this.style=n}hasClass(e){return St.contains(this.classes,e)}toNode(){var e=document.createElement("img");e.src=this.src,e.alt=this.alt,e.className="mord";for(var t in this.style)this.style.hasOwnProperty(t)&&(e.style[t]=this.style[t]);return e}toMarkup(){var e='<img src="'+St.escape(this.src)+'"'+(' alt="'+St.escape(this.alt)+'"'),t="";for(var n in this.style)this.style.hasOwnProperty(n)&&(t+=St.hyphenate(n)+":"+this.style[n]+";");return t&&(e+=' style="'+St.escape(t)+'"'),e+="'/>",e}},zhe={\u00EE:"\u0131\u0302",\u00EF:"\u0131\u0308",\u00ED:"\u0131\u0301",\u00EC:"\u0131\u0300"},Li=class{constructor(e,t,n,i,a,o,s,l){this.text=void 0,this.height=void 0,this.depth=void 0,this.italic=void 0,this.skew=void 0,this.width=void 0,this.maxFontSize=void 0,this.classes=void 0,this.style=void 0,this.text=e,this.height=t||0,this.depth=n||0,this.italic=i||0,this.skew=a||0,this.width=o||0,this.classes=s||[],this.style=l||{},this.maxFontSize=0;var u=_he(this.text.charCodeAt(0));u&&this.classes.push(u+"_fallback"),/[]/.test(this.text)&&(this.text=zhe[this.text])}hasClass(e){return St.contains(this.classes,e)}toNode(){var e=document.createTextNode(this.text),t=null;this.italic>0&&(t=document.createElement("span"),t.style.marginRight=Qe(this.italic)),this.classes.length>0&&(t=t||document.createElement("span"),t.className=wl(this.classes));for(var n in this.style)this.style.hasOwnProperty(n)&&(t=t||document.createElement("span"),t.style[n]=this.style[n]);return t?(t.appendChild(e),t):e}toMarkup(){var e=!1,t="<span";this.classes.length&&(e=!0,t+=' class="',t+=St.escape(wl(this.classes)),t+='"');var n="";this.italic>0&&(n+="margin-right:"+this.italic+"em;");for(var i in this.style)this.style.hasOwnProperty(i)&&(n+=St.hyphenate(i)+":"+this.style[i]+";");n&&(e=!0,t+=' style="'+St.escape(n)+'"');var a=St.escape(this.text);return e?(t+=">",t+=a,t+="</span>",t):a}},Za=class{constructor(e,t){this.children=void 0,this.attributes=void 0,this.children=e||[],this.attributes=t||{}}toNode(){var e="http://www.w3.org/2000/svg",t=document.createElementNS(e,"svg");for(var n in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,n)&&t.setAttribute(n,this.attributes[n]);for(var i=0;i<this.children.length;i++)t.appendChild(this.children[i].toNode());return t}toMarkup(){var e='<svg xmlns="http://www.w3.org/2000/svg"';for(var t in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,t)&&(e+=" "+t+'="'+St.escape(this.attributes[t])+'"');e+=">";for(var n=0;n<this.children.length;n++)e+=this.children[n].toMarkup();return e+="</svg>",e}},Mo=class{constructor(e,t){this.pathName=void 0,this.alternate=void 0,this.pathName=e,this.alternate=t}toNode(){var e="http://www.w3.org/2000/svg",t=document.createElementNS(e,"path");return this.alternate?t.setAttribute("d",this.alternate):t.setAttribute("d",jj[this.pathName]),t}toMarkup(){return this.alternate?'<path d="'+St.escape(this.alternate)+'"/>':'<path d="'+St.escape(jj[this.pathName])+'"/>'}},Om=class{constructor(e){this.attributes=void 0,this.attributes=e||{}}toNode(){var e="http://www.w3.org/2000/svg",t=document.createElementNS(e,"line");for(var n in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,n)&&t.setAttribute(n,this.attributes[n]);return t}toMarkup(){var e="<line";for(var t in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,t)&&(e+=" "+t+'="'+St.escape(this.attributes[t])+'"');return e+="/>",e}};function Gj(r){if(r instanceof Li)return r;throw new Error("Expected symbolNode but got "+String(r)+".")}function Vhe(r){if(r instanceof Cu)return r;throw new Error("Expected span<HtmlDomNode> but got "+String(r)+".")}var Uhe={bin:1,close:1,inner:1,open:1,punct:1,rel:1},qhe={"accent-token":1,mathord:1,"op-token":1,spacing:1,textord:1},Pr={math:{},text:{}};function N(r,e,t,n,i,a){Pr[r][i]={font:e,group:t,replace:n},a&&n&&(Pr[r][n]=Pr[r][i])}var R="math",Ue="text",z="main",re="ams",Xr="accent-token",ct="bin",vi="close",Cd="inner",Ct="mathord",bn="op-token",Qi="open",o1="punct",ie="rel",gs="spacing",ce="textord";N(R,z,ie,"\u2261","\\equiv",!0);N(R,z,ie,"\u227A","\\prec",!0);N(R,z,ie,"\u227B","\\succ",!0);N(R,z,ie,"\u223C","\\sim",!0);N(R,z,ie,"\u22A5","\\perp");N(R,z,ie,"\u2AAF","\\preceq",!0);N(R,z,ie,"\u2AB0","\\succeq",!0);N(R,z,ie,"\u2243","\\simeq",!0);N(R,z,ie,"\u2223","\\mid",!0);N(R,z,ie,"\u226A","\\ll",!0);N(R,z,ie,"\u226B","\\gg",!0);N(R,z,ie,"\u224D","\\asymp",!0);N(R,z,ie,"\u2225","\\parallel");N(R,z,ie,"\u22C8","\\bowtie",!0);N(R,z,ie,"\u2323","\\smile",!0);N(R,z,ie,"\u2291","\\sqsubseteq",!0);N(R,z,ie,"\u2292","\\sqsupseteq",!0);N(R,z,ie,"\u2250","\\doteq",!0);N(R,z,ie,"\u2322","\\frown",!0);N(R,z,ie,"\u220B","\\ni",!0);N(R,z,ie,"\u221D","\\propto",!0);N(R,z,ie,"\u22A2","\\vdash",!0);N(R,z,ie,"\u22A3","\\dashv",!0);N(R,z,ie,"\u220B","\\owns");N(R,z,o1,".","\\ldotp");N(R,z,o1,"\u22C5","\\cdotp");N(R,z,ce,"#","\\#");N(Ue,z,ce,"#","\\#");N(R,z,ce,"&","\\&");N(Ue,z,ce,"&","\\&");N(R,z,ce,"\u2135","\\aleph",!0);N(R,z,ce,"\u2200","\\forall",!0);N(R,z,ce,"\u210F","\\hbar",!0);N(R,z,ce,"\u2203","\\exists",!0);N(R,z,ce,"\u2207","\\nabla",!0);N(R,z,ce,"\u266D","\\flat",!0);N(R,z,ce,"\u2113","\\ell",!0);N(R,z,ce,"\u266E","\\natural",!0);N(R,z,ce,"\u2663","\\clubsuit",!0);N(R,z,ce,"\u2118","\\wp",!0);N(R,z,ce,"\u266F","\\sharp",!0);N(R,z,ce,"\u2662","\\diamondsuit",!0);N(R,z,ce,"\u211C","\\Re",!0);N(R,z,ce,"\u2661","\\heartsuit",!0);N(R,z,ce,"\u2111","\\Im",!0);N(R,z,ce,"\u2660","\\spadesuit",!0);N(R,z,ce,"\xA7","\\S",!0);N(Ue,z,ce,"\xA7","\\S");N(R,z,ce,"\xB6","\\P",!0);N(Ue,z,ce,"\xB6","\\P");N(R,z,ce,"\u2020","\\dag");N(Ue,z,ce,"\u2020","\\dag");N(Ue,z,ce,"\u2020","\\textdagger");N(R,z,ce,"\u2021","\\ddag");N(Ue,z,ce,"\u2021","\\ddag");N(Ue,z,ce,"\u2021","\\textdaggerdbl");N(R,z,vi,"\u23B1","\\rmoustache",!0);N(R,z,Qi,"\u23B0","\\lmoustache",!0);N(R,z,vi,"\u27EF","\\rgroup",!0);N(R,z,Qi,"\u27EE","\\lgroup",!0);N(R,z,ct,"\u2213","\\mp",!0);N(R,z,ct,"\u2296","\\ominus",!0);N(R,z,ct,"\u228E","\\uplus",!0);N(R,z,ct,"\u2293","\\sqcap",!0);N(R,z,ct,"\u2217","\\ast");N(R,z,ct,"\u2294","\\sqcup",!0);N(R,z,ct,"\u25EF","\\bigcirc",!0);N(R,z,ct,"\u2219","\\bullet",!0);N(R,z,ct,"\u2021","\\ddagger");N(R,z,ct,"\u2240","\\wr",!0);N(R,z,ct,"\u2A3F","\\amalg");N(R,z,ct,"&","\\And");N(R,z,ie,"\u27F5","\\longleftarrow",!0);N(R,z,ie,"\u21D0","\\Leftarrow",!0);N(R,z,ie,"\u27F8","\\Longleftarrow",!0);N(R,z,ie,"\u27F6","\\longrightarrow",!0);N(R,z,ie,"\u21D2","\\Rightarrow",!0);N(R,z,ie,"\u27F9","\\Longrightarrow",!0);N(R,z,ie,"\u2194","\\leftrightarrow",!0);N(R,z,ie,"\u27F7","\\longleftrightarrow",!0);N(R,z,ie,"\u21D4","\\Leftrightarrow",!0);N(R,z,ie,"\u27FA","\\Longleftrightarrow",!0);N(R,z,ie,"\u21A6","\\mapsto",!0);N(R,z,ie,"\u27FC","\\longmapsto",!0);N(R,z,ie,"\u2197","\\nearrow",!0);N(R,z,ie,"\u21A9","\\hookleftarrow",!0);N(R,z,ie,"\u21AA","\\hookrightarrow",!0);N(R,z,ie,"\u2198","\\searrow",!0);N(R,z,ie,"\u21BC","\\leftharpoonup",!0);N(R,z,ie,"\u21C0","\\rightharpoonup",!0);N(R,z,ie,"\u2199","\\swarrow",!0);N(R,z,ie,"\u21BD","\\leftharpoondown",!0);N(R,z,ie,"\u21C1","\\rightharpoondown",!0);N(R,z,ie,"\u2196","\\nwarrow",!0);N(R,z,ie,"\u21CC","\\rightleftharpoons",!0);N(R,re,ie,"\u226E","\\nless",!0);N(R,re,ie,"\uE010","\\@nleqslant");N(R,re,ie,"\uE011","\\@nleqq");N(R,re,ie,"\u2A87","\\lneq",!0);N(R,re,ie,"\u2268","\\lneqq",!0);N(R,re,ie,"\uE00C","\\@lvertneqq");N(R,re,ie,"\u22E6","\\lnsim",!0);N(R,re,ie,"\u2A89","\\lnapprox",!0);N(R,re,ie,"\u2280","\\nprec",!0);N(R,re,ie,"\u22E0","\\npreceq",!0);N(R,re,ie,"\u22E8","\\precnsim",!0);N(R,re,ie,"\u2AB9","\\precnapprox",!0);N(R,re,ie,"\u2241","\\nsim",!0);N(R,re,ie,"\uE006","\\@nshortmid");N(R,re,ie,"\u2224","\\nmid",!0);N(R,re,ie,"\u22AC","\\nvdash",!0);N(R,re,ie,"\u22AD","\\nvDash",!0);N(R,re,ie,"\u22EA","\\ntriangleleft");N(R,re,ie,"\u22EC","\\ntrianglelefteq",!0);N(R,re,ie,"\u228A","\\subsetneq",!0);N(R,re,ie,"\uE01A","\\@varsubsetneq");N(R,re,ie,"\u2ACB","\\subsetneqq",!0);N(R,re,ie,"\uE017","\\@varsubsetneqq");N(R,re,ie,"\u226F","\\ngtr",!0);N(R,re,ie,"\uE00F","\\@ngeqslant");N(R,re,ie,"\uE00E","\\@ngeqq");N(R,re,ie,"\u2A88","\\gneq",!0);N(R,re,ie,"\u2269","\\gneqq",!0);N(R,re,ie,"\uE00D","\\@gvertneqq");N(R,re,ie,"\u22E7","\\gnsim",!0);N(R,re,ie,"\u2A8A","\\gnapprox",!0);N(R,re,ie,"\u2281","\\nsucc",!0);N(R,re,ie,"\u22E1","\\nsucceq",!0);N(R,re,ie,"\u22E9","\\succnsim",!0);N(R,re,ie,"\u2ABA","\\succnapprox",!0);N(R,re,ie,"\u2246","\\ncong",!0);N(R,re,ie,"\uE007","\\@nshortparallel");N(R,re,ie,"\u2226","\\nparallel",!0);N(R,re,ie,"\u22AF","\\nVDash",!0);N(R,re,ie,"\u22EB","\\ntriangleright");N(R,re,ie,"\u22ED","\\ntrianglerighteq",!0);N(R,re,ie,"\uE018","\\@nsupseteqq");N(R,re,ie,"\u228B","\\supsetneq",!0);N(R,re,ie,"\uE01B","\\@varsupsetneq");N(R,re,ie,"\u2ACC","\\supsetneqq",!0);N(R,re,ie,"\uE019","\\@varsupsetneqq");N(R,re,ie,"\u22AE","\\nVdash",!0);N(R,re,ie,"\u2AB5","\\precneqq",!0);N(R,re,ie,"\u2AB6","\\succneqq",!0);N(R,re,ie,"\uE016","\\@nsubseteqq");N(R,re,ct,"\u22B4","\\unlhd");N(R,re,ct,"\u22B5","\\unrhd");N(R,re,ie,"\u219A","\\nleftarrow",!0);N(R,re,ie,"\u219B","\\nrightarrow",!0);N(R,re,ie,"\u21CD","\\nLeftarrow",!0);N(R,re,ie,"\u21CF","\\nRightarrow",!0);N(R,re,ie,"\u21AE","\\nleftrightarrow",!0);N(R,re,ie,"\u21CE","\\nLeftrightarrow",!0);N(R,re,ie,"\u25B3","\\vartriangle");N(R,re,ce,"\u210F","\\hslash");N(R,re,ce,"\u25BD","\\triangledown");N(R,re,ce,"\u25CA","\\lozenge");N(R,re,ce,"\u24C8","\\circledS");N(R,re,ce,"\xAE","\\circledR");N(Ue,re,ce,"\xAE","\\circledR");N(R,re,ce,"\u2221","\\measuredangle",!0);N(R,re,ce,"\u2204","\\nexists");N(R,re,ce,"\u2127","\\mho");N(R,re,ce,"\u2132","\\Finv",!0);N(R,re,ce,"\u2141","\\Game",!0);N(R,re,ce,"\u2035","\\backprime");N(R,re,ce,"\u25B2","\\blacktriangle");N(R,re,ce,"\u25BC","\\blacktriangledown");N(R,re,ce,"\u25A0","\\blacksquare");N(R,re,ce,"\u29EB","\\blacklozenge");N(R,re,ce,"\u2605","\\bigstar");N(R,re,ce,"\u2222","\\sphericalangle",!0);N(R,re,ce,"\u2201","\\complement",!0);N(R,re,ce,"\xF0","\\eth",!0);N(Ue,z,ce,"\xF0","\xF0");N(R,re,ce,"\u2571","\\diagup");N(R,re,ce,"\u2572","\\diagdown");N(R,re,ce,"\u25A1","\\square");N(R,re,ce,"\u25A1","\\Box");N(R,re,ce,"\u25CA","\\Diamond");N(R,re,ce,"\xA5","\\yen",!0);N(Ue,re,ce,"\xA5","\\yen",!0);N(R,re,ce,"\u2713","\\checkmark",!0);N(Ue,re,ce,"\u2713","\\checkmark");N(R,re,ce,"\u2136","\\beth",!0);N(R,re,ce,"\u2138","\\daleth",!0);N(R,re,ce,"\u2137","\\gimel",!0);N(R,re,ce,"\u03DD","\\digamma",!0);N(R,re,ce,"\u03F0","\\varkappa");N(R,re,Qi,"\u250C","\\@ulcorner",!0);N(R,re,vi,"\u2510","\\@urcorner",!0);N(R,re,Qi,"\u2514","\\@llcorner",!0);N(R,re,vi,"\u2518","\\@lrcorner",!0);N(R,re,ie,"\u2266","\\leqq",!0);N(R,re,ie,"\u2A7D","\\leqslant",!0);N(R,re,ie,"\u2A95","\\eqslantless",!0);N(R,re,ie,"\u2272","\\lesssim",!0);N(R,re,ie,"\u2A85","\\lessapprox",!0);N(R,re,ie,"\u224A","\\approxeq",!0);N(R,re,ct,"\u22D6","\\lessdot");N(R,re,ie,"\u22D8","\\lll",!0);N(R,re,ie,"\u2276","\\lessgtr",!0);N(R,re,ie,"\u22DA","\\lesseqgtr",!0);N(R,re,ie,"\u2A8B","\\lesseqqgtr",!0);N(R,re,ie,"\u2251","\\doteqdot");N(R,re,ie,"\u2253","\\risingdotseq",!0);N(R,re,ie,"\u2252","\\fallingdotseq",!0);N(R,re,ie,"\u223D","\\backsim",!0);N(R,re,ie,"\u22CD","\\backsimeq",!0);N(R,re,ie,"\u2AC5","\\subseteqq",!0);N(R,re,ie,"\u22D0","\\Subset",!0);N(R,re,ie,"\u228F","\\sqsubset",!0);N(R,re,ie,"\u227C","\\preccurlyeq",!0);N(R,re,ie,"\u22DE","\\curlyeqprec",!0);N(R,re,ie,"\u227E","\\precsim",!0);N(R,re,ie,"\u2AB7","\\precapprox",!0);N(R,re,ie,"\u22B2","\\vartriangleleft");N(R,re,ie,"\u22B4","\\trianglelefteq");N(R,re,ie,"\u22A8","\\vDash",!0);N(R,re,ie,"\u22AA","\\Vvdash",!0);N(R,re,ie,"\u2323","\\smallsmile");N(R,re,ie,"\u2322","\\smallfrown");N(R,re,ie,"\u224F","\\bumpeq",!0);N(R,re,ie,"\u224E","\\Bumpeq",!0);N(R,re,ie,"\u2267","\\geqq",!0);N(R,re,ie,"\u2A7E","\\geqslant",!0);N(R,re,ie,"\u2A96","\\eqslantgtr",!0);N(R,re,ie,"\u2273","\\gtrsim",!0);N(R,re,ie,"\u2A86","\\gtrapprox",!0);N(R,re,ct,"\u22D7","\\gtrdot");N(R,re,ie,"\u22D9","\\ggg",!0);N(R,re,ie,"\u2277","\\gtrless",!0);N(R,re,ie,"\u22DB","\\gtreqless",!0);N(R,re,ie,"\u2A8C","\\gtreqqless",!0);N(R,re,ie,"\u2256","\\eqcirc",!0);N(R,re,ie,"\u2257","\\circeq",!0);N(R,re,ie,"\u225C","\\triangleq",!0);N(R,re,ie,"\u223C","\\thicksim");N(R,re,ie,"\u2248","\\thickapprox");N(R,re,ie,"\u2AC6","\\supseteqq",!0);N(R,re,ie,"\u22D1","\\Supset",!0);N(R,re,ie,"\u2290","\\sqsupset",!0);N(R,re,ie,"\u227D","\\succcurlyeq",!0);N(R,re,ie,"\u22DF","\\curlyeqsucc",!0);N(R,re,ie,"\u227F","\\succsim",!0);N(R,re,ie,"\u2AB8","\\succapprox",!0);N(R,re,ie,"\u22B3","\\vartriangleright");N(R,re,ie,"\u22B5","\\trianglerighteq");N(R,re,ie,"\u22A9","\\Vdash",!0);N(R,re,ie,"\u2223","\\shortmid");N(R,re,ie,"\u2225","\\shortparallel");N(R,re,ie,"\u226C","\\between",!0);N(R,re,ie,"\u22D4","\\pitchfork",!0);N(R,re,ie,"\u221D","\\varpropto");N(R,re,ie,"\u25C0","\\blacktriangleleft");N(R,re,ie,"\u2234","\\therefore",!0);N(R,re,ie,"\u220D","\\backepsilon");N(R,re,ie,"\u25B6","\\blacktriangleright");N(R,re,ie,"\u2235","\\because",!0);N(R,re,ie,"\u22D8","\\llless");N(R,re,ie,"\u22D9","\\gggtr");N(R,re,ct,"\u22B2","\\lhd");N(R,re,ct,"\u22B3","\\rhd");N(R,re,ie,"\u2242","\\eqsim",!0);N(R,z,ie,"\u22C8","\\Join");N(R,re,ie,"\u2251","\\Doteq",!0);N(R,re,ct,"\u2214","\\dotplus",!0);N(R,re,ct,"\u2216","\\smallsetminus");N(R,re,ct,"\u22D2","\\Cap",!0);N(R,re,ct,"\u22D3","\\Cup",!0);N(R,re,ct,"\u2A5E","\\doublebarwedge",!0);N(R,re,ct,"\u229F","\\boxminus",!0);N(R,re,ct,"\u229E","\\boxplus",!0);N(R,re,ct,"\u22C7","\\divideontimes",!0);N(R,re,ct,"\u22C9","\\ltimes",!0);N(R,re,ct,"\u22CA","\\rtimes",!0);N(R,re,ct,"\u22CB","\\leftthreetimes",!0);N(R,re,ct,"\u22CC","\\rightthreetimes",!0);N(R,re,ct,"\u22CF","\\curlywedge",!0);N(R,re,ct,"\u22CE","\\curlyvee",!0);N(R,re,ct,"\u229D","\\circleddash",!0);N(R,re,ct,"\u229B","\\circledast",!0);N(R,re,ct,"\u22C5","\\centerdot");N(R,re,ct,"\u22BA","\\intercal",!0);N(R,re,ct,"\u22D2","\\doublecap");N(R,re,ct,"\u22D3","\\doublecup");N(R,re,ct,"\u22A0","\\boxtimes",!0);N(R,re,ie,"\u21E2","\\dashrightarrow",!0);N(R,re,ie,"\u21E0","\\dashleftarrow",!0);N(R,re,ie,"\u21C7","\\leftleftarrows",!0);N(R,re,ie,"\u21C6","\\leftrightarrows",!0);N(R,re,ie,"\u21DA","\\Lleftarrow",!0);N(R,re,ie,"\u219E","\\twoheadleftarrow",!0);N(R,re,ie,"\u21A2","\\leftarrowtail",!0);N(R,re,ie,"\u21AB","\\looparrowleft",!0);N(R,re,ie,"\u21CB","\\leftrightharpoons",!0);N(R,re,ie,"\u21B6","\\curvearrowleft",!0);N(R,re,ie,"\u21BA","\\circlearrowleft",!0);N(R,re,ie,"\u21B0","\\Lsh",!0);N(R,re,ie,"\u21C8","\\upuparrows",!0);N(R,re,ie,"\u21BF","\\upharpoonleft",!0);N(R,re,ie,"\u21C3","\\downharpoonleft",!0);N(R,z,ie,"\u22B6","\\origof",!0);N(R,z,ie,"\u22B7","\\imageof",!0);N(R,re,ie,"\u22B8","\\multimap",!0);N(R,re,ie,"\u21AD","\\leftrightsquigarrow",!0);N(R,re,ie,"\u21C9","\\rightrightarrows",!0);N(R,re,ie,"\u21C4","\\rightleftarrows",!0);N(R,re,ie,"\u21A0","\\twoheadrightarrow",!0);N(R,re,ie,"\u21A3","\\rightarrowtail",!0);N(R,re,ie,"\u21AC","\\looparrowright",!0);N(R,re,ie,"\u21B7","\\curvearrowright",!0);N(R,re,ie,"\u21BB","\\circlearrowright",!0);N(R,re,ie,"\u21B1","\\Rsh",!0);N(R,re,ie,"\u21CA","\\downdownarrows",!0);N(R,re,ie,"\u21BE","\\upharpoonright",!0);N(R,re,ie,"\u21C2","\\downharpoonright",!0);N(R,re,ie,"\u21DD","\\rightsquigarrow",!0);N(R,re,ie,"\u21DD","\\leadsto");N(R,re,ie,"\u21DB","\\Rrightarrow",!0);N(R,re,ie,"\u21BE","\\restriction");N(R,z,ce,"\u2018","`");N(R,z,ce,"$","\\$");N(Ue,z,ce,"$","\\$");N(Ue,z,ce,"$","\\textdollar");N(R,z,ce,"%","\\%");N(Ue,z,ce,"%","\\%");N(R,z,ce,"_","\\_");N(Ue,z,ce,"_","\\_");N(Ue,z,ce,"_","\\textunderscore");N(R,z,ce,"\u2220","\\angle",!0);N(R,z,ce,"\u221E","\\infty",!0);N(R,z,ce,"\u2032","\\prime");N(R,z,ce,"\u25B3","\\triangle");N(R,z,ce,"\u0393","\\Gamma",!0);N(R,z,ce,"\u0394","\\Delta",!0);N(R,z,ce,"\u0398","\\Theta",!0);N(R,z,ce,"\u039B","\\Lambda",!0);N(R,z,ce,"\u039E","\\Xi",!0);N(R,z,ce,"\u03A0","\\Pi",!0);N(R,z,ce,"\u03A3","\\Sigma",!0);N(R,z,ce,"\u03A5","\\Upsilon",!0);N(R,z,ce,"\u03A6","\\Phi",!0);N(R,z,ce,"\u03A8","\\Psi",!0);N(R,z,ce,"\u03A9","\\Omega",!0);N(R,z,ce,"A","\u0391");N(R,z,ce,"B","\u0392");N(R,z,ce,"E","\u0395");N(R,z,ce,"Z","\u0396");N(R,z,ce,"H","\u0397");N(R,z,ce,"I","\u0399");N(R,z,ce,"K","\u039A");N(R,z,ce,"M","\u039C");N(R,z,ce,"N","\u039D");N(R,z,ce,"O","\u039F");N(R,z,ce,"P","\u03A1");N(R,z,ce,"T","\u03A4");N(R,z,ce,"X","\u03A7");N(R,z,ce,"\xAC","\\neg",!0);N(R,z,ce,"\xAC","\\lnot");N(R,z,ce,"\u22A4","\\top");N(R,z,ce,"\u22A5","\\bot");N(R,z,ce,"\u2205","\\emptyset");N(R,re,ce,"\u2205","\\varnothing");N(R,z,Ct,"\u03B1","\\alpha",!0);N(R,z,Ct,"\u03B2","\\beta",!0);N(R,z,Ct,"\u03B3","\\gamma",!0);N(R,z,Ct,"\u03B4","\\delta",!0);N(R,z,Ct,"\u03F5","\\epsilon",!0);N(R,z,Ct,"\u03B6","\\zeta",!0);N(R,z,Ct,"\u03B7","\\eta",!0);N(R,z,Ct,"\u03B8","\\theta",!0);N(R,z,Ct,"\u03B9","\\iota",!0);N(R,z,Ct,"\u03BA","\\kappa",!0);N(R,z,Ct,"\u03BB","\\lambda",!0);N(R,z,Ct,"\u03BC","\\mu",!0);N(R,z,Ct,"\u03BD","\\nu",!0);N(R,z,Ct,"\u03BE","\\xi",!0);N(R,z,Ct,"\u03BF","\\omicron",!0);N(R,z,Ct,"\u03C0","\\pi",!0);N(R,z,Ct,"\u03C1","\\rho",!0);N(R,z,Ct,"\u03C3","\\sigma",!0);N(R,z,Ct,"\u03C4","\\tau",!0);N(R,z,Ct,"\u03C5","\\upsilon",!0);N(R,z,Ct,"\u03D5","\\phi",!0);N(R,z,Ct,"\u03C7","\\chi",!0);N(R,z,Ct,"\u03C8","\\psi",!0);N(R,z,Ct,"\u03C9","\\omega",!0);N(R,z,Ct,"\u03B5","\\varepsilon",!0);N(R,z,Ct,"\u03D1","\\vartheta",!0);N(R,z,Ct,"\u03D6","\\varpi",!0);N(R,z,Ct,"\u03F1","\\varrho",!0);N(R,z,Ct,"\u03C2","\\varsigma",!0);N(R,z,Ct,"\u03C6","\\varphi",!0);N(R,z,ct,"\u2217","*",!0);N(R,z,ct,"+","+");N(R,z,ct,"\u2212","-",!0);N(R,z,ct,"\u22C5","\\cdot",!0);N(R,z,ct,"\u2218","\\circ",!0);N(R,z,ct,"\xF7","\\div",!0);N(R,z,ct,"\xB1","\\pm",!0);N(R,z,ct,"\xD7","\\times",!0);N(R,z,ct,"\u2229","\\cap",!0);N(R,z,ct,"\u222A","\\cup",!0);N(R,z,ct,"\u2216","\\setminus",!0);N(R,z,ct,"\u2227","\\land");N(R,z,ct,"\u2228","\\lor");N(R,z,ct,"\u2227","\\wedge",!0);N(R,z,ct,"\u2228","\\vee",!0);N(R,z,ce,"\u221A","\\surd");N(R,z,Qi,"\u27E8","\\langle",!0);N(R,z,Qi,"\u2223","\\lvert");N(R,z,Qi,"\u2225","\\lVert");N(R,z,vi,"?","?");N(R,z,vi,"!","!");N(R,z,vi,"\u27E9","\\rangle",!0);N(R,z,vi,"\u2223","\\rvert");N(R,z,vi,"\u2225","\\rVert");N(R,z,ie,"=","=");N(R,z,ie,":",":");N(R,z,ie,"\u2248","\\approx",!0);N(R,z,ie,"\u2245","\\cong",!0);N(R,z,ie,"\u2265","\\ge");N(R,z,ie,"\u2265","\\geq",!0);N(R,z,ie,"\u2190","\\gets");N(R,z,ie,">","\\gt",!0);N(R,z,ie,"\u2208","\\in",!0);N(R,z,ie,"\uE020","\\@not");N(R,z,ie,"\u2282","\\subset",!0);N(R,z,ie,"\u2283","\\supset",!0);N(R,z,ie,"\u2286","\\subseteq",!0);N(R,z,ie,"\u2287","\\supseteq",!0);N(R,re,ie,"\u2288","\\nsubseteq",!0);N(R,re,ie,"\u2289","\\nsupseteq",!0);N(R,z,ie,"\u22A8","\\models");N(R,z,ie,"\u2190","\\leftarrow",!0);N(R,z,ie,"\u2264","\\le");N(R,z,ie,"\u2264","\\leq",!0);N(R,z,ie,"<","\\lt",!0);N(R,z,ie,"\u2192","\\rightarrow",!0);N(R,z,ie,"\u2192","\\to");N(R,re,ie,"\u2271","\\ngeq",!0);N(R,re,ie,"\u2270","\\nleq",!0);N(R,z,gs,"\xA0","\\ ");N(R,z,gs,"\xA0","\\space");N(R,z,gs,"\xA0","\\nobreakspace");N(Ue,z,gs,"\xA0","\\ ");N(Ue,z,gs,"\xA0"," ");N(Ue,z,gs,"\xA0","\\space");N(Ue,z,gs,"\xA0","\\nobreakspace");N(R,z,gs,null,"\\nobreak");N(R,z,gs,null,"\\allowbreak");N(R,z,o1,",",",");N(R,z,o1,";",";");N(R,re,ct,"\u22BC","\\barwedge",!0);N(R,re,ct,"\u22BB","\\veebar",!0);N(R,z,ct,"\u2299","\\odot",!0);N(R,z,ct,"\u2295","\\oplus",!0);N(R,z,ct,"\u2297","\\otimes",!0);N(R,z,ce,"\u2202","\\partial",!0);N(R,z,ct,"\u2298","\\oslash",!0);N(R,re,ct,"\u229A","\\circledcirc",!0);N(R,re,ct,"\u22A1","\\boxdot",!0);N(R,z,ct,"\u25B3","\\bigtriangleup");N(R,z,ct,"\u25BD","\\bigtriangledown");N(R,z,ct,"\u2020","\\dagger");N(R,z,ct,"\u22C4","\\diamond");N(R,z,ct,"\u22C6","\\star");N(R,z,ct,"\u25C3","\\triangleleft");N(R,z,ct,"\u25B9","\\triangleright");N(R,z,Qi,"{","\\{");N(Ue,z,ce,"{","\\{");N(Ue,z,ce,"{","\\textbraceleft");N(R,z,vi,"}","\\}");N(Ue,z,ce,"}","\\}");N(Ue,z,ce,"}","\\textbraceright");N(R,z,Qi,"{","\\lbrace");N(R,z,vi,"}","\\rbrace");N(R,z,Qi,"[","\\lbrack",!0);N(Ue,z,ce,"[","\\lbrack",!0);N(R,z,vi,"]","\\rbrack",!0);N(Ue,z,ce,"]","\\rbrack",!0);N(R,z,Qi,"(","\\lparen",!0);N(R,z,vi,")","\\rparen",!0);N(Ue,z,ce,"<","\\textless",!0);N(Ue,z,ce,">","\\textgreater",!0);N(R,z,Qi,"\u230A","\\lfloor",!0);N(R,z,vi,"\u230B","\\rfloor",!0);N(R,z,Qi,"\u2308","\\lceil",!0);N(R,z,vi,"\u2309","\\rceil",!0);N(R,z,ce,"\\","\\backslash");N(R,z,ce,"\u2223","|");N(R,z,ce,"\u2223","\\vert");N(Ue,z,ce,"|","\\textbar",!0);N(R,z,ce,"\u2225","\\|");N(R,z,ce,"\u2225","\\Vert");N(Ue,z,ce,"\u2225","\\textbardbl");N(Ue,z,ce,"~","\\textasciitilde");N(Ue,z,ce,"\\","\\textbackslash");N(Ue,z,ce,"^","\\textasciicircum");N(R,z,ie,"\u2191","\\uparrow",!0);N(R,z,ie,"\u21D1","\\Uparrow",!0);N(R,z,ie,"\u2193","\\downarrow",!0);N(R,z,ie,"\u21D3","\\Downarrow",!0);N(R,z,ie,"\u2195","\\updownarrow",!0);N(R,z,ie,"\u21D5","\\Updownarrow",!0);N(R,z,bn,"\u2210","\\coprod");N(R,z,bn,"\u22C1","\\bigvee");N(R,z,bn,"\u22C0","\\bigwedge");N(R,z,bn,"\u2A04","\\biguplus");N(R,z,bn,"\u22C2","\\bigcap");N(R,z,bn,"\u22C3","\\bigcup");N(R,z,bn,"\u222B","\\int");N(R,z,bn,"\u222B","\\intop");N(R,z,bn,"\u222C","\\iint");N(R,z,bn,"\u222D","\\iiint");N(R,z,bn,"\u220F","\\prod");N(R,z,bn,"\u2211","\\sum");N(R,z,bn,"\u2A02","\\bigotimes");N(R,z,bn,"\u2A01","\\bigoplus");N(R,z,bn,"\u2A00","\\bigodot");N(R,z,bn,"\u222E","\\oint");N(R,z,bn,"\u222F","\\oiint");N(R,z,bn,"\u2230","\\oiiint");N(R,z,bn,"\u2A06","\\bigsqcup");N(R,z,bn,"\u222B","\\smallint");N(Ue,z,Cd,"\u2026","\\textellipsis");N(R,z,Cd,"\u2026","\\mathellipsis");N(Ue,z,Cd,"\u2026","\\ldots",!0);N(R,z,Cd,"\u2026","\\ldots",!0);N(R,z,Cd,"\u22EF","\\@cdots",!0);N(R,z,Cd,"\u22F1","\\ddots",!0);N(R,z,ce,"\u22EE","\\varvdots");N(Ue,z,ce,"\u22EE","\\varvdots");N(R,z,Xr,"\u02CA","\\acute");N(R,z,Xr,"\u02CB","\\grave");N(R,z,Xr,"\xA8","\\ddot");N(R,z,Xr,"~","\\tilde");N(R,z,Xr,"\u02C9","\\bar");N(R,z,Xr,"\u02D8","\\breve");N(R,z,Xr,"\u02C7","\\check");N(R,z,Xr,"^","\\hat");N(R,z,Xr,"\u20D7","\\vec");N(R,z,Xr,"\u02D9","\\dot");N(R,z,Xr,"\u02DA","\\mathring");N(R,z,Ct,"\uE131","\\@imath");N(R,z,Ct,"\uE237","\\@jmath");N(R,z,ce,"\u0131","\u0131");N(R,z,ce,"\u0237","\u0237");N(Ue,z,ce,"\u0131","\\i",!0);N(Ue,z,ce,"\u0237","\\j",!0);N(Ue,z,ce,"\xDF","\\ss",!0);N(Ue,z,ce,"\xE6","\\ae",!0);N(Ue,z,ce,"\u0153","\\oe",!0);N(Ue,z,ce,"\xF8","\\o",!0);N(Ue,z,ce,"\xC6","\\AE",!0);N(Ue,z,ce,"\u0152","\\OE",!0);N(Ue,z,ce,"\xD8","\\O",!0);N(Ue,z,Xr,"\u02CA","\\'");N(Ue,z,Xr,"\u02CB","\\`");N(Ue,z,Xr,"\u02C6","\\^");N(Ue,z,Xr,"\u02DC","\\~");N(Ue,z,Xr,"\u02C9","\\=");N(Ue,z,Xr,"\u02D8","\\u");N(Ue,z,Xr,"\u02D9","\\.");N(Ue,z,Xr,"\xB8","\\c");N(Ue,z,Xr,"\u02DA","\\r");N(Ue,z,Xr,"\u02C7","\\v");N(Ue,z,Xr,"\xA8",'\\"');N(Ue,z,Xr,"\u02DD","\\H");N(Ue,z,Xr,"\u25EF","\\textcircled");var E$={"--":!0,"---":!0,"``":!0,"''":!0};N(Ue,z,ce,"\u2013","--",!0);N(Ue,z,ce,"\u2013","\\textendash");N(Ue,z,ce,"\u2014","---",!0);N(Ue,z,ce,"\u2014","\\textemdash");N(Ue,z,ce,"\u2018","`",!0);N(Ue,z,ce,"\u2018","\\textquoteleft");N(Ue,z,ce,"\u2019","'",!0);N(Ue,z,ce,"\u2019","\\textquoteright");N(Ue,z,ce,"\u201C","``",!0);N(Ue,z,ce,"\u201C","\\textquotedblleft");N(Ue,z,ce,"\u201D","''",!0);N(Ue,z,ce,"\u201D","\\textquotedblright");N(R,z,ce,"\xB0","\\degree",!0);N(Ue,z,ce,"\xB0","\\degree");N(Ue,z,ce,"\xB0","\\textdegree",!0);N(R,z,ce,"\xA3","\\pounds");N(R,z,ce,"\xA3","\\mathsterling",!0);N(Ue,z,ce,"\xA3","\\pounds");N(Ue,z,ce,"\xA3","\\textsterling",!0);N(R,re,ce,"\u2720","\\maltese");N(Ue,re,ce,"\u2720","\\maltese");var Yj='0123456789/@."';for(qv=0;qv<Yj.length;qv++)M5=Yj.charAt(qv),N(R,z,ce,M5,M5);var M5,qv,Zj='0123456789!@*()-=+";:?/.,';for(jv=0;jv<Zj.length;jv++)N5=Zj.charAt(jv),N(Ue,z,ce,N5,N5);var N5,jv,t1="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz";for($v=0;$v<t1.length;$v++)Em=t1.charAt($v),N(R,z,Ct,Em,Em),N(Ue,z,ce,Em,Em);var Em,$v;N(R,re,ce,"C","\u2102");N(Ue,re,ce,"C","\u2102");N(R,re,ce,"H","\u210D");N(Ue,re,ce,"H","\u210D");N(R,re,ce,"N","\u2115");N(Ue,re,ce,"N","\u2115");N(R,re,ce,"P","\u2119");N(Ue,re,ce,"P","\u2119");N(R,re,ce,"Q","\u211A");N(Ue,re,ce,"Q","\u211A");N(R,re,ce,"R","\u211D");N(Ue,re,ce,"R","\u211D");N(R,re,ce,"Z","\u2124");N(Ue,re,ce,"Z","\u2124");N(R,z,Ct,"h","\u210E");N(Ue,z,Ct,"h","\u210E");var Ot="";for(si=0;si<t1.length;si++)tn=t1.charAt(si),Ot=String.fromCharCode(55349,56320+si),N(R,z,Ct,tn,Ot),N(Ue,z,ce,tn,Ot),Ot=String.fromCharCode(55349,56372+si),N(R,z,Ct,tn,Ot),N(Ue,z,ce,tn,Ot),Ot=String.fromCharCode(55349,56424+si),N(R,z,Ct,tn,Ot),N(Ue,z,ce,tn,Ot),Ot=String.fromCharCode(55349,56580+si),N(R,z,Ct,tn,Ot),N(Ue,z,ce,tn,Ot),Ot=String.fromCharCode(55349,56684+si),N(R,z,Ct,tn,Ot),N(Ue,z,ce,tn,Ot),Ot=String.fromCharCode(55349,56736+si),N(R,z,Ct,tn,Ot),N(Ue,z,ce,tn,Ot),Ot=String.fromCharCode(55349,56788+si),N(R,z,Ct,tn,Ot),N(Ue,z,ce,tn,Ot),Ot=String.fromCharCode(55349,56840+si),N(R,z,Ct,tn,Ot),N(Ue,z,ce,tn,Ot),Ot=String.fromCharCode(55349,56944+si),N(R,z,Ct,tn,Ot),N(Ue,z,ce,tn,Ot),si<26&&(Ot=String.fromCharCode(55349,56632+si),N(R,z,Ct,tn,Ot),N(Ue,z,ce,tn,Ot),Ot=String.fromCharCode(55349,56476+si),N(R,z,Ct,tn,Ot),N(Ue,z,ce,tn,Ot));var tn,si;Ot="\u{1D55C}";N(R,z,Ct,"k",Ot);N(Ue,z,ce,"k",Ot);for(yl=0;yl<10;yl++)cs=yl.toString(),Ot=String.fromCharCode(55349,57294+yl),N(R,z,Ct,cs,Ot),N(Ue,z,ce,cs,Ot),Ot=String.fromCharCode(55349,57314+yl),N(R,z,Ct,cs,Ot),N(Ue,z,ce,cs,Ot),Ot=String.fromCharCode(55349,57324+yl),N(R,z,Ct,cs,Ot),N(Ue,z,ce,cs,Ot),Ot=String.fromCharCode(55349,57334+yl),N(R,z,Ct,cs,Ot),N(Ue,z,ce,cs,Ot);var cs,yl,j5="\xD0\xDE\xFE";for(Hv=0;Hv<j5.length;Hv++)Am=j5.charAt(Hv),N(R,z,Ct,Am,Am),N(Ue,z,ce,Am,Am);var Am,Hv,Wv=[["mathbf","textbf","Main-Bold"],["mathbf","textbf","Main-Bold"],["mathnormal","textit","Math-Italic"],["mathnormal","textit","Math-Italic"],["boldsymbol","boldsymbol","Main-BoldItalic"],["boldsymbol","boldsymbol","Main-BoldItalic"],["mathscr","textscr","Script-Regular"],["","",""],["","",""],["","",""],["mathfrak","textfrak","Fraktur-Regular"],["mathfrak","textfrak","Fraktur-Regular"],["mathbb","textbb","AMS-Regular"],["mathbb","textbb","AMS-Regular"],["mathboldfrak","textboldfrak","Fraktur-Regular"],["mathboldfrak","textboldfrak","Fraktur-Regular"],["mathsf","textsf","SansSerif-Regular"],["mathsf","textsf","SansSerif-Regular"],["mathboldsf","textboldsf","SansSerif-Bold"],["mathboldsf","textboldsf","SansSerif-Bold"],["mathitsf","textitsf","SansSerif-Italic"],["mathitsf","textitsf","SansSerif-Italic"],["","",""],["","",""],["mathtt","texttt","Typewriter-Regular"],["mathtt","texttt","Typewriter-Regular"]],Xj=[["mathbf","textbf","Main-Bold"],["","",""],["mathsf","textsf","SansSerif-Regular"],["mathboldsf","textboldsf","SansSerif-Bold"],["mathtt","texttt","Typewriter-Regular"]],jhe=function(e,t){var n=e.charCodeAt(0),i=e.charCodeAt(1),a=(n-55296)*1024+(i-56320)+65536,o=t==="math"?0:1;if(119808<=a&&a<120484){var s=Math.floor((a-119808)/26);return[Wv[s][2],Wv[s][o]]}else if(120782<=a&&a<=120831){var l=Math.floor((a-120782)/10);return[Xj[l][2],Xj[l][o]]}else{if(a===120485||a===120486)return[Wv[0][2],Wv[0][o]];if(120486<a&&a<120782)return["",""];throw new We("Unsupported character: "+e)}},s1=function(e,t,n){return Pr[n][e]&&Pr[n][e].replace&&(e=Pr[n][e].replace),{value:e,metrics:Q5(e,t,n)}},Ya=function(e,t,n,i,a){var o=s1(e,t,n),s=o.metrics;e=o.value;var l;if(s){var u=s.italic;(n==="text"||i&&i.font==="mathit")&&(u=0),l=new Li(e,s.height,s.depth,u,s.skew,s.width,a)}else typeof console<"u"&&console.warn("No character metrics "+("for '"+e+"' in style '"+t+"' and mode '"+n+"'")),l=new Li(e,0,0,0,0,0,a);if(i){l.maxFontSize=i.sizeMultiplier,i.style.isTight()&&l.classes.push("mtight");var c=i.getColor();c&&(l.style.color=c)}return l},$he=function(e,t,n,i){return i===void 0&&(i=[]),n.font==="boldsymbol"&&s1(e,"Main-Bold",t).metrics?Ya(e,"Main-Bold",t,n,i.concat(["mathbf"])):e==="\\"||Pr[t][e].font==="main"?Ya(e,"Main-Regular",t,n,i):Ya(e,"AMS-Regular",t,n,i.concat(["amsrm"]))},Hhe=function(e,t,n,i,a){return a!=="textord"&&s1(e,"Math-BoldItalic",t).metrics?{fontName:"Math-BoldItalic",fontClass:"boldsymbol"}:{fontName:"Main-Bold",fontClass:"mathbf"}},Whe=function(e,t,n){var i=e.mode,a=e.text,o=["mord"],s=i==="math"||i==="text"&&t.font,l=s?t.font:t.fontFamily,u="",c="";if(a.charCodeAt(0)===55349&&([u,c]=jhe(a,i)),u.length>0)return Ya(a,u,i,t,o.concat(c));if(l){var d,f;if(l==="boldsymbol"){var m=Hhe(a,i,t,o,n);d=m.fontName,f=[m.fontClass]}else s?(d=N$[l].fontName,f=[l]):(d=Gv(l,t.fontWeight,t.fontShape),f=[l,t.fontWeight,t.fontShape]);if(s1(a,d,i).metrics)return Ya(a,d,i,t,o.concat(f));if(E$.hasOwnProperty(a)&&d.slice(0,10)==="Typewriter"){for(var p=[],h=0;h<a.length;h++)p.push(Ya(a[h],d,i,t,o.concat(f)));return M$(p)}}if(n==="mathord")return Ya(a,"Math-Italic",i,t,o.concat(["mathnormal"]));if(n==="textord"){var v=Pr[i][a]&&Pr[i][a].font;if(v==="ams"){var y=Gv("amsrm",t.fontWeight,t.fontShape);return Ya(a,y,i,t,o.concat("amsrm",t.fontWeight,t.fontShape))}else if(v==="main"||!v){var S=Gv("textrm",t.fontWeight,t.fontShape);return Ya(a,S,i,t,o.concat(t.fontWeight,t.fontShape))}else{var x=Gv(v,t.fontWeight,t.fontShape);return Ya(a,x,i,t,o.concat(x,t.fontWeight,t.fontShape))}}else throw new Error("unexpected type: "+n+" in makeOrd")},Ghe=(r,e)=>{if(wl(r.classes)!==wl(e.classes)||r.skew!==e.skew||r.maxFontSize!==e.maxFontSize)return!1;if(r.classes.length===1){var t=r.classes[0];if(t==="mbin"||t==="mord")return!1}for(var n in r.style)if(r.style.hasOwnProperty(n)&&r.style[n]!==e.style[n])return!1;for(var i in e.style)if(e.style.hasOwnProperty(i)&&r.style[i]!==e.style[i])return!1;return!0},Yhe=r=>{for(var e=0;e<r.length-1;e++){var t=r[e],n=r[e+1];t instanceof Li&&n instanceof Li&&Ghe(t,n)&&(t.text+=n.text,t.height=Math.max(t.height,n.height),t.depth=Math.max(t.depth,n.depth),t.italic=n.italic,r.splice(e+1,1),e--)}return r},e6=function(e){for(var t=0,n=0,i=0,a=0;a<e.children.length;a++){var o=e.children[a];o.height>t&&(t=o.height),o.depth>n&&(n=o.depth),o.maxFontSize>i&&(i=o.maxFontSize)}e.height=t,e.depth=n,e.maxFontSize=i},Bi=function(e,t,n,i){var a=new Cu(e,t,n,i);return e6(a),a},A$=(r,e,t,n)=>new Cu(r,e,t,n),Zhe=function(e,t,n){var i=Bi([e],[],t);return i.height=Math.max(n||t.fontMetrics().defaultRuleThickness,t.minRuleThickness),i.style.borderBottomWidth=Qe(i.height),i.maxFontSize=1,i},Xhe=function(e,t,n,i){var a=new Im(e,t,n,i);return e6(a),a},M$=function(e){var t=new Du(e);return e6(t),t},Khe=function(e,t){return e instanceof Du?Bi([],[e],t):e},Jhe=function(e){if(e.positionType==="individualShift"){for(var t=e.children,n=[t[0]],i=-t[0].shift-t[0].elem.depth,a=i,o=1;o<t.length;o++){var s=-t[o].shift-a-t[o].elem.depth,l=s-(t[o-1].elem.height+t[o-1].elem.depth);a=a+s,n.push({type:"kern",size:l}),n.push(t[o])}return{children:n,depth:i}}var u;if(e.positionType==="top"){for(var c=e.positionData,d=0;d<e.children.length;d++){var f=e.children[d];c-=f.type==="kern"?f.size:f.elem.height+f.elem.depth}u=c}else if(e.positionType==="bottom")u=-e.positionData;else{var m=e.children[0];if(m.type!=="elem")throw new Error('First child must have type "elem".');if(e.positionType==="shift")u=-m.elem.depth-e.positionData;else if(e.positionType==="firstBaseline")u=-m.elem.depth;else throw new Error("Invalid positionType "+e.positionType+".")}return{children:e.children,depth:u}},Qhe=function(e,t){for(var{children:n,depth:i}=Jhe(e),a=0,o=0;o<n.length;o++){var s=n[o];if(s.type==="elem"){var l=s.elem;a=Math.max(a,l.maxFontSize,l.height)}}a+=2;var u=Bi(["pstrut"],[]);u.style.height=Qe(a);for(var c=[],d=i,f=i,m=i,p=0;p<n.length;p++){var h=n[p];if(h.type==="kern")m+=h.size;else{var v=h.elem,y=h.wrapperClasses||[],S=h.wrapperStyle||{},x=Bi(y,[u,v],void 0,S);x.style.top=Qe(-a-m-v.depth),h.marginLeft&&(x.style.marginLeft=h.marginLeft),h.marginRight&&(x.style.marginRight=h.marginRight),c.push(x),m+=v.height+v.depth}d=Math.min(d,m),f=Math.max(f,m)}var _=Bi(["vlist"],c);_.style.height=Qe(f);var w;if(d<0){var b=Bi([],[]),C=Bi(["vlist"],[b]);C.style.height=Qe(-d);var E=Bi(["vlist-s"],[new Li("\u200B")]);w=[Bi(["vlist-r"],[_,E]),Bi(["vlist-r"],[C])]}else w=[Bi(["vlist-r"],[_])];var D=Bi(["vlist-t"],w);return w.length===2&&D.classes.push("vlist-t2"),D.height=f,D.depth=-d,D},epe=(r,e)=>{var t=Bi(["mspace"],[],e),n=nn(r,e);return t.style.marginRight=Qe(n),t},Gv=function(e,t,n){var i="";switch(e){case"amsrm":i="AMS";break;case"textrm":i="Main";break;case"textsf":i="SansSerif";break;case"texttt":i="Typewriter";break;default:i=e}var a;return t==="textbf"&&n==="textit"?a="BoldItalic":t==="textbf"?a="Bold":t==="textit"?a="Italic":a="Regular",i+"-"+a},N$={mathbf:{variant:"bold",fontName:"Main-Bold"},mathrm:{variant:"normal",fontName:"Main-Regular"},textit:{variant:"italic",fontName:"Main-Italic"},mathit:{variant:"italic",fontName:"Main-Italic"},mathnormal:{variant:"italic",fontName:"Math-Italic"},mathsfit:{variant:"sans-serif-italic",fontName:"SansSerif-Italic"},mathbb:{variant:"double-struck",fontName:"AMS-Regular"},mathcal:{variant:"script",fontName:"Caligraphic-Regular"},mathfrak:{variant:"fraktur",fontName:"Fraktur-Regular"},mathscr:{variant:"script",fontName:"Script-Regular"},mathsf:{variant:"sans-serif",fontName:"SansSerif-Regular"},mathtt:{variant:"monospace",fontName:"Typewriter-Regular"}},T$={vec:["vec",.471,.714],oiintSize1:["oiintSize1",.957,.499],oiintSize2:["oiintSize2",1.472,.659],oiiintSize1:["oiiintSize1",1.304,.499],oiiintSize2:["oiiintSize2",1.98,.659]},tpe=function(e,t){var[n,i,a]=T$[e],o=new Mo(n),s=new Za([o],{width:Qe(i),height:Qe(a),style:"width:"+Qe(i),viewBox:"0 0 "+1e3*i+" "+1e3*a,preserveAspectRatio:"xMinYMin"}),l=A$(["overlay"],[s],t);return l.height=a,l.style.height=Qe(a),l.style.width=Qe(i),l},xe={fontMap:N$,makeSymbol:Ya,mathsym:$he,makeSpan:Bi,makeSvgSpan:A$,makeLineSpan:Zhe,makeAnchor:Xhe,makeFragment:M$,wrapFragment:Khe,makeVList:Qhe,makeOrd:Whe,makeGlue:epe,staticSvg:tpe,svgData:T$,tryCombineChars:Yhe},rn={number:3,unit:"mu"},Su={number:4,unit:"mu"},ds={number:5,unit:"mu"},rpe={mord:{mop:rn,mbin:Su,mrel:ds,minner:rn},mop:{mord:rn,mop:rn,mrel:ds,minner:rn},mbin:{mord:Su,mop:Su,mopen:Su,minner:Su},mrel:{mord:ds,mop:ds,mopen:ds,minner:ds},mopen:{},mclose:{mop:rn,mbin:Su,mrel:ds,minner:rn},mpunct:{mord:rn,mop:rn,mrel:ds,mopen:rn,mclose:rn,mpunct:rn,minner:rn},minner:{mord:rn,mop:rn,mbin:Su,mrel:ds,mopen:rn,mpunct:rn,minner:rn}},npe={mord:{mop:rn},mop:{mord:rn,mop:rn},mbin:{},mrel:{},mopen:{},mclose:{mop:rn},mpunct:{},minner:{mop:rn}},F$={},r1={},n1={};function ot(r){for(var{type:e,names:t,props:n,handler:i,htmlBuilder:a,mathmlBuilder:o}=r,s={type:e,numArgs:n.numArgs,argTypes:n.argTypes,allowedInArgument:!!n.allowedInArgument,allowedInText:!!n.allowedInText,allowedInMath:n.allowedInMath===void 0?!0:n.allowedInMath,numOptionalArgs:n.numOptionalArgs||0,infix:!!n.infix,primitive:!!n.primitive,handler:i},l=0;l<t.length;++l)F$[t[l]]=s;e&&(a&&(r1[e]=a),o&&(n1[e]=o))}function Eu(r){var{type:e,htmlBuilder:t,mathmlBuilder:n}=r;ot({type:e,names:[],props:{numArgs:0},handler(){throw new Error("Should never be called.")},htmlBuilder:t,mathmlBuilder:n})}var i1=function(e){return e.type==="ordgroup"&&e.body.length===1?e.body[0]:e},fn=function(e){return e.type==="ordgroup"?e.body:[e]},hs=xe.makeSpan,ipe=["leftmost","mbin","mopen","mrel","mop","mpunct"],ape=["rightmost","mrel","mclose","mpunct"],ope={display:Et.DISPLAY,text:Et.TEXT,script:Et.SCRIPT,scriptscript:Et.SCRIPTSCRIPT},spe={mord:"mord",mop:"mop",mbin:"mbin",mrel:"mrel",mopen:"mopen",mclose:"mclose",mpunct:"mpunct",minner:"minner"},Nn=function(e,t,n,i){i===void 0&&(i=[null,null]);for(var a=[],o=0;o<e.length;o++){var s=dr(e[o],t);if(s instanceof Du){var l=s.children;a.push(...l)}else a.push(s)}if(xe.tryCombineChars(a),!n)return a;var u=t;if(e.length===1){var c=e[0];c.type==="sizing"?u=t.havingSize(c.size):c.type==="styling"&&(u=t.havingStyle(ope[c.style]))}var d=hs([i[0]||"leftmost"],[],t),f=hs([i[1]||"rightmost"],[],t),m=n==="root";return Kj(a,(p,h)=>{var v=h.classes[0],y=p.classes[0];v==="mbin"&&St.contains(ape,y)?h.classes[0]="mord":y==="mbin"&&St.contains(ipe,v)&&(p.classes[0]="mord")},{node:d},f,m),Kj(a,(p,h)=>{var v=$5(h),y=$5(p),S=v&&y?p.hasClass("mtight")?npe[v][y]:rpe[v][y]:null;if(S)return xe.makeGlue(S,u)},{node:d},f,m),a},Kj=function r(e,t,n,i,a){i&&e.push(i);for(var o=0;o<e.length;o++){var s=e[o],l=I$(s);if(l){r(l.children,t,n,null,a);continue}var u=!s.hasClass("mspace");if(u){var c=t(s,n.node);c&&(n.insertAfter?n.insertAfter(c):(e.unshift(c),o++))}u?n.node=s:a&&s.hasClass("newline")&&(n.node=hs(["leftmost"])),n.insertAfter=(d=>f=>{e.splice(d+1,0,f),o++})(o)}i&&e.pop()},I$=function(e){return e instanceof Du||e instanceof Im||e instanceof Cu&&e.hasClass("enclosing")?e:null},lpe=function r(e,t){var n=I$(e);if(n){var i=n.children;if(i.length){if(t==="right")return r(i[i.length-1],"right");if(t==="left")return r(i[0],"left")}}return e},$5=function(e,t){return e?(t&&(e=lpe(e,t)),spe[e.classes[0]]||null):null},Rm=function(e,t){var n=["nulldelimiter"].concat(e.baseSizingClasses());return hs(t.concat(n))},dr=function(e,t,n){if(!e)return hs();if(r1[e.type]){var i=r1[e.type](e,t);if(n&&t.size!==n.size){i=hs(t.sizingClasses(n),[i],t);var a=t.sizeMultiplier/n.sizeMultiplier;i.height*=a,i.depth*=a}return i}else throw new We("Got group of unknown type: '"+e.type+"'")};function Yv(r,e){var t=hs(["base"],r,e),n=hs(["strut"]);return n.style.height=Qe(t.height+t.depth),t.depth&&(n.style.verticalAlign=Qe(-t.depth)),t.children.unshift(n),t}function H5(r,e){var t=null;r.length===1&&r[0].type==="tag"&&(t=r[0].tag,r=r[0].body);var n=Nn(r,e,"root"),i;n.length===2&&n[1].hasClass("tag")&&(i=n.pop());for(var a=[],o=[],s=0;s<n.length;s++)if(o.push(n[s]),n[s].hasClass("mbin")||n[s].hasClass("mrel")||n[s].hasClass("allowbreak")){for(var l=!1;s<n.length-1&&n[s+1].hasClass("mspace")&&!n[s+1].hasClass("newline");)s++,o.push(n[s]),n[s].hasClass("nobreak")&&(l=!0);l||(a.push(Yv(o,e)),o=[])}else n[s].hasClass("newline")&&(o.pop(),o.length>0&&(a.push(Yv(o,e)),o=[]),a.push(n[s]));o.length>0&&a.push(Yv(o,e));var u;t?(u=Yv(Nn(t,e,!0)),u.classes=["tag"],a.push(u)):i&&a.push(i);var c=hs(["katex-html"],a);if(c.setAttribute("aria-hidden","true"),u){var d=u.children[0];d.style.height=Qe(c.height+c.depth),c.depth&&(d.style.verticalAlign=Qe(-c.depth))}return c}function O$(r){return new Du(r)}var pi=class{constructor(e,t,n){this.type=void 0,this.attributes=void 0,this.children=void 0,this.classes=void 0,this.type=e,this.attributes={},this.children=t||[],this.classes=n||[]}setAttribute(e,t){this.attributes[e]=t}getAttribute(e){return this.attributes[e]}toNode(){var e=document.createElementNS("http://www.w3.org/1998/Math/MathML",this.type);for(var t in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,t)&&e.setAttribute(t,this.attributes[t]);this.classes.length>0&&(e.className=wl(this.classes));for(var n=0;n<this.children.length;n++)if(this.children[n]instanceof Ea&&this.children[n+1]instanceof Ea){for(var i=this.children[n].toText()+this.children[++n].toText();this.children[n+1]instanceof Ea;)i+=this.children[++n].toText();e.appendChild(new Ea(i).toNode())}else e.appendChild(this.children[n].toNode());return e}toMarkup(){var e="<"+this.type;for(var t in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,t)&&(e+=" "+t+'="',e+=St.escape(this.attributes[t]),e+='"');this.classes.length>0&&(e+=' class ="'+St.escape(wl(this.classes))+'"'),e+=">";for(var n=0;n<this.children.length;n++)e+=this.children[n].toMarkup();return e+="</"+this.type+">",e}toText(){return this.children.map(e=>e.toText()).join("")}},Ea=class{constructor(e){this.text=void 0,this.text=e}toNode(){return document.createTextNode(this.text)}toMarkup(){return St.escape(this.toText())}toText(){return this.text}},W5=class{constructor(e){this.width=void 0,this.character=void 0,this.width=e,e>=.05555&&e<=.05556?this.character="\u200A":e>=.1666&&e<=.1667?this.character="\u2009":e>=.2222&&e<=.2223?this.character="\u2005":e>=.2777&&e<=.2778?this.character="\u2005\u200A":e>=-.05556&&e<=-.05555?this.character="\u200A\u2063":e>=-.1667&&e<=-.1666?this.character="\u2009\u2063":e>=-.2223&&e<=-.2222?this.character="\u205F\u2063":e>=-.2778&&e<=-.2777?this.character="\u2005\u2063":this.character=null}toNode(){if(this.character)return document.createTextNode(this.character);var e=document.createElementNS("http://www.w3.org/1998/Math/MathML","mspace");return e.setAttribute("width",Qe(this.width)),e}toMarkup(){return this.character?"<mtext>"+this.character+"</mtext>":'<mspace width="'+Qe(this.width)+'"/>'}toText(){return this.character?this.character:" "}},je={MathNode:pi,TextNode:Ea,SpaceNode:W5,newDocumentFragment:O$},Ma=function(e,t,n){return Pr[t][e]&&Pr[t][e].replace&&e.charCodeAt(0)!==55349&&!(E$.hasOwnProperty(e)&&n&&(n.fontFamily&&n.fontFamily.slice(4,6)==="tt"||n.font&&n.font.slice(4,6)==="tt"))&&(e=Pr[t][e].replace),new je.TextNode(e)},t6=function(e){return e.length===1?e[0]:new je.MathNode("mrow",e)},r6=function(e,t){if(t.fontFamily==="texttt")return"monospace";if(t.fontFamily==="textsf")return t.fontShape==="textit"&&t.fontWeight==="textbf"?"sans-serif-bold-italic":t.fontShape==="textit"?"sans-serif-italic":t.fontWeight==="textbf"?"bold-sans-serif":"sans-serif";if(t.fontShape==="textit"&&t.fontWeight==="textbf")return"bold-italic";if(t.fontShape==="textit")return"italic";if(t.fontWeight==="textbf")return"bold";var n=t.font;if(!n||n==="mathnormal")return null;var i=e.mode;if(n==="mathit")return"italic";if(n==="boldsymbol")return e.type==="textord"?"bold":"bold-italic";if(n==="mathbf")return"bold";if(n==="mathbb")return"double-struck";if(n==="mathsfit")return"sans-serif-italic";if(n==="mathfrak")return"fraktur";if(n==="mathscr"||n==="mathcal")return"script";if(n==="mathsf")return"sans-serif";if(n==="mathtt")return"monospace";var a=e.text;if(St.contains(["\\imath","\\jmath"],a))return null;Pr[i][a]&&Pr[i][a].replace&&(a=Pr[i][a].replace);var o=xe.fontMap[n].fontName;return Q5(a,o,i)?xe.fontMap[n].variant:null};function T5(r){if(!r)return!1;if(r.type==="mi"&&r.children.length===1){var e=r.children[0];return e instanceof Ea&&e.text==="."}else if(r.type==="mo"&&r.children.length===1&&r.getAttribute("separator")==="true"&&r.getAttribute("lspace")==="0em"&&r.getAttribute("rspace")==="0em"){var t=r.children[0];return t instanceof Ea&&t.text===","}else return!1}var zi=function(e,t,n){if(e.length===1){var i=Nr(e[0],t);return n&&i instanceof pi&&i.type==="mo"&&(i.setAttribute("lspace","0em"),i.setAttribute("rspace","0em")),[i]}for(var a=[],o,s=0;s<e.length;s++){var l=Nr(e[s],t);if(l instanceof pi&&o instanceof pi){if(l.type==="mtext"&&o.type==="mtext"&&l.getAttribute("mathvariant")===o.getAttribute("mathvariant")){o.children.push(...l.children);continue}else if(l.type==="mn"&&o.type==="mn"){o.children.push(...l.children);continue}else if(T5(l)&&o.type==="mn"){o.children.push(...l.children);continue}else if(l.type==="mn"&&T5(o))l.children=[...o.children,...l.children],a.pop();else if((l.type==="msup"||l.type==="msub")&&l.children.length>=1&&(o.type==="mn"||T5(o))){var u=l.children[0];u instanceof pi&&u.type==="mn"&&(u.children=[...o.children,...u.children],a.pop())}else if(o.type==="mi"&&o.children.length===1){var c=o.children[0];if(c instanceof Ea&&c.text==="\u0338"&&(l.type==="mo"||l.type==="mi"||l.type==="mn")){var d=l.children[0];d instanceof Ea&&d.text.length>0&&(d.text=d.text.slice(0,1)+"\u0338"+d.text.slice(1),a.pop())}}}a.push(l),o=l}return a},_l=function(e,t,n){return t6(zi(e,t,n))},Nr=function(e,t){if(!e)return new je.MathNode("mrow");if(n1[e.type]){var n=n1[e.type](e,t);return n}else throw new We("Got group of unknown type: '"+e.type+"'")};function Jj(r,e,t,n,i){var a=zi(r,t),o;a.length===1&&a[0]instanceof pi&&St.contains(["mrow","mtable"],a[0].type)?o=a[0]:o=new je.MathNode("mrow",a);var s=new je.MathNode("annotation",[new je.TextNode(e)]);s.setAttribute("encoding","application/x-tex");var l=new je.MathNode("semantics",[o,s]),u=new je.MathNode("math",[l]);u.setAttribute("xmlns","http://www.w3.org/1998/Math/MathML"),n&&u.setAttribute("display","block");var c=i?"katex":"katex-mathml";return xe.makeSpan([c],[u])}var R$=function(e){return new Phe({style:e.displayMode?Et.DISPLAY:Et.TEXT,maxSize:e.maxSize,minRuleThickness:e.minRuleThickness})},k$=function(e,t){if(t.displayMode){var n=["katex-display"];t.leqno&&n.push("leqno"),t.fleqn&&n.push("fleqn"),e=xe.makeSpan(n,[e])}return e},upe=function(e,t,n){var i=R$(n),a;if(n.output==="mathml")return Jj(e,t,i,n.displayMode,!0);if(n.output==="html"){var o=H5(e,i);a=xe.makeSpan(["katex"],[o])}else{var s=Jj(e,t,i,n.displayMode,!1),l=H5(e,i);a=xe.makeSpan(["katex"],[s,l])}return k$(a,n)},cpe=function(e,t,n){var i=R$(n),a=H5(e,i),o=xe.makeSpan(["katex"],[a]);return k$(o,n)},dpe={widehat:"^",widecheck:"\u02C7",widetilde:"~",utilde:"~",overleftarrow:"\u2190",underleftarrow:"\u2190",xleftarrow:"\u2190",overrightarrow:"\u2192",underrightarrow:"\u2192",xrightarrow:"\u2192",underbrace:"\u23DF",overbrace:"\u23DE",overgroup:"\u23E0",undergroup:"\u23E1",overleftrightarrow:"\u2194",underleftrightarrow:"\u2194",xleftrightarrow:"\u2194",Overrightarrow:"\u21D2",xRightarrow:"\u21D2",overleftharpoon:"\u21BC",xleftharpoonup:"\u21BC",overrightharpoon:"\u21C0",xrightharpoonup:"\u21C0",xLeftarrow:"\u21D0",xLeftrightarrow:"\u21D4",xhookleftarrow:"\u21A9",xhookrightarrow:"\u21AA",xmapsto:"\u21A6",xrightharpoondown:"\u21C1",xleftharpoondown:"\u21BD",xrightleftharpoons:"\u21CC",xleftrightharpoons:"\u21CB",xtwoheadleftarrow:"\u219E",xtwoheadrightarrow:"\u21A0",xlongequal:"=",xtofrom:"\u21C4",xrightleftarrows:"\u21C4",xrightequilibrium:"\u21CC",xleftequilibrium:"\u21CB","\\cdrightarrow":"\u2192","\\cdleftarrow":"\u2190","\\cdlongequal":"="},fpe=function(e){var t=new je.MathNode("mo",[new je.TextNode(dpe[e.replace(/^\\/,"")])]);return t.setAttribute("stretchy","true"),t},mpe={overrightarrow:[["rightarrow"],.888,522,"xMaxYMin"],overleftarrow:[["leftarrow"],.888,522,"xMinYMin"],underrightarrow:[["rightarrow"],.888,522,"xMaxYMin"],underleftarrow:[["leftarrow"],.888,522,"xMinYMin"],xrightarrow:[["rightarrow"],1.469,522,"xMaxYMin"],"\\cdrightarrow":[["rightarrow"],3,522,"xMaxYMin"],xleftarrow:[["leftarrow"],1.469,522,"xMinYMin"],"\\cdleftarrow":[["leftarrow"],3,522,"xMinYMin"],Overrightarrow:[["doublerightarrow"],.888,560,"xMaxYMin"],xRightarrow:[["doublerightarrow"],1.526,560,"xMaxYMin"],xLeftarrow:[["doubleleftarrow"],1.526,560,"xMinYMin"],overleftharpoon:[["leftharpoon"],.888,522,"xMinYMin"],xleftharpoonup:[["leftharpoon"],.888,522,"xMinYMin"],xleftharpoondown:[["leftharpoondown"],.888,522,"xMinYMin"],overrightharpoon:[["rightharpoon"],.888,522,"xMaxYMin"],xrightharpoonup:[["rightharpoon"],.888,522,"xMaxYMin"],xrightharpoondown:[["rightharpoondown"],.888,522,"xMaxYMin"],xlongequal:[["longequal"],.888,334,"xMinYMin"],"\\cdlongequal":[["longequal"],3,334,"xMinYMin"],xtwoheadleftarrow:[["twoheadleftarrow"],.888,334,"xMinYMin"],xtwoheadrightarrow:[["twoheadrightarrow"],.888,334,"xMaxYMin"],overleftrightarrow:[["leftarrow","rightarrow"],.888,522],overbrace:[["leftbrace","midbrace","rightbrace"],1.6,548],underbrace:[["leftbraceunder","midbraceunder","rightbraceunder"],1.6,548],underleftrightarrow:[["leftarrow","rightarrow"],.888,522],xleftrightarrow:[["leftarrow","rightarrow"],1.75,522],xLeftrightarrow:[["doubleleftarrow","doublerightarrow"],1.75,560],xrightleftharpoons:[["leftharpoondownplus","rightharpoonplus"],1.75,716],xleftrightharpoons:[["leftharpoonplus","rightharpoondownplus"],1.75,716],xhookleftarrow:[["leftarrow","righthook"],1.08,522],xhookrightarrow:[["lefthook","rightarrow"],1.08,522],overlinesegment:[["leftlinesegment","rightlinesegment"],.888,522],underlinesegment:[["leftlinesegment","rightlinesegment"],.888,522],overgroup:[["leftgroup","rightgroup"],.888,342],undergroup:[["leftgroupunder","rightgroupunder"],.888,342],xmapsto:[["leftmapsto","rightarrow"],1.5,522],xtofrom:[["leftToFrom","rightToFrom"],1.75,528],xrightleftarrows:[["baraboveleftarrow","rightarrowabovebar"],1.75,901],xrightequilibrium:[["baraboveshortleftharpoon","rightharpoonaboveshortbar"],1.75,716],xleftequilibrium:[["shortbaraboveleftharpoon","shortrightharpoonabovebar"],1.75,716]},hpe=function(e){return e.type==="ordgroup"?e.body.length:1},ppe=function(e,t){function n(){var s=4e5,l=e.label.slice(1);if(St.contains(["widehat","widecheck","widetilde","utilde"],l)){var u=e,c=hpe(u.base),d,f,m;if(c>5)l==="widehat"||l==="widecheck"?(d=420,s=2364,m=.42,f=l+"4"):(d=312,s=2340,m=.34,f="tilde4");else{var p=[1,1,2,2,3,3][c];l==="widehat"||l==="widecheck"?(s=[0,1062,2364,2364,2364][p],d=[0,239,300,360,420][p],m=[0,.24,.3,.3,.36,.42][p],f=l+p):(s=[0,600,1033,2339,2340][p],d=[0,260,286,306,312][p],m=[0,.26,.286,.3,.306,.34][p],f="tilde"+p)}var h=new Mo(f),v=new Za([h],{width:"100%",height:Qe(m),viewBox:"0 0 "+s+" "+d,preserveAspectRatio:"none"});return{span:xe.makeSvgSpan([],[v],t),minWidth:0,height:m}}else{var y=[],S=mpe[l],[x,_,w]=S,b=w/1e3,C=x.length,E,D;if(C===1){var M=S[3];E=["hide-tail"],D=[M]}else if(C===2)E=["halfarrow-left","halfarrow-right"],D=["xMinYMin","xMaxYMin"];else if(C===3)E=["brace-left","brace-center","brace-right"],D=["xMinYMin","xMidYMin","xMaxYMin"];else throw new Error(`Correct katexImagesData or update code here to support
                    `+C+" children.");for(var T=0;T<C;T++){var I=new Mo(x[T]),B=new Za([I],{width:"400em",height:Qe(b),viewBox:"0 0 "+s+" "+w,preserveAspectRatio:D[T]+" slice"}),V=xe.makeSvgSpan([E[T]],[B],t);if(C===1)return{span:V,minWidth:_,height:b};V.style.height=Qe(b),y.push(V)}return{span:xe.makeSpan(["stretchy"],y,t),minWidth:_,height:b}}}var{span:i,minWidth:a,height:o}=n();return i.height=o,i.style.height=Qe(o),a>0&&(i.style.minWidth=Qe(a)),i},gpe=function(e,t,n,i,a){var o,s=e.height+e.depth+n+i;if(/fbox|color|angl/.test(t)){if(o=xe.makeSpan(["stretchy",t],[],a),t==="fbox"){var l=a.color&&a.getColor();l&&(o.style.borderColor=l)}}else{var u=[];/^[bx]cancel$/.test(t)&&u.push(new Om({x1:"0",y1:"0",x2:"100%",y2:"100%","stroke-width":"0.046em"})),/^x?cancel$/.test(t)&&u.push(new Om({x1:"0",y1:"100%",x2:"100%",y2:"0","stroke-width":"0.046em"}));var c=new Za(u,{width:"100%",height:Qe(s)});o=xe.makeSvgSpan([],[c],a)}return o.height=s,o.style.height=Qe(s),o},ps={encloseSpan:gpe,mathMLnode:fpe,svgSpan:ppe};function Wt(r,e){if(!r||r.type!==e)throw new Error("Expected node of type "+e+", but got "+(r?"node of type "+r.type:String(r)));return r}function n6(r){var e=l1(r);if(!e)throw new Error("Expected node of symbol group type, but got "+(r?"node of type "+r.type:String(r)));return e}function l1(r){return r&&(r.type==="atom"||qhe.hasOwnProperty(r.type))?r:null}var i6=(r,e)=>{var t,n,i;r&&r.type==="supsub"?(n=Wt(r.base,"accent"),t=n.base,r.base=t,i=Vhe(dr(r,e)),r.base=n):(n=Wt(r,"accent"),t=n.base);var a=dr(t,e.havingCrampedStyle()),o=n.isShifty&&St.isCharacterBox(t),s=0;if(o){var l=St.getBaseElem(t),u=dr(l,e.havingCrampedStyle());s=Gj(u).skew}var c=n.label==="\\c",d=c?a.height+a.depth:Math.min(a.height,e.fontMetrics().xHeight),f;if(n.isStretchy)f=ps.svgSpan(n,e),f=xe.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:a},{type:"elem",elem:f,wrapperClasses:["svg-align"],wrapperStyle:s>0?{width:"calc(100% - "+Qe(2*s)+")",marginLeft:Qe(2*s)}:void 0}]},e);else{var m,p;n.label==="\\vec"?(m=xe.staticSvg("vec",e),p=xe.svgData.vec[1]):(m=xe.makeOrd({mode:n.mode,text:n.label},e,"textord"),m=Gj(m),m.italic=0,p=m.width,c&&(d+=m.depth)),f=xe.makeSpan(["accent-body"],[m]);var h=n.label==="\\textcircled";h&&(f.classes.push("accent-full"),d=a.height);var v=s;h||(v-=p/2),f.style.left=Qe(v),n.label==="\\textcircled"&&(f.style.top=".2em"),f=xe.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:a},{type:"kern",size:-d},{type:"elem",elem:f}]},e)}var y=xe.makeSpan(["mord","accent"],[f],e);return i?(i.children[0]=y,i.height=Math.max(y.height,i.height),i.classes[0]="mord",i):y},P$=(r,e)=>{var t=r.isStretchy?ps.mathMLnode(r.label):new je.MathNode("mo",[Ma(r.label,r.mode)]),n=new je.MathNode("mover",[Nr(r.base,e),t]);return n.setAttribute("accent","true"),n},vpe=new RegExp(["\\acute","\\grave","\\ddot","\\tilde","\\bar","\\breve","\\check","\\hat","\\vec","\\dot","\\mathring"].map(r=>"\\"+r).join("|"));ot({type:"accent",names:["\\acute","\\grave","\\ddot","\\tilde","\\bar","\\breve","\\check","\\hat","\\vec","\\dot","\\mathring","\\widecheck","\\widehat","\\widetilde","\\overrightarrow","\\overleftarrow","\\Overrightarrow","\\overleftrightarrow","\\overgroup","\\overlinesegment","\\overleftharpoon","\\overrightharpoon"],props:{numArgs:1},handler:(r,e)=>{var t=i1(e[0]),n=!vpe.test(r.funcName),i=!n||r.funcName==="\\widehat"||r.funcName==="\\widetilde"||r.funcName==="\\widecheck";return{type:"accent",mode:r.parser.mode,label:r.funcName,isStretchy:n,isShifty:i,base:t}},htmlBuilder:i6,mathmlBuilder:P$});ot({type:"accent",names:["\\'","\\`","\\^","\\~","\\=","\\u","\\.",'\\"',"\\c","\\r","\\H","\\v","\\textcircled"],props:{numArgs:1,allowedInText:!0,allowedInMath:!0,argTypes:["primitive"]},handler:(r,e)=>{var t=e[0],n=r.parser.mode;return n==="math"&&(r.parser.settings.reportNonstrict("mathVsTextAccents","LaTeX's accent "+r.funcName+" works only in text mode"),n="text"),{type:"accent",mode:n,label:r.funcName,isStretchy:!1,isShifty:!0,base:t}},htmlBuilder:i6,mathmlBuilder:P$});ot({type:"accentUnder",names:["\\underleftarrow","\\underrightarrow","\\underleftrightarrow","\\undergroup","\\underlinesegment","\\utilde"],props:{numArgs:1},handler:(r,e)=>{var{parser:t,funcName:n}=r,i=e[0];return{type:"accentUnder",mode:t.mode,label:n,base:i}},htmlBuilder:(r,e)=>{var t=dr(r.base,e),n=ps.svgSpan(r,e),i=r.label==="\\utilde"?.12:0,a=xe.makeVList({positionType:"top",positionData:t.height,children:[{type:"elem",elem:n,wrapperClasses:["svg-align"]},{type:"kern",size:i},{type:"elem",elem:t}]},e);return xe.makeSpan(["mord","accentunder"],[a],e)},mathmlBuilder:(r,e)=>{var t=ps.mathMLnode(r.label),n=new je.MathNode("munder",[Nr(r.base,e),t]);return n.setAttribute("accentunder","true"),n}});var Zv=r=>{var e=new je.MathNode("mpadded",r?[r]:[]);return e.setAttribute("width","+0.6em"),e.setAttribute("lspace","0.3em"),e};ot({type:"xArrow",names:["\\xleftarrow","\\xrightarrow","\\xLeftarrow","\\xRightarrow","\\xleftrightarrow","\\xLeftrightarrow","\\xhookleftarrow","\\xhookrightarrow","\\xmapsto","\\xrightharpoondown","\\xrightharpoonup","\\xleftharpoondown","\\xleftharpoonup","\\xrightleftharpoons","\\xleftrightharpoons","\\xlongequal","\\xtwoheadrightarrow","\\xtwoheadleftarrow","\\xtofrom","\\xrightleftarrows","\\xrightequilibrium","\\xleftequilibrium","\\\\cdrightarrow","\\\\cdleftarrow","\\\\cdlongequal"],props:{numArgs:1,numOptionalArgs:1},handler(r,e,t){var{parser:n,funcName:i}=r;return{type:"xArrow",mode:n.mode,label:i,body:e[0],below:t[0]}},htmlBuilder(r,e){var t=e.style,n=e.havingStyle(t.sup()),i=xe.wrapFragment(dr(r.body,n,e),e),a=r.label.slice(0,2)==="\\x"?"x":"cd";i.classes.push(a+"-arrow-pad");var o;r.below&&(n=e.havingStyle(t.sub()),o=xe.wrapFragment(dr(r.below,n,e),e),o.classes.push(a+"-arrow-pad"));var s=ps.svgSpan(r,e),l=-e.fontMetrics().axisHeight+.5*s.height,u=-e.fontMetrics().axisHeight-.5*s.height-.111;(i.depth>.25||r.label==="\\xleftequilibrium")&&(u-=i.depth);var c;if(o){var d=-e.fontMetrics().axisHeight+o.height+.5*s.height+.111;c=xe.makeVList({positionType:"individualShift",children:[{type:"elem",elem:i,shift:u},{type:"elem",elem:s,shift:l},{type:"elem",elem:o,shift:d}]},e)}else c=xe.makeVList({positionType:"individualShift",children:[{type:"elem",elem:i,shift:u},{type:"elem",elem:s,shift:l}]},e);return c.children[0].children[0].children[1].classes.push("svg-align"),xe.makeSpan(["mrel","x-arrow"],[c],e)},mathmlBuilder(r,e){var t=ps.mathMLnode(r.label);t.setAttribute("minsize",r.label.charAt(0)==="x"?"1.75em":"3.0em");var n;if(r.body){var i=Zv(Nr(r.body,e));if(r.below){var a=Zv(Nr(r.below,e));n=new je.MathNode("munderover",[t,a,i])}else n=new je.MathNode("mover",[t,i])}else if(r.below){var o=Zv(Nr(r.below,e));n=new je.MathNode("munder",[t,o])}else n=Zv(),n=new je.MathNode("mover",[t,n]);return n}});var xpe=xe.makeSpan;function B$(r,e){var t=Nn(r.body,e,!0);return xpe([r.mclass],t,e)}function L$(r,e){var t,n=zi(r.body,e);return r.mclass==="minner"?t=new je.MathNode("mpadded",n):r.mclass==="mord"?r.isCharacterBox?(t=n[0],t.type="mi"):t=new je.MathNode("mi",n):(r.isCharacterBox?(t=n[0],t.type="mo"):t=new je.MathNode("mo",n),r.mclass==="mbin"?(t.attributes.lspace="0.22em",t.attributes.rspace="0.22em"):r.mclass==="mpunct"?(t.attributes.lspace="0em",t.attributes.rspace="0.17em"):r.mclass==="mopen"||r.mclass==="mclose"?(t.attributes.lspace="0em",t.attributes.rspace="0em"):r.mclass==="minner"&&(t.attributes.lspace="0.0556em",t.attributes.width="+0.1111em")),t}ot({type:"mclass",names:["\\mathord","\\mathbin","\\mathrel","\\mathopen","\\mathclose","\\mathpunct","\\mathinner"],props:{numArgs:1,primitive:!0},handler(r,e){var{parser:t,funcName:n}=r,i=e[0];return{type:"mclass",mode:t.mode,mclass:"m"+n.slice(5),body:fn(i),isCharacterBox:St.isCharacterBox(i)}},htmlBuilder:B$,mathmlBuilder:L$});var u1=r=>{var e=r.type==="ordgroup"&&r.body.length?r.body[0]:r;return e.type==="atom"&&(e.family==="bin"||e.family==="rel")?"m"+e.family:"mord"};ot({type:"mclass",names:["\\@binrel"],props:{numArgs:2},handler(r,e){var{parser:t}=r;return{type:"mclass",mode:t.mode,mclass:u1(e[0]),body:fn(e[1]),isCharacterBox:St.isCharacterBox(e[1])}}});ot({type:"mclass",names:["\\stackrel","\\overset","\\underset"],props:{numArgs:2},handler(r,e){var{parser:t,funcName:n}=r,i=e[1],a=e[0],o;n!=="\\stackrel"?o=u1(i):o="mrel";var s={type:"op",mode:i.mode,limits:!0,alwaysHandleSupSub:!0,parentIsSupSub:!1,symbol:!1,suppressBaseShift:n!=="\\stackrel",body:fn(i)},l={type:"supsub",mode:a.mode,base:s,sup:n==="\\underset"?null:a,sub:n==="\\underset"?a:null};return{type:"mclass",mode:t.mode,mclass:o,body:[l],isCharacterBox:St.isCharacterBox(l)}},htmlBuilder:B$,mathmlBuilder:L$});ot({type:"pmb",names:["\\pmb"],props:{numArgs:1,allowedInText:!0},handler(r,e){var{parser:t}=r;return{type:"pmb",mode:t.mode,mclass:u1(e[0]),body:fn(e[0])}},htmlBuilder(r,e){var t=Nn(r.body,e,!0),n=xe.makeSpan([r.mclass],t,e);return n.style.textShadow="0.02em 0.01em 0.04px",n},mathmlBuilder(r,e){var t=zi(r.body,e),n=new je.MathNode("mstyle",t);return n.setAttribute("style","text-shadow: 0.02em 0.01em 0.04px"),n}});var ype={">":"\\\\cdrightarrow","<":"\\\\cdleftarrow","=":"\\\\cdlongequal",A:"\\uparrow",V:"\\downarrow","|":"\\Vert",".":"no arrow"},Qj=()=>({type:"styling",body:[],mode:"math",style:"display"}),e$=r=>r.type==="textord"&&r.text==="@",bpe=(r,e)=>(r.type==="mathord"||r.type==="atom")&&r.text===e;function wpe(r,e,t){var n=ype[r];switch(n){case"\\\\cdrightarrow":case"\\\\cdleftarrow":return t.callFunction(n,[e[0]],[e[1]]);case"\\uparrow":case"\\downarrow":{var i=t.callFunction("\\\\cdleft",[e[0]],[]),a={type:"atom",text:n,mode:"math",family:"rel"},o=t.callFunction("\\Big",[a],[]),s=t.callFunction("\\\\cdright",[e[1]],[]),l={type:"ordgroup",mode:"math",body:[i,o,s]};return t.callFunction("\\\\cdparent",[l],[])}case"\\\\cdlongequal":return t.callFunction("\\\\cdlongequal",[],[]);case"\\Vert":{var u={type:"textord",text:"\\Vert",mode:"math"};return t.callFunction("\\Big",[u],[])}default:return{type:"textord",text:" ",mode:"math"}}}function _pe(r){var e=[];for(r.gullet.beginGroup(),r.gullet.macros.set("\\cr","\\\\\\relax"),r.gullet.beginGroup();;){e.push(r.parseExpression(!1,"\\\\")),r.gullet.endGroup(),r.gullet.beginGroup();var t=r.fetch().text;if(t==="&"||t==="\\\\")r.consume();else if(t==="\\end"){e[e.length-1].length===0&&e.pop();break}else throw new We("Expected \\\\ or \\cr or \\end",r.nextToken)}for(var n=[],i=[n],a=0;a<e.length;a++){for(var o=e[a],s=Qj(),l=0;l<o.length;l++)if(!e$(o[l]))s.body.push(o[l]);else{n.push(s),l+=1;var u=n6(o[l]).text,c=new Array(2);if(c[0]={type:"ordgroup",mode:"math",body:[]},c[1]={type:"ordgroup",mode:"math",body:[]},!("=|.".indexOf(u)>-1))if("<>AV".indexOf(u)>-1)for(var d=0;d<2;d++){for(var f=!0,m=l+1;m<o.length;m++){if(bpe(o[m],u)){f=!1,l=m;break}if(e$(o[m]))throw new We("Missing a "+u+" character to complete a CD arrow.",o[m]);c[d].body.push(o[m])}if(f)throw new We("Missing a "+u+" character to complete a CD arrow.",o[l])}else throw new We('Expected one of "<>AV=|." after @',o[l]);var p=wpe(u,c,r),h={type:"styling",body:[p],mode:"math",style:"display"};n.push(h),s=Qj()}a%2===0?n.push(s):n.shift(),n=[],i.push(n)}r.gullet.endGroup(),r.gullet.endGroup();var v=new Array(i[0].length).fill({type:"align",align:"c",pregap:.25,postgap:.25});return{type:"array",mode:"math",body:i,arraystretch:1,addJot:!0,rowGaps:[null],cols:v,colSeparationType:"CD",hLinesBeforeRow:new Array(i.length+1).fill([])}}ot({type:"cdlabel",names:["\\\\cdleft","\\\\cdright"],props:{numArgs:1},handler(r,e){var{parser:t,funcName:n}=r;return{type:"cdlabel",mode:t.mode,side:n.slice(4),label:e[0]}},htmlBuilder(r,e){var t=e.havingStyle(e.style.sup()),n=xe.wrapFragment(dr(r.label,t,e),e);return n.classes.push("cd-label-"+r.side),n.style.bottom=Qe(.8-n.depth),n.height=0,n.depth=0,n},mathmlBuilder(r,e){var t=new je.MathNode("mrow",[Nr(r.label,e)]);return t=new je.MathNode("mpadded",[t]),t.setAttribute("width","0"),r.side==="left"&&t.setAttribute("lspace","-1width"),t.setAttribute("voffset","0.7em"),t=new je.MathNode("mstyle",[t]),t.setAttribute("displaystyle","false"),t.setAttribute("scriptlevel","1"),t}});ot({type:"cdlabelparent",names:["\\\\cdparent"],props:{numArgs:1},handler(r,e){var{parser:t}=r;return{type:"cdlabelparent",mode:t.mode,fragment:e[0]}},htmlBuilder(r,e){var t=xe.wrapFragment(dr(r.fragment,e),e);return t.classes.push("cd-vert-arrow"),t},mathmlBuilder(r,e){return new je.MathNode("mrow",[Nr(r.fragment,e)])}});ot({type:"textord",names:["\\@char"],props:{numArgs:1,allowedInText:!0},handler(r,e){for(var{parser:t}=r,n=Wt(e[0],"ordgroup"),i=n.body,a="",o=0;o<i.length;o++){var s=Wt(i[o],"textord");a+=s.text}var l=parseInt(a),u;if(isNaN(l))throw new We("\\@char has non-numeric argument "+a);if(l<0||l>=1114111)throw new We("\\@char with invalid code point "+a);return l<=65535?u=String.fromCharCode(l):(l-=65536,u=String.fromCharCode((l>>10)+55296,(l&1023)+56320)),{type:"textord",mode:t.mode,text:u}}});var z$=(r,e)=>{var t=Nn(r.body,e.withColor(r.color),!1);return xe.makeFragment(t)},V$=(r,e)=>{var t=zi(r.body,e.withColor(r.color)),n=new je.MathNode("mstyle",t);return n.setAttribute("mathcolor",r.color),n};ot({type:"color",names:["\\textcolor"],props:{numArgs:2,allowedInText:!0,argTypes:["color","original"]},handler(r,e){var{parser:t}=r,n=Wt(e[0],"color-token").color,i=e[1];return{type:"color",mode:t.mode,color:n,body:fn(i)}},htmlBuilder:z$,mathmlBuilder:V$});ot({type:"color",names:["\\color"],props:{numArgs:1,allowedInText:!0,argTypes:["color"]},handler(r,e){var{parser:t,breakOnTokenText:n}=r,i=Wt(e[0],"color-token").color;t.gullet.macros.set("\\current@color",i);var a=t.parseExpression(!0,n);return{type:"color",mode:t.mode,color:i,body:a}},htmlBuilder:z$,mathmlBuilder:V$});ot({type:"cr",names:["\\\\"],props:{numArgs:0,numOptionalArgs:0,allowedInText:!0},handler(r,e,t){var{parser:n}=r,i=n.gullet.future().text==="["?n.parseSizeGroup(!0):null,a=!n.settings.displayMode||!n.settings.useStrictBehavior("newLineInDisplayMode","In LaTeX, \\\\ or \\newline does nothing in display mode");return{type:"cr",mode:n.mode,newLine:a,size:i&&Wt(i,"size").value}},htmlBuilder(r,e){var t=xe.makeSpan(["mspace"],[],e);return r.newLine&&(t.classes.push("newline"),r.size&&(t.style.marginTop=Qe(nn(r.size,e)))),t},mathmlBuilder(r,e){var t=new je.MathNode("mspace");return r.newLine&&(t.setAttribute("linebreak","newline"),r.size&&t.setAttribute("height",Qe(nn(r.size,e)))),t}});var G5={"\\global":"\\global","\\long":"\\\\globallong","\\\\globallong":"\\\\globallong","\\def":"\\gdef","\\gdef":"\\gdef","\\edef":"\\xdef","\\xdef":"\\xdef","\\let":"\\\\globallet","\\futurelet":"\\\\globalfuture"},U$=r=>{var e=r.text;if(/^(?:[\\{}$&#^_]|EOF)$/.test(e))throw new We("Expected a control sequence",r);return e},Spe=r=>{var e=r.gullet.popToken();return e.text==="="&&(e=r.gullet.popToken(),e.text===" "&&(e=r.gullet.popToken())),e},q$=(r,e,t,n)=>{var i=r.gullet.macros.get(t.text);i==null&&(t.noexpand=!0,i={tokens:[t],numArgs:0,unexpandable:!r.gullet.isExpandable(t.text)}),r.gullet.macros.set(e,i,n)};ot({type:"internal",names:["\\global","\\long","\\\\globallong"],props:{numArgs:0,allowedInText:!0},handler(r){var{parser:e,funcName:t}=r;e.consumeSpaces();var n=e.fetch();if(G5[n.text])return(t==="\\global"||t==="\\\\globallong")&&(n.text=G5[n.text]),Wt(e.parseFunction(),"internal");throw new We("Invalid token after macro prefix",n)}});ot({type:"internal",names:["\\def","\\gdef","\\edef","\\xdef"],props:{numArgs:0,allowedInText:!0,primitive:!0},handler(r){var{parser:e,funcName:t}=r,n=e.gullet.popToken(),i=n.text;if(/^(?:[\\{}$&#^_]|EOF)$/.test(i))throw new We("Expected a control sequence",n);for(var a=0,o,s=[[]];e.gullet.future().text!=="{";)if(n=e.gullet.popToken(),n.text==="#"){if(e.gullet.future().text==="{"){o=e.gullet.future(),s[a].push("{");break}if(n=e.gullet.popToken(),!/^[1-9]$/.test(n.text))throw new We('Invalid argument number "'+n.text+'"');if(parseInt(n.text)!==a+1)throw new We('Argument number "'+n.text+'" out of order');a++,s.push([])}else{if(n.text==="EOF")throw new We("Expected a macro definition");s[a].push(n.text)}var{tokens:l}=e.gullet.consumeArg();return o&&l.unshift(o),(t==="\\edef"||t==="\\xdef")&&(l=e.gullet.expandTokens(l),l.reverse()),e.gullet.macros.set(i,{tokens:l,numArgs:a,delimiters:s},t===G5[t]),{type:"internal",mode:e.mode}}});ot({type:"internal",names:["\\let","\\\\globallet"],props:{numArgs:0,allowedInText:!0,primitive:!0},handler(r){var{parser:e,funcName:t}=r,n=U$(e.gullet.popToken());e.gullet.consumeSpaces();var i=Spe(e);return q$(e,n,i,t==="\\\\globallet"),{type:"internal",mode:e.mode}}});ot({type:"internal",names:["\\futurelet","\\\\globalfuture"],props:{numArgs:0,allowedInText:!0,primitive:!0},handler(r){var{parser:e,funcName:t}=r,n=U$(e.gullet.popToken()),i=e.gullet.popToken(),a=e.gullet.popToken();return q$(e,n,a,t==="\\\\globalfuture"),e.gullet.pushToken(a),e.gullet.pushToken(i),{type:"internal",mode:e.mode}}});var Mm=function(e,t,n){var i=Pr.math[e]&&Pr.math[e].replace,a=Q5(i||e,t,n);if(!a)throw new Error("Unsupported symbol "+e+" and font size "+t+".");return a},a6=function(e,t,n,i){var a=n.havingBaseStyle(t),o=xe.makeSpan(i.concat(a.sizingClasses(n)),[e],n),s=a.sizeMultiplier/n.sizeMultiplier;return o.height*=s,o.depth*=s,o.maxFontSize=a.sizeMultiplier,o},j$=function(e,t,n){var i=t.havingBaseStyle(n),a=(1-t.sizeMultiplier/i.sizeMultiplier)*t.fontMetrics().axisHeight;e.classes.push("delimcenter"),e.style.top=Qe(a),e.height-=a,e.depth+=a},Dpe=function(e,t,n,i,a,o){var s=xe.makeSymbol(e,"Main-Regular",a,i),l=a6(s,t,i,o);return n&&j$(l,i,t),l},Cpe=function(e,t,n,i){return xe.makeSymbol(e,"Size"+t+"-Regular",n,i)},$$=function(e,t,n,i,a,o){var s=Cpe(e,t,a,i),l=a6(xe.makeSpan(["delimsizing","size"+t],[s],i),Et.TEXT,i,o);return n&&j$(l,i,Et.TEXT),l},F5=function(e,t,n){var i;t==="Size1-Regular"?i="delim-size1":i="delim-size4";var a=xe.makeSpan(["delimsizinginner",i],[xe.makeSpan([],[xe.makeSymbol(e,t,n)])]);return{type:"elem",elem:a}},I5=function(e,t,n){var i=Ao["Size4-Regular"][e.charCodeAt(0)]?Ao["Size4-Regular"][e.charCodeAt(0)][4]:Ao["Size1-Regular"][e.charCodeAt(0)][4],a=new Mo("inner",Fhe(e,Math.round(1e3*t))),o=new Za([a],{width:Qe(i),height:Qe(t),style:"width:"+Qe(i),viewBox:"0 0 "+1e3*i+" "+Math.round(1e3*t),preserveAspectRatio:"xMinYMin"}),s=xe.makeSvgSpan([],[o],n);return s.height=t,s.style.height=Qe(t),s.style.width=Qe(i),{type:"elem",elem:s}},Y5=.008,Xv={type:"kern",size:-1*Y5},Epe=["|","\\lvert","\\rvert","\\vert"],Ape=["\\|","\\lVert","\\rVert","\\Vert"],H$=function(e,t,n,i,a,o){var s,l,u,c,d="",f=0;s=u=c=e,l=null;var m="Size1-Regular";e==="\\uparrow"?u=c="\u23D0":e==="\\Uparrow"?u=c="\u2016":e==="\\downarrow"?s=u="\u23D0":e==="\\Downarrow"?s=u="\u2016":e==="\\updownarrow"?(s="\\uparrow",u="\u23D0",c="\\downarrow"):e==="\\Updownarrow"?(s="\\Uparrow",u="\u2016",c="\\Downarrow"):St.contains(Epe,e)?(u="\u2223",d="vert",f=333):St.contains(Ape,e)?(u="\u2225",d="doublevert",f=556):e==="["||e==="\\lbrack"?(s="\u23A1",u="\u23A2",c="\u23A3",m="Size4-Regular",d="lbrack",f=667):e==="]"||e==="\\rbrack"?(s="\u23A4",u="\u23A5",c="\u23A6",m="Size4-Regular",d="rbrack",f=667):e==="\\lfloor"||e==="\u230A"?(u=s="\u23A2",c="\u23A3",m="Size4-Regular",d="lfloor",f=667):e==="\\lceil"||e==="\u2308"?(s="\u23A1",u=c="\u23A2",m="Size4-Regular",d="lceil",f=667):e==="\\rfloor"||e==="\u230B"?(u=s="\u23A5",c="\u23A6",m="Size4-Regular",d="rfloor",f=667):e==="\\rceil"||e==="\u2309"?(s="\u23A4",u=c="\u23A5",m="Size4-Regular",d="rceil",f=667):e==="("||e==="\\lparen"?(s="\u239B",u="\u239C",c="\u239D",m="Size4-Regular",d="lparen",f=875):e===")"||e==="\\rparen"?(s="\u239E",u="\u239F",c="\u23A0",m="Size4-Regular",d="rparen",f=875):e==="\\{"||e==="\\lbrace"?(s="\u23A7",l="\u23A8",c="\u23A9",u="\u23AA",m="Size4-Regular"):e==="\\}"||e==="\\rbrace"?(s="\u23AB",l="\u23AC",c="\u23AD",u="\u23AA",m="Size4-Regular"):e==="\\lgroup"||e==="\u27EE"?(s="\u23A7",c="\u23A9",u="\u23AA",m="Size4-Regular"):e==="\\rgroup"||e==="\u27EF"?(s="\u23AB",c="\u23AD",u="\u23AA",m="Size4-Regular"):e==="\\lmoustache"||e==="\u23B0"?(s="\u23A7",c="\u23AD",u="\u23AA",m="Size4-Regular"):(e==="\\rmoustache"||e==="\u23B1")&&(s="\u23AB",c="\u23A9",u="\u23AA",m="Size4-Regular");var p=Mm(s,m,a),h=p.height+p.depth,v=Mm(u,m,a),y=v.height+v.depth,S=Mm(c,m,a),x=S.height+S.depth,_=0,w=1;if(l!==null){var b=Mm(l,m,a);_=b.height+b.depth,w=2}var C=h+x+_,E=Math.max(0,Math.ceil((t-C)/(w*y))),D=C+E*w*y,M=i.fontMetrics().axisHeight;n&&(M*=i.sizeMultiplier);var T=D/2-M,I=[];if(d.length>0){var B=D-h-x,V=Math.round(D*1e3),L=Ihe(d,Math.round(B*1e3)),k=new Mo(d,L),O=(f/1e3).toFixed(3)+"em",Y=(V/1e3).toFixed(3)+"em",P=new Za([k],{width:O,height:Y,viewBox:"0 0 "+f+" "+V}),ae=xe.makeSvgSpan([],[P],i);ae.height=V/1e3,ae.style.width=O,ae.style.height=Y,I.push({type:"elem",elem:ae})}else{if(I.push(F5(c,m,a)),I.push(Xv),l===null){var se=D-h-x+2*Y5;I.push(I5(u,se,i))}else{var te=(D-h-x-_)/2+2*Y5;I.push(I5(u,te,i)),I.push(Xv),I.push(F5(l,m,a)),I.push(Xv),I.push(I5(u,te,i))}I.push(Xv),I.push(F5(s,m,a))}var W=i.havingBaseStyle(Et.TEXT),ue=xe.makeVList({positionType:"bottom",positionData:T,children:I},W);return a6(xe.makeSpan(["delimsizing","mult"],[ue],W),Et.TEXT,i,o)},O5=80,R5=.08,k5=function(e,t,n,i,a){var o=The(e,i,n),s=new Mo(e,o),l=new Za([s],{width:"400em",height:Qe(t),viewBox:"0 0 400000 "+n,preserveAspectRatio:"xMinYMin slice"});return xe.makeSvgSpan(["hide-tail"],[l],a)},Mpe=function(e,t){var n=t.havingBaseSizing(),i=Z$("\\surd",e*n.sizeMultiplier,Y$,n),a=n.sizeMultiplier,o=Math.max(0,t.minRuleThickness-t.fontMetrics().sqrtRuleThickness),s,l=0,u=0,c=0,d;return i.type==="small"?(c=1e3+1e3*o+O5,e<1?a=1:e<1.4&&(a=.7),l=(1+o+R5)/a,u=(1+o)/a,s=k5("sqrtMain",l,c,o,t),s.style.minWidth="0.853em",d=.833/a):i.type==="large"?(c=(1e3+O5)*Nm[i.size],u=(Nm[i.size]+o)/a,l=(Nm[i.size]+o+R5)/a,s=k5("sqrtSize"+i.size,l,c,o,t),s.style.minWidth="1.02em",d=1/a):(l=e+o+R5,u=e+o,c=Math.floor(1e3*e+o)+O5,s=k5("sqrtTall",l,c,o,t),s.style.minWidth="0.742em",d=1.056),s.height=u,s.style.height=Qe(l),{span:s,advanceWidth:d,ruleWidth:(t.fontMetrics().sqrtRuleThickness+o)*a}},W$=["(","\\lparen",")","\\rparen","[","\\lbrack","]","\\rbrack","\\{","\\lbrace","\\}","\\rbrace","\\lfloor","\\rfloor","\u230A","\u230B","\\lceil","\\rceil","\u2308","\u2309","\\surd"],Npe=["\\uparrow","\\downarrow","\\updownarrow","\\Uparrow","\\Downarrow","\\Updownarrow","|","\\|","\\vert","\\Vert","\\lvert","\\rvert","\\lVert","\\rVert","\\lgroup","\\rgroup","\u27EE","\u27EF","\\lmoustache","\\rmoustache","\u23B0","\u23B1"],G$=["<",">","\\langle","\\rangle","/","\\backslash","\\lt","\\gt"],Nm=[0,1.2,1.8,2.4,3],Tpe=function(e,t,n,i,a){if(e==="<"||e==="\\lt"||e==="\u27E8"?e="\\langle":(e===">"||e==="\\gt"||e==="\u27E9")&&(e="\\rangle"),St.contains(W$,e)||St.contains(G$,e))return $$(e,t,!1,n,i,a);if(St.contains(Npe,e))return H$(e,Nm[t],!1,n,i,a);throw new We("Illegal delimiter: '"+e+"'")},Fpe=[{type:"small",style:Et.SCRIPTSCRIPT},{type:"small",style:Et.SCRIPT},{type:"small",style:Et.TEXT},{type:"large",size:1},{type:"large",size:2},{type:"large",size:3},{type:"large",size:4}],Ipe=[{type:"small",style:Et.SCRIPTSCRIPT},{type:"small",style:Et.SCRIPT},{type:"small",style:Et.TEXT},{type:"stack"}],Y$=[{type:"small",style:Et.SCRIPTSCRIPT},{type:"small",style:Et.SCRIPT},{type:"small",style:Et.TEXT},{type:"large",size:1},{type:"large",size:2},{type:"large",size:3},{type:"large",size:4},{type:"stack"}],Ope=function(e){if(e.type==="small")return"Main-Regular";if(e.type==="large")return"Size"+e.size+"-Regular";if(e.type==="stack")return"Size4-Regular";throw new Error("Add support for delim type '"+e.type+"' here.")},Z$=function(e,t,n,i){for(var a=Math.min(2,3-i.style.size),o=a;o<n.length&&n[o].type!=="stack";o++){var s=Mm(e,Ope(n[o]),"math"),l=s.height+s.depth;if(n[o].type==="small"){var u=i.havingBaseStyle(n[o].style);l*=u.sizeMultiplier}if(l>t)return n[o]}return n[n.length-1]},X$=function(e,t,n,i,a,o){e==="<"||e==="\\lt"||e==="\u27E8"?e="\\langle":(e===">"||e==="\\gt"||e==="\u27E9")&&(e="\\rangle");var s;St.contains(G$,e)?s=Fpe:St.contains(W$,e)?s=Y$:s=Ipe;var l=Z$(e,t,s,i);return l.type==="small"?Dpe(e,l.style,n,i,a,o):l.type==="large"?$$(e,l.size,n,i,a,o):H$(e,t,n,i,a,o)},Rpe=function(e,t,n,i,a,o){var s=i.fontMetrics().axisHeight*i.sizeMultiplier,l=901,u=5/i.fontMetrics().ptPerEm,c=Math.max(t-s,n+s),d=Math.max(c/500*l,2*c-u);return X$(e,d,!0,i,a,o)},ms={sqrtImage:Mpe,sizedDelim:Tpe,sizeToMaxHeight:Nm,customSizedDelim:X$,leftRightDelim:Rpe},t$={"\\bigl":{mclass:"mopen",size:1},"\\Bigl":{mclass:"mopen",size:2},"\\biggl":{mclass:"mopen",size:3},"\\Biggl":{mclass:"mopen",size:4},"\\bigr":{mclass:"mclose",size:1},"\\Bigr":{mclass:"mclose",size:2},"\\biggr":{mclass:"mclose",size:3},"\\Biggr":{mclass:"mclose",size:4},"\\bigm":{mclass:"mrel",size:1},"\\Bigm":{mclass:"mrel",size:2},"\\biggm":{mclass:"mrel",size:3},"\\Biggm":{mclass:"mrel",size:4},"\\big":{mclass:"mord",size:1},"\\Big":{mclass:"mord",size:2},"\\bigg":{mclass:"mord",size:3},"\\Bigg":{mclass:"mord",size:4}},kpe=["(","\\lparen",")","\\rparen","[","\\lbrack","]","\\rbrack","\\{","\\lbrace","\\}","\\rbrace","\\lfloor","\\rfloor","\u230A","\u230B","\\lceil","\\rceil","\u2308","\u2309","<",">","\\langle","\u27E8","\\rangle","\u27E9","\\lt","\\gt","\\lvert","\\rvert","\\lVert","\\rVert","\\lgroup","\\rgroup","\u27EE","\u27EF","\\lmoustache","\\rmoustache","\u23B0","\u23B1","/","\\backslash","|","\\vert","\\|","\\Vert","\\uparrow","\\Uparrow","\\downarrow","\\Downarrow","\\updownarrow","\\Updownarrow","."];function c1(r,e){var t=l1(r);if(t&&St.contains(kpe,t.text))return t;throw t?new We("Invalid delimiter '"+t.text+"' after '"+e.funcName+"'",r):new We("Invalid delimiter type '"+r.type+"'",r)}ot({type:"delimsizing",names:["\\bigl","\\Bigl","\\biggl","\\Biggl","\\bigr","\\Bigr","\\biggr","\\Biggr","\\bigm","\\Bigm","\\biggm","\\Biggm","\\big","\\Big","\\bigg","\\Bigg"],props:{numArgs:1,argTypes:["primitive"]},handler:(r,e)=>{var t=c1(e[0],r);return{type:"delimsizing",mode:r.parser.mode,size:t$[r.funcName].size,mclass:t$[r.funcName].mclass,delim:t.text}},htmlBuilder:(r,e)=>r.delim==="."?xe.makeSpan([r.mclass]):ms.sizedDelim(r.delim,r.size,e,r.mode,[r.mclass]),mathmlBuilder:r=>{var e=[];r.delim!=="."&&e.push(Ma(r.delim,r.mode));var t=new je.MathNode("mo",e);r.mclass==="mopen"||r.mclass==="mclose"?t.setAttribute("fence","true"):t.setAttribute("fence","false"),t.setAttribute("stretchy","true");var n=Qe(ms.sizeToMaxHeight[r.size]);return t.setAttribute("minsize",n),t.setAttribute("maxsize",n),t}});function r$(r){if(!r.body)throw new Error("Bug: The leftright ParseNode wasn't fully parsed.")}ot({type:"leftright-right",names:["\\right"],props:{numArgs:1,primitive:!0},handler:(r,e)=>{var t=r.parser.gullet.macros.get("\\current@color");if(t&&typeof t!="string")throw new We("\\current@color set to non-string in \\right");return{type:"leftright-right",mode:r.parser.mode,delim:c1(e[0],r).text,color:t}}});ot({type:"leftright",names:["\\left"],props:{numArgs:1,primitive:!0},handler:(r,e)=>{var t=c1(e[0],r),n=r.parser;++n.leftrightDepth;var i=n.parseExpression(!1);--n.leftrightDepth,n.expect("\\right",!1);var a=Wt(n.parseFunction(),"leftright-right");return{type:"leftright",mode:n.mode,body:i,left:t.text,right:a.delim,rightColor:a.color}},htmlBuilder:(r,e)=>{r$(r);for(var t=Nn(r.body,e,!0,["mopen","mclose"]),n=0,i=0,a=!1,o=0;o<t.length;o++)t[o].isMiddle?a=!0:(n=Math.max(t[o].height,n),i=Math.max(t[o].depth,i));n*=e.sizeMultiplier,i*=e.sizeMultiplier;var s;if(r.left==="."?s=Rm(e,["mopen"]):s=ms.leftRightDelim(r.left,n,i,e,r.mode,["mopen"]),t.unshift(s),a)for(var l=1;l<t.length;l++){var u=t[l],c=u.isMiddle;c&&(t[l]=ms.leftRightDelim(c.delim,n,i,c.options,r.mode,[]))}var d;if(r.right===".")d=Rm(e,["mclose"]);else{var f=r.rightColor?e.withColor(r.rightColor):e;d=ms.leftRightDelim(r.right,n,i,f,r.mode,["mclose"])}return t.push(d),xe.makeSpan(["minner"],t,e)},mathmlBuilder:(r,e)=>{r$(r);var t=zi(r.body,e);if(r.left!=="."){var n=new je.MathNode("mo",[Ma(r.left,r.mode)]);n.setAttribute("fence","true"),t.unshift(n)}if(r.right!=="."){var i=new je.MathNode("mo",[Ma(r.right,r.mode)]);i.setAttribute("fence","true"),r.rightColor&&i.setAttribute("mathcolor",r.rightColor),t.push(i)}return t6(t)}});ot({type:"middle",names:["\\middle"],props:{numArgs:1,primitive:!0},handler:(r,e)=>{var t=c1(e[0],r);if(!r.parser.leftrightDepth)throw new We("\\middle without preceding \\left",t);return{type:"middle",mode:r.parser.mode,delim:t.text}},htmlBuilder:(r,e)=>{var t;if(r.delim===".")t=Rm(e,[]);else{t=ms.sizedDelim(r.delim,1,e,r.mode,[]);var n={delim:r.delim,options:e};t.isMiddle=n}return t},mathmlBuilder:(r,e)=>{var t=r.delim==="\\vert"||r.delim==="|"?Ma("|","text"):Ma(r.delim,r.mode),n=new je.MathNode("mo",[t]);return n.setAttribute("fence","true"),n.setAttribute("lspace","0.05em"),n.setAttribute("rspace","0.05em"),n}});var o6=(r,e)=>{var t=xe.wrapFragment(dr(r.body,e),e),n=r.label.slice(1),i=e.sizeMultiplier,a,o=0,s=St.isCharacterBox(r.body);if(n==="sout")a=xe.makeSpan(["stretchy","sout"]),a.height=e.fontMetrics().defaultRuleThickness/i,o=-.5*e.fontMetrics().xHeight;else if(n==="phase"){var l=nn({number:.6,unit:"pt"},e),u=nn({number:.35,unit:"ex"},e),c=e.havingBaseSizing();i=i/c.sizeMultiplier;var d=t.height+t.depth+l+u;t.style.paddingLeft=Qe(d/2+l);var f=Math.floor(1e3*d*i),m=Mhe(f),p=new Za([new Mo("phase",m)],{width:"400em",height:Qe(f/1e3),viewBox:"0 0 400000 "+f,preserveAspectRatio:"xMinYMin slice"});a=xe.makeSvgSpan(["hide-tail"],[p],e),a.style.height=Qe(d),o=t.depth+l+u}else{/cancel/.test(n)?s||t.classes.push("cancel-pad"):n==="angl"?t.classes.push("anglpad"):t.classes.push("boxpad");var h=0,v=0,y=0;/box/.test(n)?(y=Math.max(e.fontMetrics().fboxrule,e.minRuleThickness),h=e.fontMetrics().fboxsep+(n==="colorbox"?0:y),v=h):n==="angl"?(y=Math.max(e.fontMetrics().defaultRuleThickness,e.minRuleThickness),h=4*y,v=Math.max(0,.25-t.depth)):(h=s?.2:0,v=h),a=ps.encloseSpan(t,n,h,v,e),/fbox|boxed|fcolorbox/.test(n)?(a.style.borderStyle="solid",a.style.borderWidth=Qe(y)):n==="angl"&&y!==.049&&(a.style.borderTopWidth=Qe(y),a.style.borderRightWidth=Qe(y)),o=t.depth+v,r.backgroundColor&&(a.style.backgroundColor=r.backgroundColor,r.borderColor&&(a.style.borderColor=r.borderColor))}var S;if(r.backgroundColor)S=xe.makeVList({positionType:"individualShift",children:[{type:"elem",elem:a,shift:o},{type:"elem",elem:t,shift:0}]},e);else{var x=/cancel|phase/.test(n)?["svg-align"]:[];S=xe.makeVList({positionType:"individualShift",children:[{type:"elem",elem:t,shift:0},{type:"elem",elem:a,shift:o,wrapperClasses:x}]},e)}return/cancel/.test(n)&&(S.height=t.height,S.depth=t.depth),/cancel/.test(n)&&!s?xe.makeSpan(["mord","cancel-lap"],[S],e):xe.makeSpan(["mord"],[S],e)},s6=(r,e)=>{var t=0,n=new je.MathNode(r.label.indexOf("colorbox")>-1?"mpadded":"menclose",[Nr(r.body,e)]);switch(r.label){case"\\cancel":n.setAttribute("notation","updiagonalstrike");break;case"\\bcancel":n.setAttribute("notation","downdiagonalstrike");break;case"\\phase":n.setAttribute("notation","phasorangle");break;case"\\sout":n.setAttribute("notation","horizontalstrike");break;case"\\fbox":n.setAttribute("notation","box");break;case"\\angl":n.setAttribute("notation","actuarial");break;case"\\fcolorbox":case"\\colorbox":if(t=e.fontMetrics().fboxsep*e.fontMetrics().ptPerEm,n.setAttribute("width","+"+2*t+"pt"),n.setAttribute("height","+"+2*t+"pt"),n.setAttribute("lspace",t+"pt"),n.setAttribute("voffset",t+"pt"),r.label==="\\fcolorbox"){var i=Math.max(e.fontMetrics().fboxrule,e.minRuleThickness);n.setAttribute("style","border: "+i+"em solid "+String(r.borderColor))}break;case"\\xcancel":n.setAttribute("notation","updiagonalstrike downdiagonalstrike");break}return r.backgroundColor&&n.setAttribute("mathbackground",r.backgroundColor),n};ot({type:"enclose",names:["\\colorbox"],props:{numArgs:2,allowedInText:!0,argTypes:["color","text"]},handler(r,e,t){var{parser:n,funcName:i}=r,a=Wt(e[0],"color-token").color,o=e[1];return{type:"enclose",mode:n.mode,label:i,backgroundColor:a,body:o}},htmlBuilder:o6,mathmlBuilder:s6});ot({type:"enclose",names:["\\fcolorbox"],props:{numArgs:3,allowedInText:!0,argTypes:["color","color","text"]},handler(r,e,t){var{parser:n,funcName:i}=r,a=Wt(e[0],"color-token").color,o=Wt(e[1],"color-token").color,s=e[2];return{type:"enclose",mode:n.mode,label:i,backgroundColor:o,borderColor:a,body:s}},htmlBuilder:o6,mathmlBuilder:s6});ot({type:"enclose",names:["\\fbox"],props:{numArgs:1,argTypes:["hbox"],allowedInText:!0},handler(r,e){var{parser:t}=r;return{type:"enclose",mode:t.mode,label:"\\fbox",body:e[0]}}});ot({type:"enclose",names:["\\cancel","\\bcancel","\\xcancel","\\sout","\\phase"],props:{numArgs:1},handler(r,e){var{parser:t,funcName:n}=r,i=e[0];return{type:"enclose",mode:t.mode,label:n,body:i}},htmlBuilder:o6,mathmlBuilder:s6});ot({type:"enclose",names:["\\angl"],props:{numArgs:1,argTypes:["hbox"],allowedInText:!1},handler(r,e){var{parser:t}=r;return{type:"enclose",mode:t.mode,label:"\\angl",body:e[0]}}});var K$={};function No(r){for(var{type:e,names:t,props:n,handler:i,htmlBuilder:a,mathmlBuilder:o}=r,s={type:e,numArgs:n.numArgs||0,allowedInText:!1,numOptionalArgs:0,handler:i},l=0;l<t.length;++l)K$[t[l]]=s;a&&(r1[e]=a),o&&(n1[e]=o)}var J$={};function q(r,e){J$[r]=e}function n$(r){var e=[];r.consumeSpaces();var t=r.fetch().text;for(t==="\\relax"&&(r.consume(),r.consumeSpaces(),t=r.fetch().text);t==="\\hline"||t==="\\hdashline";)r.consume(),e.push(t==="\\hdashline"),r.consumeSpaces(),t=r.fetch().text;return e}var d1=r=>{var e=r.parser.settings;if(!e.displayMode)throw new We("{"+r.envName+"} can be used only in display mode.")};function l6(r){if(r.indexOf("ed")===-1)return r.indexOf("*")===-1}function Sl(r,e,t){var{hskipBeforeAndAfter:n,addJot:i,cols:a,arraystretch:o,colSeparationType:s,autoTag:l,singleRow:u,emptySingleRow:c,maxNumCols:d,leqno:f}=e;if(r.gullet.beginGroup(),u||r.gullet.macros.set("\\cr","\\\\\\relax"),!o){var m=r.gullet.expandMacroAsText("\\arraystretch");if(m==null)o=1;else if(o=parseFloat(m),!o||o<0)throw new We("Invalid \\arraystretch: "+m)}r.gullet.beginGroup();var p=[],h=[p],v=[],y=[],S=l!=null?[]:void 0;function x(){l&&r.gullet.macros.set("\\@eqnsw","1",!0)}function _(){S&&(r.gullet.macros.get("\\df@tag")?(S.push(r.subparse([new Aa("\\df@tag")])),r.gullet.macros.set("\\df@tag",void 0,!0)):S.push(!!l&&r.gullet.macros.get("\\@eqnsw")==="1"))}for(x(),y.push(n$(r));;){var w=r.parseExpression(!1,u?"\\end":"\\\\");r.gullet.endGroup(),r.gullet.beginGroup(),w={type:"ordgroup",mode:r.mode,body:w},t&&(w={type:"styling",mode:r.mode,style:t,body:[w]}),p.push(w);var b=r.fetch().text;if(b==="&"){if(d&&p.length===d){if(u||s)throw new We("Too many tab characters: &",r.nextToken);r.settings.reportNonstrict("textEnv","Too few columns specified in the {array} column argument.")}r.consume()}else if(b==="\\end"){_(),p.length===1&&w.type==="styling"&&w.body[0].body.length===0&&(h.length>1||!c)&&h.pop(),y.length<h.length+1&&y.push([]);break}else if(b==="\\\\"){r.consume();var C=void 0;r.gullet.future().text!==" "&&(C=r.parseSizeGroup(!0)),v.push(C?C.value:null),_(),y.push(n$(r)),p=[],h.push(p),x()}else throw new We("Expected & or \\\\ or \\cr or \\end",r.nextToken)}return r.gullet.endGroup(),r.gullet.endGroup(),{type:"array",mode:r.mode,addJot:i,arraystretch:o,body:h,cols:a,rowGaps:v,hskipBeforeAndAfter:n,hLinesBeforeRow:y,colSeparationType:s,tags:S,leqno:f}}function u6(r){return r.slice(0,1)==="d"?"display":"text"}var To=function(e,t){var n,i,a=e.body.length,o=e.hLinesBeforeRow,s=0,l=new Array(a),u=[],c=Math.max(t.fontMetrics().arrayRuleWidth,t.minRuleThickness),d=1/t.fontMetrics().ptPerEm,f=5*d;if(e.colSeparationType&&e.colSeparationType==="small"){var m=t.havingStyle(Et.SCRIPT).sizeMultiplier;f=.2778*(m/t.sizeMultiplier)}var p=e.colSeparationType==="CD"?nn({number:3,unit:"ex"},t):12*d,h=3*d,v=e.arraystretch*p,y=.7*v,S=.3*v,x=0;function _(pe){for(var Ce=0;Ce<pe.length;++Ce)Ce>0&&(x+=.25),u.push({pos:x,isDashed:pe[Ce]})}for(_(o[0]),n=0;n<e.body.length;++n){var w=e.body[n],b=y,C=S;s<w.length&&(s=w.length);var E=new Array(w.length);for(i=0;i<w.length;++i){var D=dr(w[i],t);C<D.depth&&(C=D.depth),b<D.height&&(b=D.height),E[i]=D}var M=e.rowGaps[n],T=0;M&&(T=nn(M,t),T>0&&(T+=S,C<T&&(C=T),T=0)),e.addJot&&(C+=h),E.height=b,E.depth=C,x+=b,E.pos=x,x+=C+T,l[n]=E,_(o[n+1])}var I=x/2+t.fontMetrics().axisHeight,B=e.cols||[],V=[],L,k,O=[];if(e.tags&&e.tags.some(pe=>pe))for(n=0;n<a;++n){var Y=l[n],P=Y.pos-I,ae=e.tags[n],se=void 0;ae===!0?se=xe.makeSpan(["eqn-num"],[],t):ae===!1?se=xe.makeSpan([],[],t):se=xe.makeSpan([],Nn(ae,t,!0),t),se.depth=Y.depth,se.height=Y.height,O.push({type:"elem",elem:se,shift:P})}for(i=0,k=0;i<s||k<B.length;++i,++k){for(var te=B[k]||{},W=!0;te.type==="separator";){if(W||(L=xe.makeSpan(["arraycolsep"],[]),L.style.width=Qe(t.fontMetrics().doubleRuleSep),V.push(L)),te.separator==="|"||te.separator===":"){var ue=te.separator==="|"?"solid":"dashed",we=xe.makeSpan(["vertical-separator"],[],t);we.style.height=Qe(x),we.style.borderRightWidth=Qe(c),we.style.borderRightStyle=ue,we.style.margin="0 "+Qe(-c/2);var le=x-I;le&&(we.style.verticalAlign=Qe(-le)),V.push(we)}else throw new We("Invalid separator type: "+te.separator);k++,te=B[k]||{},W=!1}if(!(i>=s)){var ge=void 0;(i>0||e.hskipBeforeAndAfter)&&(ge=St.deflt(te.pregap,f),ge!==0&&(L=xe.makeSpan(["arraycolsep"],[]),L.style.width=Qe(ge),V.push(L)));var J=[];for(n=0;n<a;++n){var X=l[n],ne=X[i];if(ne){var he=X.pos-I;ne.depth=X.depth,ne.height=X.height,J.push({type:"elem",elem:ne,shift:he})}}J=xe.makeVList({positionType:"individualShift",children:J},t),J=xe.makeSpan(["col-align-"+(te.align||"c")],[J]),V.push(J),(i<s-1||e.hskipBeforeAndAfter)&&(ge=St.deflt(te.postgap,f),ge!==0&&(L=xe.makeSpan(["arraycolsep"],[]),L.style.width=Qe(ge),V.push(L)))}}if(l=xe.makeSpan(["mtable"],V),u.length>0){for(var de=xe.makeLineSpan("hline",t,c),_e=xe.makeLineSpan("hdashline",t,c),be=[{type:"elem",elem:l,shift:0}];u.length>0;){var H=u.pop(),K=H.pos-I;H.isDashed?be.push({type:"elem",elem:_e,shift:K}):be.push({type:"elem",elem:de,shift:K})}l=xe.makeVList({positionType:"individualShift",children:be},t)}if(O.length===0)return xe.makeSpan(["mord"],[l],t);var fe=xe.makeVList({positionType:"individualShift",children:O},t);return fe=xe.makeSpan(["tag"],[fe],t),xe.makeFragment([l,fe])},Ppe={c:"center ",l:"left ",r:"right "},Fo=function(e,t){for(var n=[],i=new je.MathNode("mtd",[],["mtr-glue"]),a=new je.MathNode("mtd",[],["mml-eqn-num"]),o=0;o<e.body.length;o++){for(var s=e.body[o],l=[],u=0;u<s.length;u++)l.push(new je.MathNode("mtd",[Nr(s[u],t)]));e.tags&&e.tags[o]&&(l.unshift(i),l.push(i),e.leqno?l.unshift(a):l.push(a)),n.push(new je.MathNode("mtr",l))}var c=new je.MathNode("mtable",n),d=e.arraystretch===.5?.1:.16+e.arraystretch-1+(e.addJot?.09:0);c.setAttribute("rowspacing",Qe(d));var f="",m="";if(e.cols&&e.cols.length>0){var p=e.cols,h="",v=!1,y=0,S=p.length;p[0].type==="separator"&&(f+="top ",y=1),p[p.length-1].type==="separator"&&(f+="bottom ",S-=1);for(var x=y;x<S;x++)p[x].type==="align"?(m+=Ppe[p[x].align],v&&(h+="none "),v=!0):p[x].type==="separator"&&v&&(h+=p[x].separator==="|"?"solid ":"dashed ",v=!1);c.setAttribute("columnalign",m.trim()),/[sd]/.test(h)&&c.setAttribute("columnlines",h.trim())}if(e.colSeparationType==="align"){for(var _=e.cols||[],w="",b=1;b<_.length;b++)w+=b%2?"0em ":"1em ";c.setAttribute("columnspacing",w.trim())}else e.colSeparationType==="alignat"||e.colSeparationType==="gather"?c.setAttribute("columnspacing","0em"):e.colSeparationType==="small"?c.setAttribute("columnspacing","0.2778em"):e.colSeparationType==="CD"?c.setAttribute("columnspacing","0.5em"):c.setAttribute("columnspacing","1em");var C="",E=e.hLinesBeforeRow;f+=E[0].length>0?"left ":"",f+=E[E.length-1].length>0?"right ":"";for(var D=1;D<E.length-1;D++)C+=E[D].length===0?"none ":E[D][0]?"dashed ":"solid ";return/[sd]/.test(C)&&c.setAttribute("rowlines",C.trim()),f!==""&&(c=new je.MathNode("menclose",[c]),c.setAttribute("notation",f.trim())),e.arraystretch&&e.arraystretch<1&&(c=new je.MathNode("mstyle",[c]),c.setAttribute("scriptlevel","1")),c},Q$=function(e,t){e.envName.indexOf("ed")===-1&&d1(e);var n=[],i=e.envName.indexOf("at")>-1?"alignat":"align",a=e.envName==="split",o=Sl(e.parser,{cols:n,addJot:!0,autoTag:a?void 0:l6(e.envName),emptySingleRow:!0,colSeparationType:i,maxNumCols:a?2:void 0,leqno:e.parser.settings.leqno},"display"),s,l=0,u={type:"ordgroup",mode:e.mode,body:[]};if(t[0]&&t[0].type==="ordgroup"){for(var c="",d=0;d<t[0].body.length;d++){var f=Wt(t[0].body[d],"textord");c+=f.text}s=Number(c),l=s*2}var m=!l;o.body.forEach(function(y){for(var S=1;S<y.length;S+=2){var x=Wt(y[S],"styling"),_=Wt(x.body[0],"ordgroup");_.body.unshift(u)}if(m)l<y.length&&(l=y.length);else{var w=y.length/2;if(s<w)throw new We("Too many math in a row: "+("expected "+s+", but got "+w),y[0])}});for(var p=0;p<l;++p){var h="r",v=0;p%2===1?h="l":p>0&&m&&(v=1),n[p]={type:"align",align:h,pregap:v,postgap:0}}return o.colSeparationType=m?"align":"alignat",o};No({type:"array",names:["array","darray"],props:{numArgs:1},handler(r,e){var t=l1(e[0]),n=t?[e[0]]:Wt(e[0],"ordgroup").body,i=n.map(function(o){var s=n6(o),l=s.text;if("lcr".indexOf(l)!==-1)return{type:"align",align:l};if(l==="|")return{type:"separator",separator:"|"};if(l===":")return{type:"separator",separator:":"};throw new We("Unknown column alignment: "+l,o)}),a={cols:i,hskipBeforeAndAfter:!0,maxNumCols:i.length};return Sl(r.parser,a,u6(r.envName))},htmlBuilder:To,mathmlBuilder:Fo});No({type:"array",names:["matrix","pmatrix","bmatrix","Bmatrix","vmatrix","Vmatrix","matrix*","pmatrix*","bmatrix*","Bmatrix*","vmatrix*","Vmatrix*"],props:{numArgs:0},handler(r){var e={matrix:null,pmatrix:["(",")"],bmatrix:["[","]"],Bmatrix:["\\{","\\}"],vmatrix:["|","|"],Vmatrix:["\\Vert","\\Vert"]}[r.envName.replace("*","")],t="c",n={hskipBeforeAndAfter:!1,cols:[{type:"align",align:t}]};if(r.envName.charAt(r.envName.length-1)==="*"){var i=r.parser;if(i.consumeSpaces(),i.fetch().text==="["){if(i.consume(),i.consumeSpaces(),t=i.fetch().text,"lcr".indexOf(t)===-1)throw new We("Expected l or c or r",i.nextToken);i.consume(),i.consumeSpaces(),i.expect("]"),i.consume(),n.cols=[{type:"align",align:t}]}}var a=Sl(r.parser,n,u6(r.envName)),o=Math.max(0,...a.body.map(s=>s.length));return a.cols=new Array(o).fill({type:"align",align:t}),e?{type:"leftright",mode:r.mode,body:[a],left:e[0],right:e[1],rightColor:void 0}:a},htmlBuilder:To,mathmlBuilder:Fo});No({type:"array",names:["smallmatrix"],props:{numArgs:0},handler(r){var e={arraystretch:.5},t=Sl(r.parser,e,"script");return t.colSeparationType="small",t},htmlBuilder:To,mathmlBuilder:Fo});No({type:"array",names:["subarray"],props:{numArgs:1},handler(r,e){var t=l1(e[0]),n=t?[e[0]]:Wt(e[0],"ordgroup").body,i=n.map(function(o){var s=n6(o),l=s.text;if("lc".indexOf(l)!==-1)return{type:"align",align:l};throw new We("Unknown column alignment: "+l,o)});if(i.length>1)throw new We("{subarray} can contain only one column");var a={cols:i,hskipBeforeAndAfter:!1,arraystretch:.5};if(a=Sl(r.parser,a,"script"),a.body.length>0&&a.body[0].length>1)throw new We("{subarray} can contain only one column");return a},htmlBuilder:To,mathmlBuilder:Fo});No({type:"array",names:["cases","dcases","rcases","drcases"],props:{numArgs:0},handler(r){var e={arraystretch:1.2,cols:[{type:"align",align:"l",pregap:0,postgap:1},{type:"align",align:"l",pregap:0,postgap:0}]},t=Sl(r.parser,e,u6(r.envName));return{type:"leftright",mode:r.mode,body:[t],left:r.envName.indexOf("r")>-1?".":"\\{",right:r.envName.indexOf("r")>-1?"\\}":".",rightColor:void 0}},htmlBuilder:To,mathmlBuilder:Fo});No({type:"array",names:["align","align*","aligned","split"],props:{numArgs:0},handler:Q$,htmlBuilder:To,mathmlBuilder:Fo});No({type:"array",names:["gathered","gather","gather*"],props:{numArgs:0},handler(r){St.contains(["gather","gather*"],r.envName)&&d1(r);var e={cols:[{type:"align",align:"c"}],addJot:!0,colSeparationType:"gather",autoTag:l6(r.envName),emptySingleRow:!0,leqno:r.parser.settings.leqno};return Sl(r.parser,e,"display")},htmlBuilder:To,mathmlBuilder:Fo});No({type:"array",names:["alignat","alignat*","alignedat"],props:{numArgs:1},handler:Q$,htmlBuilder:To,mathmlBuilder:Fo});No({type:"array",names:["equation","equation*"],props:{numArgs:0},handler(r){d1(r);var e={autoTag:l6(r.envName),emptySingleRow:!0,singleRow:!0,maxNumCols:1,leqno:r.parser.settings.leqno};return Sl(r.parser,e,"display")},htmlBuilder:To,mathmlBuilder:Fo});No({type:"array",names:["CD"],props:{numArgs:0},handler(r){return d1(r),_pe(r.parser)},htmlBuilder:To,mathmlBuilder:Fo});q("\\nonumber","\\gdef\\@eqnsw{0}");q("\\notag","\\nonumber");ot({type:"text",names:["\\hline","\\hdashline"],props:{numArgs:0,allowedInText:!0,allowedInMath:!0},handler(r,e){throw new We(r.funcName+" valid only within array environment")}});var i$=K$;ot({type:"environment",names:["\\begin","\\end"],props:{numArgs:1,argTypes:["text"]},handler(r,e){var{parser:t,funcName:n}=r,i=e[0];if(i.type!=="ordgroup")throw new We("Invalid environment name",i);for(var a="",o=0;o<i.body.length;++o)a+=Wt(i.body[o],"textord").text;if(n==="\\begin"){if(!i$.hasOwnProperty(a))throw new We("No such environment: "+a,i);var s=i$[a],{args:l,optArgs:u}=t.parseArguments("\\begin{"+a+"}",s),c={mode:t.mode,envName:a,parser:t},d=s.handler(c,l,u);t.expect("\\end",!1);var f=t.nextToken,m=Wt(t.parseFunction(),"environment");if(m.name!==a)throw new We("Mismatch: \\begin{"+a+"} matched by \\end{"+m.name+"}",f);return d}return{type:"environment",mode:t.mode,name:a,nameGroup:i}}});var eH=(r,e)=>{var t=r.font,n=e.withFont(t);return dr(r.body,n)},tH=(r,e)=>{var t=r.font,n=e.withFont(t);return Nr(r.body,n)},a$={"\\Bbb":"\\mathbb","\\bold":"\\mathbf","\\frak":"\\mathfrak","\\bm":"\\boldsymbol"};ot({type:"font",names:["\\mathrm","\\mathit","\\mathbf","\\mathnormal","\\mathsfit","\\mathbb","\\mathcal","\\mathfrak","\\mathscr","\\mathsf","\\mathtt","\\Bbb","\\bold","\\frak"],props:{numArgs:1,allowedInArgument:!0},handler:(r,e)=>{var{parser:t,funcName:n}=r,i=i1(e[0]),a=n;return a in a$&&(a=a$[a]),{type:"font",mode:t.mode,font:a.slice(1),body:i}},htmlBuilder:eH,mathmlBuilder:tH});ot({type:"mclass",names:["\\boldsymbol","\\bm"],props:{numArgs:1},handler:(r,e)=>{var{parser:t}=r,n=e[0],i=St.isCharacterBox(n);return{type:"mclass",mode:t.mode,mclass:u1(n),body:[{type:"font",mode:t.mode,font:"boldsymbol",body:n}],isCharacterBox:i}}});ot({type:"font",names:["\\rm","\\sf","\\tt","\\bf","\\it","\\cal"],props:{numArgs:0,allowedInText:!0},handler:(r,e)=>{var{parser:t,funcName:n,breakOnTokenText:i}=r,{mode:a}=t,o=t.parseExpression(!0,i),s="math"+n.slice(1);return{type:"font",mode:a,font:s,body:{type:"ordgroup",mode:t.mode,body:o}}},htmlBuilder:eH,mathmlBuilder:tH});var rH=(r,e)=>{var t=e;return r==="display"?t=t.id>=Et.SCRIPT.id?t.text():Et.DISPLAY:r==="text"&&t.size===Et.DISPLAY.size?t=Et.TEXT:r==="script"?t=Et.SCRIPT:r==="scriptscript"&&(t=Et.SCRIPTSCRIPT),t},c6=(r,e)=>{var t=rH(r.size,e.style),n=t.fracNum(),i=t.fracDen(),a;a=e.havingStyle(n);var o=dr(r.numer,a,e);if(r.continued){var s=8.5/e.fontMetrics().ptPerEm,l=3.5/e.fontMetrics().ptPerEm;o.height=o.height<s?s:o.height,o.depth=o.depth<l?l:o.depth}a=e.havingStyle(i);var u=dr(r.denom,a,e),c,d,f;r.hasBarLine?(r.barSize?(d=nn(r.barSize,e),c=xe.makeLineSpan("frac-line",e,d)):c=xe.makeLineSpan("frac-line",e),d=c.height,f=c.height):(c=null,d=0,f=e.fontMetrics().defaultRuleThickness);var m,p,h;t.size===Et.DISPLAY.size||r.size==="display"?(m=e.fontMetrics().num1,d>0?p=3*f:p=7*f,h=e.fontMetrics().denom1):(d>0?(m=e.fontMetrics().num2,p=f):(m=e.fontMetrics().num3,p=3*f),h=e.fontMetrics().denom2);var v;if(c){var S=e.fontMetrics().axisHeight;m-o.depth-(S+.5*d)<p&&(m+=p-(m-o.depth-(S+.5*d))),S-.5*d-(u.height-h)<p&&(h+=p-(S-.5*d-(u.height-h)));var x=-(S-.5*d);v=xe.makeVList({positionType:"individualShift",children:[{type:"elem",elem:u,shift:h},{type:"elem",elem:c,shift:x},{type:"elem",elem:o,shift:-m}]},e)}else{var y=m-o.depth-(u.height-h);y<p&&(m+=.5*(p-y),h+=.5*(p-y)),v=xe.makeVList({positionType:"individualShift",children:[{type:"elem",elem:u,shift:h},{type:"elem",elem:o,shift:-m}]},e)}a=e.havingStyle(t),v.height*=a.sizeMultiplier/e.sizeMultiplier,v.depth*=a.sizeMultiplier/e.sizeMultiplier;var _;t.size===Et.DISPLAY.size?_=e.fontMetrics().delim1:t.size===Et.SCRIPTSCRIPT.size?_=e.havingStyle(Et.SCRIPT).fontMetrics().delim2:_=e.fontMetrics().delim2;var w,b;return r.leftDelim==null?w=Rm(e,["mopen"]):w=ms.customSizedDelim(r.leftDelim,_,!0,e.havingStyle(t),r.mode,["mopen"]),r.continued?b=xe.makeSpan([]):r.rightDelim==null?b=Rm(e,["mclose"]):b=ms.customSizedDelim(r.rightDelim,_,!0,e.havingStyle(t),r.mode,["mclose"]),xe.makeSpan(["mord"].concat(a.sizingClasses(e)),[w,xe.makeSpan(["mfrac"],[v]),b],e)},d6=(r,e)=>{var t=new je.MathNode("mfrac",[Nr(r.numer,e),Nr(r.denom,e)]);if(!r.hasBarLine)t.setAttribute("linethickness","0px");else if(r.barSize){var n=nn(r.barSize,e);t.setAttribute("linethickness",Qe(n))}var i=rH(r.size,e.style);if(i.size!==e.style.size){t=new je.MathNode("mstyle",[t]);var a=i.size===Et.DISPLAY.size?"true":"false";t.setAttribute("displaystyle",a),t.setAttribute("scriptlevel","0")}if(r.leftDelim!=null||r.rightDelim!=null){var o=[];if(r.leftDelim!=null){var s=new je.MathNode("mo",[new je.TextNode(r.leftDelim.replace("\\",""))]);s.setAttribute("fence","true"),o.push(s)}if(o.push(t),r.rightDelim!=null){var l=new je.MathNode("mo",[new je.TextNode(r.rightDelim.replace("\\",""))]);l.setAttribute("fence","true"),o.push(l)}return t6(o)}return t};ot({type:"genfrac",names:["\\dfrac","\\frac","\\tfrac","\\dbinom","\\binom","\\tbinom","\\\\atopfrac","\\\\bracefrac","\\\\brackfrac"],props:{numArgs:2,allowedInArgument:!0},handler:(r,e)=>{var{parser:t,funcName:n}=r,i=e[0],a=e[1],o,s=null,l=null,u="auto";switch(n){case"\\dfrac":case"\\frac":case"\\tfrac":o=!0;break;case"\\\\atopfrac":o=!1;break;case"\\dbinom":case"\\binom":case"\\tbinom":o=!1,s="(",l=")";break;case"\\\\bracefrac":o=!1,s="\\{",l="\\}";break;case"\\\\brackfrac":o=!1,s="[",l="]";break;default:throw new Error("Unrecognized genfrac command")}switch(n){case"\\dfrac":case"\\dbinom":u="display";break;case"\\tfrac":case"\\tbinom":u="text";break}return{type:"genfrac",mode:t.mode,continued:!1,numer:i,denom:a,hasBarLine:o,leftDelim:s,rightDelim:l,size:u,barSize:null}},htmlBuilder:c6,mathmlBuilder:d6});ot({type:"genfrac",names:["\\cfrac"],props:{numArgs:2},handler:(r,e)=>{var{parser:t,funcName:n}=r,i=e[0],a=e[1];return{type:"genfrac",mode:t.mode,continued:!0,numer:i,denom:a,hasBarLine:!0,leftDelim:null,rightDelim:null,size:"display",barSize:null}}});ot({type:"infix",names:["\\over","\\choose","\\atop","\\brace","\\brack"],props:{numArgs:0,infix:!0},handler(r){var{parser:e,funcName:t,token:n}=r,i;switch(t){case"\\over":i="\\frac";break;case"\\choose":i="\\binom";break;case"\\atop":i="\\\\atopfrac";break;case"\\brace":i="\\\\bracefrac";break;case"\\brack":i="\\\\brackfrac";break;default:throw new Error("Unrecognized infix genfrac command")}return{type:"infix",mode:e.mode,replaceWith:i,token:n}}});var o$=["display","text","script","scriptscript"],s$=function(e){var t=null;return e.length>0&&(t=e,t=t==="."?null:t),t};ot({type:"genfrac",names:["\\genfrac"],props:{numArgs:6,allowedInArgument:!0,argTypes:["math","math","size","text","math","math"]},handler(r,e){var{parser:t}=r,n=e[4],i=e[5],a=i1(e[0]),o=a.type==="atom"&&a.family==="open"?s$(a.text):null,s=i1(e[1]),l=s.type==="atom"&&s.family==="close"?s$(s.text):null,u=Wt(e[2],"size"),c,d=null;u.isBlank?c=!0:(d=u.value,c=d.number>0);var f="auto",m=e[3];if(m.type==="ordgroup"){if(m.body.length>0){var p=Wt(m.body[0],"textord");f=o$[Number(p.text)]}}else m=Wt(m,"textord"),f=o$[Number(m.text)];return{type:"genfrac",mode:t.mode,numer:n,denom:i,continued:!1,hasBarLine:c,barSize:d,leftDelim:o,rightDelim:l,size:f}},htmlBuilder:c6,mathmlBuilder:d6});ot({type:"infix",names:["\\above"],props:{numArgs:1,argTypes:["size"],infix:!0},handler(r,e){var{parser:t,funcName:n,token:i}=r;return{type:"infix",mode:t.mode,replaceWith:"\\\\abovefrac",size:Wt(e[0],"size").value,token:i}}});ot({type:"genfrac",names:["\\\\abovefrac"],props:{numArgs:3,argTypes:["math","size","math"]},handler:(r,e)=>{var{parser:t,funcName:n}=r,i=e[0],a=mhe(Wt(e[1],"infix").size),o=e[2],s=a.number>0;return{type:"genfrac",mode:t.mode,numer:i,denom:o,continued:!1,hasBarLine:s,barSize:a,leftDelim:null,rightDelim:null,size:"auto"}},htmlBuilder:c6,mathmlBuilder:d6});var nH=(r,e)=>{var t=e.style,n,i;r.type==="supsub"?(n=r.sup?dr(r.sup,e.havingStyle(t.sup()),e):dr(r.sub,e.havingStyle(t.sub()),e),i=Wt(r.base,"horizBrace")):i=Wt(r,"horizBrace");var a=dr(i.base,e.havingBaseStyle(Et.DISPLAY)),o=ps.svgSpan(i,e),s;if(i.isOver?(s=xe.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:a},{type:"kern",size:.1},{type:"elem",elem:o}]},e),s.children[0].children[0].children[1].classes.push("svg-align")):(s=xe.makeVList({positionType:"bottom",positionData:a.depth+.1+o.height,children:[{type:"elem",elem:o},{type:"kern",size:.1},{type:"elem",elem:a}]},e),s.children[0].children[0].children[0].classes.push("svg-align")),n){var l=xe.makeSpan(["mord",i.isOver?"mover":"munder"],[s],e);i.isOver?s=xe.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:l},{type:"kern",size:.2},{type:"elem",elem:n}]},e):s=xe.makeVList({positionType:"bottom",positionData:l.depth+.2+n.height+n.depth,children:[{type:"elem",elem:n},{type:"kern",size:.2},{type:"elem",elem:l}]},e)}return xe.makeSpan(["mord",i.isOver?"mover":"munder"],[s],e)},Bpe=(r,e)=>{var t=ps.mathMLnode(r.label);return new je.MathNode(r.isOver?"mover":"munder",[Nr(r.base,e),t])};ot({type:"horizBrace",names:["\\overbrace","\\underbrace"],props:{numArgs:1},handler(r,e){var{parser:t,funcName:n}=r;return{type:"horizBrace",mode:t.mode,label:n,isOver:/^\\over/.test(n),base:e[0]}},htmlBuilder:nH,mathmlBuilder:Bpe});ot({type:"href",names:["\\href"],props:{numArgs:2,argTypes:["url","original"],allowedInText:!0},handler:(r,e)=>{var{parser:t}=r,n=e[1],i=Wt(e[0],"url").url;return t.settings.isTrusted({command:"\\href",url:i})?{type:"href",mode:t.mode,href:i,body:fn(n)}:t.formatUnsupportedCmd("\\href")},htmlBuilder:(r,e)=>{var t=Nn(r.body,e,!1);return xe.makeAnchor(r.href,[],t,e)},mathmlBuilder:(r,e)=>{var t=_l(r.body,e);return t instanceof pi||(t=new pi("mrow",[t])),t.setAttribute("href",r.href),t}});ot({type:"href",names:["\\url"],props:{numArgs:1,argTypes:["url"],allowedInText:!0},handler:(r,e)=>{var{parser:t}=r,n=Wt(e[0],"url").url;if(!t.settings.isTrusted({command:"\\url",url:n}))return t.formatUnsupportedCmd("\\url");for(var i=[],a=0;a<n.length;a++){var o=n[a];o==="~"&&(o="\\textasciitilde"),i.push({type:"textord",mode:"text",text:o})}var s={type:"text",mode:t.mode,font:"\\texttt",body:i};return{type:"href",mode:t.mode,href:n,body:fn(s)}}});ot({type:"hbox",names:["\\hbox"],props:{numArgs:1,argTypes:["text"],allowedInText:!0,primitive:!0},handler(r,e){var{parser:t}=r;return{type:"hbox",mode:t.mode,body:fn(e[0])}},htmlBuilder(r,e){var t=Nn(r.body,e,!1);return xe.makeFragment(t)},mathmlBuilder(r,e){return new je.MathNode("mrow",zi(r.body,e))}});ot({type:"html",names:["\\htmlClass","\\htmlId","\\htmlStyle","\\htmlData"],props:{numArgs:2,argTypes:["raw","original"],allowedInText:!0},handler:(r,e)=>{var{parser:t,funcName:n,token:i}=r,a=Wt(e[0],"raw").string,o=e[1];t.settings.strict&&t.settings.reportNonstrict("htmlExtension","HTML extension is disabled on strict mode");var s,l={};switch(n){case"\\htmlClass":l.class=a,s={command:"\\htmlClass",class:a};break;case"\\htmlId":l.id=a,s={command:"\\htmlId",id:a};break;case"\\htmlStyle":l.style=a,s={command:"\\htmlStyle",style:a};break;case"\\htmlData":{for(var u=a.split(","),c=0;c<u.length;c++){var d=u[c].split("=");if(d.length!==2)throw new We("Error parsing key-value for \\htmlData");l["data-"+d[0].trim()]=d[1].trim()}s={command:"\\htmlData",attributes:l};break}default:throw new Error("Unrecognized html command")}return t.settings.isTrusted(s)?{type:"html",mode:t.mode,attributes:l,body:fn(o)}:t.formatUnsupportedCmd(n)},htmlBuilder:(r,e)=>{var t=Nn(r.body,e,!1),n=["enclosing"];r.attributes.class&&n.push(...r.attributes.class.trim().split(/\s+/));var i=xe.makeSpan(n,t,e);for(var a in r.attributes)a!=="class"&&r.attributes.hasOwnProperty(a)&&i.setAttribute(a,r.attributes[a]);return i},mathmlBuilder:(r,e)=>_l(r.body,e)});ot({type:"htmlmathml",names:["\\html@mathml"],props:{numArgs:2,allowedInText:!0},handler:(r,e)=>{var{parser:t}=r;return{type:"htmlmathml",mode:t.mode,html:fn(e[0]),mathml:fn(e[1])}},htmlBuilder:(r,e)=>{var t=Nn(r.html,e,!1);return xe.makeFragment(t)},mathmlBuilder:(r,e)=>_l(r.mathml,e)});var P5=function(e){if(/^[-+]? *(\d+(\.\d*)?|\.\d+)$/.test(e))return{number:+e,unit:"bp"};var t=/([-+]?) *(\d+(?:\.\d*)?|\.\d+) *([a-z]{2})/.exec(e);if(!t)throw new We("Invalid size: '"+e+"' in \\includegraphics");var n={number:+(t[1]+t[2]),unit:t[3]};if(!_$(n))throw new We("Invalid unit: '"+n.unit+"' in \\includegraphics.");return n};ot({type:"includegraphics",names:["\\includegraphics"],props:{numArgs:1,numOptionalArgs:1,argTypes:["raw","url"],allowedInText:!1},handler:(r,e,t)=>{var{parser:n}=r,i={number:0,unit:"em"},a={number:.9,unit:"em"},o={number:0,unit:"em"},s="";if(t[0])for(var l=Wt(t[0],"raw").string,u=l.split(","),c=0;c<u.length;c++){var d=u[c].split("=");if(d.length===2){var f=d[1].trim();switch(d[0].trim()){case"alt":s=f;break;case"width":i=P5(f);break;case"height":a=P5(f);break;case"totalheight":o=P5(f);break;default:throw new We("Invalid key: '"+d[0]+"' in \\includegraphics.")}}}var m=Wt(e[0],"url").url;return s===""&&(s=m,s=s.replace(/^.*[\\/]/,""),s=s.substring(0,s.lastIndexOf("."))),n.settings.isTrusted({command:"\\includegraphics",url:m})?{type:"includegraphics",mode:n.mode,alt:s,width:i,height:a,totalheight:o,src:m}:n.formatUnsupportedCmd("\\includegraphics")},htmlBuilder:(r,e)=>{var t=nn(r.height,e),n=0;r.totalheight.number>0&&(n=nn(r.totalheight,e)-t);var i=0;r.width.number>0&&(i=nn(r.width,e));var a={height:Qe(t+n)};i>0&&(a.width=Qe(i)),n>0&&(a.verticalAlign=Qe(-n));var o=new q5(r.src,r.alt,a);return o.height=t,o.depth=n,o},mathmlBuilder:(r,e)=>{var t=new je.MathNode("mglyph",[]);t.setAttribute("alt",r.alt);var n=nn(r.height,e),i=0;if(r.totalheight.number>0&&(i=nn(r.totalheight,e)-n,t.setAttribute("valign",Qe(-i))),t.setAttribute("height",Qe(n+i)),r.width.number>0){var a=nn(r.width,e);t.setAttribute("width",Qe(a))}return t.setAttribute("src",r.src),t}});ot({type:"kern",names:["\\kern","\\mkern","\\hskip","\\mskip"],props:{numArgs:1,argTypes:["size"],primitive:!0,allowedInText:!0},handler(r,e){var{parser:t,funcName:n}=r,i=Wt(e[0],"size");if(t.settings.strict){var a=n[1]==="m",o=i.value.unit==="mu";a?(o||t.settings.reportNonstrict("mathVsTextUnits","LaTeX's "+n+" supports only mu units, "+("not "+i.value.unit+" units")),t.mode!=="math"&&t.settings.reportNonstrict("mathVsTextUnits","LaTeX's "+n+" works only in math mode")):o&&t.settings.reportNonstrict("mathVsTextUnits","LaTeX's "+n+" doesn't support mu units")}return{type:"kern",mode:t.mode,dimension:i.value}},htmlBuilder(r,e){return xe.makeGlue(r.dimension,e)},mathmlBuilder(r,e){var t=nn(r.dimension,e);return new je.SpaceNode(t)}});ot({type:"lap",names:["\\mathllap","\\mathrlap","\\mathclap"],props:{numArgs:1,allowedInText:!0},handler:(r,e)=>{var{parser:t,funcName:n}=r,i=e[0];return{type:"lap",mode:t.mode,alignment:n.slice(5),body:i}},htmlBuilder:(r,e)=>{var t;r.alignment==="clap"?(t=xe.makeSpan([],[dr(r.body,e)]),t=xe.makeSpan(["inner"],[t],e)):t=xe.makeSpan(["inner"],[dr(r.body,e)]);var n=xe.makeSpan(["fix"],[]),i=xe.makeSpan([r.alignment],[t,n],e),a=xe.makeSpan(["strut"]);return a.style.height=Qe(i.height+i.depth),i.depth&&(a.style.verticalAlign=Qe(-i.depth)),i.children.unshift(a),i=xe.makeSpan(["thinbox"],[i],e),xe.makeSpan(["mord","vbox"],[i],e)},mathmlBuilder:(r,e)=>{var t=new je.MathNode("mpadded",[Nr(r.body,e)]);if(r.alignment!=="rlap"){var n=r.alignment==="llap"?"-1":"-0.5";t.setAttribute("lspace",n+"width")}return t.setAttribute("width","0px"),t}});ot({type:"styling",names:["\\(","$"],props:{numArgs:0,allowedInText:!0,allowedInMath:!1},handler(r,e){var{funcName:t,parser:n}=r,i=n.mode;n.switchMode("math");var a=t==="\\("?"\\)":"$",o=n.parseExpression(!1,a);return n.expect(a),n.switchMode(i),{type:"styling",mode:n.mode,style:"text",body:o}}});ot({type:"text",names:["\\)","\\]"],props:{numArgs:0,allowedInText:!0,allowedInMath:!1},handler(r,e){throw new We("Mismatched "+r.funcName)}});var l$=(r,e)=>{switch(e.style.size){case Et.DISPLAY.size:return r.display;case Et.TEXT.size:return r.text;case Et.SCRIPT.size:return r.script;case Et.SCRIPTSCRIPT.size:return r.scriptscript;default:return r.text}};ot({type:"mathchoice",names:["\\mathchoice"],props:{numArgs:4,primitive:!0},handler:(r,e)=>{var{parser:t}=r;return{type:"mathchoice",mode:t.mode,display:fn(e[0]),text:fn(e[1]),script:fn(e[2]),scriptscript:fn(e[3])}},htmlBuilder:(r,e)=>{var t=l$(r,e),n=Nn(t,e,!1);return xe.makeFragment(n)},mathmlBuilder:(r,e)=>{var t=l$(r,e);return _l(t,e)}});var iH=(r,e,t,n,i,a,o)=>{r=xe.makeSpan([],[r]);var s=t&&St.isCharacterBox(t),l,u;if(e){var c=dr(e,n.havingStyle(i.sup()),n);u={elem:c,kern:Math.max(n.fontMetrics().bigOpSpacing1,n.fontMetrics().bigOpSpacing3-c.depth)}}if(t){var d=dr(t,n.havingStyle(i.sub()),n);l={elem:d,kern:Math.max(n.fontMetrics().bigOpSpacing2,n.fontMetrics().bigOpSpacing4-d.height)}}var f;if(u&&l){var m=n.fontMetrics().bigOpSpacing5+l.elem.height+l.elem.depth+l.kern+r.depth+o;f=xe.makeVList({positionType:"bottom",positionData:m,children:[{type:"kern",size:n.fontMetrics().bigOpSpacing5},{type:"elem",elem:l.elem,marginLeft:Qe(-a)},{type:"kern",size:l.kern},{type:"elem",elem:r},{type:"kern",size:u.kern},{type:"elem",elem:u.elem,marginLeft:Qe(a)},{type:"kern",size:n.fontMetrics().bigOpSpacing5}]},n)}else if(l){var p=r.height-o;f=xe.makeVList({positionType:"top",positionData:p,children:[{type:"kern",size:n.fontMetrics().bigOpSpacing5},{type:"elem",elem:l.elem,marginLeft:Qe(-a)},{type:"kern",size:l.kern},{type:"elem",elem:r}]},n)}else if(u){var h=r.depth+o;f=xe.makeVList({positionType:"bottom",positionData:h,children:[{type:"elem",elem:r},{type:"kern",size:u.kern},{type:"elem",elem:u.elem,marginLeft:Qe(a)},{type:"kern",size:n.fontMetrics().bigOpSpacing5}]},n)}else return r;var v=[f];if(l&&a!==0&&!s){var y=xe.makeSpan(["mspace"],[],n);y.style.marginRight=Qe(a),v.unshift(y)}return xe.makeSpan(["mop","op-limits"],v,n)},aH=["\\smallint"],Ed=(r,e)=>{var t,n,i=!1,a;r.type==="supsub"?(t=r.sup,n=r.sub,a=Wt(r.base,"op"),i=!0):a=Wt(r,"op");var o=e.style,s=!1;o.size===Et.DISPLAY.size&&a.symbol&&!St.contains(aH,a.name)&&(s=!0);var l;if(a.symbol){var u=s?"Size2-Regular":"Size1-Regular",c="";if((a.name==="\\oiint"||a.name==="\\oiiint")&&(c=a.name.slice(1),a.name=c==="oiint"?"\\iint":"\\iiint"),l=xe.makeSymbol(a.name,u,"math",e,["mop","op-symbol",s?"large-op":"small-op"]),c.length>0){var d=l.italic,f=xe.staticSvg(c+"Size"+(s?"2":"1"),e);l=xe.makeVList({positionType:"individualShift",children:[{type:"elem",elem:l,shift:0},{type:"elem",elem:f,shift:s?.08:0}]},e),a.name="\\"+c,l.classes.unshift("mop"),l.italic=d}}else if(a.body){var m=Nn(a.body,e,!0);m.length===1&&m[0]instanceof Li?(l=m[0],l.classes[0]="mop"):l=xe.makeSpan(["mop"],m,e)}else{for(var p=[],h=1;h<a.name.length;h++)p.push(xe.mathsym(a.name[h],a.mode,e));l=xe.makeSpan(["mop"],p,e)}var v=0,y=0;return(l instanceof Li||a.name==="\\oiint"||a.name==="\\oiiint")&&!a.suppressBaseShift&&(v=(l.height-l.depth)/2-e.fontMetrics().axisHeight,y=l.italic),i?iH(l,t,n,e,o,y,v):(v&&(l.style.position="relative",l.style.top=Qe(v)),l)},km=(r,e)=>{var t;if(r.symbol)t=new pi("mo",[Ma(r.name,r.mode)]),St.contains(aH,r.name)&&t.setAttribute("largeop","false");else if(r.body)t=new pi("mo",zi(r.body,e));else{t=new pi("mi",[new Ea(r.name.slice(1))]);var n=new pi("mo",[Ma("\u2061","text")]);r.parentIsSupSub?t=new pi("mrow",[t,n]):t=O$([t,n])}return t},Lpe={"\u220F":"\\prod","\u2210":"\\coprod","\u2211":"\\sum","\u22C0":"\\bigwedge","\u22C1":"\\bigvee","\u22C2":"\\bigcap","\u22C3":"\\bigcup","\u2A00":"\\bigodot","\u2A01":"\\bigoplus","\u2A02":"\\bigotimes","\u2A04":"\\biguplus","\u2A06":"\\bigsqcup"};ot({type:"op",names:["\\coprod","\\bigvee","\\bigwedge","\\biguplus","\\bigcap","\\bigcup","\\intop","\\prod","\\sum","\\bigotimes","\\bigoplus","\\bigodot","\\bigsqcup","\\smallint","\u220F","\u2210","\u2211","\u22C0","\u22C1","\u22C2","\u22C3","\u2A00","\u2A01","\u2A02","\u2A04","\u2A06"],props:{numArgs:0},handler:(r,e)=>{var{parser:t,funcName:n}=r,i=n;return i.length===1&&(i=Lpe[i]),{type:"op",mode:t.mode,limits:!0,parentIsSupSub:!1,symbol:!0,name:i}},htmlBuilder:Ed,mathmlBuilder:km});ot({type:"op",names:["\\mathop"],props:{numArgs:1,primitive:!0},handler:(r,e)=>{var{parser:t}=r,n=e[0];return{type:"op",mode:t.mode,limits:!1,parentIsSupSub:!1,symbol:!1,body:fn(n)}},htmlBuilder:Ed,mathmlBuilder:km});var zpe={"\u222B":"\\int","\u222C":"\\iint","\u222D":"\\iiint","\u222E":"\\oint","\u222F":"\\oiint","\u2230":"\\oiiint"};ot({type:"op",names:["\\arcsin","\\arccos","\\arctan","\\arctg","\\arcctg","\\arg","\\ch","\\cos","\\cosec","\\cosh","\\cot","\\cotg","\\coth","\\csc","\\ctg","\\cth","\\deg","\\dim","\\exp","\\hom","\\ker","\\lg","\\ln","\\log","\\sec","\\sin","\\sinh","\\sh","\\tan","\\tanh","\\tg","\\th"],props:{numArgs:0},handler(r){var{parser:e,funcName:t}=r;return{type:"op",mode:e.mode,limits:!1,parentIsSupSub:!1,symbol:!1,name:t}},htmlBuilder:Ed,mathmlBuilder:km});ot({type:"op",names:["\\det","\\gcd","\\inf","\\lim","\\max","\\min","\\Pr","\\sup"],props:{numArgs:0},handler(r){var{parser:e,funcName:t}=r;return{type:"op",mode:e.mode,limits:!0,parentIsSupSub:!1,symbol:!1,name:t}},htmlBuilder:Ed,mathmlBuilder:km});ot({type:"op",names:["\\int","\\iint","\\iiint","\\oint","\\oiint","\\oiiint","\u222B","\u222C","\u222D","\u222E","\u222F","\u2230"],props:{numArgs:0},handler(r){var{parser:e,funcName:t}=r,n=t;return n.length===1&&(n=zpe[n]),{type:"op",mode:e.mode,limits:!1,parentIsSupSub:!1,symbol:!0,name:n}},htmlBuilder:Ed,mathmlBuilder:km});var oH=(r,e)=>{var t,n,i=!1,a;r.type==="supsub"?(t=r.sup,n=r.sub,a=Wt(r.base,"operatorname"),i=!0):a=Wt(r,"operatorname");var o;if(a.body.length>0){for(var s=a.body.map(d=>{var f=d.text;return typeof f=="string"?{type:"textord",mode:d.mode,text:f}:d}),l=Nn(s,e.withFont("mathrm"),!0),u=0;u<l.length;u++){var c=l[u];c instanceof Li&&(c.text=c.text.replace(/\u2212/,"-").replace(/\u2217/,"*"))}o=xe.makeSpan(["mop"],l,e)}else o=xe.makeSpan(["mop"],[],e);return i?iH(o,t,n,e,e.style,0,0):o},Vpe=(r,e)=>{for(var t=zi(r.body,e.withFont("mathrm")),n=!0,i=0;i<t.length;i++){var a=t[i];if(!(a instanceof je.SpaceNode))if(a instanceof je.MathNode)switch(a.type){case"mi":case"mn":case"ms":case"mspace":case"mtext":break;case"mo":{var o=a.children[0];a.children.length===1&&o instanceof je.TextNode?o.text=o.text.replace(/\u2212/,"-").replace(/\u2217/,"*"):n=!1;break}default:n=!1}else n=!1}if(n){var s=t.map(c=>c.toText()).join("");t=[new je.TextNode(s)]}var l=new je.MathNode("mi",t);l.setAttribute("mathvariant","normal");var u=new je.MathNode("mo",[Ma("\u2061","text")]);return r.parentIsSupSub?new je.MathNode("mrow",[l,u]):je.newDocumentFragment([l,u])};ot({type:"operatorname",names:["\\operatorname@","\\operatornamewithlimits"],props:{numArgs:1},handler:(r,e)=>{var{parser:t,funcName:n}=r,i=e[0];return{type:"operatorname",mode:t.mode,body:fn(i),alwaysHandleSupSub:n==="\\operatornamewithlimits",limits:!1,parentIsSupSub:!1}},htmlBuilder:oH,mathmlBuilder:Vpe});q("\\operatorname","\\@ifstar\\operatornamewithlimits\\operatorname@");Eu({type:"ordgroup",htmlBuilder(r,e){return r.semisimple?xe.makeFragment(Nn(r.body,e,!1)):xe.makeSpan(["mord"],Nn(r.body,e,!0),e)},mathmlBuilder(r,e){return _l(r.body,e,!0)}});ot({type:"overline",names:["\\overline"],props:{numArgs:1},handler(r,e){var{parser:t}=r,n=e[0];return{type:"overline",mode:t.mode,body:n}},htmlBuilder(r,e){var t=dr(r.body,e.havingCrampedStyle()),n=xe.makeLineSpan("overline-line",e),i=e.fontMetrics().defaultRuleThickness,a=xe.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:t},{type:"kern",size:3*i},{type:"elem",elem:n},{type:"kern",size:i}]},e);return xe.makeSpan(["mord","overline"],[a],e)},mathmlBuilder(r,e){var t=new je.MathNode("mo",[new je.TextNode("\u203E")]);t.setAttribute("stretchy","true");var n=new je.MathNode("mover",[Nr(r.body,e),t]);return n.setAttribute("accent","true"),n}});ot({type:"phantom",names:["\\phantom"],props:{numArgs:1,allowedInText:!0},handler:(r,e)=>{var{parser:t}=r,n=e[0];return{type:"phantom",mode:t.mode,body:fn(n)}},htmlBuilder:(r,e)=>{var t=Nn(r.body,e.withPhantom(),!1);return xe.makeFragment(t)},mathmlBuilder:(r,e)=>{var t=zi(r.body,e);return new je.MathNode("mphantom",t)}});ot({type:"hphantom",names:["\\hphantom"],props:{numArgs:1,allowedInText:!0},handler:(r,e)=>{var{parser:t}=r,n=e[0];return{type:"hphantom",mode:t.mode,body:n}},htmlBuilder:(r,e)=>{var t=xe.makeSpan([],[dr(r.body,e.withPhantom())]);if(t.height=0,t.depth=0,t.children)for(var n=0;n<t.children.length;n++)t.children[n].height=0,t.children[n].depth=0;return t=xe.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:t}]},e),xe.makeSpan(["mord"],[t],e)},mathmlBuilder:(r,e)=>{var t=zi(fn(r.body),e),n=new je.MathNode("mphantom",t),i=new je.MathNode("mpadded",[n]);return i.setAttribute("height","0px"),i.setAttribute("depth","0px"),i}});ot({type:"vphantom",names:["\\vphantom"],props:{numArgs:1,allowedInText:!0},handler:(r,e)=>{var{parser:t}=r,n=e[0];return{type:"vphantom",mode:t.mode,body:n}},htmlBuilder:(r,e)=>{var t=xe.makeSpan(["inner"],[dr(r.body,e.withPhantom())]),n=xe.makeSpan(["fix"],[]);return xe.makeSpan(["mord","rlap"],[t,n],e)},mathmlBuilder:(r,e)=>{var t=zi(fn(r.body),e),n=new je.MathNode("mphantom",t),i=new je.MathNode("mpadded",[n]);return i.setAttribute("width","0px"),i}});ot({type:"raisebox",names:["\\raisebox"],props:{numArgs:2,argTypes:["size","hbox"],allowedInText:!0},handler(r,e){var{parser:t}=r,n=Wt(e[0],"size").value,i=e[1];return{type:"raisebox",mode:t.mode,dy:n,body:i}},htmlBuilder(r,e){var t=dr(r.body,e),n=nn(r.dy,e);return xe.makeVList({positionType:"shift",positionData:-n,children:[{type:"elem",elem:t}]},e)},mathmlBuilder(r,e){var t=new je.MathNode("mpadded",[Nr(r.body,e)]),n=r.dy.number+r.dy.unit;return t.setAttribute("voffset",n),t}});ot({type:"internal",names:["\\relax"],props:{numArgs:0,allowedInText:!0,allowedInArgument:!0},handler(r){var{parser:e}=r;return{type:"internal",mode:e.mode}}});ot({type:"rule",names:["\\rule"],props:{numArgs:2,numOptionalArgs:1,allowedInText:!0,allowedInMath:!0,argTypes:["size","size","size"]},handler(r,e,t){var{parser:n}=r,i=t[0],a=Wt(e[0],"size"),o=Wt(e[1],"size");return{type:"rule",mode:n.mode,shift:i&&Wt(i,"size").value,width:a.value,height:o.value}},htmlBuilder(r,e){var t=xe.makeSpan(["mord","rule"],[],e),n=nn(r.width,e),i=nn(r.height,e),a=r.shift?nn(r.shift,e):0;return t.style.borderRightWidth=Qe(n),t.style.borderTopWidth=Qe(i),t.style.bottom=Qe(a),t.width=n,t.height=i+a,t.depth=-a,t.maxFontSize=i*1.125*e.sizeMultiplier,t},mathmlBuilder(r,e){var t=nn(r.width,e),n=nn(r.height,e),i=r.shift?nn(r.shift,e):0,a=e.color&&e.getColor()||"black",o=new je.MathNode("mspace");o.setAttribute("mathbackground",a),o.setAttribute("width",Qe(t)),o.setAttribute("height",Qe(n));var s=new je.MathNode("mpadded",[o]);return i>=0?s.setAttribute("height",Qe(i)):(s.setAttribute("height",Qe(i)),s.setAttribute("depth",Qe(-i))),s.setAttribute("voffset",Qe(i)),s}});function sH(r,e,t){for(var n=Nn(r,e,!1),i=e.sizeMultiplier/t.sizeMultiplier,a=0;a<n.length;a++){var o=n[a].classes.indexOf("sizing");o<0?Array.prototype.push.apply(n[a].classes,e.sizingClasses(t)):n[a].classes[o+1]==="reset-size"+e.size&&(n[a].classes[o+1]="reset-size"+t.size),n[a].height*=i,n[a].depth*=i}return xe.makeFragment(n)}var u$=["\\tiny","\\sixptsize","\\scriptsize","\\footnotesize","\\small","\\normalsize","\\large","\\Large","\\LARGE","\\huge","\\Huge"],Upe=(r,e)=>{var t=e.havingSize(r.size);return sH(r.body,t,e)};ot({type:"sizing",names:u$,props:{numArgs:0,allowedInText:!0},handler:(r,e)=>{var{breakOnTokenText:t,funcName:n,parser:i}=r,a=i.parseExpression(!1,t);return{type:"sizing",mode:i.mode,size:u$.indexOf(n)+1,body:a}},htmlBuilder:Upe,mathmlBuilder:(r,e)=>{var t=e.havingSize(r.size),n=zi(r.body,t),i=new je.MathNode("mstyle",n);return i.setAttribute("mathsize",Qe(t.sizeMultiplier)),i}});ot({type:"smash",names:["\\smash"],props:{numArgs:1,numOptionalArgs:1,allowedInText:!0},handler:(r,e,t)=>{var{parser:n}=r,i=!1,a=!1,o=t[0]&&Wt(t[0],"ordgroup");if(o)for(var s="",l=0;l<o.body.length;++l){var u=o.body[l];if(s=u.text,s==="t")i=!0;else if(s==="b")a=!0;else{i=!1,a=!1;break}}else i=!0,a=!0;var c=e[0];return{type:"smash",mode:n.mode,body:c,smashHeight:i,smashDepth:a}},htmlBuilder:(r,e)=>{var t=xe.makeSpan([],[dr(r.body,e)]);if(!r.smashHeight&&!r.smashDepth)return t;if(r.smashHeight&&(t.height=0,t.children))for(var n=0;n<t.children.length;n++)t.children[n].height=0;if(r.smashDepth&&(t.depth=0,t.children))for(var i=0;i<t.children.length;i++)t.children[i].depth=0;var a=xe.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:t}]},e);return xe.makeSpan(["mord"],[a],e)},mathmlBuilder:(r,e)=>{var t=new je.MathNode("mpadded",[Nr(r.body,e)]);return r.smashHeight&&t.setAttribute("height","0px"),r.smashDepth&&t.setAttribute("depth","0px"),t}});ot({type:"sqrt",names:["\\sqrt"],props:{numArgs:1,numOptionalArgs:1},handler(r,e,t){var{parser:n}=r,i=t[0],a=e[0];return{type:"sqrt",mode:n.mode,body:a,index:i}},htmlBuilder(r,e){var t=dr(r.body,e.havingCrampedStyle());t.height===0&&(t.height=e.fontMetrics().xHeight),t=xe.wrapFragment(t,e);var n=e.fontMetrics(),i=n.defaultRuleThickness,a=i;e.style.id<Et.TEXT.id&&(a=e.fontMetrics().xHeight);var o=i+a/4,s=t.height+t.depth+o+i,{span:l,ruleWidth:u,advanceWidth:c}=ms.sqrtImage(s,e),d=l.height-u;d>t.height+t.depth+o&&(o=(o+d-t.height-t.depth)/2);var f=l.height-t.height-o-u;t.style.paddingLeft=Qe(c);var m=xe.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:t,wrapperClasses:["svg-align"]},{type:"kern",size:-(t.height+f)},{type:"elem",elem:l},{type:"kern",size:u}]},e);if(r.index){var p=e.havingStyle(Et.SCRIPTSCRIPT),h=dr(r.index,p,e),v=.6*(m.height-m.depth),y=xe.makeVList({positionType:"shift",positionData:-v,children:[{type:"elem",elem:h}]},e),S=xe.makeSpan(["root"],[y]);return xe.makeSpan(["mord","sqrt"],[S,m],e)}else return xe.makeSpan(["mord","sqrt"],[m],e)},mathmlBuilder(r,e){var{body:t,index:n}=r;return n?new je.MathNode("mroot",[Nr(t,e),Nr(n,e)]):new je.MathNode("msqrt",[Nr(t,e)])}});var c$={display:Et.DISPLAY,text:Et.TEXT,script:Et.SCRIPT,scriptscript:Et.SCRIPTSCRIPT};ot({type:"styling",names:["\\displaystyle","\\textstyle","\\scriptstyle","\\scriptscriptstyle"],props:{numArgs:0,allowedInText:!0,primitive:!0},handler(r,e){var{breakOnTokenText:t,funcName:n,parser:i}=r,a=i.parseExpression(!0,t),o=n.slice(1,n.length-5);return{type:"styling",mode:i.mode,style:o,body:a}},htmlBuilder(r,e){var t=c$[r.style],n=e.havingStyle(t).withFont("");return sH(r.body,n,e)},mathmlBuilder(r,e){var t=c$[r.style],n=e.havingStyle(t),i=zi(r.body,n),a=new je.MathNode("mstyle",i),o={display:["0","true"],text:["0","false"],script:["1","false"],scriptscript:["2","false"]},s=o[r.style];return a.setAttribute("scriptlevel",s[0]),a.setAttribute("displaystyle",s[1]),a}});var qpe=function(e,t){var n=e.base;if(n)if(n.type==="op"){var i=n.limits&&(t.style.size===Et.DISPLAY.size||n.alwaysHandleSupSub);return i?Ed:null}else if(n.type==="operatorname"){var a=n.alwaysHandleSupSub&&(t.style.size===Et.DISPLAY.size||n.limits);return a?oH:null}else{if(n.type==="accent")return St.isCharacterBox(n.base)?i6:null;if(n.type==="horizBrace"){var o=!e.sub;return o===n.isOver?nH:null}else return null}else return null};Eu({type:"supsub",htmlBuilder(r,e){var t=qpe(r,e);if(t)return t(r,e);var{base:n,sup:i,sub:a}=r,o=dr(n,e),s,l,u=e.fontMetrics(),c=0,d=0,f=n&&St.isCharacterBox(n);if(i){var m=e.havingStyle(e.style.sup());s=dr(i,m,e),f||(c=o.height-m.fontMetrics().supDrop*m.sizeMultiplier/e.sizeMultiplier)}if(a){var p=e.havingStyle(e.style.sub());l=dr(a,p,e),f||(d=o.depth+p.fontMetrics().subDrop*p.sizeMultiplier/e.sizeMultiplier)}var h;e.style===Et.DISPLAY?h=u.sup1:e.style.cramped?h=u.sup3:h=u.sup2;var v=e.sizeMultiplier,y=Qe(.5/u.ptPerEm/v),S=null;if(l){var x=r.base&&r.base.type==="op"&&r.base.name&&(r.base.name==="\\oiint"||r.base.name==="\\oiiint");(o instanceof Li||x)&&(S=Qe(-o.italic))}var _;if(s&&l){c=Math.max(c,h,s.depth+.25*u.xHeight),d=Math.max(d,u.sub2);var w=u.defaultRuleThickness,b=4*w;if(c-s.depth-(l.height-d)<b){d=b-(c-s.depth)+l.height;var C=.8*u.xHeight-(c-s.depth);C>0&&(c+=C,d-=C)}var E=[{type:"elem",elem:l,shift:d,marginRight:y,marginLeft:S},{type:"elem",elem:s,shift:-c,marginRight:y}];_=xe.makeVList({positionType:"individualShift",children:E},e)}else if(l){d=Math.max(d,u.sub1,l.height-.8*u.xHeight);var D=[{type:"elem",elem:l,marginLeft:S,marginRight:y}];_=xe.makeVList({positionType:"shift",positionData:d,children:D},e)}else if(s)c=Math.max(c,h,s.depth+.25*u.xHeight),_=xe.makeVList({positionType:"shift",positionData:-c,children:[{type:"elem",elem:s,marginRight:y}]},e);else throw new Error("supsub must have either sup or sub.");var M=$5(o,"right")||"mord";return xe.makeSpan([M],[o,xe.makeSpan(["msupsub"],[_])],e)},mathmlBuilder(r,e){var t=!1,n,i;r.base&&r.base.type==="horizBrace"&&(i=!!r.sup,i===r.base.isOver&&(t=!0,n=r.base.isOver)),r.base&&(r.base.type==="op"||r.base.type==="operatorname")&&(r.base.parentIsSupSub=!0);var a=[Nr(r.base,e)];r.sub&&a.push(Nr(r.sub,e)),r.sup&&a.push(Nr(r.sup,e));var o;if(t)o=n?"mover":"munder";else if(r.sub)if(r.sup){var u=r.base;u&&u.type==="op"&&u.limits&&e.style===Et.DISPLAY||u&&u.type==="operatorname"&&u.alwaysHandleSupSub&&(e.style===Et.DISPLAY||u.limits)?o="munderover":o="msubsup"}else{var l=r.base;l&&l.type==="op"&&l.limits&&(e.style===Et.DISPLAY||l.alwaysHandleSupSub)||l&&l.type==="operatorname"&&l.alwaysHandleSupSub&&(l.limits||e.style===Et.DISPLAY)?o="munder":o="msub"}else{var s=r.base;s&&s.type==="op"&&s.limits&&(e.style===Et.DISPLAY||s.alwaysHandleSupSub)||s&&s.type==="operatorname"&&s.alwaysHandleSupSub&&(s.limits||e.style===Et.DISPLAY)?o="mover":o="msup"}return new je.MathNode(o,a)}});Eu({type:"atom",htmlBuilder(r,e){return xe.mathsym(r.text,r.mode,e,["m"+r.family])},mathmlBuilder(r,e){var t=new je.MathNode("mo",[Ma(r.text,r.mode)]);if(r.family==="bin"){var n=r6(r,e);n==="bold-italic"&&t.setAttribute("mathvariant",n)}else r.family==="punct"?t.setAttribute("separator","true"):(r.family==="open"||r.family==="close")&&t.setAttribute("stretchy","false");return t}});var lH={mi:"italic",mn:"normal",mtext:"normal"};Eu({type:"mathord",htmlBuilder(r,e){return xe.makeOrd(r,e,"mathord")},mathmlBuilder(r,e){var t=new je.MathNode("mi",[Ma(r.text,r.mode,e)]),n=r6(r,e)||"italic";return n!==lH[t.type]&&t.setAttribute("mathvariant",n),t}});Eu({type:"textord",htmlBuilder(r,e){return xe.makeOrd(r,e,"textord")},mathmlBuilder(r,e){var t=Ma(r.text,r.mode,e),n=r6(r,e)||"normal",i;return r.mode==="text"?i=new je.MathNode("mtext",[t]):/[0-9]/.test(r.text)?i=new je.MathNode("mn",[t]):r.text==="\\prime"?i=new je.MathNode("mo",[t]):i=new je.MathNode("mi",[t]),n!==lH[i.type]&&i.setAttribute("mathvariant",n),i}});var B5={"\\nobreak":"nobreak","\\allowbreak":"allowbreak"},L5={" ":{},"\\ ":{},"~":{className:"nobreak"},"\\space":{},"\\nobreakspace":{className:"nobreak"}};Eu({type:"spacing",htmlBuilder(r,e){if(L5.hasOwnProperty(r.text)){var t=L5[r.text].className||"";if(r.mode==="text"){var n=xe.makeOrd(r,e,"textord");return n.classes.push(t),n}else return xe.makeSpan(["mspace",t],[xe.mathsym(r.text,r.mode,e)],e)}else{if(B5.hasOwnProperty(r.text))return xe.makeSpan(["mspace",B5[r.text]],[],e);throw new We('Unknown type of space "'+r.text+'"')}},mathmlBuilder(r,e){var t;if(L5.hasOwnProperty(r.text))t=new je.MathNode("mtext",[new je.TextNode("\xA0")]);else{if(B5.hasOwnProperty(r.text))return new je.MathNode("mspace");throw new We('Unknown type of space "'+r.text+'"')}return t}});var d$=()=>{var r=new je.MathNode("mtd",[]);return r.setAttribute("width","50%"),r};Eu({type:"tag",mathmlBuilder(r,e){var t=new je.MathNode("mtable",[new je.MathNode("mtr",[d$(),new je.MathNode("mtd",[_l(r.body,e)]),d$(),new je.MathNode("mtd",[_l(r.tag,e)])])]);return t.setAttribute("width","100%"),t}});var f$={"\\text":void 0,"\\textrm":"textrm","\\textsf":"textsf","\\texttt":"texttt","\\textnormal":"textrm"},m$={"\\textbf":"textbf","\\textmd":"textmd"},jpe={"\\textit":"textit","\\textup":"textup"},h$=(r,e)=>{var t=r.font;if(t){if(f$[t])return e.withTextFontFamily(f$[t]);if(m$[t])return e.withTextFontWeight(m$[t]);if(t==="\\emph")return e.fontShape==="textit"?e.withTextFontShape("textup"):e.withTextFontShape("textit")}else return e;return e.withTextFontShape(jpe[t])};ot({type:"text",names:["\\text","\\textrm","\\textsf","\\texttt","\\textnormal","\\textbf","\\textmd","\\textit","\\textup","\\emph"],props:{numArgs:1,argTypes:["text"],allowedInArgument:!0,allowedInText:!0},handler(r,e){var{parser:t,funcName:n}=r,i=e[0];return{type:"text",mode:t.mode,body:fn(i),font:n}},htmlBuilder(r,e){var t=h$(r,e),n=Nn(r.body,t,!0);return xe.makeSpan(["mord","text"],n,t)},mathmlBuilder(r,e){var t=h$(r,e);return _l(r.body,t)}});ot({type:"underline",names:["\\underline"],props:{numArgs:1,allowedInText:!0},handler(r,e){var{parser:t}=r;return{type:"underline",mode:t.mode,body:e[0]}},htmlBuilder(r,e){var t=dr(r.body,e),n=xe.makeLineSpan("underline-line",e),i=e.fontMetrics().defaultRuleThickness,a=xe.makeVList({positionType:"top",positionData:t.height,children:[{type:"kern",size:i},{type:"elem",elem:n},{type:"kern",size:3*i},{type:"elem",elem:t}]},e);return xe.makeSpan(["mord","underline"],[a],e)},mathmlBuilder(r,e){var t=new je.MathNode("mo",[new je.TextNode("\u203E")]);t.setAttribute("stretchy","true");var n=new je.MathNode("munder",[Nr(r.body,e),t]);return n.setAttribute("accentunder","true"),n}});ot({type:"vcenter",names:["\\vcenter"],props:{numArgs:1,argTypes:["original"],allowedInText:!1},handler(r,e){var{parser:t}=r;return{type:"vcenter",mode:t.mode,body:e[0]}},htmlBuilder(r,e){var t=dr(r.body,e),n=e.fontMetrics().axisHeight,i=.5*(t.height-n-(t.depth+n));return xe.makeVList({positionType:"shift",positionData:i,children:[{type:"elem",elem:t}]},e)},mathmlBuilder(r,e){return new je.MathNode("mpadded",[Nr(r.body,e)],["vcenter"])}});ot({type:"verb",names:["\\verb"],props:{numArgs:0,allowedInText:!0},handler(r,e,t){throw new We("\\verb ended by end of line instead of matching delimiter")},htmlBuilder(r,e){for(var t=p$(r),n=[],i=e.havingStyle(e.style.text()),a=0;a<t.length;a++){var o=t[a];o==="~"&&(o="\\textasciitilde"),n.push(xe.makeSymbol(o,"Typewriter-Regular",r.mode,i,["mord","texttt"]))}return xe.makeSpan(["mord","text"].concat(i.sizingClasses(e)),xe.tryCombineChars(n),i)},mathmlBuilder(r,e){var t=new je.TextNode(p$(r)),n=new je.MathNode("mtext",[t]);return n.setAttribute("mathvariant","monospace"),n}});var p$=r=>r.body.replace(/ /g,r.star?"\u2423":"\xA0"),bl=F$,uH=`[ \r
	]`,$pe="\\\\[a-zA-Z@]+",Hpe="\\\\[^\uD800-\uDFFF]",Wpe="("+$pe+")"+uH+"*",Gpe=`\\\\(
|[ \r	]+
?)[ \r	]*`,Z5="[\u0300-\u036F]",Ype=new RegExp(Z5+"+$"),Zpe="("+uH+"+)|"+(Gpe+"|")+"([!-\\[\\]-\u2027\u202A-\uD7FF\uF900-\uFFFF]"+(Z5+"*")+"|[\uD800-\uDBFF][\uDC00-\uDFFF]"+(Z5+"*")+"|\\\\verb\\*([^]).*?\\4|\\\\verb([^*a-zA-Z]).*?\\5"+("|"+Wpe)+("|"+Hpe+")"),a1=class{constructor(e,t){this.input=void 0,this.settings=void 0,this.tokenRegex=void 0,this.catcodes=void 0,this.input=e,this.settings=t,this.tokenRegex=new RegExp(Zpe,"g"),this.catcodes={"%":14,"~":13}}setCatcode(e,t){this.catcodes[e]=t}lex(){var e=this.input,t=this.tokenRegex.lastIndex;if(t===e.length)return new Aa("EOF",new Ji(this,t,t));var n=this.tokenRegex.exec(e);if(n===null||n.index!==t)throw new We("Unexpected character: '"+e[t]+"'",new Aa(e[t],new Ji(this,t,t+1)));var i=n[6]||n[3]||(n[2]?"\\ ":" ");if(this.catcodes[i]===14){var a=e.indexOf(`
`,this.tokenRegex.lastIndex);return a===-1?(this.tokenRegex.lastIndex=e.length,this.settings.reportNonstrict("commentAtEnd","% comment has no terminating newline; LaTeX would fail because of commenting the end of math mode (e.g. $)")):this.tokenRegex.lastIndex=a+1,this.lex()}return new Aa(i,new Ji(this,t,this.tokenRegex.lastIndex))}},X5=class{constructor(e,t){e===void 0&&(e={}),t===void 0&&(t={}),this.current=void 0,this.builtins=void 0,this.undefStack=void 0,this.current=t,this.builtins=e,this.undefStack=[]}beginGroup(){this.undefStack.push({})}endGroup(){if(this.undefStack.length===0)throw new We("Unbalanced namespace destruction: attempt to pop global namespace; please report this as a bug");var e=this.undefStack.pop();for(var t in e)e.hasOwnProperty(t)&&(e[t]==null?delete this.current[t]:this.current[t]=e[t])}endGroups(){for(;this.undefStack.length>0;)this.endGroup()}has(e){return this.current.hasOwnProperty(e)||this.builtins.hasOwnProperty(e)}get(e){return this.current.hasOwnProperty(e)?this.current[e]:this.builtins[e]}set(e,t,n){if(n===void 0&&(n=!1),n){for(var i=0;i<this.undefStack.length;i++)delete this.undefStack[i][e];this.undefStack.length>0&&(this.undefStack[this.undefStack.length-1][e]=t)}else{var a=this.undefStack[this.undefStack.length-1];a&&!a.hasOwnProperty(e)&&(a[e]=this.current[e])}t==null?delete this.current[e]:this.current[e]=t}},Xpe=J$;q("\\noexpand",function(r){var e=r.popToken();return r.isExpandable(e.text)&&(e.noexpand=!0,e.treatAsRelax=!0),{tokens:[e],numArgs:0}});q("\\expandafter",function(r){var e=r.popToken();return r.expandOnce(!0),{tokens:[e],numArgs:0}});q("\\@firstoftwo",function(r){var e=r.consumeArgs(2);return{tokens:e[0],numArgs:0}});q("\\@secondoftwo",function(r){var e=r.consumeArgs(2);return{tokens:e[1],numArgs:0}});q("\\@ifnextchar",function(r){var e=r.consumeArgs(3);r.consumeSpaces();var t=r.future();return e[0].length===1&&e[0][0].text===t.text?{tokens:e[1],numArgs:0}:{tokens:e[2],numArgs:0}});q("\\@ifstar","\\@ifnextchar *{\\@firstoftwo{#1}}");q("\\TextOrMath",function(r){var e=r.consumeArgs(2);return r.mode==="text"?{tokens:e[0],numArgs:0}:{tokens:e[1],numArgs:0}});var g$={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,a:10,A:10,b:11,B:11,c:12,C:12,d:13,D:13,e:14,E:14,f:15,F:15};q("\\char",function(r){var e=r.popToken(),t,n="";if(e.text==="'")t=8,e=r.popToken();else if(e.text==='"')t=16,e=r.popToken();else if(e.text==="`")if(e=r.popToken(),e.text[0]==="\\")n=e.text.charCodeAt(1);else{if(e.text==="EOF")throw new We("\\char` missing argument");n=e.text.charCodeAt(0)}else t=10;if(t){if(n=g$[e.text],n==null||n>=t)throw new We("Invalid base-"+t+" digit "+e.text);for(var i;(i=g$[r.future().text])!=null&&i<t;)n*=t,n+=i,r.popToken()}return"\\@char{"+n+"}"});var f6=(r,e,t,n)=>{var i=r.consumeArg().tokens;if(i.length!==1)throw new We("\\newcommand's first argument must be a macro name");var a=i[0].text,o=r.isDefined(a);if(o&&!e)throw new We("\\newcommand{"+a+"} attempting to redefine "+(a+"; use \\renewcommand"));if(!o&&!t)throw new We("\\renewcommand{"+a+"} when command "+a+" does not yet exist; use \\newcommand");var s=0;if(i=r.consumeArg().tokens,i.length===1&&i[0].text==="["){for(var l="",u=r.expandNextToken();u.text!=="]"&&u.text!=="EOF";)l+=u.text,u=r.expandNextToken();if(!l.match(/^\s*[0-9]+\s*$/))throw new We("Invalid number of arguments: "+l);s=parseInt(l),i=r.consumeArg().tokens}return o&&n||r.macros.set(a,{tokens:i,numArgs:s}),""};q("\\newcommand",r=>f6(r,!1,!0,!1));q("\\renewcommand",r=>f6(r,!0,!1,!1));q("\\providecommand",r=>f6(r,!0,!0,!0));q("\\message",r=>{var e=r.consumeArgs(1)[0];return console.log(e.reverse().map(t=>t.text).join("")),""});q("\\errmessage",r=>{var e=r.consumeArgs(1)[0];return console.error(e.reverse().map(t=>t.text).join("")),""});q("\\show",r=>{var e=r.popToken(),t=e.text;return console.log(e,r.macros.get(t),bl[t],Pr.math[t],Pr.text[t]),""});q("\\bgroup","{");q("\\egroup","}");q("~","\\nobreakspace");q("\\lq","`");q("\\rq","'");q("\\aa","\\r a");q("\\AA","\\r A");q("\\textcopyright","\\html@mathml{\\textcircled{c}}{\\char`\xA9}");q("\\copyright","\\TextOrMath{\\textcopyright}{\\text{\\textcopyright}}");q("\\textregistered","\\html@mathml{\\textcircled{\\scriptsize R}}{\\char`\xAE}");q("\u212C","\\mathscr{B}");q("\u2130","\\mathscr{E}");q("\u2131","\\mathscr{F}");q("\u210B","\\mathscr{H}");q("\u2110","\\mathscr{I}");q("\u2112","\\mathscr{L}");q("\u2133","\\mathscr{M}");q("\u211B","\\mathscr{R}");q("\u212D","\\mathfrak{C}");q("\u210C","\\mathfrak{H}");q("\u2128","\\mathfrak{Z}");q("\\Bbbk","\\Bbb{k}");q("\xB7","\\cdotp");q("\\llap","\\mathllap{\\textrm{#1}}");q("\\rlap","\\mathrlap{\\textrm{#1}}");q("\\clap","\\mathclap{\\textrm{#1}}");q("\\mathstrut","\\vphantom{(}");q("\\underbar","\\underline{\\text{#1}}");q("\\not",'\\html@mathml{\\mathrel{\\mathrlap\\@not}}{\\char"338}');q("\\neq","\\html@mathml{\\mathrel{\\not=}}{\\mathrel{\\char`\u2260}}");q("\\ne","\\neq");q("\u2260","\\neq");q("\\notin","\\html@mathml{\\mathrel{{\\in}\\mathllap{/\\mskip1mu}}}{\\mathrel{\\char`\u2209}}");q("\u2209","\\notin");q("\u2258","\\html@mathml{\\mathrel{=\\kern{-1em}\\raisebox{0.4em}{$\\scriptsize\\frown$}}}{\\mathrel{\\char`\u2258}}");q("\u2259","\\html@mathml{\\stackrel{\\tiny\\wedge}{=}}{\\mathrel{\\char`\u2258}}");q("\u225A","\\html@mathml{\\stackrel{\\tiny\\vee}{=}}{\\mathrel{\\char`\u225A}}");q("\u225B","\\html@mathml{\\stackrel{\\scriptsize\\star}{=}}{\\mathrel{\\char`\u225B}}");q("\u225D","\\html@mathml{\\stackrel{\\tiny\\mathrm{def}}{=}}{\\mathrel{\\char`\u225D}}");q("\u225E","\\html@mathml{\\stackrel{\\tiny\\mathrm{m}}{=}}{\\mathrel{\\char`\u225E}}");q("\u225F","\\html@mathml{\\stackrel{\\tiny?}{=}}{\\mathrel{\\char`\u225F}}");q("\u27C2","\\perp");q("\u203C","\\mathclose{!\\mkern-0.8mu!}");q("\u220C","\\notni");q("\u231C","\\ulcorner");q("\u231D","\\urcorner");q("\u231E","\\llcorner");q("\u231F","\\lrcorner");q("\xA9","\\copyright");q("\xAE","\\textregistered");q("\uFE0F","\\textregistered");q("\\ulcorner",'\\html@mathml{\\@ulcorner}{\\mathop{\\char"231c}}');q("\\urcorner",'\\html@mathml{\\@urcorner}{\\mathop{\\char"231d}}');q("\\llcorner",'\\html@mathml{\\@llcorner}{\\mathop{\\char"231e}}');q("\\lrcorner",'\\html@mathml{\\@lrcorner}{\\mathop{\\char"231f}}');q("\\vdots","{\\varvdots\\rule{0pt}{15pt}}");q("\u22EE","\\vdots");q("\\varGamma","\\mathit{\\Gamma}");q("\\varDelta","\\mathit{\\Delta}");q("\\varTheta","\\mathit{\\Theta}");q("\\varLambda","\\mathit{\\Lambda}");q("\\varXi","\\mathit{\\Xi}");q("\\varPi","\\mathit{\\Pi}");q("\\varSigma","\\mathit{\\Sigma}");q("\\varUpsilon","\\mathit{\\Upsilon}");q("\\varPhi","\\mathit{\\Phi}");q("\\varPsi","\\mathit{\\Psi}");q("\\varOmega","\\mathit{\\Omega}");q("\\substack","\\begin{subarray}{c}#1\\end{subarray}");q("\\colon","\\nobreak\\mskip2mu\\mathpunct{}\\mathchoice{\\mkern-3mu}{\\mkern-3mu}{}{}{:}\\mskip6mu\\relax");q("\\boxed","\\fbox{$\\displaystyle{#1}$}");q("\\iff","\\DOTSB\\;\\Longleftrightarrow\\;");q("\\implies","\\DOTSB\\;\\Longrightarrow\\;");q("\\impliedby","\\DOTSB\\;\\Longleftarrow\\;");q("\\dddot","{\\overset{\\raisebox{-0.1ex}{\\normalsize ...}}{#1}}");q("\\ddddot","{\\overset{\\raisebox{-0.1ex}{\\normalsize ....}}{#1}}");var v$={",":"\\dotsc","\\not":"\\dotsb","+":"\\dotsb","=":"\\dotsb","<":"\\dotsb",">":"\\dotsb","-":"\\dotsb","*":"\\dotsb",":":"\\dotsb","\\DOTSB":"\\dotsb","\\coprod":"\\dotsb","\\bigvee":"\\dotsb","\\bigwedge":"\\dotsb","\\biguplus":"\\dotsb","\\bigcap":"\\dotsb","\\bigcup":"\\dotsb","\\prod":"\\dotsb","\\sum":"\\dotsb","\\bigotimes":"\\dotsb","\\bigoplus":"\\dotsb","\\bigodot":"\\dotsb","\\bigsqcup":"\\dotsb","\\And":"\\dotsb","\\longrightarrow":"\\dotsb","\\Longrightarrow":"\\dotsb","\\longleftarrow":"\\dotsb","\\Longleftarrow":"\\dotsb","\\longleftrightarrow":"\\dotsb","\\Longleftrightarrow":"\\dotsb","\\mapsto":"\\dotsb","\\longmapsto":"\\dotsb","\\hookrightarrow":"\\dotsb","\\doteq":"\\dotsb","\\mathbin":"\\dotsb","\\mathrel":"\\dotsb","\\relbar":"\\dotsb","\\Relbar":"\\dotsb","\\xrightarrow":"\\dotsb","\\xleftarrow":"\\dotsb","\\DOTSI":"\\dotsi","\\int":"\\dotsi","\\oint":"\\dotsi","\\iint":"\\dotsi","\\iiint":"\\dotsi","\\iiiint":"\\dotsi","\\idotsint":"\\dotsi","\\DOTSX":"\\dotsx"};q("\\dots",function(r){var e="\\dotso",t=r.expandAfterFuture().text;return t in v$?e=v$[t]:(t.slice(0,4)==="\\not"||t in Pr.math&&St.contains(["bin","rel"],Pr.math[t].group))&&(e="\\dotsb"),e});var m6={")":!0,"]":!0,"\\rbrack":!0,"\\}":!0,"\\rbrace":!0,"\\rangle":!0,"\\rceil":!0,"\\rfloor":!0,"\\rgroup":!0,"\\rmoustache":!0,"\\right":!0,"\\bigr":!0,"\\biggr":!0,"\\Bigr":!0,"\\Biggr":!0,$:!0,";":!0,".":!0,",":!0};q("\\dotso",function(r){var e=r.future().text;return e in m6?"\\ldots\\,":"\\ldots"});q("\\dotsc",function(r){var e=r.future().text;return e in m6&&e!==","?"\\ldots\\,":"\\ldots"});q("\\cdots",function(r){var e=r.future().text;return e in m6?"\\@cdots\\,":"\\@cdots"});q("\\dotsb","\\cdots");q("\\dotsm","\\cdots");q("\\dotsi","\\!\\cdots");q("\\dotsx","\\ldots\\,");q("\\DOTSI","\\relax");q("\\DOTSB","\\relax");q("\\DOTSX","\\relax");q("\\tmspace","\\TextOrMath{\\kern#1#3}{\\mskip#1#2}\\relax");q("\\,","\\tmspace+{3mu}{.1667em}");q("\\thinspace","\\,");q("\\>","\\mskip{4mu}");q("\\:","\\tmspace+{4mu}{.2222em}");q("\\medspace","\\:");q("\\;","\\tmspace+{5mu}{.2777em}");q("\\thickspace","\\;");q("\\!","\\tmspace-{3mu}{.1667em}");q("\\negthinspace","\\!");q("\\negmedspace","\\tmspace-{4mu}{.2222em}");q("\\negthickspace","\\tmspace-{5mu}{.277em}");q("\\enspace","\\kern.5em ");q("\\enskip","\\hskip.5em\\relax");q("\\quad","\\hskip1em\\relax");q("\\qquad","\\hskip2em\\relax");q("\\tag","\\@ifstar\\tag@literal\\tag@paren");q("\\tag@paren","\\tag@literal{({#1})}");q("\\tag@literal",r=>{if(r.macros.get("\\df@tag"))throw new We("Multiple \\tag");return"\\gdef\\df@tag{\\text{#1}}"});q("\\bmod","\\mathchoice{\\mskip1mu}{\\mskip1mu}{\\mskip5mu}{\\mskip5mu}\\mathbin{\\rm mod}\\mathchoice{\\mskip1mu}{\\mskip1mu}{\\mskip5mu}{\\mskip5mu}");q("\\pod","\\allowbreak\\mathchoice{\\mkern18mu}{\\mkern8mu}{\\mkern8mu}{\\mkern8mu}(#1)");q("\\pmod","\\pod{{\\rm mod}\\mkern6mu#1}");q("\\mod","\\allowbreak\\mathchoice{\\mkern18mu}{\\mkern12mu}{\\mkern12mu}{\\mkern12mu}{\\rm mod}\\,\\,#1");q("\\newline","\\\\\\relax");q("\\TeX","\\textrm{\\html@mathml{T\\kern-.1667em\\raisebox{-.5ex}{E}\\kern-.125emX}{TeX}}");var cH=Qe(Ao["Main-Regular"][84][1]-.7*Ao["Main-Regular"][65][1]);q("\\LaTeX","\\textrm{\\html@mathml{"+("L\\kern-.36em\\raisebox{"+cH+"}{\\scriptstyle A}")+"\\kern-.15em\\TeX}{LaTeX}}");q("\\KaTeX","\\textrm{\\html@mathml{"+("K\\kern-.17em\\raisebox{"+cH+"}{\\scriptstyle A}")+"\\kern-.15em\\TeX}{KaTeX}}");q("\\hspace","\\@ifstar\\@hspacer\\@hspace");q("\\@hspace","\\hskip #1\\relax");q("\\@hspacer","\\rule{0pt}{0pt}\\hskip #1\\relax");q("\\ordinarycolon",":");q("\\vcentcolon","\\mathrel{\\mathop\\ordinarycolon}");q("\\dblcolon",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-.9mu}\\vcentcolon}}{\\mathop{\\char"2237}}');q("\\coloneqq",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-1.2mu}=}}{\\mathop{\\char"2254}}');q("\\Coloneqq",'\\html@mathml{\\mathrel{\\dblcolon\\mathrel{\\mkern-1.2mu}=}}{\\mathop{\\char"2237\\char"3d}}');q("\\coloneq",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-1.2mu}\\mathrel{-}}}{\\mathop{\\char"3a\\char"2212}}');q("\\Coloneq",'\\html@mathml{\\mathrel{\\dblcolon\\mathrel{\\mkern-1.2mu}\\mathrel{-}}}{\\mathop{\\char"2237\\char"2212}}');q("\\eqqcolon",'\\html@mathml{\\mathrel{=\\mathrel{\\mkern-1.2mu}\\vcentcolon}}{\\mathop{\\char"2255}}');q("\\Eqqcolon",'\\html@mathml{\\mathrel{=\\mathrel{\\mkern-1.2mu}\\dblcolon}}{\\mathop{\\char"3d\\char"2237}}');q("\\eqcolon",'\\html@mathml{\\mathrel{\\mathrel{-}\\mathrel{\\mkern-1.2mu}\\vcentcolon}}{\\mathop{\\char"2239}}');q("\\Eqcolon",'\\html@mathml{\\mathrel{\\mathrel{-}\\mathrel{\\mkern-1.2mu}\\dblcolon}}{\\mathop{\\char"2212\\char"2237}}');q("\\colonapprox",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-1.2mu}\\approx}}{\\mathop{\\char"3a\\char"2248}}');q("\\Colonapprox",'\\html@mathml{\\mathrel{\\dblcolon\\mathrel{\\mkern-1.2mu}\\approx}}{\\mathop{\\char"2237\\char"2248}}');q("\\colonsim",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-1.2mu}\\sim}}{\\mathop{\\char"3a\\char"223c}}');q("\\Colonsim",'\\html@mathml{\\mathrel{\\dblcolon\\mathrel{\\mkern-1.2mu}\\sim}}{\\mathop{\\char"2237\\char"223c}}');q("\u2237","\\dblcolon");q("\u2239","\\eqcolon");q("\u2254","\\coloneqq");q("\u2255","\\eqqcolon");q("\u2A74","\\Coloneqq");q("\\ratio","\\vcentcolon");q("\\coloncolon","\\dblcolon");q("\\colonequals","\\coloneqq");q("\\coloncolonequals","\\Coloneqq");q("\\equalscolon","\\eqqcolon");q("\\equalscoloncolon","\\Eqqcolon");q("\\colonminus","\\coloneq");q("\\coloncolonminus","\\Coloneq");q("\\minuscolon","\\eqcolon");q("\\minuscoloncolon","\\Eqcolon");q("\\coloncolonapprox","\\Colonapprox");q("\\coloncolonsim","\\Colonsim");q("\\simcolon","\\mathrel{\\sim\\mathrel{\\mkern-1.2mu}\\vcentcolon}");q("\\simcoloncolon","\\mathrel{\\sim\\mathrel{\\mkern-1.2mu}\\dblcolon}");q("\\approxcolon","\\mathrel{\\approx\\mathrel{\\mkern-1.2mu}\\vcentcolon}");q("\\approxcoloncolon","\\mathrel{\\approx\\mathrel{\\mkern-1.2mu}\\dblcolon}");q("\\notni","\\html@mathml{\\not\\ni}{\\mathrel{\\char`\u220C}}");q("\\limsup","\\DOTSB\\operatorname*{lim\\,sup}");q("\\liminf","\\DOTSB\\operatorname*{lim\\,inf}");q("\\injlim","\\DOTSB\\operatorname*{inj\\,lim}");q("\\projlim","\\DOTSB\\operatorname*{proj\\,lim}");q("\\varlimsup","\\DOTSB\\operatorname*{\\overline{lim}}");q("\\varliminf","\\DOTSB\\operatorname*{\\underline{lim}}");q("\\varinjlim","\\DOTSB\\operatorname*{\\underrightarrow{lim}}");q("\\varprojlim","\\DOTSB\\operatorname*{\\underleftarrow{lim}}");q("\\gvertneqq","\\html@mathml{\\@gvertneqq}{\u2269}");q("\\lvertneqq","\\html@mathml{\\@lvertneqq}{\u2268}");q("\\ngeqq","\\html@mathml{\\@ngeqq}{\u2271}");q("\\ngeqslant","\\html@mathml{\\@ngeqslant}{\u2271}");q("\\nleqq","\\html@mathml{\\@nleqq}{\u2270}");q("\\nleqslant","\\html@mathml{\\@nleqslant}{\u2270}");q("\\nshortmid","\\html@mathml{\\@nshortmid}{\u2224}");q("\\nshortparallel","\\html@mathml{\\@nshortparallel}{\u2226}");q("\\nsubseteqq","\\html@mathml{\\@nsubseteqq}{\u2288}");q("\\nsupseteqq","\\html@mathml{\\@nsupseteqq}{\u2289}");q("\\varsubsetneq","\\html@mathml{\\@varsubsetneq}{\u228A}");q("\\varsubsetneqq","\\html@mathml{\\@varsubsetneqq}{\u2ACB}");q("\\varsupsetneq","\\html@mathml{\\@varsupsetneq}{\u228B}");q("\\varsupsetneqq","\\html@mathml{\\@varsupsetneqq}{\u2ACC}");q("\\imath","\\html@mathml{\\@imath}{\u0131}");q("\\jmath","\\html@mathml{\\@jmath}{\u0237}");q("\\llbracket","\\html@mathml{\\mathopen{[\\mkern-3.2mu[}}{\\mathopen{\\char`\u27E6}}");q("\\rrbracket","\\html@mathml{\\mathclose{]\\mkern-3.2mu]}}{\\mathclose{\\char`\u27E7}}");q("\u27E6","\\llbracket");q("\u27E7","\\rrbracket");q("\\lBrace","\\html@mathml{\\mathopen{\\{\\mkern-3.2mu[}}{\\mathopen{\\char`\u2983}}");q("\\rBrace","\\html@mathml{\\mathclose{]\\mkern-3.2mu\\}}}{\\mathclose{\\char`\u2984}}");q("\u2983","\\lBrace");q("\u2984","\\rBrace");q("\\minuso","\\mathbin{\\html@mathml{{\\mathrlap{\\mathchoice{\\kern{0.145em}}{\\kern{0.145em}}{\\kern{0.1015em}}{\\kern{0.0725em}}\\circ}{-}}}{\\char`\u29B5}}");q("\u29B5","\\minuso");q("\\darr","\\downarrow");q("\\dArr","\\Downarrow");q("\\Darr","\\Downarrow");q("\\lang","\\langle");q("\\rang","\\rangle");q("\\uarr","\\uparrow");q("\\uArr","\\Uparrow");q("\\Uarr","\\Uparrow");q("\\N","\\mathbb{N}");q("\\R","\\mathbb{R}");q("\\Z","\\mathbb{Z}");q("\\alef","\\aleph");q("\\alefsym","\\aleph");q("\\Alpha","\\mathrm{A}");q("\\Beta","\\mathrm{B}");q("\\bull","\\bullet");q("\\Chi","\\mathrm{X}");q("\\clubs","\\clubsuit");q("\\cnums","\\mathbb{C}");q("\\Complex","\\mathbb{C}");q("\\Dagger","\\ddagger");q("\\diamonds","\\diamondsuit");q("\\empty","\\emptyset");q("\\Epsilon","\\mathrm{E}");q("\\Eta","\\mathrm{H}");q("\\exist","\\exists");q("\\harr","\\leftrightarrow");q("\\hArr","\\Leftrightarrow");q("\\Harr","\\Leftrightarrow");q("\\hearts","\\heartsuit");q("\\image","\\Im");q("\\infin","\\infty");q("\\Iota","\\mathrm{I}");q("\\isin","\\in");q("\\Kappa","\\mathrm{K}");q("\\larr","\\leftarrow");q("\\lArr","\\Leftarrow");q("\\Larr","\\Leftarrow");q("\\lrarr","\\leftrightarrow");q("\\lrArr","\\Leftrightarrow");q("\\Lrarr","\\Leftrightarrow");q("\\Mu","\\mathrm{M}");q("\\natnums","\\mathbb{N}");q("\\Nu","\\mathrm{N}");q("\\Omicron","\\mathrm{O}");q("\\plusmn","\\pm");q("\\rarr","\\rightarrow");q("\\rArr","\\Rightarrow");q("\\Rarr","\\Rightarrow");q("\\real","\\Re");q("\\reals","\\mathbb{R}");q("\\Reals","\\mathbb{R}");q("\\Rho","\\mathrm{P}");q("\\sdot","\\cdot");q("\\sect","\\S");q("\\spades","\\spadesuit");q("\\sub","\\subset");q("\\sube","\\subseteq");q("\\supe","\\supseteq");q("\\Tau","\\mathrm{T}");q("\\thetasym","\\vartheta");q("\\weierp","\\wp");q("\\Zeta","\\mathrm{Z}");q("\\argmin","\\DOTSB\\operatorname*{arg\\,min}");q("\\argmax","\\DOTSB\\operatorname*{arg\\,max}");q("\\plim","\\DOTSB\\mathop{\\operatorname{plim}}\\limits");q("\\bra","\\mathinner{\\langle{#1}|}");q("\\ket","\\mathinner{|{#1}\\rangle}");q("\\braket","\\mathinner{\\langle{#1}\\rangle}");q("\\Bra","\\left\\langle#1\\right|");q("\\Ket","\\left|#1\\right\\rangle");var dH=r=>e=>{var t=e.consumeArg().tokens,n=e.consumeArg().tokens,i=e.consumeArg().tokens,a=e.consumeArg().tokens,o=e.macros.get("|"),s=e.macros.get("\\|");e.macros.beginGroup();var l=d=>f=>{r&&(f.macros.set("|",o),i.length&&f.macros.set("\\|",s));var m=d;if(!d&&i.length){var p=f.future();p.text==="|"&&(f.popToken(),m=!0)}return{tokens:m?i:n,numArgs:0}};e.macros.set("|",l(!1)),i.length&&e.macros.set("\\|",l(!0));var u=e.consumeArg().tokens,c=e.expandTokens([...a,...u,...t]);return e.macros.endGroup(),{tokens:c.reverse(),numArgs:0}};q("\\bra@ket",dH(!1));q("\\bra@set",dH(!0));q("\\Braket","\\bra@ket{\\left\\langle}{\\,\\middle\\vert\\,}{\\,\\middle\\vert\\,}{\\right\\rangle}");q("\\Set","\\bra@set{\\left\\{\\:}{\\;\\middle\\vert\\;}{\\;\\middle\\Vert\\;}{\\:\\right\\}}");q("\\set","\\bra@set{\\{\\,}{\\mid}{}{\\,\\}}");q("\\angln","{\\angl n}");q("\\blue","\\textcolor{##6495ed}{#1}");q("\\orange","\\textcolor{##ffa500}{#1}");q("\\pink","\\textcolor{##ff00af}{#1}");q("\\red","\\textcolor{##df0030}{#1}");q("\\green","\\textcolor{##28ae7b}{#1}");q("\\gray","\\textcolor{gray}{#1}");q("\\purple","\\textcolor{##9d38bd}{#1}");q("\\blueA","\\textcolor{##ccfaff}{#1}");q("\\blueB","\\textcolor{##80f6ff}{#1}");q("\\blueC","\\textcolor{##63d9ea}{#1}");q("\\blueD","\\textcolor{##11accd}{#1}");q("\\blueE","\\textcolor{##0c7f99}{#1}");q("\\tealA","\\textcolor{##94fff5}{#1}");q("\\tealB","\\textcolor{##26edd5}{#1}");q("\\tealC","\\textcolor{##01d1c1}{#1}");q("\\tealD","\\textcolor{##01a995}{#1}");q("\\tealE","\\textcolor{##208170}{#1}");q("\\greenA","\\textcolor{##b6ffb0}{#1}");q("\\greenB","\\textcolor{##8af281}{#1}");q("\\greenC","\\textcolor{##74cf70}{#1}");q("\\greenD","\\textcolor{##1fab54}{#1}");q("\\greenE","\\textcolor{##0d923f}{#1}");q("\\goldA","\\textcolor{##ffd0a9}{#1}");q("\\goldB","\\textcolor{##ffbb71}{#1}");q("\\goldC","\\textcolor{##ff9c39}{#1}");q("\\goldD","\\textcolor{##e07d10}{#1}");q("\\goldE","\\textcolor{##a75a05}{#1}");q("\\redA","\\textcolor{##fca9a9}{#1}");q("\\redB","\\textcolor{##ff8482}{#1}");q("\\redC","\\textcolor{##f9685d}{#1}");q("\\redD","\\textcolor{##e84d39}{#1}");q("\\redE","\\textcolor{##bc2612}{#1}");q("\\maroonA","\\textcolor{##ffbde0}{#1}");q("\\maroonB","\\textcolor{##ff92c6}{#1}");q("\\maroonC","\\textcolor{##ed5fa6}{#1}");q("\\maroonD","\\textcolor{##ca337c}{#1}");q("\\maroonE","\\textcolor{##9e034e}{#1}");q("\\purpleA","\\textcolor{##ddd7ff}{#1}");q("\\purpleB","\\textcolor{##c6b9fc}{#1}");q("\\purpleC","\\textcolor{##aa87ff}{#1}");q("\\purpleD","\\textcolor{##7854ab}{#1}");q("\\purpleE","\\textcolor{##543b78}{#1}");q("\\mintA","\\textcolor{##f5f9e8}{#1}");q("\\mintB","\\textcolor{##edf2df}{#1}");q("\\mintC","\\textcolor{##e0e5cc}{#1}");q("\\grayA","\\textcolor{##f6f7f7}{#1}");q("\\grayB","\\textcolor{##f0f1f2}{#1}");q("\\grayC","\\textcolor{##e3e5e6}{#1}");q("\\grayD","\\textcolor{##d6d8da}{#1}");q("\\grayE","\\textcolor{##babec2}{#1}");q("\\grayF","\\textcolor{##888d93}{#1}");q("\\grayG","\\textcolor{##626569}{#1}");q("\\grayH","\\textcolor{##3b3e40}{#1}");q("\\grayI","\\textcolor{##21242c}{#1}");q("\\kaBlue","\\textcolor{##314453}{#1}");q("\\kaGreen","\\textcolor{##71B307}{#1}");var fH={"^":!0,_:!0,"\\limits":!0,"\\nolimits":!0},K5=class{constructor(e,t,n){this.settings=void 0,this.expansionCount=void 0,this.lexer=void 0,this.macros=void 0,this.stack=void 0,this.mode=void 0,this.settings=t,this.expansionCount=0,this.feed(e),this.macros=new X5(Xpe,t.macros),this.mode=n,this.stack=[]}feed(e){this.lexer=new a1(e,this.settings)}switchMode(e){this.mode=e}beginGroup(){this.macros.beginGroup()}endGroup(){this.macros.endGroup()}endGroups(){this.macros.endGroups()}future(){return this.stack.length===0&&this.pushToken(this.lexer.lex()),this.stack[this.stack.length-1]}popToken(){return this.future(),this.stack.pop()}pushToken(e){this.stack.push(e)}pushTokens(e){this.stack.push(...e)}scanArgument(e){var t,n,i;if(e){if(this.consumeSpaces(),this.future().text!=="[")return null;t=this.popToken(),{tokens:i,end:n}=this.consumeArg(["]"])}else({tokens:i,start:t,end:n}=this.consumeArg());return this.pushToken(new Aa("EOF",n.loc)),this.pushTokens(i),t.range(n,"")}consumeSpaces(){for(;;){var e=this.future();if(e.text===" ")this.stack.pop();else break}}consumeArg(e){var t=[],n=e&&e.length>0;n||this.consumeSpaces();var i=this.future(),a,o=0,s=0;do{if(a=this.popToken(),t.push(a),a.text==="{")++o;else if(a.text==="}"){if(--o,o===-1)throw new We("Extra }",a)}else if(a.text==="EOF")throw new We("Unexpected end of input in a macro argument, expected '"+(e&&n?e[s]:"}")+"'",a);if(e&&n)if((o===0||o===1&&e[s]==="{")&&a.text===e[s]){if(++s,s===e.length){t.splice(-s,s);break}}else s=0}while(o!==0||n);return i.text==="{"&&t[t.length-1].text==="}"&&(t.pop(),t.shift()),t.reverse(),{tokens:t,start:i,end:a}}consumeArgs(e,t){if(t){if(t.length!==e+1)throw new We("The length of delimiters doesn't match the number of args!");for(var n=t[0],i=0;i<n.length;i++){var a=this.popToken();if(n[i]!==a.text)throw new We("Use of the macro doesn't match its definition",a)}}for(var o=[],s=0;s<e;s++)o.push(this.consumeArg(t&&t[s+1]).tokens);return o}countExpansion(e){if(this.expansionCount+=e,this.expansionCount>this.settings.maxExpand)throw new We("Too many expansions: infinite loop or need to increase maxExpand setting")}expandOnce(e){var t=this.popToken(),n=t.text,i=t.noexpand?null:this._getExpansion(n);if(i==null||e&&i.unexpandable){if(e&&i==null&&n[0]==="\\"&&!this.isDefined(n))throw new We("Undefined control sequence: "+n);return this.pushToken(t),!1}this.countExpansion(1);var a=i.tokens,o=this.consumeArgs(i.numArgs,i.delimiters);if(i.numArgs){a=a.slice();for(var s=a.length-1;s>=0;--s){var l=a[s];if(l.text==="#"){if(s===0)throw new We("Incomplete placeholder at end of macro body",l);if(l=a[--s],l.text==="#")a.splice(s+1,1);else if(/^[1-9]$/.test(l.text))a.splice(s,2,...o[+l.text-1]);else throw new We("Not a valid argument number",l)}}}return this.pushTokens(a),a.length}expandAfterFuture(){return this.expandOnce(),this.future()}expandNextToken(){for(;;)if(this.expandOnce()===!1){var e=this.stack.pop();return e.treatAsRelax&&(e.text="\\relax"),e}throw new Error}expandMacro(e){return this.macros.has(e)?this.expandTokens([new Aa(e)]):void 0}expandTokens(e){var t=[],n=this.stack.length;for(this.pushTokens(e);this.stack.length>n;)if(this.expandOnce(!0)===!1){var i=this.stack.pop();i.treatAsRelax&&(i.noexpand=!1,i.treatAsRelax=!1),t.push(i)}return this.countExpansion(t.length),t}expandMacroAsText(e){var t=this.expandMacro(e);return t&&t.map(n=>n.text).join("")}_getExpansion(e){var t=this.macros.get(e);if(t==null)return t;if(e.length===1){var n=this.lexer.catcodes[e];if(n!=null&&n!==13)return}var i=typeof t=="function"?t(this):t;if(typeof i=="string"){var a=0;if(i.indexOf("#")!==-1)for(var o=i.replace(/##/g,"");o.indexOf("#"+(a+1))!==-1;)++a;for(var s=new a1(i,this.settings),l=[],u=s.lex();u.text!=="EOF";)l.push(u),u=s.lex();l.reverse();var c={tokens:l,numArgs:a};return c}return i}isDefined(e){return this.macros.has(e)||bl.hasOwnProperty(e)||Pr.math.hasOwnProperty(e)||Pr.text.hasOwnProperty(e)||fH.hasOwnProperty(e)}isExpandable(e){var t=this.macros.get(e);return t!=null?typeof t=="string"||typeof t=="function"||!t.unexpandable:bl.hasOwnProperty(e)&&!bl[e].primitive}},x$=/^[]/,Kv=Object.freeze({"\u208A":"+","\u208B":"-","\u208C":"=","\u208D":"(","\u208E":")","\u2080":"0","\u2081":"1","\u2082":"2","\u2083":"3","\u2084":"4","\u2085":"5","\u2086":"6","\u2087":"7","\u2088":"8","\u2089":"9","\u2090":"a","\u2091":"e","\u2095":"h","\u1D62":"i","\u2C7C":"j","\u2096":"k","\u2097":"l","\u2098":"m","\u2099":"n","\u2092":"o","\u209A":"p","\u1D63":"r","\u209B":"s","\u209C":"t","\u1D64":"u","\u1D65":"v","\u2093":"x","\u1D66":"\u03B2","\u1D67":"\u03B3","\u1D68":"\u03C1","\u1D69":"\u03D5","\u1D6A":"\u03C7","\u207A":"+","\u207B":"-","\u207C":"=","\u207D":"(","\u207E":")","\u2070":"0","\xB9":"1","\xB2":"2","\xB3":"3","\u2074":"4","\u2075":"5","\u2076":"6","\u2077":"7","\u2078":"8","\u2079":"9","\u1D2C":"A","\u1D2E":"B","\u1D30":"D","\u1D31":"E","\u1D33":"G","\u1D34":"H","\u1D35":"I","\u1D36":"J","\u1D37":"K","\u1D38":"L","\u1D39":"M","\u1D3A":"N","\u1D3C":"O","\u1D3E":"P","\u1D3F":"R","\u1D40":"T","\u1D41":"U","\u2C7D":"V","\u1D42":"W","\u1D43":"a","\u1D47":"b","\u1D9C":"c","\u1D48":"d","\u1D49":"e","\u1DA0":"f","\u1D4D":"g",\u02B0:"h","\u2071":"i",\u02B2:"j","\u1D4F":"k",\u02E1:"l","\u1D50":"m",\u207F:"n","\u1D52":"o","\u1D56":"p",\u02B3:"r",\u02E2:"s","\u1D57":"t","\u1D58":"u","\u1D5B":"v",\u02B7:"w",\u02E3:"x",\u02B8:"y","\u1DBB":"z","\u1D5D":"\u03B2","\u1D5E":"\u03B3","\u1D5F":"\u03B4","\u1D60":"\u03D5","\u1D61":"\u03C7","\u1DBF":"\u03B8"}),z5={"\u0301":{text:"\\'",math:"\\acute"},"\u0300":{text:"\\`",math:"\\grave"},"\u0308":{text:'\\"',math:"\\ddot"},"\u0303":{text:"\\~",math:"\\tilde"},"\u0304":{text:"\\=",math:"\\bar"},"\u0306":{text:"\\u",math:"\\breve"},"\u030C":{text:"\\v",math:"\\check"},"\u0302":{text:"\\^",math:"\\hat"},"\u0307":{text:"\\.",math:"\\dot"},"\u030A":{text:"\\r",math:"\\mathring"},"\u030B":{text:"\\H"},"\u0327":{text:"\\c"}},y$={\u00E1:"a\u0301",\u00E0:"a\u0300",\u00E4:"a\u0308",\u01DF:"a\u0308\u0304",\u00E3:"a\u0303",\u0101:"a\u0304",\u0103:"a\u0306",\u1EAF:"a\u0306\u0301",\u1EB1:"a\u0306\u0300",\u1EB5:"a\u0306\u0303",\u01CE:"a\u030C",\u00E2:"a\u0302",\u1EA5:"a\u0302\u0301",\u1EA7:"a\u0302\u0300",\u1EAB:"a\u0302\u0303",\u0227:"a\u0307",\u01E1:"a\u0307\u0304",\u00E5:"a\u030A",\u01FB:"a\u030A\u0301",\u1E03:"b\u0307",\u0107:"c\u0301",\u1E09:"c\u0327\u0301",\u010D:"c\u030C",\u0109:"c\u0302",\u010B:"c\u0307",\u00E7:"c\u0327",\u010F:"d\u030C",\u1E0B:"d\u0307",\u1E11:"d\u0327",\u00E9:"e\u0301",\u00E8:"e\u0300",\u00EB:"e\u0308",\u1EBD:"e\u0303",\u0113:"e\u0304",\u1E17:"e\u0304\u0301",\u1E15:"e\u0304\u0300",\u0115:"e\u0306",\u1E1D:"e\u0327\u0306",\u011B:"e\u030C",\u00EA:"e\u0302",\u1EBF:"e\u0302\u0301",\u1EC1:"e\u0302\u0300",\u1EC5:"e\u0302\u0303",\u0117:"e\u0307",\u0229:"e\u0327",\u1E1F:"f\u0307",\u01F5:"g\u0301",\u1E21:"g\u0304",\u011F:"g\u0306",\u01E7:"g\u030C",\u011D:"g\u0302",\u0121:"g\u0307",\u0123:"g\u0327",\u1E27:"h\u0308",\u021F:"h\u030C",\u0125:"h\u0302",\u1E23:"h\u0307",\u1E29:"h\u0327",\u00ED:"i\u0301",\u00EC:"i\u0300",\u00EF:"i\u0308",\u1E2F:"i\u0308\u0301",\u0129:"i\u0303",\u012B:"i\u0304",\u012D:"i\u0306",\u01D0:"i\u030C",\u00EE:"i\u0302",\u01F0:"j\u030C",\u0135:"j\u0302",\u1E31:"k\u0301",\u01E9:"k\u030C",\u0137:"k\u0327",\u013A:"l\u0301",\u013E:"l\u030C",\u013C:"l\u0327",\u1E3F:"m\u0301",\u1E41:"m\u0307",\u0144:"n\u0301",\u01F9:"n\u0300",\u00F1:"n\u0303",\u0148:"n\u030C",\u1E45:"n\u0307",\u0146:"n\u0327",\u00F3:"o\u0301",\u00F2:"o\u0300",\u00F6:"o\u0308",\u022B:"o\u0308\u0304",\u00F5:"o\u0303",\u1E4D:"o\u0303\u0301",\u1E4F:"o\u0303\u0308",\u022D:"o\u0303\u0304",\u014D:"o\u0304",\u1E53:"o\u0304\u0301",\u1E51:"o\u0304\u0300",\u014F:"o\u0306",\u01D2:"o\u030C",\u00F4:"o\u0302",\u1ED1:"o\u0302\u0301",\u1ED3:"o\u0302\u0300",\u1ED7:"o\u0302\u0303",\u022F:"o\u0307",\u0231:"o\u0307\u0304",\u0151:"o\u030B",\u1E55:"p\u0301",\u1E57:"p\u0307",\u0155:"r\u0301",\u0159:"r\u030C",\u1E59:"r\u0307",\u0157:"r\u0327",\u015B:"s\u0301",\u1E65:"s\u0301\u0307",\u0161:"s\u030C",\u1E67:"s\u030C\u0307",\u015D:"s\u0302",\u1E61:"s\u0307",\u015F:"s\u0327",\u1E97:"t\u0308",\u0165:"t\u030C",\u1E6B:"t\u0307",\u0163:"t\u0327",\u00FA:"u\u0301",\u00F9:"u\u0300",\u00FC:"u\u0308",\u01D8:"u\u0308\u0301",\u01DC:"u\u0308\u0300",\u01D6:"u\u0308\u0304",\u01DA:"u\u0308\u030C",\u0169:"u\u0303",\u1E79:"u\u0303\u0301",\u016B:"u\u0304",\u1E7B:"u\u0304\u0308",\u016D:"u\u0306",\u01D4:"u\u030C",\u00FB:"u\u0302",\u016F:"u\u030A",\u0171:"u\u030B",\u1E7D:"v\u0303",\u1E83:"w\u0301",\u1E81:"w\u0300",\u1E85:"w\u0308",\u0175:"w\u0302",\u1E87:"w\u0307",\u1E98:"w\u030A",\u1E8D:"x\u0308",\u1E8B:"x\u0307",\u00FD:"y\u0301",\u1EF3:"y\u0300",\u00FF:"y\u0308",\u1EF9:"y\u0303",\u0233:"y\u0304",\u0177:"y\u0302",\u1E8F:"y\u0307",\u1E99:"y\u030A",\u017A:"z\u0301",\u017E:"z\u030C",\u1E91:"z\u0302",\u017C:"z\u0307",\u00C1:"A\u0301",\u00C0:"A\u0300",\u00C4:"A\u0308",\u01DE:"A\u0308\u0304",\u00C3:"A\u0303",\u0100:"A\u0304",\u0102:"A\u0306",\u1EAE:"A\u0306\u0301",\u1EB0:"A\u0306\u0300",\u1EB4:"A\u0306\u0303",\u01CD:"A\u030C",\u00C2:"A\u0302",\u1EA4:"A\u0302\u0301",\u1EA6:"A\u0302\u0300",\u1EAA:"A\u0302\u0303",\u0226:"A\u0307",\u01E0:"A\u0307\u0304",\u00C5:"A\u030A",\u01FA:"A\u030A\u0301",\u1E02:"B\u0307",\u0106:"C\u0301",\u1E08:"C\u0327\u0301",\u010C:"C\u030C",\u0108:"C\u0302",\u010A:"C\u0307",\u00C7:"C\u0327",\u010E:"D\u030C",\u1E0A:"D\u0307",\u1E10:"D\u0327",\u00C9:"E\u0301",\u00C8:"E\u0300",\u00CB:"E\u0308",\u1EBC:"E\u0303",\u0112:"E\u0304",\u1E16:"E\u0304\u0301",\u1E14:"E\u0304\u0300",\u0114:"E\u0306",\u1E1C:"E\u0327\u0306",\u011A:"E\u030C",\u00CA:"E\u0302",\u1EBE:"E\u0302\u0301",\u1EC0:"E\u0302\u0300",\u1EC4:"E\u0302\u0303",\u0116:"E\u0307",\u0228:"E\u0327",\u1E1E:"F\u0307",\u01F4:"G\u0301",\u1E20:"G\u0304",\u011E:"G\u0306",\u01E6:"G\u030C",\u011C:"G\u0302",\u0120:"G\u0307",\u0122:"G\u0327",\u1E26:"H\u0308",\u021E:"H\u030C",\u0124:"H\u0302",\u1E22:"H\u0307",\u1E28:"H\u0327",\u00CD:"I\u0301",\u00CC:"I\u0300",\u00CF:"I\u0308",\u1E2E:"I\u0308\u0301",\u0128:"I\u0303",\u012A:"I\u0304",\u012C:"I\u0306",\u01CF:"I\u030C",\u00CE:"I\u0302",\u0130:"I\u0307",\u0134:"J\u0302",\u1E30:"K\u0301",\u01E8:"K\u030C",\u0136:"K\u0327",\u0139:"L\u0301",\u013D:"L\u030C",\u013B:"L\u0327",\u1E3E:"M\u0301",\u1E40:"M\u0307",\u0143:"N\u0301",\u01F8:"N\u0300",\u00D1:"N\u0303",\u0147:"N\u030C",\u1E44:"N\u0307",\u0145:"N\u0327",\u00D3:"O\u0301",\u00D2:"O\u0300",\u00D6:"O\u0308",\u022A:"O\u0308\u0304",\u00D5:"O\u0303",\u1E4C:"O\u0303\u0301",\u1E4E:"O\u0303\u0308",\u022C:"O\u0303\u0304",\u014C:"O\u0304",\u1E52:"O\u0304\u0301",\u1E50:"O\u0304\u0300",\u014E:"O\u0306",\u01D1:"O\u030C",\u00D4:"O\u0302",\u1ED0:"O\u0302\u0301",\u1ED2:"O\u0302\u0300",\u1ED6:"O\u0302\u0303",\u022E:"O\u0307",\u0230:"O\u0307\u0304",\u0150:"O\u030B",\u1E54:"P\u0301",\u1E56:"P\u0307",\u0154:"R\u0301",\u0158:"R\u030C",\u1E58:"R\u0307",\u0156:"R\u0327",\u015A:"S\u0301",\u1E64:"S\u0301\u0307",\u0160:"S\u030C",\u1E66:"S\u030C\u0307",\u015C:"S\u0302",\u1E60:"S\u0307",\u015E:"S\u0327",\u0164:"T\u030C",\u1E6A:"T\u0307",\u0162:"T\u0327",\u00DA:"U\u0301",\u00D9:"U\u0300",\u00DC:"U\u0308",\u01D7:"U\u0308\u0301",\u01DB:"U\u0308\u0300",\u01D5:"U\u0308\u0304",\u01D9:"U\u0308\u030C",\u0168:"U\u0303",\u1E78:"U\u0303\u0301",\u016A:"U\u0304",\u1E7A:"U\u0304\u0308",\u016C:"U\u0306",\u01D3:"U\u030C",\u00DB:"U\u0302",\u016E:"U\u030A",\u0170:"U\u030B",\u1E7C:"V\u0303",\u1E82:"W\u0301",\u1E80:"W\u0300",\u1E84:"W\u0308",\u0174:"W\u0302",\u1E86:"W\u0307",\u1E8C:"X\u0308",\u1E8A:"X\u0307",\u00DD:"Y\u0301",\u1EF2:"Y\u0300",\u0178:"Y\u0308",\u1EF8:"Y\u0303",\u0232:"Y\u0304",\u0176:"Y\u0302",\u1E8E:"Y\u0307",\u0179:"Z\u0301",\u017D:"Z\u030C",\u1E90:"Z\u0302",\u017B:"Z\u0307",\u03AC:"\u03B1\u0301",\u1F70:"\u03B1\u0300",\u1FB1:"\u03B1\u0304",\u1FB0:"\u03B1\u0306",\u03AD:"\u03B5\u0301",\u1F72:"\u03B5\u0300",\u03AE:"\u03B7\u0301",\u1F74:"\u03B7\u0300",\u03AF:"\u03B9\u0301",\u1F76:"\u03B9\u0300",\u03CA:"\u03B9\u0308",\u0390:"\u03B9\u0308\u0301",\u1FD2:"\u03B9\u0308\u0300",\u1FD1:"\u03B9\u0304",\u1FD0:"\u03B9\u0306",\u03CC:"\u03BF\u0301",\u1F78:"\u03BF\u0300",\u03CD:"\u03C5\u0301",\u1F7A:"\u03C5\u0300",\u03CB:"\u03C5\u0308",\u03B0:"\u03C5\u0308\u0301",\u1FE2:"\u03C5\u0308\u0300",\u1FE1:"\u03C5\u0304",\u1FE0:"\u03C5\u0306",\u03CE:"\u03C9\u0301",\u1F7C:"\u03C9\u0300",\u038E:"\u03A5\u0301",\u1FEA:"\u03A5\u0300",\u03AB:"\u03A5\u0308",\u1FE9:"\u03A5\u0304",\u1FE8:"\u03A5\u0306",\u038F:"\u03A9\u0301",\u1FFA:"\u03A9\u0300"},Kpe=(()=>{class r{constructor(t,n){this.mode=void 0,this.gullet=void 0,this.settings=void 0,this.leftrightDepth=void 0,this.nextToken=void 0,this.mode="math",this.gullet=new K5(t,n,this.mode),this.settings=n,this.leftrightDepth=0}expect(t,n){if(n===void 0&&(n=!0),this.fetch().text!==t)throw new We("Expected '"+t+"', got '"+this.fetch().text+"'",this.fetch());n&&this.consume()}consume(){this.nextToken=null}fetch(){return this.nextToken==null&&(this.nextToken=this.gullet.expandNextToken()),this.nextToken}switchMode(t){this.mode=t,this.gullet.switchMode(t)}parse(){this.settings.globalGroup||this.gullet.beginGroup(),this.settings.colorIsTextColor&&this.gullet.macros.set("\\color","\\textcolor");try{var t=this.parseExpression(!1);return this.expect("EOF"),this.settings.globalGroup||this.gullet.endGroup(),t}finally{this.gullet.endGroups()}}subparse(t){var n=this.nextToken;this.consume(),this.gullet.pushToken(new Aa("}")),this.gullet.pushTokens(t);var i=this.parseExpression(!1);return this.expect("}"),this.nextToken=n,i}parseExpression(t,n){for(var i=[];;){this.mode==="math"&&this.consumeSpaces();var a=this.fetch();if(r.endOfExpression.indexOf(a.text)!==-1||n&&a.text===n||t&&bl[a.text]&&bl[a.text].infix)break;var o=this.parseAtom(n);if(o){if(o.type==="internal")continue}else break;i.push(o)}return this.mode==="text"&&this.formLigatures(i),this.handleInfixNodes(i)}handleInfixNodes(t){for(var n=-1,i,a=0;a<t.length;a++)if(t[a].type==="infix"){if(n!==-1)throw new We("only one infix operator per group",t[a].token);n=a,i=t[a].replaceWith}if(n!==-1&&i){var o,s,l=t.slice(0,n),u=t.slice(n+1);l.length===1&&l[0].type==="ordgroup"?o=l[0]:o={type:"ordgroup",mode:this.mode,body:l},u.length===1&&u[0].type==="ordgroup"?s=u[0]:s={type:"ordgroup",mode:this.mode,body:u};var c;return i==="\\\\abovefrac"?c=this.callFunction(i,[o,t[n],s],[]):c=this.callFunction(i,[o,s],[]),[c]}else return t}handleSupSubscript(t){var n=this.fetch(),i=n.text;this.consume(),this.consumeSpaces();var a;do{var o;a=this.parseGroup(t)}while(((o=a)==null?void 0:o.type)==="internal");if(!a)throw new We("Expected group after '"+i+"'",n);return a}formatUnsupportedCmd(t){for(var n=[],i=0;i<t.length;i++)n.push({type:"textord",mode:"text",text:t[i]});var a={type:"text",mode:this.mode,body:n},o={type:"color",mode:this.mode,color:this.settings.errorColor,body:[a]};return o}parseAtom(t){var n=this.parseGroup("atom",t);if((n==null?void 0:n.type)==="internal"||this.mode==="text")return n;for(var i,a;;){this.consumeSpaces();var o=this.fetch();if(o.text==="\\limits"||o.text==="\\nolimits"){if(n&&n.type==="op"){var s=o.text==="\\limits";n.limits=s,n.alwaysHandleSupSub=!0}else if(n&&n.type==="operatorname")n.alwaysHandleSupSub&&(n.limits=o.text==="\\limits");else throw new We("Limit controls must follow a math operator",o);this.consume()}else if(o.text==="^"){if(i)throw new We("Double superscript",o);i=this.handleSupSubscript("superscript")}else if(o.text==="_"){if(a)throw new We("Double subscript",o);a=this.handleSupSubscript("subscript")}else if(o.text==="'"){if(i)throw new We("Double superscript",o);var l={type:"textord",mode:this.mode,text:"\\prime"},u=[l];for(this.consume();this.fetch().text==="'";)u.push(l),this.consume();this.fetch().text==="^"&&u.push(this.handleSupSubscript("superscript")),i={type:"ordgroup",mode:this.mode,body:u}}else if(Kv[o.text]){var c=x$.test(o.text),d=[];for(d.push(new Aa(Kv[o.text])),this.consume();;){var f=this.fetch().text;if(!Kv[f]||x$.test(f)!==c)break;d.unshift(new Aa(Kv[f])),this.consume()}var m=this.subparse(d);c?a={type:"ordgroup",mode:"math",body:m}:i={type:"ordgroup",mode:"math",body:m}}else break}return i||a?{type:"supsub",mode:this.mode,base:n,sup:i,sub:a}:n}parseFunction(t,n){var i=this.fetch(),a=i.text,o=bl[a];if(!o)return null;if(this.consume(),n&&n!=="atom"&&!o.allowedInArgument)throw new We("Got function '"+a+"' with no arguments"+(n?" as "+n:""),i);if(this.mode==="text"&&!o.allowedInText)throw new We("Can't use function '"+a+"' in text mode",i);if(this.mode==="math"&&o.allowedInMath===!1)throw new We("Can't use function '"+a+"' in math mode",i);var{args:s,optArgs:l}=this.parseArguments(a,o);return this.callFunction(a,s,l,i,t)}callFunction(t,n,i,a,o){var s={funcName:t,parser:this,token:a,breakOnTokenText:o},l=bl[t];if(l&&l.handler)return l.handler(s,n,i);throw new We("No function handler for "+t)}parseArguments(t,n){var i=n.numArgs+n.numOptionalArgs;if(i===0)return{args:[],optArgs:[]};for(var a=[],o=[],s=0;s<i;s++){var l=n.argTypes&&n.argTypes[s],u=s<n.numOptionalArgs;(n.primitive&&l==null||n.type==="sqrt"&&s===1&&o[0]==null)&&(l="primitive");var c=this.parseGroupOfType("argument to '"+t+"'",l,u);if(u)o.push(c);else if(c!=null)a.push(c);else throw new We("Null argument, please report this as a bug")}return{args:a,optArgs:o}}parseGroupOfType(t,n,i){switch(n){case"color":return this.parseColorGroup(i);case"size":return this.parseSizeGroup(i);case"url":return this.parseUrlGroup(i);case"math":case"text":return this.parseArgumentGroup(i,n);case"hbox":{var a=this.parseArgumentGroup(i,"text");return a!=null?{type:"styling",mode:a.mode,body:[a],style:"text"}:null}case"raw":{var o=this.parseStringGroup("raw",i);return o!=null?{type:"raw",mode:"text",string:o.text}:null}case"primitive":{if(i)throw new We("A primitive argument cannot be optional");var s=this.parseGroup(t);if(s==null)throw new We("Expected group as "+t,this.fetch());return s}case"original":case null:case void 0:return this.parseArgumentGroup(i);default:throw new We("Unknown group type as "+t,this.fetch())}}consumeSpaces(){for(;this.fetch().text===" ";)this.consume()}parseStringGroup(t,n){var i=this.gullet.scanArgument(n);if(i==null)return null;for(var a="",o;(o=this.fetch()).text!=="EOF";)a+=o.text,this.consume();return this.consume(),i.text=a,i}parseRegexGroup(t,n){for(var i=this.fetch(),a=i,o="",s;(s=this.fetch()).text!=="EOF"&&t.test(o+s.text);)a=s,o+=a.text,this.consume();if(o==="")throw new We("Invalid "+n+": '"+i.text+"'",i);return i.range(a,o)}parseColorGroup(t){var n=this.parseStringGroup("color",t);if(n==null)return null;var i=/^(#[a-f0-9]{3}|#?[a-f0-9]{6}|[a-z]+)$/i.exec(n.text);if(!i)throw new We("Invalid color: '"+n.text+"'",n);var a=i[0];return/^[0-9a-f]{6}$/i.test(a)&&(a="#"+a),{type:"color-token",mode:this.mode,color:a}}parseSizeGroup(t){var n,i=!1;if(this.gullet.consumeSpaces(),!t&&this.gullet.future().text!=="{"?n=this.parseRegexGroup(/^[-+]? *(?:$|\d+|\d+\.\d*|\.\d*) *[a-z]{0,2} *$/,"size"):n=this.parseStringGroup("size",t),!n)return null;!t&&n.text.length===0&&(n.text="0pt",i=!0);var a=/([-+]?) *(\d+(?:\.\d*)?|\.\d+) *([a-z]{2})/.exec(n.text);if(!a)throw new We("Invalid size: '"+n.text+"'",n);var o={number:+(a[1]+a[2]),unit:a[3]};if(!_$(o))throw new We("Invalid unit: '"+o.unit+"'",n);return{type:"size",mode:this.mode,value:o,isBlank:i}}parseUrlGroup(t){this.gullet.lexer.setCatcode("%",13),this.gullet.lexer.setCatcode("~",12);var n=this.parseStringGroup("url",t);if(this.gullet.lexer.setCatcode("%",14),this.gullet.lexer.setCatcode("~",13),n==null)return null;var i=n.text.replace(/\\([#$%&~_^{}])/g,"$1");return{type:"url",mode:this.mode,url:i}}parseArgumentGroup(t,n){var i=this.gullet.scanArgument(t);if(i==null)return null;var a=this.mode;n&&this.switchMode(n),this.gullet.beginGroup();var o=this.parseExpression(!1,"EOF");this.expect("EOF"),this.gullet.endGroup();var s={type:"ordgroup",mode:this.mode,loc:i.loc,body:o};return n&&this.switchMode(a),s}parseGroup(t,n){var i=this.fetch(),a=i.text,o;if(a==="{"||a==="\\begingroup"){this.consume();var s=a==="{"?"}":"\\endgroup";this.gullet.beginGroup();var l=this.parseExpression(!1,s),u=this.fetch();this.expect(s),this.gullet.endGroup(),o={type:"ordgroup",mode:this.mode,loc:Ji.range(i,u),body:l,semisimple:a==="\\begingroup"||void 0}}else if(o=this.parseFunction(n,t)||this.parseSymbol(),o==null&&a[0]==="\\"&&!fH.hasOwnProperty(a)){if(this.settings.throwOnError)throw new We("Undefined control sequence: "+a,i);o=this.formatUnsupportedCmd(a),this.consume()}return o}formLigatures(t){for(var n=t.length-1,i=0;i<n;++i){var a=t[i],o=a.text;o==="-"&&t[i+1].text==="-"&&(i+1<n&&t[i+2].text==="-"?(t.splice(i,3,{type:"textord",mode:"text",loc:Ji.range(a,t[i+2]),text:"---"}),n-=2):(t.splice(i,2,{type:"textord",mode:"text",loc:Ji.range(a,t[i+1]),text:"--"}),n-=1)),(o==="'"||o==="`")&&t[i+1].text===o&&(t.splice(i,2,{type:"textord",mode:"text",loc:Ji.range(a,t[i+1]),text:o+o}),n-=1)}}parseSymbol(){var t=this.fetch(),n=t.text;if(/^\\verb[^a-zA-Z]/.test(n)){this.consume();var i=n.slice(5),a=i.charAt(0)==="*";if(a&&(i=i.slice(1)),i.length<2||i.charAt(0)!==i.slice(-1))throw new We(`\\verb assertion failed --
                    please report what input caused this bug`);return i=i.slice(1,-1),{type:"verb",mode:"text",body:i,star:a}}y$.hasOwnProperty(n[0])&&!Pr[this.mode][n[0]]&&(this.settings.strict&&this.mode==="math"&&this.settings.reportNonstrict("unicodeTextInMathMode",'Accented Unicode text character "'+n[0]+'" used in math mode',t),n=y$[n[0]]+n.slice(1));var o=Ype.exec(n);o&&(n=n.substring(0,o.index),n==="i"?n="\u0131":n==="j"&&(n="\u0237"));var s;if(Pr[this.mode][n]){this.settings.strict&&this.mode==="math"&&j5.indexOf(n)>=0&&this.settings.reportNonstrict("unicodeTextInMathMode",'Latin-1/Unicode text character "'+n[0]+'" used in math mode',t);var l=Pr[this.mode][n].group,u=Ji.range(t),c;if(Uhe.hasOwnProperty(l)){var d=l;c={type:"atom",mode:this.mode,family:d,loc:u,text:n}}else c={type:l,mode:this.mode,loc:u,text:n};s=c}else if(n.charCodeAt(0)>=128)this.settings.strict&&(w$(n.charCodeAt(0))?this.mode==="math"&&this.settings.reportNonstrict("unicodeTextInMathMode",'Unicode text character "'+n[0]+'" used in math mode',t):this.settings.reportNonstrict("unknownSymbol",'Unrecognized Unicode character "'+n[0]+'"'+(" ("+n.charCodeAt(0)+")"),t)),s={type:"textord",mode:"text",loc:Ji.range(t),text:n};else return null;if(this.consume(),o)for(var f=0;f<o[0].length;f++){var m=o[0][f];if(!z5[m])throw new We("Unknown accent ' "+m+"'",t);var p=z5[m][this.mode]||z5[m].text;if(!p)throw new We("Accent "+m+" unsupported in "+this.mode+" mode",t);s={type:"accent",mode:this.mode,loc:Ji.range(t),label:p,isStretchy:!1,isShifty:!0,base:s}}return s}}return r.endOfExpression=["}","\\endgroup","\\end","\\right","&"],r})(),h6=function(e,t){if(!(typeof e=="string"||e instanceof String))throw new TypeError("KaTeX can only parse string typed expression");var n=new Kpe(e,t);delete n.gullet.macros.current["\\df@tag"];var i=n.parse();if(delete n.gullet.macros.current["\\current@color"],delete n.gullet.macros.current["\\color"],n.gullet.macros.get("\\df@tag")){if(!t.displayMode)throw new We("\\tag works only in display equations");i=[{type:"tag",mode:"text",body:i,tag:n.subparse([new Aa("\\df@tag")])}]}return i},mH=function(e,t,n){t.textContent="";var i=p6(e,n).toNode();t.appendChild(i)};typeof document<"u"&&document.compatMode!=="CSS1Compat"&&(typeof console<"u"&&console.warn("Warning: KaTeX doesn't work in quirks mode. Make sure your website has a suitable doctype."),mH=function(){throw new We("KaTeX doesn't work in quirks mode.")});var Jpe=function(e,t){var n=p6(e,t).toMarkup();return n},Qpe=function(e,t){var n=new Tm(t);return h6(e,n)},hH=function(e,t,n){if(n.throwOnError||!(e instanceof We))throw e;var i=xe.makeSpan(["katex-error"],[new Li(t)]);return i.setAttribute("title",e.toString()),i.setAttribute("style","color:"+n.errorColor),i},p6=function(e,t){var n=new Tm(t);try{var i=h6(e,n);return upe(i,e,n)}catch(a){return hH(a,e,n)}},ege=function(e,t){var n=new Tm(t);try{var i=h6(e,n);return cpe(i,e,n)}catch(a){return hH(a,e,n)}},tge="0.16.22",rge={Span:Cu,Anchor:Im,SymbolNode:Li,SvgNode:Za,PathNode:Mo,LineNode:Om},vs={version:tge,render:mH,renderToString:Jpe,ParseError:We,SETTINGS_SCHEMA:Jv,__parse:Qpe,__renderToDomTree:p6,__renderToHTMLTree:ege,__setFontMetrics:Ohe,__defineSymbol:N,__defineFunction:ot,__defineMacro:q,__domTree:rge};var nge=["canvas"];function ige(r,e){if(r&1&&(G(0,"div",3),Fe(1,"div",5)(2,"div",6),j()),r&2){let t=e.$implicit,n=e.$index,i=U();$(),Ft("background-color",i.colors[n].borderColor),$(),Re("innerHTML",t,Ss)}}zs.register(...pc);var Ad=class Ad{constructor(e){this.sanitizer=e;g(this,"graphics");g(this,"canvasRef");g(this,"plottedChart");g(this,"labels");g(this,"colors",[{borderColor:"rgba(75, 192, 192, 1)",backgroundColor:"rgba(75, 192, 192, 0.2)"},{borderColor:"rgba(153, 102, 255, 1)",backgroundColor:"rgba(153, 102, 255, 0.2)"},{borderColor:"rgba(255, 159, 64, 1)",backgroundColor:"rgba(255, 159, 64, 0.2)"},{borderColor:"rgba(255, 99, 132, 1)",backgroundColor:"rgba(255, 99, 132, 0.2)"},{borderColor:"rgba(54, 162, 235, 1)",backgroundColor:"rgba(54, 162, 235, 0.2)"}])}parseMath(e){return e=e.replace(/\$(.*?)\$/g,(t,n)=>vs.renderToString(n,{throwOnError:!1})),e=e.replace(/\$\$(.*?)\$\$/gs,(t,n)=>vs.renderToString(n,{throwOnError:!1,displayMode:!0})),e}setLabels(){var e=this.graphics.mathExpressions,t=[];for(let n=0;n<e.length;n++)e[n].label[0]==="_"?t[n]=this.sanitizer.bypassSecurityTrustHtml(this.parseMath(`$f_${e[n].label[3]}(x) = ${e[n].expression}$`)):t[n]=this.sanitizer.bypassSecurityTrustHtml(this.parseMath(e[n].label)),this.labels=t}ngOnInit(){this.setLabels()}ngAfterViewInit(){this.plotGraph()}ngOnChanges(e){e.graphics&&!e.graphics.isFirstChange()&&this.plotGraph(),this.setLabels()}ngOnDestroy(){this.plottedChart&&this.plottedChart.destroy()}plotGraph(){if(!this.graphics)return;let t=this.canvasRef.nativeElement.getContext("2d");if(!t){console.error("Could not get canvas context.");return}let n=this.generateChartPoints(),i=this.createDatasets(n);this.plottedChart&&this.plottedChart.destroy(),this.plottedChart=new zs(t,{type:"line",data:{datasets:i},options:{maintainAspectRatio:!1,scales:{x:{type:"linear"},y:{beginAtZero:!0}},animation:{duration:0},elements:{point:{radius:0}},layout:{padding:0},plugins:{legend:{display:!1}}}})}generateChartPoints(){let{xMin:e,xMax:t,nbrOfPoints:n,mathExpressions:i}=this.graphics,a=Array.from({length:n+1},(s,l)=>(l*(t-e)+e*n)/n),o={};for(let s=0;s<i.length;s++){let l=a.map(u=>_u(i[s].expression,{x:u}));o[i[s].expression.startsWith("_")?i[s].expression:i[s].label]=a.map((u,c)=>({x:u,y:l[c]}))}return o}createDatasets(e){return Object.keys(e).map((t,n)=>({label:t,data:e[t],borderColor:this.colors[n%this.colors.length].borderColor,backgroundColor:this.colors[n%this.colors.length].backgroundColor,fill:!1}))}};g(Ad,"\u0275fac",function(t){return new(t||Ad)(Xe(Pl))}),g(Ad,"\u0275cmp",Vt({type:Ad,selectors:[["app-static-graph"]],viewQuery:function(t,n){if(t&1&&j1(nge,5),t&2){let i;$1(i=H1())&&(n.canvasRef=i.first)}},inputs:{graphics:"graphics"},features:[Tn],decls:7,vars:0,consts:[["canvas",""],[1,"flex","flex-col","items-center","p-2","h-fit"],[1,"flex","flex-wrap","w-full","justify-center"],[1,"flex","w-fit","items-center","mr-4"],[1,"flex","w-full","min-h-[250px]","max-w-[500px]"],[1,"w-4","h-1","rounded-full","mr-2"],[3,"innerHTML"]],template:function(t,n){t&1&&(G(0,"div",1)(1,"div",2),_n(2,ige,3,3,"div",3,Ds),j(),G(4,"div",4),Fe(5,"canvas",null,0),j()()),t&2&&($(2),Sn(n.labels))},encapsulation:2}));var f1=Ad;var Md=class Md{constructor(e){this.sanitizer=e;g(this,"text");g(this,"renderedText")}ngOnInit(){this.renderedText=this.sanitizer.bypassSecurityTrustHtml(this.parseMath(this.text))}parseMath(e){return e=e.replace(/\$(.*?)\$/g,(t,n)=>vs.renderToString(n,{throwOnError:!1})),e=e.replace(/\$\$(.*?)\$\$/gs,(t,n)=>vs.renderToString(n,{throwOnError:!1,displayMode:!0})),e}};g(Md,"\u0275fac",function(t){return new(t||Md)(Xe(Pl))}),g(Md,"\u0275cmp",Vt({type:Md,selectors:[["app-text-block"]],inputs:{text:"text"},decls:1,vars:1,consts:[[1,"field-sizing-content","text-justify","w-full","resize-none","rounded",3,"innerHTML"]],template:function(t,n){t&1&&Fe(0,"div",0),t&2&&Re("innerHTML",n.renderedText,Ss)},styles:[".katex-html[_ngcontent-%COMP%]{display:none}"]}));var Nd=Md;var Au=class Au{constructor(e){this.http=e}generateCourse(e){let t={prompt:e};return this.http.post(Er.BACKEND_API+"/gpt/generateCourse",t)}updateSection(e,t){var n=JSON.parse(JSON.stringify(t));for(let a=0;a<n.blocks.length;a++)n.blocks[a].image64!=null&&(n.blocks[a].image64=""),n.blocks[a].image!=null&&(n.blocks[a].image="");let i={prompt:e,existingSection:n};return this.http.post(Er.BACKEND_API+"/gpt/updateSection",i)}};g(Au,"\u0275fac",function(t){return new(t||Au)(at(oa))}),g(Au,"\u0275prov",Ke({token:Au,factory:Au.\u0275fac,providedIn:"root"}));var Dl=Au;var Mu=class Mu{constructor(e){this.http=e}createCheckoutSession(){return this.http.get(Er.BACKEND_API+"/stripe/createCheckoutSession")}cancelSubscription(e){let t={subscriptionId:e};return this.http.post(Er.BACKEND_API+"/stripe/cancelSubscription",t)}};g(Mu,"\u0275fac",function(t){return new(t||Mu)(at(oa))}),g(Mu,"\u0275prov",Ke({token:Mu,factory:Mu.\u0275fac,providedIn:"root"}));var Cl=Mu;function age(r,e){if(r&1&&(G(0,"div",4)(1,"small",7),ve(2),j(),G(3,"small",8),ve(4),j()()),r&2){let t=e.$implicit;$(2),xt(t("exampleExamRequest")),$(2),xt(t("exampleLessonRequest"))}}function oge(r,e){r&1&&Le(0,age,5,2,"div",6),r&2&&Re("translocoRead","courses")}function sge(r,e){r&1&&Fe(0,"div",5)}var Td=class Td{constructor(e,t,n,i,a,o){this.gptService=e;this.exercisesService=t;this.screenService=n;this.authService=i;this.paymentsService=a;this.teacherService=o;g(this,"isSection",!1);g(this,"sectionData");g(this,"updatedSection",new or);g(this,"getIsAuth",gt(!1));g(this,"prompt","");g(this,"userFunction");g(this,"userData")}ngOnInit(){this.getIsAuth=this.authService.getIsAuthentificated(),this.userFunction=this.authService.getUserFunction(),this.userFunction==="Teacher"&&(this.userData=this.teacherService.userData)}askGpt(){this.prompt===void 0?this.prompt="":this.prompt=void 0}generateCourse(){this.userData().numberOfCourses<Er.MAX_FREE_COURSES&&this.userData().AIAssistantRequests<Er.MAX_FREE_ASSISTANT_REQUESTS||this.userData().isPremium?this.prompt!=null&&this.prompt.length>0&&(this.gptService.generateCourse(this.prompt).subscribe(e=>{e.message!=null&&(this.exercisesService.exerciseFromJson(e.message),this.userData().AIAssistantRequests++)}),this.prompt=""):this.screenService.setPopupInteraction({title:"You Reached your Free account limit !",content:"Switch to a Premium account for 5.99.-/month to use the AI assistant more.",action:()=>{this.paymentsService.createCheckoutSession().subscribe(e=>{this.screenService.openExternalLink(e.url)})},actionText:"Subscribe"})}updateSection(){this.userData().AIAssistantRequests<Er.MAX_FREE_ASSISTANT_REQUESTS||this.userData().isPremium?this.sectionData&&this.isSection&&this.prompt!=null&&this.prompt.length>0&&(this.gptService.updateSection(this.prompt,this.sectionData).subscribe(e=>{if(e.message!=null){var t=JSON.parse(e.message);this.updatedSection.emit(t),this.userData().AIAssistantRequests++}}),this.prompt=""):this.screenService.setPopupInteraction({title:"You Reached your Free account limit !",content:"Switch to a Premium account for 5.99.-/month to use the AI assistant more.",action:()=>{this.paymentsService.createCheckoutSession().subscribe(e=>{this.exercisesService.createOrUpdateCourseInDB(),this.screenService.openExternalLink(e.url)})},actionText:"Subscribe"})}showToastMessage(e="You need to be logged in to use this feature."){this.screenService.showToastMessage(e)}};g(Td,"\u0275fac",function(t){return new(t||Td)(Xe(Dl),Xe(gn),Xe(fr),Xe(on),Xe(Cl),Xe(da))}),g(Td,"\u0275cmp",Vt({type:Td,selectors:[["app-gpt-prompt"]],inputs:{isSection:"isSection",sectionData:"sectionData"},outputs:{updatedSection:"updatedSection"},decls:6,vars:2,consts:[[1,"flex","w-full","items-center","pl-[2px]","mt-1"],["type","text","name","prompt","placeholder","Ask your AI assistant...",1,"flex","w-full","h-8","text-blue-400","focus:shadow-sm","shadow-blue-400","focus:outline-blue-400","focus:outline-[1.5px]","outline-[1.5px]","outline-blue-400","rounded-full","placeholder-blue-300","bg-white","p-2",3,"ngModelChange","ngModel"],[1,"w-8","h-8","flex","justify-center","shrink-0","cursor-pointer","ml-1.5","rounded-full",3,"click"],["src","send-blue.svg","alt","",1,"ml-1"],[1,"flex","flex-col"],[1,"mt-4"],["class","flex flex-col",4,"transloco","translocoRead"],[1,"ml-3","mr-8","italic","text-gray-400","mt-2"],[1,"ml-[38px]","mr-8","italic","text-gray-400"]],template:function(t,n){t&1&&(G(0,"div",0)(1,"input",1),$r("ngModelChange",function(a){return jr(n.prompt,a)||(n.prompt=a),a}),j(),G(2,"div",2),Ae("click",function(){return n.getIsAuth()&&!n.isSection?n.generateCourse():n.getIsAuth()&&n.isSection?n.updateSection():n.showToastMessage("You need to be logged in to use AI features.")}),Fe(3,"img",3),j()(),Le(4,oge,1,1,"div",4)(5,sge,1,0,"div",5)),t&2&&($(),qr("ngModel",n.prompt),$(3),Ve(n.isSection?5:4))},dependencies:[Xn,Ti,fa,Ba,Hr],encapsulation:2}));var Fd=Td;var Nu=class Nu{constructor(){g(this,"isStreaming",gt(!1));g(this,"canStartStreaming",gt(!1));g(this,"connectionState",gt(!1));g(this,"accelerometerSignalInit",{rawSignal:gt([]),processedSignal:[],metaData:{name:"accelerometerSignal",signalLength:void 0,sampleRate:void 0,initTime:void 0,axisMeasured:void 0}});g(this,"velocitySignalInit",{rawSignal:gt([]),processedSignal:[],metaData:{name:"velocitySignal",signalLength:void 0,sampleRate:void 0,initTime:void 0,axisMeasured:void 0}});g(this,"gyroscopeSignalInit",{rawSignal:gt([]),processedSignal:[],metaData:{name:"gyroscopeSignal",signalLength:void 0,sampleRate:void 0,initTime:void 0,axisMeasured:void 0}});g(this,"tofSignalInit",{rawSignal:gt([]),processedSignal:[],metaData:{name:"tofSignal",signalLength:void 0,sampleRate:void 0,initTime:void 0,axisMeasured:void 0}});g(this,"signalsDictionnary",{accelerometerSignal:gt(this.accelerometerSignalInit),velocitySignal:gt(this.velocitySignalInit),gyroscopeSignal:gt(this.gyroscopeSignalInit),tofSignal:gt(this.tofSignalInit)});g(this,"refreshSignals",gt(!1))}getConnectionState(){return this.connectionState.asReadonly()}getCanStartStreaming(){return this.canStartStreaming.asReadonly()}getIsStreaming(){return this.isStreaming.asReadonly()}connectDevice(){connectDeviceJS(this.pushData,this.signalsDictionnary).then(e=>{this.connectionState.update(t=>!!e),this.canStartStreaming.update(t=>!0)})}startStreaming(){startStreamingJS(Date.now()),this.isStreaming.set(!0),this.canStartStreaming.set(!1)}stopStreaming(){stopStreamingJS(),this.isStreaming.set(!1),this.canStartStreaming.set(!0)}initSignalsDictionnary(){this.signalsDictionnary={accelerometerSignal:gt(this.accelerometerSignalInit),velocitySignal:gt(this.velocitySignalInit),gyroscopeSignal:gt(this.gyroscopeSignalInit),tofSignal:gt(this.tofSignalInit)}}setMeasuredSignals(e){this.initSignalsDictionnary();for(let t in this.signalsDictionnary){let n=this.signalsDictionnary[t];t in e?n().metaData.axisMeasured=e[t]:n().metaData.axisMeasured=void 0}this.refreshSignals.set(!0)}getSignalsRefresh(){return this.refreshSignals}signalsRefreshed(){this.refreshSignals.set(!1)}getMeasuredSignals(){var e={};for(let t in this.signalsDictionnary){let n=this.signalsDictionnary[t];n().metaData.axisMeasured&&(e[t]=n().metaData.axisMeasured)}return e}pushData(e,t){let n=t.accelerometerSignal().metaData.initTime,i=t.gyroscopeSignal().metaData.initTime,a=t.tofSignal().metaData.initTime;if(n===void 0&&(t.accelerometerSignal().metaData.initTime=e[0]),i===void 0&&(t.gyroscopeSignal().metaData.initTime=e[0]),a===void 0&&(t.tofSignal().metaData.initTime=e[0]),t.accelerometerSignal().metaData.axisMeasured){let o={time:e[0]-n,x:e[1],y:e[2],z:e[3]};t.accelerometerSignal.update(s=>(s.rawSignal.update(l=>[...l,o]),s))}if(t.gyroscopeSignal().metaData.axisMeasured){let o={time:e[0]-i,x:e[4],y:e[5],z:e[6]};t.gyroscopeSignal.update(s=>(s.rawSignal.update(l=>[...l,o]),s))}if(t.tofSignal().metaData.axisMeasured){let o={time:e[0]-a,x:e[7]};t.tofSignal.update(s=>(s.rawSignal.update(l=>[...l,o]),s))}callbackJS(t)}};g(Nu,"\u0275fac",function(t){return new(t||Nu)}),g(Nu,"\u0275prov",Ke({token:Nu,factory:Nu.\u0275fac,providedIn:"root"}));var Id=Nu;var Tu=class Tu{constructor(e,t){this.exercisesService=e;this.screenService=t;g(this,"plotedGraph",gt(void 0));g(this,"editedGraphSectionIndex");g(this,"editedGraphBlockIndex");g(this,"isEditingGraph",gt(!1))}plotFromEquation(e,t=5,n=-5,i=200){var a={mathExpressions:e,xMax:t,xMin:n,nbrOfPoints:i,id:"grapherGraph"};this.updatePlotedGraph(e.length==0?void 0:a)}updatePlotedGraph(e=void 0){this.plotedGraph.update(t=>e)}getPlotedGraph(){return this.plotedGraph}newEditedGraph(e,t,n=void 0){this.editedGraphSectionIndex=e,this.editedGraphBlockIndex=t,this.isEditingGraph.update(i=>!0),this.plotFromEquation((n==null?void 0:n.mathExpressions)||[],(n==null?void 0:n.xMax)||5,(n==null?void 0:n.xMin)||-5)}getIsEditingGraph(){return this.isEditingGraph}replaceGraph(){this.exercisesService.editGraph(this.editedGraphSectionIndex,this.editedGraphBlockIndex,this.plotedGraph()),this.editedGraphSectionIndex=void 0,this.editedGraphBlockIndex=void 0,this.isEditingGraph.update(e=>!1),this.plotedGraph.update(e=>{}),this.screenService.changeSelectedWidgets([1])}cancelModification(){this.editedGraphSectionIndex=void 0,this.editedGraphBlockIndex=void 0,this.isEditingGraph.update(e=>!1),this.plotedGraph.update(e=>{}),this.screenService.changeSelectedWidgets([1])}};g(Tu,"\u0275fac",function(t){return new(t||Tu)(at(gn),at(fr))}),g(Tu,"\u0275prov",Ke({token:Tu,factory:Tu.\u0275fac,providedIn:"root"}));var Od=Tu;function lge(r,e){if(r&1){let t=He();G(0,"textarea",20),$r("ngModelChange",function(i){Se(t);let a=U(2);return jr(a.section.title,i)||(a.section.title=i),De(i)}),j()}if(r&2){let t=U(2);Fn(t.getBlockStyle(-1)),qr("ngModel",t.section.title),Re("readOnly",!t.isEditing)("disabled",!t.isEditing)}}function uge(r,e){if(r&1&&Fe(0,"app-text-block",21),r&2){let t=U(2);Ft("color",t.isPreviewing?"black":"#6b7280"),Re("text",t.section.title)}}function cge(r,e){if(r&1&&(G(0,"div",10),ve(1),j()),r&2){let t=U(2);$(),jm(" ",t.numberOfCorrectAnswers," / ",t.totalPoints," ")}}function dge(r,e){if(r&1&&(G(0,"div",11),ve(1),j()),r&2){let t=U().$implicit;$(),xt(t("published"))}}function fge(r,e){if(r&1){let t=He();G(0,"div",22),Ae("click",function(){Se(t);let i=U(2);return De(i.changeCorrectionMode())}),G(1,"div",23),Fe(2,"img",24),j()()}if(r&2){let t=U(2);$(2),Re("src",t.isCorrectionMode?"correction-icon-blue.svg":"correction-icon-gray.svg",Lr)}}function mge(r,e){if(r&1){let t=He();G(0,"div",25),Ae("click",function(){Se(t);let i=U(2);return De(i.openPrompt())}),Fe(1,"img",24),j()}if(r&2){let t=U(2);$(),Re("src",t.prompt!=null?"stars-active.svg":"stars-gray.svg",Lr)}}function hge(r,e){if(r&1){let t=He();G(0,"div",26),Ae("click",function(){Se(t);let i=U(2);return De(i.openSectionSettigns())}),Fe(1,"img",27),j()}}function pge(r,e){if(r&1){let t=He();G(0,"div",18)(1,"app-gpt-prompt",28),Ae("updatedSection",function(i){Se(t);let a=U(2);return De(a.gptUpdateSection(i))}),j()()}if(r&2){let t=U(2);Re("@toggle",void 0),$(),Re("sectionData",t.section)("isSection",!0)}}function gge(r,e){if(r&1){let t=He();G(0,"textarea",42),$r("ngModelChange",function(i){Se(t);let a=U(3).$index,o=U(3);return jr(o.section.blocks[a].content,i)||(o.section.blocks[a].content=i),De(i)}),j()}if(r&2){let t=U(3).$index,n=U(3);Fn(n.getBlockStyle(t)),qr("ngModel",n.section.blocks[t].content),Re("readOnly",!n.isEditing)("disabled",!n.isEditing)}}function vge(r,e){if(r&1&&Fe(0,"app-text-block",21),r&2){let t=U(3).$index,n=U(3);Re("text",n.section.blocks[t].content?n.section.blocks[t].content:"Content...")}}function xge(r,e){if(r&1&&(G(0,"div",36)(1,"div",39)(2,"div",40),Le(3,gge,1,5,"textarea",41)(4,vge,1,1,"app-text-block",21),j()()()),r&2){let t=U(2).$index,n=U(3);$(3),Ve(n.isEditing&&n.focusedBlock==t?3:4)}}function yge(r,e){if(r&1){let t=He();G(0,"textarea",51),$r("ngModelChange",function(i){Se(t);let a=U(3).$index,o=U(3);return jr(o.section.blocks[a].content,i)||(o.section.blocks[a].content=i),De(i)}),j(),G(1,"div",52),Ae("click",function(){Se(t);let i=U(3).$index,a=U(3);return De(a.deleteContent(i))}),Fe(2,"img",53),j()}if(r&2){let t=U(3).$index,n=U(3);Fn(n.getBlockStyle(t)),qr("ngModel",n.section.blocks[t].content),Re("readOnly",!n.isEditing)("disabled",!n.isEditing)}}function bge(r,e){if(r&1&&Fe(0,"app-text-block",21),r&2){let t=U(3).$index,n=U(3);Re("text",n.section.blocks[t].content?n.section.blocks[t].content:"Content...")}}function wge(r,e){if(r&1){let t=He();G(0,"div",54),Ae("click",function(){Se(t);let i=U(3),a=i.$implicit,o=i.$index,s=U(3);return De(s.deleteImage(o,a.image))}),Fe(1,"img",53),j()}}function _ge(r,e){if(r&1){let t=He();G(0,"div",37)(1,"div",43)(2,"div",44),Le(3,yge,3,5)(4,bge,1,1,"app-text-block",21),j()(),G(5,"div",45)(6,"div",46)(7,"input",47,0),Ae("change",function(i){Se(t);let a=U(2).$index,o=U(3);return De(o.onImageSelected(i,a))}),j()(),G(9,"div",48)(10,"img",49),Ae("click",function(){Se(t);let i=ur(8),a=U(2).$index,o=U(3);return De(o.isEditing&&o.focusedBlock==a?i.click():null)}),j(),Le(11,wge,2,0,"div",50),j()()()}if(r&2){let t=U(2),n=t.$implicit,i=t.$index,a=U(3);$(3),Ve(a.isEditing&&a.focusedBlock==i?3:4),$(7),Fn(a.getBlockStyle(i)),Ft("border",a.isEditing&&a.focusedBlock==i?"solid 1px":"none")("height",a.isEditing&&n.image?150:0,"px")("cursor",a.isEditing&&a.focusedBlock==i?"pointer":"auto"),no("src",n.image?a.getImageUrl(n.image)?a.getImageUrl(n.image):n.image64:"image-icon-without-square.svg",Lr),$(),Ve(a.isEditing&&a.focusedBlock==i?11:-1)}}function Sge(r,e){if(r&1){let t=He();G(0,"div",38)(1,"div",46)(2,"input",47,0),Ae("change",function(i){Se(t);let a=U(2).$index,o=U(3);return De(o.onImageSelected(i,a))}),j()(),G(4,"img",55),Ae("click",function(){Se(t);let i=ur(3),a=U(5);return De(a.isEditing&&a.focusedBlock?i.click():null)}),j()()}if(r&2){let t=U(2),n=t.$implicit,i=t.$index,a=U(3);$(4),Fn(a.getBlockStyle(i)),Ft("border",a.isEditing&&a.focusedBlock==i?"solid 1px":"none")("cursor",a.isEditing&&a.focusedBlock==i?"pointer":"auto")("height",n.image?150:0,"px"),no("src",n.image?a.getImageUrl(n.image)?a.getImageUrl(n.image):n.image64:"image-icon-without-square.svg",Lr)}}function Dge(r,e){if(r&1&&Le(0,xge,5,1,"div",36)(1,_ge,12,11,"div",37)(2,Sge,5,9,"div",38),r&2){let t=U().$implicit;Ve(t.image==null?0:t.content!=null&&t.image!=null?1:2)}}function Cge(r,e){if(r&1){let t=He();G(0,"div",56)(1,"div",57)(2,"textarea",58),$r("ngModelChange",function(i){Se(t);let a=U().$index,o=U(3);return jr(o.section.blocks[a].task.instructions,i)||(o.section.blocks[a].task.instructions=i),De(i)}),j()(),G(3,"div",59)(4,"button",60),Ae("click",function(){Se(t);let i=U().$implicit,a=U(3);return De(a.openConsole(i.task.measuredSignals))}),Fe(5,"img",61),j()()()}if(r&2){let t=U(),n=t.$implicit,i=t.$index,a=U(3);Ft("background-color",n.task.isCompleted?"#dcfce7":"#fef9c3"),$(2),Ft("background-color",a.isEditing?"white":"transparent")("border",a.isEditing?"solid":"none")("border",a.isEditing?"1.5px solid rgba(245, 158, 11, .9)":"none"),qr("ngModel",a.section.blocks[i].task.instructions),Re("readOnly",!a.isEditing)("disabled",!a.isEditing),$(2),Ft("border","1.5px solid rgba(245, 158, 11, .9)")}}function Ege(r,e){if(r&1){let t=He();G(0,"div",63)(1,"textarea",71),$r("ngModelChange",function(i){Se(t);let a=U(2).$index,o=U(3);return jr(o.section.blocks[a].question.question,i)||(o.section.blocks[a].question.question=i),De(i)}),j()()}if(r&2){let t=U(2).$index,n=U(3);$(),Fn(n.getBlockStyle(t)),qr("ngModel",n.section.blocks[t].question.question),Re("readOnly",!n.isEditing)("disabled",!n.isEditing)}}function Age(r,e){if(r&1&&Fe(0,"app-text-block",64),r&2){let t=U(2).$index,n=U(3);Re("text",n.section.blocks[t].question.question?n.section.blocks[t].question.question:"Question...")}}function Mge(r,e){r&1&&Fe(0,"img",77)}function Nge(r,e){r&1&&Fe(0,"img",53)}function Tge(r,e){if(r&1){let t=He();G(0,"div",72)(1,"textarea",73),$r("ngModelChange",function(i){Se(t);let a=U().$index,o=U(2).$index,s=U(3);return jr(s.section.blocks[o].question.answers[a].text,i)||(s.section.blocks[o].question.answers[a].text=i),De(i)}),j(),G(2,"div",74),Ae("click",function(){Se(t);let i=U().$index,a=U(2).$index,o=U(3);return De(o.deleteAnswer(a,i))}),Fe(3,"img",53),j()(),G(4,"div",75)(5,"div",76),Ae("click",function(){Se(t);let i=U().$index,a=U(2).$index,o=U(3);return De(o.changeAnswer(a,i))}),Le(6,Mge,1,0,"img",77)(7,Nge,1,0,"img",53),j()()}if(r&2){let t=U(),n=t.$implicit,i=t.$index,a=U(2).$index,o=U(3);$(),Fn(o.getBlockStyle(a)),Ft("background-color",n.isCorrect?"#bbf7d0":"#fecaca"),qr("ngModel",o.section.blocks[a].question.answers[i].text),Re("readOnly",!o.isEditing)("disabled",!o.isEditing),$(4),Ft("background-color",n.isCorrect?"#bbf7d0":"#fecaca"),$(),Ve(n.isCorrect?6:7)}}function Fge(r,e){if(r&1){let t=He();G(0,"input",82),$r("ngModelChange",function(i){Se(t);let a=U(3).$index,o=U(2).$index,s=U(3);return jr(s.section.blocks[o].question.answers[a].isSelected,i)||(s.section.blocks[o].question.answers[a].isSelected=i),De(i)}),j()}if(r&2){let t=U(3).$index,n=U(2).$index,i=U(3);qr("ngModel",i.section.blocks[n].question.answers[t].isSelected)}}function Ige(r,e){r&1&&Fe(0,"input",81)}function Oge(r,e){if(r&1&&(G(0,"div",79),Le(1,Fge,1,1,"input",80)(2,Ige,1,0,"input",81),j()),r&2){let t=U(7);$(),Ve(t.userFunction!="Teacher"?1:2)}}function Rge(r,e){if(r&1&&(Fe(0,"app-text-block",78),Le(1,Oge,3,1,"div",79)),r&2){let t=U(),n=t.$implicit,i=t.$index,a=U(2).$index,o=U(3);Ft("background-color",o.isCorrectionMode?n.isCorrect?"#bbf7d0":"#fecaca":"transparent"),Re("text",o.section.blocks[a].question.answers[i].text),$(),Ve(o.section.blocks[a].question.answers[i].text.length>0?1:-1)}}function kge(r,e){if(r&1&&(G(0,"div",67),Le(1,Tge,8,10)(2,Rge,2,4),j()),r&2){let t=U(2).$index,n=U(3);$(),Ve(n.isEditing&&n.focusedBlock==t?1:2)}}function Pge(r,e){if(r&1){let t=He();G(0,"textarea",83),$r("ngModelChange",function(i){Se(t);let a=U(2).$index,o=U(3);return jr(o.section.blocks[a].question.explanations,i)||(o.section.blocks[a].question.explanations=i),De(i)}),j()}if(r&2){let t=U(2).$index,n=U(3);Fn(n.getBlockStyle(t)),qr("ngModel",n.section.blocks[t].question.explanations),Re("readOnly",!n.isEditing)("disabled",!n.isEditing)}}function Bge(r,e){if(r&1&&(G(0,"div",70),Fe(1,"app-text-block",21),j()),r&2){let t=U(2).$index,n=U(3);$(),Re("text",n.section.blocks[t].question.explanations?n.section.blocks[t].question.explanations:"")}}function Lge(r,e){if(r&1&&(G(0,"div",62),Le(1,Ege,2,5,"div",63)(2,Age,1,1,"app-text-block",64),G(3,"div",65)(4,"div",66),_n(5,kge,3,1,"div",67,Oa),j(),G(7,"div",68)(8,"div",40),Le(9,Pge,1,5,"textarea",69)(10,Bge,2,1,"div",70),j()()()()),r&2){let t=U(),n=t.$implicit,i=t.$index,a=U(3);Ft("flex-direction",(a.isEditing,"column")),$(),Ve(a.isEditing&&a.focusedBlock==i?1:2),$(4),Sn(n.question.answers),$(4),Ve(a.isEditing&&a.focusedBlock==i?9:a.isCorrectionMode&&n.question.explanations!=null?10:-1)}}function zge(r,e){if(r&1&&Fe(0,"div",84)(1,"app-static-graph",85)(2,"div",84),r&2){let t=U().$implicit,n=U(3);$(),Ft("padding",n.isEditing?"4":"8","px")("border-radius",n.isEditing?"4px":"0px"),Re("graphics",t.graph)}}function Vge(r,e){if(r&1){let t=He();G(0,"div",90),Ae("click",function(){Se(t);let i=U(2).$index,a=U(3);return De(a.addImage(i))}),Fe(1,"img",91),j()}if(r&2){let t=U(2).$index,n=U(3);Ft("display",n.focusedBlock==t?"block":"none")}}function Uge(r,e){if(r&1){let t=He();G(0,"div",90),Ae("click",function(){Se(t);let i=U(2).$index,a=U(3);return De(a.addAnswer(i))}),Fe(1,"img",92),j()}if(r&2){let t=U(2).$index,n=U(3);Ft("display",n.focusedBlock==t?"block":"none")}}function qge(r,e){if(r&1){let t=He();G(0,"div",90),Ae("click",function(){Se(t);let i=U(2).$index,a=U(3);return De(a.editGraph(a.sIndex,i))}),Fe(1,"img",93),j()}if(r&2){let t=U(2).$index,n=U(3);Ft("display",n.focusedBlock==t?"block":"none")}}function jge(r,e){if(r&1){let t=He();G(0,"div",35)(1,"div",86)(2,"img",87),Ae("click",function(){Se(t);let i=U().$index,a=U(3);return De(a.deleteBlock(i))}),j()(),G(3,"div",88),Fe(4,"div",16)(5,"div",16)(6,"div",16),j(),Le(7,Vge,2,2,"div",89)(8,Uge,2,2,"div",89)(9,qge,2,2,"div",89),j()}if(r&2){let t=U(),n=t.$implicit,i=t.$index,a=U(3);$(),Ft("display",a.focusedBlock==i?"block":"none"),$(6),Ve(n.content!=null&&n.image==null?7:-1),$(),Ve(n.question!=null?8:-1),$(),Ve(n.graph!=null?9:-1)}}function $ge(r,e){if(r&1){let t=He();G(0,"div",32),Ae("click",function(i){let a=Se(t).$index,o=U(3);return De(o.changeBlockFocused(a,i))}),Le(1,Dge,3,1)(2,Cge,6,13,"div",33)(3,Lge,11,4,"div",34)(4,zge,3,5)(5,jge,10,5,"div",35),j()}if(r&2){let t=e.$implicit,n=e.$index,i=U(3);Ft("background-color",i.isEditing&&i.focusedBlock==n?"#eff6ff":"white")("border-color",i.isEditing?(i.focusedBlock==n,"#d1d5db"):"white"),Re("cdkDragDisabled",!i.isEditing),$(),Ve(t.content!=null||t.image!=null?1:t.task!=null?2:t.question!=null?3:t.graph!=null?4:-1),$(4),Ve(i.isEditing&&t.task==null?5:-1)}}function Hge(r,e){if(r&1){let t=He();G(0,"div",31)(1,"div",94),ve(2),j(),G(3,"div",95)(4,"div",96)(5,"img",97),Ae("click",function(){Se(t);let i=U(3);return De(i.addBlock("te"))}),j()(),G(6,"div",98)(7,"img",99),Ae("click",function(){Se(t);let i=U(3);return De(i.addBlock("im"))}),j()(),G(8,"div",100),Ae("click",function(){Se(t);let i=U(3);return De(i.addBlock("teim"))}),G(9,"div",101),Fe(10,"img",102),j(),G(11,"div",103),Fe(12,"img",91),j()(),G(13,"div",98)(14,"img",104),Ae("click",function(){Se(t);let i=U(3);return De(i.addBlock("qu"))}),j()(),G(15,"div",98)(16,"img",105),Ae("click",function(){Se(t);let i=U(3);return De(i.addBlock("gr"))}),j()()()()}if(r&2){let t=U(2).$implicit;$(2),xt(t("newBlock"))}}function Wge(r,e){if(r&1){let t=He();G(0,"div",19)(1,"div",29),Ae("cdkDropListDropped",function(i){Se(t);let a=U(2);return De(a.drop(i))}),_n(2,$ge,6,7,"div",30,Oa),j(),Le(4,Hge,17,1,"div",31),j()}if(r&2){let t=U(2);Re("@toggle",void 0),$(2),Sn(t.section.blocks),$(2),Ve(t.isEditing&&t.section.expanded?4:-1)}}function Gge(r,e){r&1&&Fe(0,"div",113)}function Yge(r,e){r&1&&Fe(0,"div",113)}function Zge(r,e){if(r&1){let t=He();G(0,"div",106),Ae("click",function(){Se(t);let i=U(2);return De(i.openSectionSettigns())}),j(),G(1,"div",107)(2,"div",108)(3,"div",109),ve(4),j(),G(5,"div",110)(6,"input",111),$r("ngModelChange",function(i){Se(t);let a=U(2);return jr(a.section.sectionPublished,i)||(a.section.sectionPublished=i),De(i)}),j(),Fe(7,"label",112),j(),Le(8,Gge,1,0,"div",113),j(),G(9,"div",114)(10,"div",109),ve(11),j(),G(12,"div",115)(13,"input",111),$r("ngModelChange",function(i){Se(t);let a=U(2);return jr(a.section.correctionPublished,i)||(a.section.correctionPublished=i),De(i)}),j(),Fe(14,"label",112),j(),Le(15,Yge,1,0,"div",113),j(),G(16,"div",116)(17,"div",117),Ae("click",function(){Se(t);let i=U(2);return De(i.deleteSection())}),ve(18),j()()()}if(r&2){let t=U().$implicit,n=U();Ft("display",n.sectionSettingsOpen?"block":"none"),$(),Ft("display",n.sectionSettingsOpen?"block":"none"),$(3),Pe(" ",t("publishSection")," "),$(2),qr("ngModel",n.section.sectionPublished),$(2),Ve(n.isPublic?-1:8),$(3),Pe(" ",t("publishCorrection")," "),$(2),qr("ngModel",n.section.correctionPublished),$(2),Ve(!n.isPublic||!n.section.sectionPublished?15:-1),$(3),Pe(" ",t("delete")," ")}}function Xge(r,e){if(r&1){let t=He();G(0,"div",2)(1,"div",3)(2,"div",4),Ae("click",function(i){Se(t);let a=U();return De(a.expand(i))}),G(3,"div",5)(4,"div",6),ve(5),j(),Le(6,lge,1,5,"textarea",7)(7,uge,1,3,"app-text-block",8),j(),G(8,"div",9),Le(9,cge,2,2,"div",10)(10,dge,2,1,"div",11)(11,fge,3,1,"div",12)(12,mge,2,1,"div",13),G(13,"div",14)(14,"div",15),Fe(15,"div",16)(16,"div",16)(17,"div",16),j()(),Le(18,hge,2,0,"div",17),j()(),Le(19,pge,2,3,"div",18)(20,Wge,5,2,"div",19),j(),Le(21,Zge,19,11),j()}if(r&2){let t=U();$(),Fn(t.isPreviewing?"margin-bottom : 0px ; border : none":""),Re("cdkDragDisabled",!t.isEditing),$(),Fn(t.isPreviewing?"background-color : white; border : none":"background-color : white"),Ft("border-bottom-left-radius",t.section.expanded?"0px":"6px")("border-bottom-right-radius",t.section.expanded?"0px":"6px")("border-bottom",t.section.expanded&&!t.isPreviewing?"1px solid #d1d5db":"none")("cursor",t.isPreviewing?"default":"pointer"),$(2),Ft("color",t.isPreviewing?"black":"#6b7280"),$(),Pe(" ",t.sIndex+1,". \xA0 "),$(),Ve(t.isEditing?6:7),$(3),Ve(t.totalPoints!=null&&t.numberOfCorrectAnswers!=null?9:-1),$(),Ve(!t.isEditing&&!t.section.expanded&&!t.isPreviewing&&t.section.sectionPublished?10:-1),$(),Ve(!t.isEditing&&t.section.expanded&&!t.isPreviewing&&t.section.correctionPublished?11:-1),$(),Ve(t.isEditing&&t.section.expanded&&!t.isPreviewing?12:-1),$(),Fn(t.isEditing&&!t.section.expanded&&!t.isPreviewing?"display : flex":"display : none"),$(5),Ve(t.section.expanded&&!t.isPreviewing&&t.isEditing?18:-1),$(),Ve(t.isEditing&&t.section.expanded&&!t.isPreviewing&&t.prompt!=null?19:-1),$(),Ve(t.section.expanded||t.isPreviewing?20:-1),$(),Ve(t.isPreviewing?-1:21)}}var Rd=class Rd{constructor(e,t,n,i,a){this.signalsService=e;this.exercisesService=t;this.grapherService=n;this.screenService=i;this.authService=a;g(this,"section");g(this,"sIndex");g(this,"isPreviewing",!1);g(this,"isEditing",!1);g(this,"isFocusing",!1);g(this,"isPublic",!1);g(this,"prompt");g(this,"focusedBlock");g(this,"sectionSettingsOpen",!1);g(this,"isCorrectionMode",!1);g(this,"userFunction");g(this,"totalPoints");g(this,"numberOfCorrectAnswers")}ngOnInit(){this.section=this.exercisesService.getSection(this.sIndex),this.userFunction=this.authService.getUserFunction()}expand(e){let t=e.target;t.tagName==="TEXTAREA"||t.tagName==="IMG"||t.closest("textarea")||(this.section.expanded=!this.section.expanded,this.sectionSettingsOpen&&(this.sectionSettingsOpen=!1))}openSectionSettigns(){this.sectionSettingsOpen=!this.sectionSettingsOpen}deleteSection(){this.screenService.setPopupInteraction({title:"Delete Section",content:"Are you sure you want to delete this section?",action:()=>{this.exercisesService.deleteSection(this.sIndex)},actionText:"Delete"})}changeCorrectionMode(){this.userFunction!="Teacher"&&(this.screenService.setSpinnerState(!0),setTimeout(()=>{this.numberOfCorrectAnswers=0,this.totalPoints=0;for(let e=0;e<this.section.blocks.length;e++){let t=this.section.blocks[e];if(t.question){this.totalPoints+=1;let n=0;for(let i of t.question.answers)(i.isCorrect===i.isSelected||!i.isCorrect&&i.isSelected===void 0)&&(n+=1);n===t.question.answers.length&&(this.numberOfCorrectAnswers+=1)}}this.screenService.setSpinnerState(!1)},1e3)),this.isCorrectionMode=!this.isCorrectionMode}changeBlockFocused(e=void 0,t){if(this.isEditing)if(this.focusedBlock===e){let n=t.target;if(n.tagName==="INPUT"||n.tagName==="TEXTAREA"||n.tagName==="SELECT"||n.tagName==="IMG"||n.closest("input, textarea, select"))return;this.focusedBlock=void 0}else this.focusedBlock=e}getBlockStyle(e){return this.isEditing?{outline:"0px solid #93c5fd"}:{backgroundColor:"transparent",border:"none",cursor:"auto",outline:"none"}}openConsole(e){this.signalsService.setMeasuredSignals(e)}openPrompt(){this.prompt===void 0?this.prompt="":this.prompt=void 0}drop(e){kc(this.section.blocks,e.previousIndex,e.currentIndex)}gptUpdateSection(e){this.exercisesService.updateLocalSection(this.sIndex,e)}addImage(e){this.section.blocks[e].image=""}addAnswer(e){this.section.blocks[e].question.answers.push({text:"",isCorrect:!0})}onImageSelected(e,t){let n=this.section.blocks[t].image?this.section.blocks[t].image:void 0,i=e.target.files[0],a=i.name.substring(i.name.lastIndexOf(".")).toLowerCase(),o=new File([i],`photo-${Date.now()}${a}`,{type:i.type});this.section.blocks[t].image=o.name,this.exercisesService.addImageToCourseImages(o,n);let s=new FileReader;s.onload=()=>{this.section.blocks[t].image64=s.result},s.readAsDataURL(o)}getImageUrl(e){return this.exercisesService.getImage(e)}editGraph(e,t){this.screenService.changeSelectedWidgets([2,1]),this.grapherService.newEditedGraph(e,t,this.section.blocks[t].graph)}deleteContent(e){this.section.blocks[e].content=void 0}deleteImage(e,t){this.section.blocks[e].image=void 0,this.exercisesService.deleteCourseImage(t)}changeAnswer(e,t){this.section.blocks[e].question.answers[t].isCorrect=!this.section.blocks[e].question.answers[t].isCorrect}addBlock(e){var t={};switch(e){case"te":t={content:""};break;case"im":t={image:""};break;case"teim":t={content:"",image:""};break;case"ta":t={task:{instructions:"",isCompleting:!1,isCompleted:!1,measuredSignals:{},results:{}}};break;case"qu":t={question:{question:"",answers:[{text:"",isCorrect:!0}]}};break;case"gr":t={graph:{id:"",xMax:5,xMin:-5,nbrOfPoints:250,mathExpressions:[]}};break}this.section.blocks.push(t)}deleteAnswer(e,t){this.section.blocks[e].question.answers.splice(t,1)}deleteBlock(e){this.section.blocks[e].image&&this.exercisesService.deleteCourseImage(this.section.blocks[e].image),this.section.blocks.splice(e,1)}};g(Rd,"\u0275fac",function(t){return new(t||Rd)(Xe(Id),Xe(gn),Xe(Od),Xe(fr),Xe(on))}),g(Rd,"\u0275cmp",Vt({type:Rd,selectors:[["app-section"]],inputs:{sIndex:"sIndex",isPreviewing:"isPreviewing",isEditing:"isEditing",isFocusing:"isFocusing",isPublic:"isPublic"},decls:1,vars:1,consts:[["fileInput",""],["class","relative",4,"transloco","translocoRead"],[1,"relative"],["cdkDrag","",1,"w-full","flex","flex-col","rounded-lg","shadow-2xs","border","md:border","border-gray-300","mb-2",3,"cdkDragDisabled"],[1,"flex","w-full","max-w-full","items-center","justify-between","rounded-t-md","p-3",3,"click"],[1,"flex","flex-grow","min-w-0","items-center","shrink","pointer-none","w-fit"],[1,"h-6"],["placeholder","Section title","type","text",1,"placeholder-gray-400","h-6","md:field-sizing-content","shrink","text-gray-500","text-justify","resize-none","rounded",3,"style","ngModel","readOnly","disabled"],[3,"color","text"],[1,"flex","flex-shrink-0","w-fit","ml-2","items-center"],[1,"text-gray-700","mr-2"],[1,"text-gray-400","italic","text-sm"],[1,"relative","cursor-pointer"],[1,"w-6","h-6","mr-3","rounded","cursor-pointer"],[1,"w-full","items-center"],["cdkDragHandle","",1,"cursor-move","h-5","w-5","flex","flex-col","justify-evenly"],[1,"h-0.5","w-5","my-0.5","bg-gray-500","rounded-full"],[1,"flex","flex-col","items-center","w-5","h-5","justify-center","cursor-pointer"],[1,"pt-5","px-3","bg-white"],[1,"px-3","bg-white","rounded-b-lg"],["placeholder","Section title","type","text",1,"placeholder-gray-400","h-6","md:field-sizing-content","shrink","text-gray-500","text-justify","resize-none","rounded",3,"ngModelChange","ngModel","readOnly","disabled"],[3,"text"],[1,"relative","cursor-pointer",3,"click"],[1,"w-6","h-6","rounded-full","border-0","border-gray-300","p-0","shrink-0","ml-1","mr-0.5"],["alt","",3,"src"],[1,"w-6","h-6","mr-3","rounded","cursor-pointer",3,"click"],[1,"flex","flex-col","items-center","w-5","h-5","justify-center","cursor-pointer",3,"click"],["src","options-gray.svg","alt",""],[3,"updatedSection","sectionData","isSection"],["cdkDropList","",3,"cdkDropListDropped"],["cdkDrag","",1,"w-full","min-h-[100px]","flex","border-b-[1px]",3,"cdkDragDisabled","background-color","border-color"],[1,"flex","flex-col","items-center","mt-2"],["cdkDrag","",1,"w-full","min-h-[100px]","flex","border-b-[1px]",3,"click","cdkDragDisabled"],[1,"w-full","h-fit","flex","my-2","p-2","items-center",3,"background-color"],[1,"w-full","my-1","flex","text-sm","text-justify","h-fit",3,"flex-direction"],[1,"w-10","my-1","rounded","shrink-0","flex","flex-col","items-center","justify-center"],[1,"flex","items-center","w-full","min-h-[100px]","h-fit"],[1,"flex","items-center","w-full","h-fit","my-1"],[1,"w-full","h-fit","flex","justify-center","my-2","items-center","px-2"],[1,"w-full","h-fit","my-1","text-justify","self-center"],[1,"text-sm","h-fit","self-center","text-justify"],["placeholder","Content...","type","text",1,"h-14","md:h-fit","md:field-sizing-content","placeholder-gray-400","text-justify","w-full","resize-none","rounded",3,"style","ngModel","readOnly","disabled"],["placeholder","Content...","type","text",1,"h-14","md:h-fit","md:field-sizing-content","placeholder-gray-400","text-justify","w-full","resize-none","rounded",3,"ngModelChange","ngModel","readOnly","disabled"],[1,"flex-2","flex","text-justify"],[1,"text-sm","w-full","text-justify","relative"],[1,"flex","justify-center","flex-1","px-3"],["hidden",""],["id","file_input","type","file","multiple","false",3,"change"],[1,"w-fit","h-fit","relative"],["alt","",1,"self-center","object-contain","rounded","bg-white","p-2","my-1","min-w-20","min-h-20","max-w-full","max-h-96",3,"click","src"],[1,"cursor-pointer","absolute","top-[-4px]","right-[-7px]","border-[1.5px]","bg-white","border-gray-800","w-4","h-4","rounded-full"],["placeholder","Content...","type","text",1,"h-14","md:h-fit","md:field-sizing-content","placeholder-gray-400","text-justify","w-full","resize-none","border","rounded","bg-white",3,"ngModelChange","ngModel","readOnly","disabled"],[1,"cursor-pointer","absolute","top-[-8px]","right-[-8px]","border-[1.5px]","bg-white","border-gray-800","w-4","h-4","rounded-full",3,"click"],["src","https://www.svgrepo.com/show/438433/delete.svg","alt",""],[1,"cursor-pointer","absolute","top-[-4px]","right-[-7px]","border-[1.5px]","bg-white","border-gray-800","w-4","h-4","rounded-full",3,"click"],["alt","",1,"self-center","object-contain","bg-white","rounded","p-2","my-1","min-w-20","min-h-20","max-w-full","max-h-96",3,"click","src"],[1,"w-full","h-fit","flex","my-2","p-2","items-center"],[1,"flex-2","flex","text-sm","self-center","text-justify"],["placeholder","Task...","type","text",1,"h-14","md:h-fit","md:field-sizing-content","placeholder-gray-400","text-justify","w-full","resize-none","p-1","rounded",3,"ngModelChange","ngModel","readOnly","disabled"],[1,"flex-1","flex","items-center","justify-end"],[1,"w-8","h-8","bg-white","border-yellow-400","rounded","cursor-pointer",3,"click"],["src","https://www.svgrepo.com/show/532477/monitor-heart-rate.svg","alt",""],[1,"w-full","my-1","flex","text-sm","text-justify","h-fit"],[1,"py-0"],[1,"mb-1","font-bold",3,"text"],[1,"flex","md:flex-row","flex-col","w-full","h-fit"],[1,"flex","md:flex-1/2","flex-col","justify-start"],[1,"flex","w-full","h-fit","my-1","items-center"],[1,"w-5/6","md:w-fit","md:flex-1/4","mt-1","md:my-1","md:mr-2","text-justify"],["placeholder","Explanations... ","type","text",1,"h-14","md:h-fit","md:field-sizing-content","placeholder-gray-400","border","p-2","text-justify","w-full","bg-yellow-100","resize-none","rounded",3,"style","ngModel","readOnly","disabled"],[1,"bg-yellow-100","p-1","rounded"],["placeholder","Question...","type","text",1,"h-14","md:h-fit","md:field-sizing-content","placeholder-gray-400","text-justify","resize-none","rounded",3,"ngModelChange","ngModel","readOnly","disabled"],[1,"flex","flex-6","h-fit","items-center","relative"],["placeholder","Answer...","type","text",1,"placeholder-gray-400","h-14","px-1","md:h-fit","md:field-sizing-content","w-full","border","rounded","text-justify","resize-none",3,"ngModelChange","ngModel","readOnly","disabled"],[1,"absolute","top-[-7px]","right-[-8px]","w-4","h-4","bg-white","cursor-pointer","rounded-full","border-[1.5px]","border-gray-800",3,"click"],[1,"flex","flex-1"],[1,"cursor-pointer","ml-5","h-[22px]","w-[22px]","flex","items-center","rounded","border",3,"click"],["src","https://www.svgrepo.com/show/446795/ok.svg","alt",""],[1,"flex-6","h-fit","md:mr-3","rounded","px-1",3,"text"],[1,"flex-1","flex","items-center"],["type","checkbox","id","","name","","value","",1,"ml-4","w-5","h-5","cursor-pointer","my-0","border-0",3,"ngModel"],["type","checkbox","id","","name","","value","",1,"ml-4","w-5","h-5","cursor-pointer","my-0","border-0"],["type","checkbox","id","","name","","value","",1,"ml-4","w-5","h-5","cursor-pointer","my-0","border-0",3,"ngModelChange","ngModel"],["placeholder","Explanations... ","type","text",1,"h-14","md:h-fit","md:field-sizing-content","placeholder-gray-400","border","p-2","text-justify","w-full","bg-yellow-100","resize-none","rounded",3,"ngModelChange","ngModel","readOnly","disabled"],[1,"grow"],[1,"w-4/5","my-2","bg-white",3,"graphics"],[1,"cursor-pointer","w-5","h-5","bg-white","mb-3","rounded","border-[1.5px]","shadow-sm","border-gray-500"],["src","https://www.svgrepo.com/show/502609/delete-1.svg","alt","",3,"click"],["cdkDragHandle","",1,"cursor-move","h-5","flex","flex-col","justify-evenly"],[1,"cursor-pointer","w-5","h-5","bg-white","mt-3","rounded","border-[1.5px]","shadow-sm","border-gray-500",3,"display"],[1,"cursor-pointer","w-5","h-5","bg-white","mt-3","rounded","border-[1.5px]","shadow-sm","border-gray-500",3,"click"],["src","image-icon-without-square.svg","alt",""],["src","https://www.svgrepo.com/show/532997/plus-large.svg","alt",""],["src","https://www.svgrepo.com/show/522525/edit-2.svg","alt",""],[1,"text-sm","text-gray-500"],[1,"w-full","flex","justify-center","items-center","p-3"],[1,"w-10","h-10","border-gray-500","shadow-sm","rounded","border-[1.5px]","cursor-pointer","p-2","bg-gray-50","mx-1"],["src","https://www.svgrepo.com/show/532229/text.svg","alt","",3,"click"],[1,"w-10","h-10","border-gray-500","shadow-sm","rounded","border-[1.5px]","cursor-pointer","p-1","bg-gray-50","mx-1"],["src","image-icon-without-square.svg","alt","",3,"click"],[1,"w-10","h-10","flex","border-gray-500","shadow-sm","rounded","border-[1.5px]","cursor-pointer","p-1","bg-gray-50","mx-1",3,"click"],[1,"flex-2","h-full"],["src","https://www.svgrepo.com/show/532229/text.svg","alt",""],[1,"flex-3","flex","flex-col","justify-end","h-full"],["src","https://www.svgrepo.com/show/505465/question.svg","alt","",3,"click"],["src","https://www.svgrepo.com/show/339933/chart-line-smooth.svg","alt","",3,"click"],[1,"absolute","top-[50px]","flex","flex-col","w-full","h-full","bg-white","opacity-70","rounded-b-lg",3,"click"],[1,"absolute","shadow-lg","flex","flex-col","px-2","top-[49px]","right-0","w-fit","h-fit","bg-white","rounded-b-lg","border","border-gray-300"],[1,"relative","border-b","text-gray-700","border-gray-200","text-sm","py-3","flex","items-center","justify-between","pr-3"],[1,"cursor-pointer","w-fit"],[1,"relative","inline-block","w-8","h-5","ml-10"],["id","switch-component","type","checkbox",1,"peer","appearance-none","w-11","h-5","bg-gray-200","rounded-full","checked:bg-blue-400","cursor-pointer","transition-colors","duration-300",3,"ngModelChange","ngModel"],["for","switch-component",1,"absolute","top-0","left-0","w-5","h-5","bg-white","rounded-full","border","border-gray-300","shadow-sm","transition-transform","duration-300","peer-checked:translate-x-6","peer-checked:border-blue-400","cursor-pointer"],[1,"absolute","w-full","h-full","opacity-70","bg-white"],[1,"border-b","relative","text-gray-700","border-gray-200","text-sm","py-3","flex","items-center","justify-between","pr-3"],[1,"relative","inline-block","w-8","h-5","ml-3"],[1,"text-gray-700","text-sm","py-3"],[1,"cursor-pointer","w-fit",3,"click"]],template:function(t,n){t&1&&Le(0,Xge,22,27,"div",1),t&2&&Re("translocoRead","courses")},dependencies:[Xn,Ti,w0,fa,Ba,Pc,rg,EN,SN,f1,Nd,Fd,Hr],encapsulation:2,data:{animation:[Lo("toggle",[Ui(":enter",[dn({height:"0",opacity:0}),Vi("0.25s ease-in",dn({height:"*",opacity:1}))]),Ui(":leave",[dn({height:"*",opacity:1}),Vi("0.25s ease-in",dn({height:"0",opacity:0}))])])]}}));var kd=Rd;var Kge=(r,e)=>({courseId:r,courseName:e});function Jge(r,e){if(r&1&&(G(0,"div",15),ve(1),j()),r&2){let t,n=U(3);$(),Pe(" ",(t=n.exercise())==null?null:t.title," ")}}function Qge(r,e){if(r&1&&(G(0,"div",16),ve(1),j()),r&2){let t,n=U(3);$(),Pe(" ",(t=n.exercise())==null?null:t.title," ")}}function eve(r,e){if(r&1&&(G(0,"a",18)(1,"div",20),Fe(2,"img",21),j()()),r&2){let t,n=U(2).$implicit,i=U();j6("href","mailto:?subject=",(t=i.exercise())==null?null:t.title,"&body=",n("shareCourseBody",$m(4,Kge,(t=i.exercise())==null?null:t.id,(t=i.exercise())==null?null:t.title)),"",Lr),$(2),Re("src","share-icon.svg",Lr)}}function tve(r,e){if(r&1){let t=He();G(0,"div",22),Ae("click",function(){Se(t);let i=U(3);return De(i.showToastMessage("This course is not public"))}),Fe(1,"img",21),j()}r&2&&($(),Re("src","share-icon.svg",Lr))}function rve(r,e){if(r&1){let t=He();G(0,"div",26),Ae("click",function(){Se(t);let i=U(4);return De(i.getIsAuth()?i.openSettings():i.showToastMessage("You need to be logged in to change settings"))}),Fe(1,"img",27),j()}}function nve(r,e){if(r&1){let t=He();G(0,"div",28),Ae("click",function(){Se(t);let i=U(4);return De(i.saveExercise())}),Fe(1,"img",29),j()}}function ive(r,e){if(r&1){let t=He();G(0,"div",30),Ae("click",function(){Se(t);let i=U(4);return De(i.editExercise())}),Fe(1,"img",31),j()}}function ave(r,e){if(r&1&&Le(0,rve,2,0,"div",23)(1,nve,2,0,"div",24)(2,ive,2,0,"div",25),r&2){let t=U(3);Ve(t.getIsAuth()?0:-1),$(),Ve(t.getIsAuth()&&t.isEditing?1:2)}}function ove(r,e){if(r&1){let t=He();G(0,"div",3)(1,"div",10)(2,"div",11)(3,"button",12),Ae("click",function(){Se(t);let i=U(2);return De(i.back())}),Fe(4,"img",13),j()(),G(5,"div",14),Le(6,Jge,2,1,"div",15)(7,Qge,2,1,"div",16),j(),G(8,"div",17),Le(9,eve,3,7,"a",18)(10,tve,2,1,"div",19)(11,ave,3,2),j()()()}if(r&2){let t,n=U(2);$(6),Ve(n.isPublicCourse?7:6),$(3),Ve((t=n.exercise())!=null&&t.isPublic&&n.getIsAuth()?9:n.getIsAuth()?10:-1),$(2),Ve(n.isPublicCourse?-1:11)}}function sve(r,e){if(r&1){let t=He();G(0,"app-section",32),Ae("mouseenter",function(){let i=Se(t).$index,a=U(2);return De(a.changeSectionFocused(i))})("mouseleave",function(){Se(t);let i=U(2);return De(i.changeSectionFocused())}),j()}if(r&2){let t=e.$index,n=U(2);Re("isPublic",n.exercise().isPublic)("isEditing",n.isEditing)("isFocusing",t===n.sectionFocused)("sIndex",t)("isPreviewing",!1)}}function lve(r,e){if(r&1){let t=He();G(0,"div",7)(1,"div",33),Ae("click",function(){Se(t);let i=U(2);return De(i.getIsAuth()?i.addSection():i.showToastMessage("You need to be logged in to add sections"))}),ve(2),j()()}if(r&2){let t=U().$implicit;$(2),Pe(" ",t("newSection")," ")}}function uve(r,e){if(r&1){let t=He();G(0,"div",62),Ae("click",function(){Se(t);let i=U(3);return De(i.deletePreviewImage())}),Fe(1,"img",63),j()}}function cve(r,e){if(r&1){let t=He();G(0,"div",61),Fe(1,"input",64),G(2,"div",65),Ae("click",function(){Se(t);let i=U(3);return De(i.deleteCurrentExercise())}),ve(3),j()()}if(r&2){let t=U(2).$implicit;Re("@toggle",void 0),$(3),Pe(" ",t("cancelCourse")," ")}}function dve(r,e){if(r&1){let t=He();G(0,"div",8)(1,"div",34),Fe(2,"div",35),G(3,"div",36)(4,"div",37)(5,"div",38)(6,"div",39)(7,"textarea",40),$r("ngModelChange",function(i){Se(t);let a=U(2);return jr(a.exercise().title,i)||(a.exercise().title=i),De(i)}),j(),G(8,"div",41),ve(9),G(10,"div",42)(11,"input",43),$r("ngModelChange",function(i){Se(t);let a=U(2);return jr(a.exercise().isPublic,i)||(a.exercise().isPublic=i),De(i)}),j(),Fe(12,"label",44),j()()(),G(13,"div",45)(14,"div",46)(15,"textarea",47),$r("ngModelChange",function(i){Se(t);let a=U(2);return jr(a.exercise().description,i)||(a.exercise().description=i),De(i)}),j()(),G(16,"div",48)(17,"input",49,0),Ae("change",function(i){Se(t);let a=U(2);return De(a.onPreviewImageSelected(i))}),j()(),G(19,"div",50)(20,"div",51)(21,"img",52),Ae("click",function(){Se(t);let i=ur(18);return De(i.click())}),j(),Le(22,uve,2,0,"div",53),j()()(),G(23,"div",54)(24,"div",55),Ae("click",function(){Se(t);let i=U(2);return De(i.cancelSettings())}),ve(25),j(),G(26,"div",56),Ae("click",function(){Se(t);let i=U(2);return De(i.saveSettings())}),ve(27),j()()(),G(28,"div",57)(29,"div",58)(30,"div",59),ve(31),j(),G(32,"img",60),Ae("click",function(){Se(t);let i=U(2);return De(i.showSecuritySettings())}),j()(),Le(33,cve,4,2,"div",61),j()()()()()}if(r&2){let t=U().$implicit,n=U();$(7),qr("ngModel",n.exercise().title),$(2),Pe(" ",t("public")," "),$(2),qr("ngModel",n.exercise().isPublic),$(4),qr("ngModel",n.exercise().description),$(6),Ft("height",n.exercise().previewImage?150:0,"px"),no("src",n.exercise().previewImage?n.getImageUrl(n.exercise().previewImage)?n.getImageUrl(n.exercise().previewImage):n.exercise().previewImage64:"image-icon-without-square.svg",Lr),$(),Ve(n.exercise().previewImage?22:-1),$(3),Pe(" ",t("cancel")," "),$(2),Pe(" ",t("save")," "),$(4),xt(t("security")),$(),Re("src",n.isSecuritySettings?"https://www.svgrepo.com/show/521486/arrow-up.svg":"https://www.svgrepo.com/show/521469/arrow-down.svg",Lr),$(),Ve(n.isSecuritySettings?33:-1)}}function fve(r,e){if(r&1){let t=He();G(0,"div",2),Le(1,ove,12,3,"div",3),G(2,"div",4)(3,"div",5),Ae("cdkDropListDropped",function(i){Se(t);let a=U();return De(a.drop(i))}),_n(4,sve,1,5,"app-section",6,Oa),j(),Le(6,lve,3,1,"div",7),j(),Le(7,dve,34,13,"div",8),Fe(8,"div",9),j()}if(r&2){let t=U();$(),Ve(t.settingComponent?-1:1),$(3),Sn(t.exercise().sections),$(2),Ve(t.isEditing?6:-1),$(),Ve(t.settingComponent?7:-1)}}var Pd=class Pd{constructor(e,t,n,i,a){this.signalsService=e;this.exercisesService=t;this.gptService=n;this.authService=i;this.screenService=a;g(this,"exercise",gt(void 0));g(this,"isPublicCourse",!1);g(this,"completingExercise",new or);g(this,"isEditing",!1);g(this,"studentMode",!0);g(this,"prompt");g(this,"getIsAuth",gt(!1));g(this,"settingComponent",!1);g(this,"isSecuritySettings",!1);g(this,"sectionFocused")}ngOnInit(){this.exercise=this.exercisesService.getCurrentExercise(),this.getIsAuth=this.authService.getIsAuthentificated(),this.exercise().title=="New Course"&&(this.settingComponent=!0)}editExercise(){this.isEditing=!0}addSection(){this.exercisesService.createSection(),this.isEditing=!0}changeStudentMode(){this.studentMode=!this.studentMode}ok(){this.isEditing=!1}saveSettings(){this.saveExercise(),this.settingComponent=!1}cancelSettings(){this.exercise().title=="New Course"&&this.exercise().sections.length==0&&this.deleteCurrentExercise(),this.settingComponent=!1}saveExercise(){this.authService.getIsAuthentificated()&&this.exercise()!=null?(this.isEditing=!1,this.exercisesService.createOrUpdateCourseInDB()):this.showToastMessage("Not possible to save the exercise.")}deleteCurrentExercise(){this.screenService.setPopupInteraction({title:"Delete Course",content:"Are you sure you want to delete this course?",action:()=>{this.exercisesService.deleteCurrentExercise(),this.completingExercise.emit(),this.exercisesService.clearCurrentExerciseId()},actionText:"Delete"})}deletePreviewImage(){this.exercise().previewImage!=null&&(this.exercisesService.deleteCourseImage(this.exercise().previewImage),this.exercise().previewImage=void 0,this.exercise().previewImage64=void 0)}onPreviewImageSelected(e){let t=this.exercise().previewImage?this.exercise().previewImage:void 0,n=e.target.files[0];this.exercise().previewImage=n.name,this.exercise.update(()=>this.exercise()),this.exercisesService.addImageToCourseImages(n,t);let i=new FileReader;i.onload=()=>{this.exercise().previewImage64=i.result},i.readAsDataURL(n)}getImageUrl(e){return this.exercisesService.getImage(e)}openSettings(){this.settingComponent=!0}showSecuritySettings(){this.isSecuritySettings=!this.isSecuritySettings}drop(e){kc(this.exercise().sections,e.previousIndex,e.currentIndex)}back(){this.isEditing&&this.exercisesService.createOrUpdateCourseInDB(),this.completingExercise.emit(),this.exercisesService.clearCurrentExerciseId()}changeSectionFocused(e=void 0){e===void 0?this.sectionFocused=void 0:this.sectionFocused=e}showToastMessage(e="You need to be logged in to use this feature."){this.screenService.showToastMessage(e)}};g(Pd,"\u0275fac",function(t){return new(t||Pd)(Xe(Id),Xe(gn),Xe(Dl),Xe(on),Xe(fr))}),g(Pd,"\u0275cmp",Vt({type:Pd,selectors:[["app-exercise"]],inputs:{isPublicCourse:"isPublicCourse"},outputs:{completingExercise:"completingExercise"},decls:1,vars:1,consts:[["fileInput",""],["class","relative min-h-screen",4,"transloco","translocoRead"],[1,"relative","min-h-screen"],[1,"bg-transparent","pb-3","mt-1","pt-4","md:mt-3","z-30","sticky","px-3","md:px-6","md:pb-4","w-full","top-[-16px]","md:top-[-4px]","flex","justify-center","h-fit","items-center"],[1,"h-fit","w-full","md:px-[11px]","mt-4","md:pb-1"],["cdkDropList","",3,"cdkDropListDropped"],[3,"isPublic","isEditing","isFocusing","sIndex","isPreviewing"],[1,"flex","flex-col","items-center","mt-3"],[1,"absolute","top-0","md:pr-[11px]","w-full"],[1,"md:hidden","fixed","flex","right-0","top-[48px]","w-full","h-[100px]","bg-transparent","bg-gradient-to-b","from-white","to-transparent"],[1,"flex","w-full","max-w-[750px]","items-center","px-2","bg-gray-100","bg-gradient-to-b","from-gray-200","to-gray-100","border","border-gray-300","shadow-xl","rounded-xl"],[1,"flex","flex-1","items-center"],[1,"w-10","h-10","rounded-xl","hover:shadow-xs","bg-white","border","border-gray-300","cursor-pointer",3,"click"],["src","arrow-left-gray.svg","alt",""],[1,"flex","flex-3","justify-center","h-14","items-center","overflow-hidden"],[1,"md:flex","text-center","text-gray-500","md:text-xl"],[1,"flex","text-center","text-gray-500","md:text-xl"],[1,"flex","justify-end","flex-1"],[1,"relative","cursor-pointer",3,"href"],[1,"w-10","h-10","rounded-xl","hover:shadow-xs","bg-white","border","border-gray-300","pr-1","py-0.5","shrink-0","cursor-pointer"],[1,"w-10","h-10","rounded-xl","hover:shadow-xs","bg-white","border","border-gray-300","pr-1","py-0.5","shrink-0"],["alt","",1,"p-1",3,"src"],[1,"w-10","h-10","rounded-xl","hover:shadow-xs","bg-white","border","border-gray-300","pr-1","py-0.5","shrink-0","cursor-pointer",3,"click"],[1,"w-10","h-10","rounded-xl","hover:shadow-xs","bg-white","border","border-gray-300","p-1","shrink-0","cursor-pointer","ml-1"],[1,"w-10","h-10","rounded-xl","hover:shadow-xs","bg-white","border","border-gray-300","p-1.5","shrink-0","cursor-pointer","ml-1"],[1,"w-10","h-10","rounded-xl","hover:shadow-xs","bg-white","border","border-gray-300","p-[5px]","shrink-0","cursor-pointer","ml-1"],[1,"w-10","h-10","rounded-xl","hover:shadow-xs","bg-white","border","border-gray-300","p-1","shrink-0","cursor-pointer","ml-1",3,"click"],["src","settings.svg","alt",""],[1,"w-10","h-10","rounded-xl","hover:shadow-xs","bg-white","border","border-gray-300","p-1.5","shrink-0","cursor-pointer","ml-1",3,"click"],["src","save-gray.svg","alt",""],[1,"w-10","h-10","rounded-xl","hover:shadow-xs","bg-white","border","border-gray-300","p-[5px]","shrink-0","cursor-pointer","ml-1",3,"click"],["src","edit-icon-gray.svg","alt","",1,"p-0.5"],[3,"mouseenter","mouseleave","isPublic","isEditing","isFocusing","sIndex","isPreviewing"],[1,"text-sm","mb-2","text-gray-500","cursor-pointer",3,"click"],[1,"relative","w-full","min-h-screen","h-full"],[1,"min-h-screen","h-full","bg-white","md:bg-gray-50","rounded-lg","opacity-90"],[1,"absolute","min-h-screen","mt-12","md:px-6","h-full","flex","flex-col","items-center","top-0","w-full"],[1,"w-full","max-w-[700px]"],[1,"rounded-lg","border","py-4","mt-14","shadow-sm","bg-white","border-gray-300","h-fit"],[1,"font-medium","flex","justify-between","items-center","px-4"],["placeholder","Content...","type","text",1,"px-2","field-sizing-content","text-justify","w-full","resize-none","rounded","outline-0",3,"ngModelChange","ngModel"],[1,"flex","items-center","pl-3","pr-3","text-gray-700"],[1,"relative","inline-block","w-8","h-5","ml-3"],["id","switch-component","type","checkbox",1,"peer","appearance-none","w-11","h-5","bg-gray-200","rounded-full","checked:bg-blue-400","cursor-pointer","transition-colors","duration-300",3,"ngModelChange","ngModel"],["for","switch-component",1,"absolute","top-0","left-0","w-5","h-5","bg-white","rounded-full","border","border-gray-300","shadow-sm","transition-transform","duration-300","peer-checked:translate-x-6","peer-checked:border-blue-400","cursor-pointer"],[1,"flex","flex-col","md:flex-row","items-center","w-full","h-full","mt-3","px-4"],[1,"w-full","flex-8","mt-2","max-h-36","overflow-hidden","text-justify","relative"],["placeholder","Content...","type","text","maxlength","150",1,"px-2","text-[13px]","field-sizing-content","w-full","resize-none","rounded","bg-white","outline-0",3,"ngModelChange","ngModel"],["hidden",""],["id","file_input","type","file","multiple","false",3,"change"],[1,"flex","justify-center","flex-4","px-3"],[1,"w-fit","h-fit","relative"],["alt","",1,"bg-white","border-[1.5px]","cursor-pointer","border-gray-300","self-center","object-contain","rounded","p-2","my-1","min-w-20","min-h-20","max-w-full","max-h-96",3,"click","src"],[1,"cursor-pointer","absolute","top-[-4px]","right-[-7px]","border-[1.5px]","bg-white","border-gray-300","w-4","h-4","rounded-full"],[1,"flex","flex-wrap","w-full","pl-4"],[1,"py-2","px-3","flex-1","min-w-36","mr-4","mt-3","text-center","rounded-lg","shadow-sm","cursor-pointer","bg-gray-400","text-white",3,"click"],[1,"py-2","px-3","flex-1","min-w-36","mr-4","mt-3","text-center","rounded-lg","shadow-sm","cursor-pointer","bg-blue-400","text-white",3,"click"],[1,"border","border-gray-300","p-4","shadow-sm","mt-4","bg-white","rounded-lg"],[1,"flex","w-full","items-center","justify-center"],[1,"text-center","mr-2"],["alt","",1,"w-6","h-6","cursor-pointer",3,"click","src"],[1,"w-full","flex","flex-col","text-gray-700"],[1,"cursor-pointer","absolute","top-[-4px]","right-[-7px]","border-[1.5px]","bg-white","border-gray-300","w-4","h-4","rounded-full",3,"click"],["src","https://www.svgrepo.com/show/438433/delete.svg","alt",""],["type","text"],[1,"w-full","py-2","px-3","mt-0","text-center","rounded-lg","shadow-sm","cursor-pointer","bg-red-500","text-white",3,"click"]],template:function(t,n){t&1&&Le(0,fve,9,3,"div",1),t&2&&Re("translocoRead","courses")},dependencies:[kd,Pc,rg,Xn,Ti,w0,fa,mb,Ba,Hr],encapsulation:2,data:{animation:[Lo("toggle",[Ui(":enter",[dn({height:"0",opacity:0}),Vi("0.25s ease-in",dn({height:"*",opacity:1}))]),Ui(":leave",[dn({height:"*",opacity:1}),Vi("0.25s ease-in",dn({height:"0",opacity:0}))])])]}}));var Bd=Pd;function mve(r,e){if(r&1){let t=He();G(0,"div",6)(1,"div",7)(2,"button",8),Ae("click",function(){Se(t);let i=U();return De(i.back())}),Fe(3,"img",9),j()(),G(4,"div",10),ve(5),j(),G(6,"div",11),Ae("click",function(){Se(t);let i=U();return De(i.generatePDF())}),ve(7),j()()}if(r&2){let t=e.$implicit;$(5),xt(t("preview")),$(2),Pe(" ",t("download")," ")}}function hve(r,e){if(r&1&&Fe(0,"app-section",5),r&2){let t=e.$index;Re("isEditing",!1)("sIndex",t)("isPreviewing",!0)}}var Ld=class Ld{constructor(e){this.exercisesService=e;g(this,"exercise",gt(void 0));g(this,"previewingExercise",new or)}ngOnInit(){this.exercise=this.exercisesService.getCurrentExercise()}generatePDF(){return Xa(this,null,function*(){let e=yield import("./chunk-4EDI5HMW.js"),t=document.getElementById("pdf-content");document.body.classList.add("disable-animations");let n={margin:10,filename:this.exercise().title+".pdf",image:{type:"jpeg",quality:.98},html2canvas:{scale:2},jsPDF:{unit:"mm",format:"a4",orientation:"portrait"},pagebreak:{mode:["avoid-all","css","legacy"]}};setTimeout(()=>{e.default().from(t).set(n).save(),document.body.classList.remove("disable-animations")},100)})}back(){this.previewingExercise.emit(),this.exercisesService.clearCurrentExerciseId()}};g(Ld,"\u0275fac",function(t){return new(t||Ld)(Xe(gn))}),g(Ld,"\u0275cmp",Vt({type:Ld,selectors:[["app-pdf-preview"]],outputs:{previewingExercise:"previewingExercise"},decls:8,vars:2,consts:[["class","flex h-[42px] items-center w-full mb-2 md:my-3 md:px-[11px]",4,"transloco","translocoRead"],[1,"h-fit","w-full","md:px-[11px]","md:pb-1","mb-2"],[1,"border","border-gray-300","rounded-lg"],["id","pdf-content"],[1,"text-center","rounded-lg","pb-3","pt-8","w-full","bg-white","text-lg"],[3,"isEditing","sIndex","isPreviewing"],[1,"flex","h-[42px]","items-center","w-full","mb-2","md:my-3","md:px-[11px]"],[1,"flex","flex-1","items-center","w-10"],[1,"w-10","cursor-pointer",3,"click"],["src","arrow-left-gray.svg","alt",""],[1,"text-center","text-gray-700","flex-5","h-[30px]","text-xl","overflow-hidden"],[1,"flex","flex-1","justify-end","items-center","w-10","cursor-pointer","text-gray-400",3,"click"]],template:function(t,n){t&1&&(Le(0,mve,8,2,"div",0),G(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4),ve(5),j(),_n(6,hve,1,3,"app-section",5,Oa),j()()()),t&2&&(Re("translocoRead","courses"),$(5),Pe(" ",n.exercise().title," "),$(),Sn(n.exercise().sections))},dependencies:[kd,Hr],styles:[".disable-animations[_ngcontent-%COMP%]   *[_ngcontent-%COMP%]{animation:none!important;transition:none!important}"]}));var zd=Ld;function pve(r,e){if(r&1&&(G(0,"div",8),ve(1),j()),r&2){let t=U(2);$(),Pe(" ",t.exercise.authorName," ")}}function gve(r,e){if(r&1&&(G(0,"div",12)(1,"div",14),Fe(2,"img",15),j()()),r&2){let t=U(2);$(2),Ft("height",t.exercise.previewImage?150:0,"px"),no("src",t.exercise.previewImage?t.getImageUrl(t.exercise.previewImage,t.exercise)?t.getImageUrl(t.exercise.previewImage,t.exercise):t.exercise.previewImage64:"https://www.svgrepo.com/show/505669/image-1.svg",Lr)}}function vve(r,e){if(r&1){let t=He();G(0,"div",1),Ae("click",function(){Se(t);let i=U();return De(i.startExercise(i.exercise.id))}),G(1,"div",2)(2,"div",3),ve(3),j(),G(4,"div",4)(5,"div",5),Ae("click",function(){Se(t);let i=U();return De(i.previewExercise(i.exercise.id))}),Fe(6,"img",6),j(),G(7,"div",7),ve(8),j()()(),Le(9,pve,2,1,"div",8),G(10,"div",9)(11,"div",10),Fe(12,"app-text-block",11),j(),Le(13,gve,3,3,"div",12),j(),Fe(14,"div",13),j()}if(r&2){let t=e.$implicit,n=U();$(3),xt(n.exercise.title),$(5),jm(" ",n.exercise.sections.length," ",t("sections")," "),$(),Ve(n.exercise.authorName!=null?9:-1),$(3),Re("text",n.exercise.description),$(),Ve(n.exercise.previewImage!=null?13:-1),$(),Ft("width",n.exercise.previewImage?"66%":"100%")}}var Vd=class Vd{constructor(e){this.exercisesService=e;g(this,"exercise");g(this,"isUserCourses",!1);g(this,"isStudent",!1);g(this,"previewingExercise",new or)}startExercise(e){this.exercisesService.setCurrentExerciseId(e,!this.isUserCourses,this.isStudent)}previewExercise(e){this.exercisesService.setCurrentExerciseId(e,!this.isUserCourses),this.previewingExercise.emit(e)}getImageUrl(e,t){return this.exercisesService.getImage(e,t)}};g(Vd,"\u0275fac",function(t){return new(t||Vd)(Xe(gn))}),g(Vd,"\u0275cmp",Vt({type:Vd,selectors:[["app-exercise-info"]],inputs:{exercise:"exercise",isUserCourses:"isUserCourses",isStudent:"isStudent"},outputs:{previewingExercise:"previewingExercise"},decls:1,vars:1,consts:[["class","relative w-full flex flex-col h-[232px] md:shadow-2xs overflow-hidden rounded-lg shadow-2xs border md:border border-gray-300 bg-white md:bg-white mt-3 md:mt-1.5 md:mb-1.5 p-4 cursor-pointer",3,"click",4,"transloco","translocoRead"],[1,"relative","w-full","flex","flex-col","h-[232px]","md:shadow-2xs","overflow-hidden","rounded-lg","shadow-2xs","border","md:border","border-gray-300","bg-white","md:bg-white","mt-3","md:mt-1.5","md:mb-1.5","p-4","cursor-pointer",3,"click"],[1,"font-medium","flex","justify-between"],[1,"text-gray-500"],[1,"flex","ml-2","shrink-0"],[1,"bg-white-400","w-6","h-6","shrink-0","rounded-full",3,"click"],["src","pdf-blue.svg","alt",""],[1,"ml-2","py-0.5","h-6","flex","items-center","w-fit","px-2","shrink-0","rounded-full","bg-blue-400","border","border-blue-400","text-white","text-sm"],[1,"text-gray-400","text-xs","italic","mt-1"],[1,"flex","items-center","w-full","h-full"],[1,"flex-8","max-h-24","overflow-hidden","text-justify","relative"],[1,"text-[13px]",3,"text"],[1,"flex","justify-center","flex-4","px-3"],[1,"absolute","h-full","right-0.5","left-0.5","top-14"],[1,"w-fit","h-fit","relative"],["alt","",1,"self-center","object-contain","rounded","p-2","my-1","min-w-20","min-h-20","max-w-full","max-h-96",3,"src"]],template:function(t,n){t&1&&Le(0,vve,15,8,"div",0),t&2&&Re("translocoRead","courses")},dependencies:[Nd,Hr],encapsulation:2}));var Ud=Vd;function xve(r,e){if(r&1){let t=He();G(0,"div",11),Ae("click",function(){Se(t);let i=U(3);return De(i.getIsAuth()?i.addExercise():i.showToastMessage("You need to be logged in to create new Course."))}),Fe(1,"img",12),j()}if(r&2){let t=U(3);Fn((t.isUserCourses,"background: white; color: white ; border: 1.5px solid rgba(96, 165, 250, 1)")),$(),Re("src",(t.isUserCourses,"plus-blue.svg"),Lr)}}function yve(r,e){r&1&&(G(0,"div",8),Fe(1,"app-gpt-prompt"),j())}function bve(r,e){if(r&1){let t=He();G(0,"div",10)(1,"app-exercise-info",13),Ae("previewingExercise",function(i){Se(t);let a=U(3);return De(a.previewExercise(i))}),j()()}if(r&2){let t=e.$implicit,n=U(3);$(),Re("exercise",t)("isUserCourses",n.isUserCourses)}}function wve(r,e){if(r&1){let t=He();G(0,"div",3)(1,"div",4)(2,"div",5),Ae("click",function(){Se(t);let i=U(2);return De(i.changeIsUserCourses(!1))}),ve(3),j(),G(4,"div",6),Ae("click",function(){Se(t);let i=U(2);return De(i.changeIsUserCourses(!0))}),ve(5),j(),Le(6,xve,2,3,"div",7),j()(),Le(7,yve,2,0,"div",8),G(8,"div",9),_n(9,bve,2,2,"div",10,Oa),j()}if(r&2){let t=U().$implicit,n=U();$(2),Fn(n.isUserCourses?"background: white; color: rgba(96, 165, 250, 1) ; border: 1.5px solid rgba(96, 165, 250, 1)":"background: rgba(96, 165, 250, 1) ; color: white ; border: 2.25px solid rgba(96, 165, 250, 1)"),$(),Pe(" ",t("publicCourses")," "),$(),Fn(n.isUserCourses?"background: rgba(96, 165, 250, 1) ; color: white ; border: 2.25px solid rgba(96, 165, 250, 1)":"background: white; color: rgba(96, 165, 250, 1) ; border: 1.5px solid rgba(96, 165, 250, 1)"),$(),Pe(" ",t("myCourses")," "),$(),Ve(n.isUserCourses?6:-1),$(),Ve(n.isUserCourses?7:-1),$(2),Sn(n.getExercises())}}function _ve(r,e){if(r&1){let t=He();G(0,"app-exercise",14),Ae("completingExercise",function(){Se(t);let i=U(2);return De(i.closeExercise())}),j()}if(r&2){let t=U(2);Re("isPublicCourse",!t.isUserCourses)}}function Sve(r,e){if(r&1){let t=He();G(0,"app-pdf-preview",15),Ae("previewingExercise",function(){Se(t);let i=U(2);return De(i.closeExercise())}),j()}}function Dve(r,e){if(r&1&&(G(0,"div",1),Le(1,wve,11,8)(2,_ve,1,1,"app-exercise",2)(3,Sve,1,0,"app-pdf-preview"),j()),r&2){let t=U();$(),Ve(!t.completingExercise()&&!t.previewingExercise?1:t.completingExercise()&&!t.previewingExercise?2:3)}}var qd=class qd{constructor(e,t,n,i,a,o){this.exercisesService=e;this.gptService=t;this.authService=n;this.screenService=i;this.teacherService=a;this.paymentsService=o;g(this,"exercises",[]);g(this,"publicExercises",[]);g(this,"previewingExercise",!1);g(this,"prompt","");g(this,"getIsAuth",gt(!1));g(this,"isUserCourses",!1);g(this,"userFunction");g(this,"userData")}ngOnInit(){this.exercises=this.exercisesService.getExercises(),this.publicExercises=this.exercisesService.getPublicExercises(),this.getIsAuth=this.authService.getIsAuthentificated(),this.userFunction=this.authService.getUserFunction(),this.userFunction==="Teacher"?this.userData=this.teacherService.userData:this.userFunction}getExercises(){return this.isUserCourses?this.exercises:this.publicExercises}onImageSelected(e,t){let n=e.target.files[0],i=new FileReader;i.onload=()=>{this.exercises[t].previewImage=i.result},i.readAsDataURL(n)}getImageUrl(e,t){return this.exercisesService.getImage(e,t)}deleteImage(e){this.exercises[e].previewImage=void 0}addExercise(){this.userData().numberOfCourses<Er.MAX_FREE_COURSES||this.userData().isPremium?this.exercisesService.addExercise():this.screenService.setPopupInteraction({title:"You Reached your Free account limit !",content:"Switch to a Premium account for 5.99.-/month to create more content.",action:()=>{this.paymentsService.createCheckoutSession().subscribe(e=>{this.screenService.openExternalLink(e.url)})},actionText:"Subscribe"})}changeIsUserCourses(e){this.isUserCourses=e,this.isUserCourses&&this.getIsAuth()&&this.exercises.length==0?this.exercisesService.getUserCoursesFromDB():!this.isUserCourses&&this.publicExercises.length==0&&this.exercisesService.getTemplateCoursesFromDB()}startExercise(e){this.exercisesService.setCurrentExerciseId(e,!this.isUserCourses)}previewExercise(e){this.exercisesService.setCurrentExerciseId(e,!this.isUserCourses),this.previewingExercise=!0}completingExercise(){return this.exercisesService.getCurrentExerciseId()!=null}closeExercise(){this.exercisesService.setCurrentExerciseId(void 0,!this.isUserCourses),this.previewingExercise=!1}showToastMessage(e="You need to be logged in to use this feature."){this.screenService.showToastMessage(e)}};g(qd,"\u0275fac",function(t){return new(t||qd)(Xe(gn),Xe(Dl),Xe(on),Xe(fr),Xe(da),Xe(Cl))}),g(qd,"\u0275cmp",Vt({type:qd,selectors:[["app-exercises"]],decls:1,vars:1,consts:[["class","w-full h-full overflow-scroll flex flex-col md:bg-gray-50 md:border md:border-gray-300 md:shadow-sm md:rounded-lg",4,"transloco","translocoRead"],[1,"w-full","h-full","overflow-scroll","flex","flex-col","md:bg-gray-50","md:border","md:border-gray-300","md:shadow-sm","md:rounded-lg"],[3,"isPublicCourse"],[1,"flex","h-fit","w-full","items-center","justify-between","px-1","pt-1","pb-1","md:pb-0","md:px-3","md:pt-3"],[1,"flex-1","flex","items-center"],[1,"rounded-full","hover:shadow-xs","px-3","py-1","cursor-pointer",3,"click"],[1,"ml-2","rounded-full","hover:shadow-xs","px-3","py-1","cursor-pointer",3,"click"],[1,"flex","justify-center","items-center","ml-2","p-1.5","h-8","w-8","text-center","rounded-full","hover:shadow-xs","cursor-pointer",3,"style"],[1,"p-1","md:p-3"],[1,"h-fit","w-full","md:pt-1","pb-1","px-1.5","md:flex","md:flex-wrap","md:justify-between"],[1,"max-w-full","md:mx-1.5","flex-1","md:w-[calc(100%/2-16px)]","md:min-w-[330px]"],[1,"flex","justify-center","items-center","ml-2","p-1.5","h-8","w-8","text-center","rounded-full","hover:shadow-xs","cursor-pointer",3,"click"],["alt","",3,"src"],[3,"previewingExercise","exercise","isUserCourses"],[3,"completingExercise","isPublicCourse"],[3,"previewingExercise"]],template:function(t,n){t&1&&Le(0,Dve,4,1,"div",0),t&2&&Re("translocoRead","courses")},dependencies:[Bd,zd,Ud,Xn,Pc,Fd,Hr],encapsulation:2}));var m1=qd;function Cve(r,e){if(r&1&&(G(0,"div",2),Fe(1,"div",5)(2,"div",6),j()),r&2){let t=e.$implicit,n=e.$index,i=U();$(),Ft("background-color",i.colors[n].borderColor),$(),Re("innerHTML",t,Ss)}}zs.register(...pc);var jd=class jd{constructor(e){this.sanitizer=e;g(this,"graphics",gt(void 0));g(this,"labels");g(this,"colors",[{borderColor:"rgba(75, 192, 192, 1)",backgroundColor:"rgba(75, 192, 192, 0.2)"},{borderColor:"rgba(153, 102, 255, 1)",backgroundColor:"rgba(153, 102, 255, 0.2)"},{borderColor:"rgba(255, 159, 64, 1)",backgroundColor:"rgba(255, 159, 64, 0.2)"},{borderColor:"rgba(255, 99, 132, 1)",backgroundColor:"rgba(255, 99, 132, 0.2)"},{borderColor:"rgba(54, 162, 235, 1)",backgroundColor:"rgba(54, 162, 235, 0.2)"}]);g(this,"plottedChart");G1(()=>{this.plotGraph();var t=this.graphics().mathExpressions,n=[];for(let i=0;i<t.length;i++)t[i].label[0]==="_"?n[i]=this.sanitizer.bypassSecurityTrustHtml(this.parseMath(`$f_${t[i].label[3]}(x) = ${t[i].expression}$`)):n[i]=this.sanitizer.bypassSecurityTrustHtml(this.parseMath(t[i].label)),this.labels=n})}parseMath(e){return e=e.replace(/\$(.*?)\$/g,(t,n)=>vs.renderToString(n,{throwOnError:!1})),e=e.replace(/\$\$(.*?)\$\$/gs,(t,n)=>vs.renderToString(n,{throwOnError:!1,displayMode:!0})),e}ngOnDestroy(){this.plottedChart&&this.plottedChart.destroy()}_createDatasets(e){let t=[{borderColor:"rgba(75, 192, 192, 1)",backgroundColor:"rgba(75, 192, 192, 0.2)"},{borderColor:"rgba(153, 102, 255, 1)",backgroundColor:"rgba(153, 102, 255, 0.2)"},{borderColor:"rgba(255, 159, 64, 1)",backgroundColor:"rgba(255, 159, 64, 0.2)"},{borderColor:"rgba(255, 99, 132, 1)",backgroundColor:"rgba(255, 99, 132, 0.2)"},{borderColor:"rgba(54, 162, 235, 1)",backgroundColor:"rgba(54, 162, 235, 0.2)"}],n=[];var i=0;for(let a in e){let o=t[i%t.length];i++,n.push({label:a,data:e[a],borderColor:o.borderColor,backgroundColor:o.backgroundColor,fill:!1})}return n}_createChart(e){let t,n=null,i=[];if(i=this._createDatasets(e),n=document.querySelector(`#${this.graphics().id}`),n){let a=n.getContext("2d");a?(t=new zs(a,{type:"line",data:{datasets:i},options:{maintainAspectRatio:!1,scales:{x:{type:"linear"},y:{beginAtZero:!0}},animation:{duration:0},elements:{point:{radius:0}},layout:{padding:0},plugins:{legend:{display:!1}}},plugins:[{id:"custom_canvas_background_color",beforeDraw:o=>{let s=o.canvas.getContext("2d");s.save(),s.globalCompositeOperation="destination-over",s.fillStyle="#ffffff",s.fillRect(0,0,o.width,o.height),s.restore()}}]}),this.plottedChart=t):console.error("Could not get canvas context.")}else console.error("Canvas element not found!")}plotGraph(){if(this.graphics!=null){let t=this.graphics().xMin,n=this.graphics().xMax,i=this.graphics().nbrOfPoints,a=this.graphics().mathExpressions,o=Array.from({length:i+1},(s,l)=>(l*(n-t)+t*i)/i);var e={};for(let s=0;s<a.length;s++){let l=o.map(u=>_u(a[s].expression,{x:u}));e[a[s].label]=[];for(let u=0;u<o.length;u++)e[a[s].label].push({x:o[u],y:l[u]})}this.plottedChart&&this.plottedChart.destroy(),setTimeout(()=>this._createChart(e),0)}}};g(jd,"\u0275fac",function(t){return new(t||jd)(Xe(Pl))}),g(jd,"\u0275cmp",Vt({type:jd,selectors:[["app-graph"]],inputs:{graphics:"graphics"},decls:6,vars:1,consts:[[1,"flex","flex-col","border-2","md:border","border-blue-200","bg-white","rounded-lg","w-full","p-2","h-fit","mb-2"],[1,"flex","flex-wrap","w-full","justify-center"],[1,"flex","w-fit","items-center","mr-4"],[1,"w-full","min-h-[250px]"],[3,"id"],[1,"w-4","h-1","rounded-full","mr-2"],[3,"innerHTML"]],template:function(t,n){t&1&&(G(0,"div",0)(1,"div",1),_n(2,Cve,3,3,"div",2,Ds),j(),G(4,"div",3),Fe(5,"canvas",4),j()()),t&2&&($(2),Sn(n.labels),$(3),Re("id",n.graphics().id))},dependencies:[Xn],encapsulation:2}));var h1=jd;function Eve(r,e){if(r&1&&Fe(0,"app-graph",3),r&2){let t=U(2);Re("graphics",t.plottedGraphics)}}function Ave(r,e){if(r&1&&(G(0,"div",4),ve(1),j()),r&2){let t=U().$implicit;$(),Pe(" ",t("noGraphPlotted")," ")}}function Mve(r,e){if(r&1){let t=He();G(0,"div",13)(1,"div",14)(2,"div",15),ve(3),j(),G(4,"input",16),$r("ngModelChange",function(i){Se(t);let a=U().$index,o=U(2);return jr(o.equations[a],i)||(o.equations[a]=i),De(i)}),j()(),G(5,"div",17)(6,"input",18),$r("ngModelChange",function(i){Se(t);let a=U().$index,o=U(2);return jr(o.labels[a],i)||(o.labels[a]=i),De(i)}),j(),G(7,"img",19),Ae("click",function(){Se(t);let i=U().$index,a=U(2);return De(a.deleteEq(i))}),j()()()}if(r&2){let t=U().$index,n=U(2);$(3),Pe("f",t+1,"(x)"),$(),qr("ngModel",n.equations[t]),$(2),qr("ngModel",n.labels[t])}}function Nve(r,e){if(r&1&&Le(0,Mve,8,3,"div",13),r&2){let t=e.$index,n=U(2);Ve(n.getNmbrOfPlottedEq()>=t?0:-1)}}function Tve(r,e){if(r&1){let t=He();Fe(0,"div",20),G(1,"button",11),Ae("click",function(){Se(t);let i=U(2);return De(i.replaceGraph())}),ve(2),j()}if(r&2){let t=U().$implicit;$(2),Pe(" ",t("replace")," ")}}function Fve(r,e){if(r&1){let t=He();G(0,"div",1)(1,"div",2),Le(2,Eve,1,1,"app-graph",3)(3,Ave,2,1,"div",4),_n(4,Nve,1,1,null,null,Ds),G(6,"div",5)(7,"div",6)(8,"div",7),ve(9),j(),G(10,"input",8),$r("ngModelChange",function(i){Se(t);let a=U();return jr(a.xMin,i)||(a.xMin=i),De(i)}),j()(),G(11,"input",9),$r("ngModelChange",function(i){Se(t);let a=U();return jr(a.xMax,i)||(a.xMax=i),De(i)}),j()(),G(12,"div",10)(13,"button",11),Ae("click",function(){Se(t);let i=U();return De(i.ploteq())}),ve(14),j(),Le(15,Tve,3,1),j(),G(16,"button",12),Ae("click",function(){Se(t);let i=U();return De(i.cancelModification())}),ve(17),j()()()}if(r&2){let t=e.$implicit,n=U();$(2),Ve(n.plottedGraphics()!=null?2:3),$(2),Sn(n.dumb),$(5),xt(t("minMax")),$(),qr("ngModel",n.xMin),$(),qr("ngModel",n.xMax),$(3),Pe(" ",t("plot")," "),$(),Ve(n.isEditingGraph()&&n.plottedGraphics()!=null?15:-1),$(2),Pe(" ",t("cancel")," ")}}var $d=class $d{constructor(e){this.grapherService=e;g(this,"dumb",[!0,!0,!0]);g(this,"plottedGraphics",gt(void 0));g(this,"equations",[]);g(this,"labels",[]);g(this,"xMin");g(this,"xMax");g(this,"isEditingGraph",gt(!1))}ngOnInit(){this.plottedGraphics=this.grapherService.getPlotedGraph(),this.isEditingGraph=this.grapherService.getIsEditingGraph()}ploteq(){var e=[];for(let t=0;t<this.equations.length;t++)e.push({label:this.labels[t]!=null?this.labels[t]:`_eq${t+1}`,expression:this.equations[t]});this.grapherService.plotFromEquation(e,this.xMax,this.xMin)}deleteEq(e){this.equations.splice(e,1),this.labels.splice(e,1),this.ploteq()}replaceGraph(){this.grapherService.replaceGraph(),this.equations=[],this.labels=[]}cancelModification(){this.grapherService.cancelModification(),this.equations=[],this.labels=[]}getNmbrOfPlottedEq(){return this.plottedGraphics()===void 0?0:Object.values(this.plottedGraphics().mathExpressions).length}};g($d,"\u0275fac",function(t){return new(t||$d)(Xe(Od))}),g($d,"\u0275cmp",Vt({type:$d,selectors:[["app-grapher"]],decls:1,vars:1,consts:[["class","w-full h-full overflow-scroll flex flex-col md:bg-gray-50 md:border md:border-gray-300 md:shadow-sm md:rounded-lg px-1 md:px-0 md:pt-[11px] md:pb-[11px] md:pl-[11px]",4,"transloco","translocoRead"],[1,"w-full","h-full","overflow-scroll","flex","flex-col","md:bg-gray-50","md:border","md:border-gray-300","md:shadow-sm","md:rounded-lg","px-1","md:px-0","md:pt-[11px]","md:pb-[11px]","md:pl-[11px]"],[1,"h-fit","w-full","pb-3","md:pb-0","md:pr-[11px]","flex","flex-col"],[1,"w-full",3,"graphics"],[1,"w-full","text-gray-400","flex","flex-col","justify-center","text-center","bg-white","mb-2","md:border","rounded-lg","border-gray-300","border-2","h-[292px]"],[1,"flex","items-center","w-full"],[1,"flex","w-1/2","items-center"],[1,"mr-2","w-[80px]","text-gray-600"],["placeholder","-5",1,"bg-white","w-full","rounded-lg","p-2","md:border","placeholder-gray-500","border-gray-300","border-2",3,"ngModelChange","ngModel"],["placeholder","5",1,"bg-white","w-1/2","ml-2","rounded-lg","p-2","md:border","placeholder-gray-500","border-gray-300","border-2",3,"ngModelChange","ngModel"],[1,"flex","w-full"],[1,"p-2","w-full","mt-2","bg-blue-400","border","text-white","border-blue-400","shadow-sm","rounded-lg","cursor-pointer",3,"click"],[1,"p-2","w-full","mt-2","bg-gray-500","border","text-white","border-gray-500","shadow-sm","rounded-lg","cursor-pointer",3,"click"],[1,"w-full","flex","mb-2","items-center"],[1,"w-1/2","flex","items-center"],[1,"mr-2","w-20","text-gray-600"],["autocapitalize","none","placeholder","Enter equation (e.g., x^2)",1,"bg-white","w-full","rounded-lg","p-2","md:border","placeholder-gray-500","border-gray-300","border-2",3,"ngModelChange","ngModel"],[1,"w-1/2","flex","items-center","ml-2"],["placeholder","Label (optional)",1,"bg-white","w-full","rounded-lg","p-2","md:border","placeholder-gray-500","border-gray-300","border-2",3,"ngModelChange","ngModel"],["src","https://www.svgrepo.com/show/502609/delete-1.svg","alt","",1,"h-4","mx-2","cursor-pointer",3,"click"],[1,"w-4"]],template:function(t,n){t&1&&Le(0,Fve,18,7,"div",0),t&2&&Re("translocoRead","grapher")},dependencies:[h1,Xn,Ti,fa,Ba,Hr],encapsulation:2}));var p1=$d;var Ive=(r,e)=>({backgroundColor:r,borderColor:e});function Ove(r,e){if(r&1){let t=He();G(0,"div",21)(1,"div",30),Ae("click",function(){Se(t);let i=U(2);return De(i.editProfile(!0))}),Fe(2,"img",31),j(),ve(3),j()}if(r&2){let t=U(2);$(3),Pe(" ",t.userData().name==null?"Add your name":t.userData().name," ")}}function Rve(r,e){if(r&1){let t=He();G(0,"input",32),$r("ngModelChange",function(i){Se(t);let a=U(2);return jr(a.userData().name,i)||(a.userData().name=i),De(i)}),j()}if(r&2){let t=U(2);qr("ngModel",t.userData().name)}}function kve(r,e){if(r&1){let t=He();G(0,"div",33),Ae("click",function(){Se(t);let i=U(2);return De(i.logout())}),ve(1),j()}if(r&2){let t=U().$implicit;$(),Pe(" ",t("logout"),"")}}function Pve(r,e){if(r&1){let t=He();G(0,"img",34),Ae("click",function(){Se(t);let i=U(2);return De(i.saveProfile())}),j()}}function Bve(r,e){if(r&1&&(G(0,"div",41)(1,"div",47)(2,"div",48),ve(3),j(),G(4,"div",49),ve(5),j()(),G(6,"div",50),ve(7),j(),G(8,"div",50),ve(9),j(),G(10,"div",50),ve(11),j(),G(12,"div",50),ve(13),j(),G(14,"div",50),ve(15),j()()),r&2){let t=U(2).$implicit;$(3),Pe(" ",t("basic"),""),$(2),Pe(" ",t("free"),""),$(2),Pe(" ",t("upTo3Courses"),""),$(2),xt(t("limitedAI")),$(2),Pe(" ",t("limitedCourseSharing"),""),$(2),Pe(" ",t("maxThreeOnlineExams"),""),$(2),xt(t("noImages"))}}function Lve(r,e){if(r&1){let t=He();G(0,"div",51),Ae("click",function(){Se(t);let i=U(3);return De(i.changePremium(!1))}),G(1,"div",47)(2,"div",48),ve(3),j(),G(4,"div",49),ve(5),j()(),G(6,"div",50),ve(7),j(),G(8,"div",50),ve(9),j(),G(10,"div",50),ve(11),j(),G(12,"div",50),ve(13),j(),G(14,"div",50),ve(15),j()()}if(r&2){let t=U(2).$implicit;$(3),Pe(" ",t("basic"),""),$(2),Pe(" ",t("free"),""),$(2),Pe(" ",t("upTo3Courses"),""),$(2),xt(t("limitedAI")),$(2),Pe(" ",t("limitedCourseSharing"),""),$(2),Pe(" ",t("maxThreeOnlineExams"),""),$(2),xt(t("noImages"))}}function zve(r,e){if(r&1){let t=He();G(0,"div",52),Ae("click",function(){Se(t);let i=U(3);return De(i.changePremium(!0))}),G(1,"div",47)(2,"div",48),ve(3),j(),G(4,"div",49),ve(5),j()(),G(6,"div",50),ve(7),j(),G(8,"div",50),ve(9),j(),G(10,"div",50),ve(11),j(),G(12,"div",50),ve(13),j(),G(14,"div",50),ve(15),j()()}if(r&2){let t=U(2).$implicit;$(3),xt(t("premium")),$(2),xt(t("price")),$(2),xt(t("unlimitedCourses")),$(2),xt(t("unlimitedAI")),$(2),xt(t("unlimitedCourseSharing")),$(2),Pe(" ",t("unlimitedOnlineExams"),""),$(2),xt(t("images"))}}function Vve(r,e){if(r&1&&(G(0,"div",45)(1,"div",47)(2,"div",48),ve(3),j(),G(4,"div",49),ve(5),j()(),G(6,"div",50),ve(7),j(),G(8,"div",50),ve(9),j(),G(10,"div",50),ve(11),j(),G(12,"div",50),ve(13),j(),G(14,"div",50),ve(15),j()()),r&2){let t=U(2).$implicit;$(3),xt(t("premium")),$(2),xt(t("price")),$(2),xt(t("unlimitedCourses")),$(2),xt(t("unlimitedAI")),$(2),xt(t("unlimitedCourseSharing")),$(2),Pe(" ",t("unlimitedOnlineExams"),""),$(2),xt(t("images"))}}function Uve(r,e){if(r&1){let t=He();G(0,"div",46)(1,"div",53),Ae("click",function(){Se(t);let i=U(3);return De(i.cancelSub())}),ve(2),j()()}if(r&2){let t=U(2).$implicit;$(2),xt(t("cancelSubscription"))}}function qve(r,e){if(r&1&&(G(0,"div",35)(1,"div",36)(2,"div",37),ve(3),j(),G(4,"div",38),ve(5),j()(),G(6,"div",39)(7,"div",40),Le(8,Bve,16,7,"div",41)(9,Lve,16,7,"div",42),j(),G(10,"div",43),Le(11,zve,16,7,"div",44)(12,Vve,16,7,"div",45),j()()(),Le(13,Uve,3,1,"div",46)),r&2){let t=U().$implicit,n=U();$(3),Pe(" ",t("account"),""),$(),Fn($m(7,Ive,n.userData().isPremium?"#a78bfa":"#60a5fa",n.userData().isPremium?"#d8b4fe":"#93c5fd")),$(),Pe(" ",n.userData().isPremium?"Premium":"Basic"," "),$(3),Ve(n.userData().isPremium?9:8),$(3),Ve(n.userData().isPremium?12:11),$(2),Ve(n.userData().isPremium?13:-1)}}function jve(r,e){if(r&1){let t=He();G(0,"div",2)(1,"div",3)(2,"div",4)(3,"div",5)(4,"div",6)(5,"input",7,0),Ae("change",function(i){Se(t);let a=U();return De(a.onImageSelected(i))}),j()(),G(7,"img",8),Ae("click",function(){Se(t);let i=ur(6);return De(i.click())}),j()(),G(8,"div",9)(9,"div",10),ve(10),j(),G(11,"div",11)(12,"img",12),Ae("click",function(){Se(t);let i=ur(6);return De(i.click())}),j(),G(13,"div",13)(14,"div",14)(15,"div",15),Fe(16,"img",16),j(),G(17,"div",17)(18,"div"),ve(19),j(),G(20,"div"),ve(21),j()()(),G(22,"div",14)(23,"div",18),Fe(24,"img",19),j(),G(25,"div",20)(26,"div"),ve(27),j(),Le(28,Ove,4,1,"div",21)(29,Rve,1,1,"input",22),j()(),G(30,"div",14)(31,"div",23),Fe(32,"img",24),j(),G(33,"div",20)(34,"div"),ve(35),j(),G(36,"div"),ve(37),j()()()()(),G(38,"div",25)(39,"button",26),Ae("click",function(){Se(t);let i=U();return De(i.modifyPassword())}),ve(40),j(),G(41,"div",27),Le(42,kve,2,1,"div",28)(43,Pve,1,0,"img",29),j()()()(),Le(44,qve,14,10),j()()}if(r&2){let t=e.$implicit,n=U();$(7),Ft("padding",n.previewImage||n.userData().profileImage!=null?"0":"8","px"),Re("src",n.previewImage!=null?n.previewImage:n.userData().profileImage!=null?n.userData().profileImage:"user-gray.svg",Lr),$(3),xt(t("profile")),$(2),Ft("padding",n.previewImage||n.userData().profileImage!=null?"0":"8","px"),Re("src",n.previewImage!=null?n.previewImage:n.userData().profileImage!=null?n.userData().profileImage:"user-gray.svg",Lr),$(7),xt(t("function")),$(2),xt(n.userFunction),$(6),xt(t("name")),$(),Ve(n.isEditing?29:28),$(7),xt(t("email")),$(2),xt(n.userEmail),$(3),Pe(" ",t("modifyPassword")," "),$(2),Ve(n.isEditing?43:42),$(2),Ve(n.userData().isPremium!=null?44:-1)}}var Hd=class Hd{constructor(e,t,n,i){this.screenService=e;this.authentificationService=t;this.teacherService=n;this.paymentsService=i;g(this,"isTeacher",!1);g(this,"userEmail");g(this,"userFunction");g(this,"previewImage");g(this,"file");g(this,"userData");g(this,"isEditing",!1)}ngOnInit(){this.userEmail=this.authentificationService.getUserEmail(),this.userFunction=this.authentificationService.getUserFunction(),this.file=void 0,this.previewImage=void 0,this.userFunction==="Teacher"?this.userData=this.teacherService.userData:this.userFunction}logout(){this.authentificationService.logout()}modifyPassword(){this.screenService.changeAuthMode("verify")}editProfile(e){this.isEditing=e}saveProfile(){this.isEditing=!1,this.userFunction==="Teacher"?this.teacherService.updateUserProfile(this.userData(),this.file):this.userFunction}onImageSelected(e){this.isEditing=!0;let t=e.target.files[0],n=t.name.substring(t.name.lastIndexOf(".")).toLowerCase();this.file=new File([t],`userProfileImage${n}`,{type:t.type});let i=new FileReader;i.onload=()=>{this.previewImage=i.result},i.readAsDataURL(this.file)}changePremium(e){e?this.paymentsService.createCheckoutSession().subscribe(t=>{this.screenService.openExternalLink(t.url)}):this.cancelSub()}cancelSub(){this.userData().subscriptionId!=null&&this.userData().subscriptionId.length>0?this.screenService.setPopupInteraction({title:"Cancel Subscription",content:"Are you sure you want to cancel your subscription ?",action:()=>{this.paymentsService.cancelSubscription(this.userData().subscriptionId).subscribe(e=>{this.screenService.showToastMessage("Your subscription has been cancelled")})},actionText:"Cancel Subscription"}):this.screenService.showToastMessage("You do not have a subscription")}};g(Hd,"\u0275fac",function(t){return new(t||Hd)(Xe(fr),Xe(on),Xe(da),Xe(Cl))}),g(Hd,"\u0275cmp",Vt({type:Hd,selectors:[["app-profile"]],inputs:{isTeacher:"isTeacher"},decls:1,vars:1,consts:[["profilePicInput",""],["class","w-full flex overflow-scroll flex-col items-center h-full p-0 md:bg-gray-50 bg-white md:border-1 md:rounded-lg md:border-gray-300 md:shadow-sm",4,"transloco","translocoRead"],[1,"w-full","flex","overflow-scroll","flex-col","items-center","h-full","p-0","md:bg-gray-50","bg-white","md:border-1","md:rounded-lg","md:border-gray-300","md:shadow-sm"],[1,"max-w-[800px]","w-full","flex","flex-col","items-center"],[1,"w-full","flex","flex-col","items-center","justify-between","rounded-lg","border-0","shadow-none","border-gray-300"],[1,"md:hidden","w-full","flex","justify-center","mt-4"],["hidden",""],["id","file_input","type","file","multiple","false",3,"change"],["alt","",1,"cursor-pointer","bg-white","h-28","w-28","rounded-full","border","border-gray-300",3,"click","src"],[1,"text-gray-700","text-sm","md:text-[16px]","w-full","px-2","md:px-3","pb-3","md:mt-3","max-w-[800px]","flex","flex-col","items-start"],[1,"mb-3","text-lg","md:text-xl","w-full"],[1,"flex","w-full"],["alt","",1,"cursor-pointer","hidden","md:flex","bg-white","h-30","w-30","mr-5","rounded-xl","border","border-gray-300",3,"click","src"],[1,"flex","w-full","flex-col"],[1,"flex","w-full","items-center"],[1,"mr-3","shrink-0","rounded-lg","w-[30px]","h-[30px]","p-0.5","bg-blue-400"],["src","teacher-icon.svg","alt",""],[1,"w-full","flex","justify-between","border-y","py-2","pr-3","md:pr-9","border-gray-200"],[1,"mr-3","shrink-0","rounded-lg","w-[30px]","h-[30px]","p-1.5","bg-blue-400"],["src","id-white.svg","alt",""],[1,"w-full","flex","justify-between","border-b","py-2","pr-3","md:pr-9","border-gray-200"],[1,"flex","items-center"],["type","text",1,"bg-gray-200","px-1","rounded","border-none","focus:outline-none",3,"ngModel"],[1,"mr-3","shrink-0","rounded-lg","w-[30px]","h-[30px]","p-1","bg-blue-400"],["src","email-white.svg","alt",""],[1,"flex","justify-between","w-full","mt-3"],[1,"cursor-pointer","text-blue-400",3,"click"],[1,"cursor-pointer"],[1,"text-red-400","mr-1"],["src","save-gray.svg","alt","",1,"w-6","h-6"],[1,"w-5","h-5","cursor-pointer","rounded-full","bg-gray-200","p-1","mr-2",3,"click"],["src","edit-icon-gray.svg","alt",""],["type","text",1,"bg-gray-200","px-1","rounded","border-none","focus:outline-none",3,"ngModelChange","ngModel"],[1,"text-red-400","mr-1",3,"click"],["src","save-gray.svg","alt","",1,"w-6","h-6",3,"click"],[1,"text-gray-700","w-full","text-sm","md:text-lg","flex","flex-col","items-start","rounded-lg","border-0","border-gray-300","shadow-none","mt-2"],[1,"w-full","flex","items-center","mt-2","px-2","md:px-3"],[1,"text-lg","md:text-xl"],[1,"rounded-full","ml-2","shadow-md","border","flex","justify-center","items-center","px-2.5","py-0.5","text-sm","text-white","text-center"],[1,"flex","mb-3","w-full","flex-wrap","justify-center","px-0","md:px-1.5"],[1,"mt-3","px-1.5","min-w-[230px]","md:w-1/2","w-full","flex-1"],[1,"border","cursor-pointer","text-sm","px-2","py-1","font-light","text-white","border-blue-400","h-fit","rounded-lg","bg-blue-400","bg-gradient-to-br","from-blue-400","to-indigo-400","shadow-sm","shadow-blue-300"],[1,"border","cursor-pointer","text-sm","px-2","py-1","font-light","text-blue-500","border-blue-100","h-fit","rounded-lg","bg-white","bg-gradient-to-br","from-white","to-blue-100","shadow-sm","shadow-blue-300","hover:border","hover:border-transparent","hover:bg-gradient-to-br","hover:from-blue-400","hover:to-indigo-400","hover:text-white"],[1,"mt-3","px-1.5","min-w-[230px]","md:w-1/2","flex-1"],[1,"border","cursor-pointer","text-sm","px-2","py-1","font-light","text-purple-500","border-purple-100","h-fit","rounded-lg","bg-white","bg-gradient-to-br","from-white","to-purple-100","shadow-sm","shadow-purple-300","hover:border","hover:border-transparent","hover:bg-gradient-to-br","hover:from-purple-400","hover:to-indigo-400","hover:text-white"],[1,"border","cursor-pointer","text-sm","px-2","py-1","font-light","text-white","border-purple-400","h-fit","rounded-lg","bg-purple-400","bg-gradient-to-br","from-purple-400","to-indigo-400","shadow-sm","shadow-purple-300"],[1,"w-full","flex","pl-1.5","md:pl-3"],[1,"mb-1","flex","items-center","w-full","justify-between"],[1,"text-lg"],[1,"text-sm","ml-2"],[1,"mb-1"],[1,"border","cursor-pointer","text-sm","px-2","py-1","font-light","text-blue-500","border-blue-100","h-fit","rounded-lg","bg-white","bg-gradient-to-br","from-white","to-blue-100","shadow-sm","shadow-blue-300","hover:border","hover:border-transparent","hover:bg-gradient-to-br","hover:from-blue-400","hover:to-indigo-400","hover:text-white",3,"click"],[1,"border","cursor-pointer","text-sm","px-2","py-1","font-light","text-purple-500","border-purple-100","h-fit","rounded-lg","bg-white","bg-gradient-to-br","from-white","to-purple-100","shadow-sm","shadow-purple-300","hover:border","hover:border-transparent","hover:bg-gradient-to-br","hover:from-purple-400","hover:to-indigo-400","hover:text-white",3,"click"],[1,"text-gray-500","cursor-pointer",3,"click"]],template:function(t,n){t&1&&Le(0,jve,45,16,"div",1),t&2&&Re("translocoRead","profile")},dependencies:[Xn,Ti,fa,Ba,Hr],encapsulation:2}));var g1=Hd;var $ve=()=>["house-blue1.svg","book-blue.svg","board-blue.svg"],Wd=class Wd{constructor(e){this.screenService=e;g(this,"selectedWidgets",gt([0]));this.selectedWidgets=e.getSelectedWidgets()}backHome(){this.screenService.changePage("")}};g(Wd,"\u0275fac",function(t){return new(t||Wd)(Xe(fr))}),g(Wd,"\u0275cmp",Vt({type:Wd,selectors:[["app-dashboard"]],decls:5,vars:9,consts:[[3,"widgetIcons","iconsLeft","logo","separations","margins","selectWidgets","maxNbrOfWidgets","colorTheme"],["id","0"],["id","1"],["id","2"],[1,"cursor-pointer","z-20","absolute","top-0","left-0","w-52","h-[54px]",3,"click"]],template:function(t,n){t&1&&(G(0,"lib-ngx-modular-dash",0),Fe(1,"app-profile",1)(2,"app-exercises",2)(3,"app-grapher",3),j(),G(4,"div",4),Ae("click",function(){return n.backHome()}),j()),t&2&&Re("widgetIcons",$6(8,$ve))("iconsLeft",!1)("logo","logo3-transparent.png")("separations",!1)("margins",8)("selectWidgets",n.selectedWidgets())("maxNbrOfWidgets",2)("colorTheme","blue")},dependencies:[Y9,m1,p1,g1],encapsulation:2}));var v1=Wd;var Gd=class Gd{constructor(e){this.el=e;g(this,"parallaxRatio",1)}onWindowScroll(){let e=window.pageYOffset;this.el.nativeElement.style.transform=`translateY(${e*this.parallaxRatio}px)`}};g(Gd,"\u0275fac",function(t){return new(t||Gd)(Xe(li))}),g(Gd,"\u0275dir",Tr({type:Gd,selectors:[["","appParallax",""]],hostBindings:function(t,n){t&1&&Ae("scroll",function(a){return n.onWindowScroll(a)},!1,Pu)},inputs:{parallaxRatio:"parallaxRatio"}}));var x1=Gd;function Hve(r,e){if(r&1){let t=He();G(0,"div",46)(1,"div",47),Ae("click",function(){Se(t);let i=U(3);return De(i.changeAuthMode("signup"))}),ve(2),j(),G(3,"div",48)(4,"span",49),ve(5),j(),G(6,"span",50),Ae("click",function(){Se(t);let i=U(3);return De(i.changeAuthMode("login"))}),ve(7),j()()()}if(r&2){let t=U().$implicit;$(2),Pe(" ",t("cta")," "),$(3),xt(t("haveAccount")),$(2),xt(t("login"))}}function Wve(r,e){if(r&1&&(G(0,"div",44)(1,"div",45),ve(2),j(),Le(3,Hve,8,3,"div",46),j()),r&2){let t=e.$implicit,n=U(2);Re("parallaxRatio",-.3),$(2),Pe(" ",t("title")," "),$(),Ve(n.isAuth()?-1:3)}}function Gve(r,e){if(r&1&&(G(0,"div",11),ve(1),j()),r&2){let t=U().$implicit;Re("@toggle",void 0),$(),Pe(" ",t("teachingWorkspace.detail")," ")}}function Yve(r,e){if(r&1&&(G(0,"div",11),ve(1),j()),r&2){let t=U().$implicit;Re("@toggle",void 0),$(),Pe(" ",t("ai.detail")," ")}}function Zve(r,e){if(r&1&&(G(0,"div",11),ve(1),j()),r&2){let t=U().$implicit;Re("@toggle",void 0),$(),Pe(" ",t("editor.details")," ")}}function Xve(r,e){if(r&1&&(G(0,"div",11),ve(1),j()),r&2){let t=U().$implicit;Re("@toggle",void 0),$(),Pe(" ",t("shareFeature.details")," ")}}function Kve(r,e){if(r&1&&(G(0,"div",11),ve(1),j()),r&2){let t=U().$implicit;Re("@toggle",void 0),$(),Pe(" ",t("lab4students.details")," ")}}function Jve(r,e){if(r&1&&(G(0,"div",11),ve(1),j()),r&2){let t=U().$implicit;Re("@toggle",void 0),$(),Pe(" ",t("pdf.details")," ")}}function Qve(r,e){if(r&1&&(G(0,"div",11),ve(1),j()),r&2){let t=U().$implicit;Re("@toggle",void 0),$(),Pe(" ",t("save.details")," ")}}function e1e(r,e){if(r&1){let t=He();G(0,"body"),Fe(1,"div",1),G(2,"div",2),Fe(3,"div",3)(4,"div",4)(5,"div",5),j(),Le(6,Wve,4,3,"div",6),G(7,"div",7)(8,"div",8)(9,"div",9),ve(10),j(),G(11,"div",10),ve(12),j(),Le(13,Gve,2,2,"div",11),G(14,"div",12),Ae("click",function(){Se(t);let i=U();return De(i.expand(6))}),ve(15),j()()(),G(16,"div",13)(17,"div",14)(18,"div",15),Fe(19,"img",16),j()()(),G(20,"div",17)(21,"div",18)(22,"div",19),Fe(23,"div",20),ve(24),Fe(25,"img",21),j(),G(26,"div",22),ve(27),j(),Le(28,Yve,2,2,"div",11),G(29,"div",12),Ae("click",function(){Se(t);let i=U();return De(i.expand(0))}),ve(30),j()()(),G(31,"div",23),Fe(32,"video",24),j(),G(33,"div",17)(34,"div",8)(35,"div",9),ve(36),j(),G(37,"div",10),ve(38),j(),Le(39,Zve,2,2,"div",11),G(40,"div",12),Ae("click",function(){Se(t);let i=U();return De(i.expand(1))}),ve(41),j()()(),G(42,"div",25)(43,"div",26)(44,"div",15),Fe(45,"img",27),j()()(),G(46,"div",17)(47,"div",8)(48,"div",9),ve(49),j(),G(50,"div",10),ve(51),j(),Le(52,Xve,2,2,"div",11),G(53,"div",12),Ae("click",function(){Se(t);let i=U();return De(i.expand(2))}),ve(54),j()()(),G(55,"div",13)(56,"div",14)(57,"div",28)(58,"div",29),Fe(59,"img",30),G(60,"div",31),Fe(61,"div",32),j()(),G(62,"div",33),Fe(63,"img",34),G(64,"div",31),Fe(65,"div",32),j()()()()(),G(66,"div",17)(67,"div",18),Fe(68,"img",35),G(69,"div",22),ve(70),j(),Le(71,Kve,2,2,"div",11),G(72,"div",12),Ae("click",function(){Se(t);let i=U();return De(i.expand(3))}),ve(73),j()()(),G(74,"div",23),Fe(75,"video",36),j(),G(76,"div",17)(77,"div",8)(78,"div",9),ve(79),j(),G(80,"div",10),ve(81),j(),Le(82,Jve,2,2,"div",11),G(83,"div",12),Ae("click",function(){Se(t);let i=U();return De(i.expand(4))}),ve(84),j()()(),G(85,"div",13)(86,"div",14)(87,"div",15),Fe(88,"img",37),j()()(),G(89,"div",17)(90,"div",8)(91,"div",38),ve(92),j(),G(93,"div",10),ve(94),j(),Le(95,Qve,2,2,"div",11),G(96,"div",12),Ae("click",function(){Se(t);let i=U();return De(i.expand(5))}),ve(97),j()()(),G(98,"div",13)(99,"div",14)(100,"div",39),Fe(101,"img",40),j()()(),G(102,"div",17)(103,"div",41)(104,"div",42),ve(105),j(),G(106,"div",43),ve(107),j()()()()}if(r&2){let t=e.$implicit,n=U();$(),Re("parallaxRatio",-.2),$(5),Re("translocoRead","home-page.teachers.hero"),$(),Re("parallaxRatio",0),$(3),Pe(" ",t("teachingWorkspace.title")," "),$(2),Pe(" ",t("teachingWorkspace.description")," "),$(),Ve(n.expanded[6]?13:-1),$(2),Pe(" ",n.expanded[6]?t("less"):t("more")," "),$(9),Pe(" ",t("ai.title")," "),$(3),Pe(" ",t("ai.description")," "),$(),Ve(n.expanded[0]?28:-1),$(2),Pe(" ",n.expanded[0]?t("less"):t("more")," "),$(2),Re("autoplay",!0)("muted",!0),$(4),Pe(" ",t("editor.title")," "),$(2),Pe(" ",t("editor.description")," "),$(),Ve(n.expanded[1]?39:-1),$(2),Pe(" ",n.expanded[1]?t("less"):t("more")," "),$(8),Pe(" ",t("shareFeature.title")," "),$(2),Pe(" ",t("shareFeature.description")," "),$(),Ve(n.expanded[2]?52:-1),$(2),Pe(" ",n.expanded[2]?t("less"):t("more")," "),$(16),Pe(" ",t("lab4students.description")," "),$(),Ve(n.expanded[3]?71:-1),$(2),Pe(" ",n.expanded[3]?t("less"):t("more")," "),$(2),Re("autoplay",!0)("muted",!0),$(4),Pe(" ",t("pdf.title")," "),$(2),Pe(" ",t("pdf.description")," "),$(),Ve(n.expanded[4]?82:-1),$(2),Pe(" ",n.expanded[4]?t("less"):t("more")," "),$(8),Pe(" ",t("save.title")," "),$(2),Pe(" ",t("save.description")," "),$(),Ve(n.expanded[5]?95:-1),$(2),Pe(" ",n.expanded[5]?t("less"):t("more")," "),$(8),Pe(" ",t("comingSoon.title")," "),$(2),Pe(" ",t("comingSoon.description")," ")}}var Yd=class Yd{constructor(e,t){this.screenService=e;this.authentificationService=t;g(this,"isAuth",gt(!1));g(this,"expanded",[!1,!1,!1,!1,!1,!1,!1])}ngOnInit(){this.isAuth=this.authentificationService.getIsAuthentificated()}expand(e){this.expanded[e]=!this.expanded[e]}changeAuthMode(e){this.screenService.changeAuthMode(e)}};g(Yd,"\u0275fac",function(t){return new(t||Yd)(Xe(fr),Xe(on))}),g(Yd,"\u0275cmp",Vt({type:Yd,selectors:[["app-teachers"]],decls:1,vars:1,consts:[[4,"transloco","translocoRead"],["appParallax","",1,"lg:flex","hidden","fixed","top-24","left-0","w-full","h-[300vh]","opacity-[20%]","bg-[url(/pattern.png)]","bg-[length:280px_770px]","-z-10","bg-repeat","bg-top","bg-scroll","parallax-bg",3,"parallaxRatio"],[1,"fixed","top-0","left-0","w-full","h-full","justify-center","flex","bg-transparent","-z-10","bg-repeat","bg-top","bg-scroll","parallax-bg"],[1,"top-0","w-[500px]","bg-transparent","bg-gradient-to-l","from-white","to-transparent","h-full"],[1,"top-0","w-[350px]","bg-white","h-full"],[1,"top-0","w-[500px]","bg-transparent","bg-gradient-to-r","from-white","to-transparent","h-full"],["appParallax","","class","w-full flex flex-col justify-center mt-4 md:mt-16",3,"parallaxRatio",4,"transloco","translocoRead"],["appParallax","",1,"w-full","px-2.5","md:mt-32",3,"parallaxRatio"],[1,"w-full","m-auto","mt-20","border","border-blue-100","bg-white","rounded-md","shadow-2xl","shadow-blue-100","py-3","px-5","max-w-[600px]","flex","flex-col","items-center","relative"],[1,"pb-3","text-xl","text-center","font-light","text-blue-400"],[1,"text-lg","text-gray-500","font-serif","text-justify"],[1,"text-gray-500","font-serif","text-lg","text-justify"],[1,"mt-2","font-light","text-blue-300","cursor-pointer",3,"click"],[1,"mb-10","px-3","w-full","mt-12","flex","flex-col","items-center"],[1,"flex","px-3","w-full","max-w-[750px]","py-3","justify-center"],[1,"max-w-[750px]","border-blue-200"],["src","dashboard.png","alt",""],[1,"w-full","px-2.5","md:mt-32"],[1,"w-full","m-auto","mt-12","border","border-blue-100","bg-white","rounded-md","shadow-2xl","shadow-blue-100","py-3","px-5","max-w-[600px]","flex","flex-col","items-center","relative"],[1,"pb-3","text-center","items-center","flex","justify-center","text-xl","font-light","text-blue-400"],[1,"w-6","mr-3"],["src","stars-active.svg","alt","",1,"h-6","ml-3"],[1,"text-lg","font-serif","text-gray-500","text-justify"],[1,"w-full","p-3","mt-12","flex","flex-col","items-center","relative"],["playsinline","","src","AI-assistant.mov","type","video/mov","loop","",1,"w-full","max-w-[750px]","max-h-screen","m-auto","object-contain",3,"autoplay","muted"],[1,"px-3","w-full","mt-12","flex","flex-col","items-center"],[1,"flex","flex-wrap-reverse","px-3","w-full","max-w-[900px]","py-3","justify-evenly","items-center"],["src","edit-tools.png","alt",""],[1,"max-w-[750px]","border-blue-200","flex","items-center"],[1,"relative","w-1/2","flex","justify-start"],["src","published-section-nobg.png","alt","",1,"md:w-3/5","w-4/5","object-contain"],[1,"absolute","flex","flex-col","w-full","h-full","justify-end"],[1,"bg-gradient-to-b","h-10","from-transparent","to-white"],[1,"relative","w-1/2","flex","justify-end"],["src","publish-section.png","alt","",1,"w-full","object-contain"],["src","logo-lab4students-blue.png","alt","",1,"px-3","py-1","h-16"],["playsinline","","src","demo-lab4students.mov","type","video/mov","loop","",1,"w-full","max-w-[750px]","max-h-screen","m-auto","object-contain",3,"autoplay","muted"],["src","pdf.png","alt",""],[1,"pb-3","text-center","text-xl","font-light","text-blue-400"],[1,"max-w-[400px]","border-blue-200"],["src","secure-data.png","alt",""],[1,"w-full","m-auto","mt-20","mb-20","border","border-blue-100","bg-white","rounded-md","shadow-2xl","shadow-blue-100","py-3","px-5","max-w-[600px]","flex","flex-col","items-center","relative"],[1,"pb-3","text-xl","font-light","text-justify","text-blue-400"],[1,"text-lg","text-gray-500","font-serif","text-justify","mb-2"],["appParallax","",1,"w-full","flex","flex-col","justify-center","mt-4","md:mt-16",3,"parallaxRatio"],[1,"text-center","w-full","px-4","text-5xl","font-light","text-gray-700"],[1,"justify-center","w-full","flex","flex-col","items-center","mt-12","text-white","text-lg"],[1,"w-40","text-center","bg-blue-400","shadow-2xl","text-lg","font-light","rounded-lg","px-4","py-2","mr-1","cursor-pointer",3,"click"],[1,"text-gray-500","font-light","mt-3","flex"],[1,"mr-2"],[1,"text-blue-400","cursor-pointer",3,"click"]],template:function(t,n){t&1&&Le(0,e1e,108,36,"body",0),t&2&&Re("translocoRead","home-page.teachers")},dependencies:[Hr,x1],encapsulation:2,data:{animation:[Lo("toggle",[Ui(":enter",[dn({height:"0",opacity:0}),Vi("0.25s ease-in",dn({height:"*",opacity:1}))]),Ui(":leave",[dn({height:"*",opacity:1}),Vi("0.25s ease-in",dn({height:"0",opacity:0}))])])]}}));var y1=Yd;function t1e(r,e){if(r&1){let t=He();G(0,"button",3),Ae("click",function(){Se(t);let i=U(2);return De(i.accessCourses())}),ve(1),j()}if(r&2){let t=U().$implicit;$(),Pe(" ",t("AccessCourses")," ")}}function r1e(r,e){if(r&1){let t=He();G(0,"div",4)(1,"div",7),ve(2),j(),G(3,"app-exercise-info",8),Ae("previewingExercise",function(i){Se(t);let a=U(3);return De(a.previewExercise(i))}),j()()}if(r&2){let t=U(2).$implicit,n=U();$(2),xt(t("myCourses")),$(),Re("isStudent",!0)("exercise",n.exercise)("isUserCourses",!1)}}function n1e(r,e){if(r&1){let t=He();G(0,"div",5)(1,"app-pdf-preview",9),Ae("previewingExercise",function(){Se(t);let i=U(3);return De(i.closeExercise())}),j()()}}function i1e(r,e){if(r&1){let t=He();G(0,"div",6)(1,"app-exercise",10),Ae("completingExercise",function(){Se(t);let i=U(3);return De(i.closeExercise())}),j()()}r&2&&($(),Re("isPublicCourse",!0))}function a1e(r,e){if(r&1&&Le(0,r1e,4,4,"div",4)(1,n1e,2,0,"div",5)(2,i1e,2,1,"div",6),r&2){let t=U(2);Ve(t.completingExercise()?t.previewingExercise?1:2:0)}}function o1e(r,e){if(r&1&&(G(0,"body",1),Le(1,t1e,2,1,"button",2)(2,a1e,3,1),j()),r&2){let t=U();$(),Ve(t.exercise==null?1:t.exercise!=null?2:-1)}}var Zd=class Zd{constructor(e,t){this.exercisesService=e;this.screenService=t;g(this,"exercise");g(this,"previewingExercise",!1)}ngOnInit(){this.exercisesService.getExercises().length>0&&(this.exercise=this.exercisesService.getExercises()[0])}accessCourses(){this.exercisesService.getExercises().length>0?this.exercise=this.exercisesService.getExercises()[0]:this.screenService.showToastMessage("No courses available")}startExercise(e){this.exercisesService.setCurrentExerciseId(e,!0)}completingExercise(){return this.exercisesService.getCurrentExerciseId()!=null}closeExercise(){this.exercisesService.setCurrentExerciseId(void 0,!0),this.previewingExercise=!1}previewExercise(e){this.exercisesService.setCurrentExerciseId(e,!0),this.previewingExercise=!0}};g(Zd,"\u0275fac",function(t){return new(t||Zd)(Xe(gn),Xe(fr))}),g(Zd,"\u0275cmp",Vt({type:Zd,selectors:[["app-students"]],decls:1,vars:1,consts:[["class","w-full h-full flex flex-col items-center justify-center",4,"transloco","translocoRead"],[1,"w-full","h-full","flex","flex-col","items-center","justify-center"],[1,"text-blue-400","mt-10","cursor-pointer"],[1,"text-blue-400","mt-10","cursor-pointer",3,"click"],[1,"mt-2","w-full","max-w-[600px]","h-fit","justify-center","items-center","px-3"],[1,"w-full","h-fit","justify-center","items-center","px-3"],[1,"w-full","h-fit","justify-center","items-center","px-3","mb-3"],[1,"text-gray-700","text-lg"],[3,"previewingExercise","isStudent","exercise","isUserCourses"],[3,"previewingExercise"],[3,"completingExercise","isPublicCourse"]],template:function(t,n){t&1&&Le(0,o1e,3,1,"body",0),t&2&&Re("translocoRead","courses")},dependencies:[Bd,Ud,zd,Hr],encapsulation:2}));var b1=Zd;function s1e(r,e){if(r&1){let t=He();G(0,"div",14),Ae("click",function(){Se(t);let i=U(2);return De(i.goToDashboard())}),ve(1),j(),G(2,"div",14),Ae("click",function(){Se(t);let i=U(2);return De(i.logout())}),ve(3),j()}if(r&2){let t=U().$implicit;$(),Pe(" ",t("dashboard")," "),$(2),Pe(" ",t("logout")," ")}}function l1e(r,e){if(r&1){let t=He();G(0,"div",15),Ae("click",function(){Se(t);let i=U(2);return De(i.changeAuthMode("signup"))}),ve(1),j(),G(2,"div",15),Ae("click",function(){Se(t);let i=U(2);return De(i.changeAuthMode("login"))}),ve(3),j()}if(r&2){let t=U().$implicit;$(),Pe(" ",t("sign-up")," "),$(2),Pe(" ",t("login")," ")}}function u1e(r,e){r&1&&Fe(0,"div",12)}function c1e(r,e){r&1&&Fe(0,"app-students")}function d1e(r,e){if(r&1&&(Fe(0,"app-teachers"),G(1,"div",16)(2,"a",17),ve(3),j()()),r&2){let t=U().$implicit;$(3),xt(t("contact-us"))}}function f1e(r,e){if(r&1){let t=He();G(0,"div",2)(1,"div",3)(2,"div",4)(3,"div",5),Fe(4,"img",6),j(),G(5,"div",7),Le(6,s1e,4,2)(7,l1e,4,2),G(8,"div",8),Ae("click",function(){Se(t);let i=U();return De(i.menu(!i.isMenuOpen))}),Fe(9,"img",9),ve(10),j(),G(11,"div",10),Ae("click",function(){Se(t);let i=U();return De(i.menu(!i.isMenuOpen))}),Fe(12,"img",11),j()()(),Le(13,u1e,1,0,"div",12),j(),G(14,"div",13),Le(15,c1e,1,0,"app-students")(16,d1e,4,1),j()()}if(r&2){let t=U();$(4),Re("src",t.userFunction=="Teacher"||t.userFunction=="TeacherOffline"?"logo3-transparent.png":"logo-lab4students.png",Lr),$(2),Ve(t.isAuth()?6:!t.isAuth()&&t.userFunction=="TeacherOffline"?7:-1),$(3),Re("src",t.getLanguageSvg(t.activeLanguage),Lr),$(),Pe(" ",t.activeLanguage," "),$(3),Ve(t.userFunction=="Teacher"||t.userFunction=="TeacherOffline"?13:-1),$(),Ft("margin-top",t.userFunction=="Teacher"||t.userFunction=="TeacherOffline"?"100":"60","px"),$(),Ve(t.userFunction=="StudentOffline"||t.userFunction=="Student"?15:t.userFunction=="Teacher"||t.userFunction=="TeacherOffline"?16:-1)}}function m1e(r,e){if(r&1){let t=He();G(0,"div",26),Ae("click",function(){Se(t);let i=U(3);return De(i.goToDashboard())}),Fe(1,"img",27),ve(2),j()}if(r&2){let t=U().$implicit;$(2),Pe(" ",t("dashboard")," ")}}function h1e(r,e){if(r&1){let t=He();G(0,"div",28),Ae("click",function(){let i=Se(t).$implicit,a=U(3);return De(a.changeLanguage(i))}),Fe(1,"img",29),ve(2),j()}if(r&2){let t=e.$implicit,n=U(3);$(),Re("src",n.getLanguageSvg(t),Lr),$(),Pe(" ",t," ")}}function p1e(r,e){if(r&1){let t=He();G(0,"div",30),Ae("click",function(){Se(t);let i=U(3);return De(i.logout())}),ve(1),j()}if(r&2){let t=U().$implicit;$(),Pe(" ",t("logout")," ")}}function g1e(r,e){if(r&1){let t=He();G(0,"div",31),Ae("click",function(){Se(t);let i=U(3);return De(i.changeAuthMode("login"))}),ve(1),j(),G(2,"div",32),Ae("click",function(){Se(t);let i=U(3);return De(i.changeAuthMode("signup"))}),ve(3),j()}if(r&2){let t=U().$implicit;$(),Pe(" ",t("login")," "),$(2),Pe(" ",t("sign-up")," ")}}function v1e(r,e){if(r&1){let t=He();G(0,"div",1)(1,"div",19),Ae("click",function(){Se(t);let i=U(2);return De(i.menu(!1))}),j(),G(2,"div",20),Le(3,m1e,3,1,"div",21),G(4,"div",22),Fe(5,"img",23),ve(6),j(),_n(7,h1e,3,2,"div",24,Ds),Le(9,p1e,2,1,"div",25)(10,g1e,4,2),j()()}if(r&2){let t=e.$implicit,n=U(2);Re("@toggle",void 0),$(3),Ve(n.isAuth()?3:-1),$(3),Pe(" ",t("languages")," "),$(),Sn(n.availableLanguages),$(2),Ve(n.isAuth()?9:!n.isAuth()&&(n.userFunction=="Teacher"||n.userFunction=="TeacherOffline")?10:-1)}}function x1e(r,e){r&1&&Le(0,v1e,11,4,"div",18),r&2&&Re("translocoRead","home-page")}var Xd=class Xd{constructor(e,t,n){this.screenService=e;this.authService=t;this.translocoService=n;g(this,"userFunction","");g(this,"isAuth",gt(!1));g(this,"activeLanguage","en");g(this,"availableLanguages",[]);g(this,"isMenuOpen",!1);this.activeLanguage=this.translocoService.getActiveLang();let i=this.translocoService.getAvailableLangs();Array.isArray(i)&&typeof i[0]=="string"?this.availableLanguages=i:this.availableLanguages=i.map(a=>a.id)}ngOnInit(){this.isAuth=this.authService.getIsAuthentificated(),this.userFunction=this.authService.getUserFunction()}changeAuthMode(e){this.screenService.changeAuthMode(e)}logout(){this.authService.logout()}changeLanguage(e){this.translocoService.setActiveLang(e),document.documentElement.lang=e,this.activeLanguage=e,this.isMenuOpen=!1}menu(e){this.isMenuOpen=e}getLanguageSvg(e){return{en:"english.svg",fr:"french.svg",de:"german.svg",es:"spanish.svg",it:"italian.svg"}[e]||"english.svg"}goToDashboard(){this.screenService.changePage("dashboard")}};g(Xd,"\u0275fac",function(t){return new(t||Xd)(Xe(fr),Xe(on),Xe(D0))}),g(Xd,"\u0275cmp",Vt({type:Xd,selectors:[["app-home"]],decls:2,vars:2,consts:[["class","w-full h-full overflow-scroll relative",4,"transloco","translocoRead"],[1,"w-full","h-full","absolute"],[1,"w-full","h-full","overflow-scroll","relative"],[1,"fixed","w-full","z-40","h-fit","left-0","top-0","flex","flex-col"],[1,"w-full","bg-blue-400","flex","items-center","justify-between","pl-2","h-[54px]"],[1,"max-h-10","w-fit","mr-1"],["alt","",1,"max-h-10",3,"src"],[1,"w-fit","mx-4","flex","items-center","md:text-[16px]","text-sm","shrink-0"],[1,"text-white","hidden","cursor-pointer","md:flex","items-center","hover:bg-blue-300","rounded","p-1",3,"click"],["alt","",1,"h-6","mr-2",3,"src"],[1,"md:hidden","cursor-pointer",3,"click"],["src","burger-menu.svg","alt","",1,"h-7"],[1,"h-14","w-full","bg-gradient-to-b","from-white","to-transparent"],[1,"h-fit","flex","flex-col","w-full","mt-3"],[1,"text-white","cursor-pointer","mr-4","hidden","md:flex",3,"click"],[1,"text-white","mr-4","cursor-pointer","hidden","md:flex",3,"click"],[1,"w-full","flex","justify-center","p-12"],["href",`mailto:info@lab4teachers.com
          `,1,"w-fit","cursor-pointer","font-light","shadow-2xl","rounded-lg","bg-blue-400","p-2","text-white","text-center","text-lg"],["class","w-full h-full absolute",4,"transloco","translocoRead"],[1,"fixed","top-[54px]","w-full","h-screen","bg-white","opacity-70","z-40",3,"click"],[1,"fixed","top-[54px]","text-gray-700","right-0","z-40","w-full","md:w-32","h-fit","p-2","md:rounded-b-md","md:border-x","border-b","border-gray-300","flex","flex-col","bg-white"],[1,"border-b","pb-2","mb-1","border-gray-200","flex","md:hidden","items-center","cursor-pointer"],[1,"md:border-b","md:pb-1","mb-1","mt-1","md:mt-0","border-gray-300","flex","items-center"],["src","languages-icon.svg","alt","",1,"mr-2","h-6","p-0.5"],[1,"cursor-pointer","text-gray-700","flex","hover:bg-gray-100","p-1","rounded-md"],[1,"flex","md:hidden","text-red-400","mt-2","mb-1","cursor-pointer"],[1,"border-b","pb-2","mb-1","border-gray-200","flex","md:hidden","items-center","cursor-pointer",3,"click"],["src","dashboard-gray.svg","alt","",1,"mr-2","h-6","p-0"],[1,"cursor-pointer","text-gray-700","flex","hover:bg-gray-100","p-1","rounded-md",3,"click"],["alt","",1,"w-5","mr-2",3,"src"],[1,"flex","md:hidden","text-red-400","mt-2","mb-1","cursor-pointer",3,"click"],[1,"flex","md:hidden","text-gray-700","mt-2","cursor-pointer",3,"click"],[1,"flex","md:hidden","text-gray-700","mt-2","mb-1","cursor-pointer",3,"click"]],template:function(t,n){t&1&&Le(0,f1e,17,8,"div",0)(1,x1e,1,1,"div",1),t&2&&(Re("translocoRead","home-page"),$(),Ve(n.isMenuOpen?1:-1))},dependencies:[y1,b1,Hr],encapsulation:2,data:{animation:[Lo("toggle",[Ui(":enter",[dn({height:"0",opacity:0}),Vi("0.15s ease-in",dn({height:"*",opacity:1}))]),Ui(":leave",[dn({height:"*",opacity:1}),Vi("0.15s ease-in",dn({height:"0",opacity:0}))])])]}}));var w1=Xd;var vH=[{path:"",component:w1},{path:"dashboard",component:v1},{path:"authentification/:mode",component:Yp}];var Fu=class Fu{constructor(){g(this,"http",Me(oa))}getTranslation(e){return this.http.get(`/assets/i18n/${e}.json`)}};g(Fu,"\u0275fac",function(t){return new(t||Fu)}),g(Fu,"\u0275prov",Ke({token:Fu,factory:Fu.\u0275fac,providedIn:"root"}));var _1=Fu;var xH={providers:[W6({eventCoalescing:!0}),Ox(vH,Rx()),Uu(),Uu(oh([JM])),Uu(oh([QM])),XM(ZM()),KM(),Uu(),W9({config:{availableLangs:["fr","en","es","de","it"],defaultLang:"en",reRenderOnLangChange:!0,prodMode:!G6()},loader:_1})]};function y1e(r,e){r&1&&(G(0,"div",1)(1,"div",4),Fe(2,"div",5),j()())}function b1e(r,e){if(r&1){let t=He();G(0,"div",2),Fe(1,"div",6),G(2,"div",7)(3,"div",8)(4,"div",9),ve(5),j(),G(6,"div",10),ve(7),j(),G(8,"div",11)(9,"button",12),Ae("click",function(){Se(t);let i=U();return De(i.acceptPopupAction())}),ve(10),j(),G(11,"button",13),Ae("click",function(){Se(t);let i=U();return De(i.cancelPopupInteraction())}),ve(12," Cancel "),j()()()()()}if(r&2){let t=U();$(5),xt(t.popupInteraction.title),$(2),Pe(" ",t.popupInteraction.content," "),$(3),Pe(" ",t.popupInteraction.actionText," ")}}function w1e(r,e){if(r&1&&(G(0,"div",3)(1,"div",14),ve(2),j()()),r&2){let t=U();$(2),Pe(" ",t.toastMessage," ")}}var Kd=class Kd{constructor(e,t,n){this.authService=e;this.screenService=t;this.translocoService=n;g(this,"alreadyHandled",!1)}ngOnInit(){switch(this.alreadyHandled||(this.authService.autoAuthUser(),this.authService.fetchUrlParameters(),this.alreadyHandled=!0),navigator.language.substring(0,2)){case"fr":this.translocoService.setActiveLang("fr"),document.documentElement.lang="fr";break;case"es":this.translocoService.setActiveLang("es"),document.documentElement.lang="es";break;case"de":this.translocoService.setActiveLang("de"),document.documentElement.lang="de";break;case"it":this.translocoService.setActiveLang("it"),document.documentElement.lang="it";break;default:this.translocoService.setActiveLang("en");break}}get spinner(){return this.screenService.getSpinner()}get toastMessage(){return this.screenService.getToastMessage()}get popupInteraction(){return this.screenService.getPopupInteraction()}acceptPopupAction(){let e=this.screenService.getPopupInteraction();e&&e.action(),this.screenService.setPopupInteraction(void 0)}cancelPopupInteraction(){this.screenService.setPopupInteraction(void 0)}};g(Kd,"\u0275fac",function(t){return new(t||Kd)(Xe(on),Xe(fr),Xe(D0))}),g(Kd,"\u0275cmp",Vt({type:Kd,selectors:[["app-root"]],decls:6,vars:3,consts:[[1,"relative"],[1,"fixed","top-0","w-full","h-full","z-20"],[1,"absolute","top-0","flex","justify-center","w-full","h-screen","z-10"],[1,"absolute","top-0","z-20"],[1,"absolute","flex","flex-row","items-center","justify-center","h-screen","w-screen","bg-white","opacity-80"],["role","status",1,"inline-block","h-[100px]","w-[100px]","animate-spin","rounded-full","border-4","border-blue-300","border-e-transparent","align-[-0.125em]","text-surface","motion-reduce:animate-[spin_1.5s_linear_infinite]","dark:text-white"],[1,"w-full","h-full","bg-white","opacity-80"],[1,"absolute","md:w-1/2","w-4/5","mt-24","h-fit","bg-white","border","border-gray-300","rounded-lg","shadow-sm"],[1,"flex","flex-col","items-start"],[1,"text-lg","font-semibold","p-3"],[1,"text-justify","px-3"],[1,"flex","flex-wrap","w-full","justify-end","mt-4","px-1.5","pb-3"],[1,"bg-blue-400","min-w-fit","flex-1","whitespace-nowrap","text-white","mx-1.5","px-4","py-2","mt-3","rounded-lg","cursor-pointer",3,"click"],[1,"bg-gray-300","flex-1","whitespace-nowrap","text-gray-700","px-4","mx-1.5","mt-3","py-2","rounded-lg","cursor-pointer",3,"click"],[1,"fixed","mx-auto","flex","right-2","md:right-4","md:top-14","top-12","items-center","m-3","p-3","max-w-72","min-w-36","max-h-56","min-h-12","text-sm","rounded-lg","bg-white","border","border-gray-300","opacity-80","shadow-md"]],template:function(t,n){t&1&&(G(0,"div",0)(1,"main"),Fe(2,"router-outlet"),j(),Le(3,y1e,3,0,"div",1)(4,b1e,13,3,"div",2)(5,w1e,3,1,"div",3),j()),t&2&&($(3),Ve(n.spinner?3:-1),$(),Ve(n.popupInteraction!=null?4:-1),$(),Ve(n.toastMessage!=""?5:-1))},dependencies:[Pf],encapsulation:2}));var S1=Kd;ax(S1,xH).catch(r=>console.error(r));
